function bY(e,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d1={exports:{}},nf={},u1={exports:{}},Zt={};var JT;function wY(){if(JT)return Zt;JT=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function g(M,V,Z){this.props=M,this.context=V,this.refs=j,this.updater=Z||v}g.prototype.isReactComponent={},g.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},g.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=g.prototype;function C(M,V,Z){this.props=M,this.context=V,this.refs=j,this.updater=Z||v}var b=C.prototype=new P;b.constructor=C,N(b,g.prototype),b.isPureReactComponent=!0;var y=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(M,V,Z){var re,le={},ye=null,he=null;if(V!=null)for(re in V.ref!==void 0&&(he=V.ref),V.key!==void 0&&(ye=""+V.key),V)E.call(V,re)&&!k.hasOwnProperty(re)&&(le[re]=V[re]);var pe=arguments.length-2;if(pe===1)le.children=Z;else if(1<pe){for(var L=Array(pe),ae=0;ae<pe;ae++)L[ae]=arguments[ae+2];le.children=L}if(M&&M.defaultProps)for(re in pe=M.defaultProps,pe)le[re]===void 0&&(le[re]=pe[re]);return{$$typeof:e,type:M,key:ye,ref:he,props:le,_owner:S.current}}function z(M,V){return{$$typeof:e,type:M.type,key:V,ref:M.ref,props:M.props,_owner:M._owner}}function Y(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function F(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return V[Z]})}var D=/\/+/g;function R(M,V){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):V.toString(36)}function q(M,V,Z,re,le){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var he=!1;if(M===null)he=!0;else switch(ye){case"string":case"number":he=!0;break;case"object":switch(M.$$typeof){case e:case n:he=!0}}if(he)return he=M,le=le(he),M=re===""?"."+R(he,0):re,y(le)?(Z="",M!=null&&(Z=M.replace(D,"$&/")+"/"),q(le,V,Z,"",function(ae){return ae})):le!=null&&(Y(le)&&(le=z(le,Z+(!le.key||he&&he.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+M)),V.push(le)),1;if(he=0,re=re===""?".":re+":",y(M))for(var pe=0;pe<M.length;pe++){ye=M[pe];var L=re+R(ye,pe);he+=q(ye,V,Z,L,le)}else if(L=p(M),typeof L=="function")for(M=L.call(M),pe=0;!(ye=M.next()).done;)ye=ye.value,L=re+R(ye,pe++),he+=q(ye,V,Z,L,le);else if(ye==="object")throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return he}function Q(M,V,Z){if(M==null)return M;var re=[],le=0;return q(M,re,"","",function(ye){return V.call(Z,ye,le++)}),re}function K(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var U={current:null},O={transition:null},I={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function G(){throw Error("act(...) is not supported in production builds of React.")}return Zt.Children={map:Q,forEach:function(M,V,Z){Q(M,function(){V.apply(this,arguments)},Z)},count:function(M){var V=0;return Q(M,function(){V++}),V},toArray:function(M){return Q(M,function(V){return V})||[]},only:function(M){if(!Y(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Zt.Component=g,Zt.Fragment=r,Zt.Profiler=s,Zt.PureComponent=C,Zt.StrictMode=a,Zt.Suspense=d,Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,Zt.act=G,Zt.cloneElement=function(M,V,Z){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var re=N({},M.props),le=M.key,ye=M.ref,he=M._owner;if(V!=null){if(V.ref!==void 0&&(ye=V.ref,he=S.current),V.key!==void 0&&(le=""+V.key),M.type&&M.type.defaultProps)var pe=M.type.defaultProps;for(L in V)E.call(V,L)&&!k.hasOwnProperty(L)&&(re[L]=V[L]===void 0&&pe!==void 0?pe[L]:V[L])}var L=arguments.length-2;if(L===1)re.children=Z;else if(1<L){pe=Array(L);for(var ae=0;ae<L;ae++)pe[ae]=arguments[ae+2];re.children=pe}return{$$typeof:e,type:M.type,key:le,ref:ye,props:re,_owner:he}},Zt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},Zt.createElement=T,Zt.createFactory=function(M){var V=T.bind(null,M);return V.type=M,V},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(M){return{$$typeof:l,render:M}},Zt.isValidElement=Y,Zt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:K}},Zt.memo=function(M,V){return{$$typeof:u,type:M,compare:V===void 0?null:V}},Zt.startTransition=function(M){var V=O.transition;O.transition={};try{M()}finally{O.transition=V}},Zt.unstable_act=G,Zt.useCallback=function(M,V){return U.current.useCallback(M,V)},Zt.useContext=function(M){return U.current.useContext(M)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(M){return U.current.useDeferredValue(M)},Zt.useEffect=function(M,V){return U.current.useEffect(M,V)},Zt.useId=function(){return U.current.useId()},Zt.useImperativeHandle=function(M,V,Z){return U.current.useImperativeHandle(M,V,Z)},Zt.useInsertionEffect=function(M,V){return U.current.useInsertionEffect(M,V)},Zt.useLayoutEffect=function(M,V){return U.current.useLayoutEffect(M,V)},Zt.useMemo=function(M,V){return U.current.useMemo(M,V)},Zt.useReducer=function(M,V,Z){return U.current.useReducer(M,V,Z)},Zt.useRef=function(M){return U.current.useRef(M)},Zt.useState=function(M){return U.current.useState(M)},Zt.useSyncExternalStore=function(M,V,Z){return U.current.useSyncExternalStore(M,V,Z)},Zt.useTransition=function(){return U.current.useTransition()},Zt.version="18.3.1",Zt}var eO;function ep(){return eO||(eO=1,u1.exports=wY()),u1.exports}var tO;function NY(){if(tO)return nf;tO=1;var e=ep(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,u){var f,h={},p=null,v=null;u!==void 0&&(p=""+u),d.key!==void 0&&(p=""+d.key),d.ref!==void 0&&(v=d.ref);for(f in d)a.call(d,f)&&!i.hasOwnProperty(f)&&(h[f]=d[f]);if(l&&l.defaultProps)for(f in d=l.defaultProps,d)h[f]===void 0&&(h[f]=d[f]);return{$$typeof:n,type:l,key:p,ref:v,props:h,_owner:s.current}}return nf.Fragment=r,nf.jsx=o,nf.jsxs=o,nf}var nO;function CY(){return nO||(nO=1,d1.exports=NY()),d1.exports}var t=CY(),Kx={},m1={exports:{}},ga={},f1={exports:{}},h1={};var rO;function SY(){return rO||(rO=1,(function(e){function n(O,I){var G=O.length;O.push(I);e:for(;0<G;){var M=G-1>>>1,V=O[M];if(0<s(V,I))O[M]=I,O[G]=V,G=M;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var I=O[0],G=O.pop();if(G!==I){O[0]=G;e:for(var M=0,V=O.length,Z=V>>>1;M<Z;){var re=2*(M+1)-1,le=O[re],ye=re+1,he=O[ye];if(0>s(le,G))ye<V&&0>s(he,le)?(O[M]=he,O[ye]=G,M=ye):(O[M]=le,O[re]=G,M=re);else if(ye<V&&0>s(he,G))O[M]=he,O[ye]=G,M=ye;else break e}}return I}function s(O,I){var G=O.sortIndex-I.sortIndex;return G!==0?G:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],f=1,h=null,p=3,v=!1,N=!1,j=!1,g=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var I=r(u);I!==null;){if(I.callback===null)a(u);else if(I.startTime<=O)a(u),I.sortIndex=I.expirationTime,n(d,I);else break;I=r(u)}}function y(O){if(j=!1,b(O),!N)if(r(d)!==null)N=!0,K(E);else{var I=r(u);I!==null&&U(y,I.startTime-O)}}function E(O,I){N=!1,j&&(j=!1,P(T),T=-1),v=!0;var G=p;try{for(b(I),h=r(d);h!==null&&(!(h.expirationTime>I)||O&&!F());){var M=h.callback;if(typeof M=="function"){h.callback=null,p=h.priorityLevel;var V=M(h.expirationTime<=I);I=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(d)&&a(d),b(I)}else a(d);h=r(d)}if(h!==null)var Z=!0;else{var re=r(u);re!==null&&U(y,re.startTime-I),Z=!1}return Z}finally{h=null,p=G,v=!1}}var S=!1,k=null,T=-1,z=5,Y=-1;function F(){return!(e.unstable_now()-Y<z)}function D(){if(k!==null){var O=e.unstable_now();Y=O;var I=!0;try{I=k(!0,O)}finally{I?R():(S=!1,k=null)}}else S=!1}var R;if(typeof C=="function")R=function(){C(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=D,R=function(){Q.postMessage(null)}}else R=function(){g(D,0)};function K(O){k=O,S||(S=!0,R())}function U(O,I){T=g(function(){O(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,K(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var G=p;p=I;try{return O()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=p;p=O;try{return I()}finally{p=G}},e.unstable_scheduleCallback=function(O,I,G){var M=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?M+G:M):G=M,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,O={id:f++,callback:I,priorityLevel:O,startTime:G,expirationTime:V,sortIndex:-1},G>M?(O.sortIndex=G,n(u,O),r(d)===null&&O===r(u)&&(j?(P(T),T=-1):j=!0,U(y,G-M))):(O.sortIndex=V,n(d,O),N||v||(N=!0,K(E))),O},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(O){var I=p;return function(){var G=p;p=I;try{return O.apply(this,arguments)}finally{p=G}}}})(h1)),h1}var aO;function PY(){return aO||(aO=1,f1.exports=SY()),f1.exports}var sO;function EY(){if(sO)return ga;sO=1;var e=ep(),n=PY();function r(c){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,m){o(c,m),o(c+"Capture",m)}function o(c,m){for(s[c]=m,c=0;c<m.length;c++)a.add(m[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(c){return d.call(h,c)?!0:d.call(f,c)?!1:u.test(c)?h[c]=!0:(f[c]=!0,!1)}function v(c,m,x,A){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function N(c,m,x,A){if(m===null||typeof m>"u"||v(c,m,x,A))return!0;if(A)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function j(c,m,x,A,_,$,X){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=_,this.mustUseProperty=x,this.propertyName=c,this.type=m,this.sanitizeURL=$,this.removeEmptyString=X}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){g[c]=new j(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var m=c[0];g[m]=new j(m,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){g[c]=new j(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){g[c]=new j(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){g[c]=new j(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){g[c]=new j(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){g[c]=new j(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){g[c]=new j(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){g[c]=new j(c,5,!1,c.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var m=c.replace(P,C);g[m]=new j(m,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var m=c.replace(P,C);g[m]=new j(m,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var m=c.replace(P,C);g[m]=new j(m,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){g[c]=new j(c,1,!1,c.toLowerCase(),null,!1,!1)}),g.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){g[c]=new j(c,1,!1,c.toLowerCase(),null,!0,!0)});function b(c,m,x,A){var _=g.hasOwnProperty(m)?g[m]:null;(_!==null?_.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(N(m,x,_,A)&&(x=null),A||_===null?p(m)&&(x===null?c.removeAttribute(m):c.setAttribute(m,""+x)):_.mustUseProperty?c[_.propertyName]=x===null?_.type===3?!1:"":x:(m=_.attributeName,A=_.attributeNamespace,x===null?c.removeAttribute(m):(_=_.type,x=_===3||_===4&&x===!0?"":""+x,A?c.setAttributeNS(A,m,x):c.setAttribute(m,x))))}var y=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),F=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),O=Symbol.iterator;function I(c){return c===null||typeof c!="object"?null:(c=O&&c[O]||c["@@iterator"],typeof c=="function"?c:null)}var G=Object.assign,M;function V(c){if(M===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);M=m&&m[1]||""}return`
`+M+c}var Z=!1;function re(c,m){if(!c||Z)return"";Z=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(we){var A=we}Reflect.construct(c,[],m)}else{try{m.call()}catch(we){A=we}c.call(m.prototype)}else{try{throw Error()}catch(we){A=we}c()}}catch(we){if(we&&A&&typeof we.stack=="string"){for(var _=we.stack.split(`
`),$=A.stack.split(`
`),X=_.length-1,ie=$.length-1;1<=X&&0<=ie&&_[X]!==$[ie];)ie--;for(;1<=X&&0<=ie;X--,ie--)if(_[X]!==$[ie]){if(X!==1||ie!==1)do if(X--,ie--,0>ie||_[X]!==$[ie]){var ce=`
`+_[X].replace(" at new "," at ");return c.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",c.displayName)),ce}while(1<=X&&0<=ie);break}}}finally{Z=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?V(c):""}function le(c){switch(c.tag){case 5:return V(c.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return c=re(c.type,!1),c;case 11:return c=re(c.type.render,!1),c;case 1:return c=re(c.type,!0),c;default:return""}}function ye(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case S:return"Portal";case z:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case F:return(c.displayName||"Context")+".Consumer";case Y:return(c._context.displayName||"Context")+".Provider";case D:var m=c.render;return c=c.displayName,c||(c=m.displayName||m.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Q:return m=c.displayName||null,m!==null?m:ye(c.type)||"Memo";case K:m=c._payload,c=c._init;try{return ye(c(m))}catch{}}return null}function he(c){var m=c.type;switch(c.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=m.render,c=c.displayName||c.name||"",m.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(m);case 8:return m===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function pe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function L(c){var m=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ae(c){var m=L(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,m),A=""+c[m];if(!c.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var _=x.get,$=x.set;return Object.defineProperty(c,m,{configurable:!0,get:function(){return _.call(this)},set:function(X){A=""+X,$.call(this,X)}}),Object.defineProperty(c,m,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(X){A=""+X},stopTracking:function(){c._valueTracker=null,delete c[m]}}}}function me(c){c._valueTracker||(c._valueTracker=ae(c))}function W(c){if(!c)return!1;var m=c._valueTracker;if(!m)return!0;var x=m.getValue(),A="";return c&&(A=L(c)?c.checked?"true":"false":c.value),c=A,c!==x?(m.setValue(c),!0):!1}function Se(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function $e(c,m){var x=m.checked;return G({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function tt(c,m){var x=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;x=pe(m.value!=null?m.value:x),c._wrapperState={initialChecked:A,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function ft(c,m){m=m.checked,m!=null&&b(c,"checked",m,!1)}function _t(c,m){ft(c,m);var x=pe(m.value),A=m.type;if(x!=null)A==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(A==="submit"||A==="reset"){c.removeAttribute("value");return}m.hasOwnProperty("value")?Pe(c,m.type,x):m.hasOwnProperty("defaultValue")&&Pe(c,m.type,pe(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(c.defaultChecked=!!m.defaultChecked)}function xn(c,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+c._wrapperState.initialValue,x||m===c.value||(c.value=m),c.defaultValue=m}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Pe(c,m,x){(m!=="number"||Se(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var kt=Array.isArray;function gn(c,m,x,A){if(c=c.options,m){m={};for(var _=0;_<x.length;_++)m["$"+x[_]]=!0;for(x=0;x<c.length;x++)_=m.hasOwnProperty("$"+c[x].value),c[x].selected!==_&&(c[x].selected=_),_&&A&&(c[x].defaultSelected=!0)}else{for(x=""+pe(x),m=null,_=0;_<c.length;_++){if(c[_].value===x){c[_].selected=!0,A&&(c[_].defaultSelected=!0);return}m!==null||c[_].disabled||(m=c[_])}m!==null&&(m.selected=!0)}}function oe(c,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},m,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function ge(c,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(r(92));if(kt(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),x=m}c._wrapperState={initialValue:pe(x)}}function ke(c,m){var x=pe(m.value),A=pe(m.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),m.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),A!=null&&(c.defaultValue=""+A)}function Xe(c){var m=c.textContent;m===c._wrapperState.initialValue&&m!==""&&m!==null&&(c.value=m)}function Ue(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(c,m){return c==null||c==="http://www.w3.org/1999/xhtml"?Ue(m):c==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var at,Bt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,A,_){MSApp.execUnsafeLocalFunction(function(){return c(m,x,A,_)})}:c})(function(c,m){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=m;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=at.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;m.firstChild;)c.appendChild(m.firstChild)}});function Qt(c,m){if(m){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=m;return}}c.textContent=m}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Va=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(c){Va.forEach(function(m){m=m+c.charAt(0).toUpperCase()+c.substring(1),dn[m]=dn[c]})});function ua(c,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||dn.hasOwnProperty(c)&&dn[c]?(""+m).trim():m+"px"}function br(c,m){c=c.style;for(var x in m)if(m.hasOwnProperty(x)){var A=x.indexOf("--")===0,_=ua(x,m[x],A);x==="float"&&(x="cssFloat"),A?c.setProperty(x,_):c[x]=_}}var Ba=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(c,m){if(m){if(Ba[c]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Ri(c,m){if(c.indexOf("-")===-1)return typeof m.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function In(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var zl=null,bs=null,ri=null;function ws(c){if(c=qm(c)){if(typeof zl!="function")throw Error(r(280));var m=c.stateNode;m&&(m=ix(m),zl(c.stateNode,c.type,m))}}function sd(c){bs?ri?ri.push(c):ri=[c]:bs=c}function id(){if(bs){var c=bs,m=ri;if(ri=bs=null,ws(c),m)for(c=0;c<m.length;c++)ws(m[c])}}function Di(c,m){return c(m)}function od(){}var ql=!1;function ai(c,m,x){if(ql)return c(m,x);ql=!0;try{return Di(c,m,x)}finally{ql=!1,(bs!==null||ri!==null)&&(od(),id())}}function Ii(c,m){var x=c.stateNode;if(x===null)return null;var A=ix(x);if(A===null)return null;x=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(c=c.type,A=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!A;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(r(231,m,typeof x));return x}var $i=!1;if(l)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{$i=!1}function $o(c,m,x,A,_,$,X,ie,ce){var we=Array.prototype.slice.call(arguments,3);try{m.apply(x,we)}catch(qe){this.onError(qe)}}var Ha=!1,Li=null,Fo=!1,Vl=null,jm={onError:function(c){Ha=!0,Li=c}};function xe(c,m,x,A,_,$,X,ie,ce){Ha=!1,Li=null,$o.apply(jm,arguments)}function Re(c,m,x,A,_,$,X,ie,ce){if(xe.apply(this,arguments),Ha){if(Ha){var we=Li;Ha=!1,Li=null}else throw Error(r(198));Fo||(Fo=!0,Vl=we)}}function st(c){var m=c,x=c;if(c.alternate)for(;m.return;)m=m.return;else{c=m;do m=c,(m.flags&4098)!==0&&(x=m.return),c=m.return;while(c)}return m.tag===3?x:null}function xt(c){if(c.tag===13){var m=c.memoizedState;if(m===null&&(c=c.alternate,c!==null&&(m=c.memoizedState)),m!==null)return m.dehydrated}return null}function ir(c){if(st(c)!==c)throw Error(r(188))}function _r(c){var m=c.alternate;if(!m){if(m=st(c),m===null)throw Error(r(188));return m!==c?null:c}for(var x=c,A=m;;){var _=x.return;if(_===null)break;var $=_.alternate;if($===null){if(A=_.return,A!==null){x=A;continue}break}if(_.child===$.child){for($=_.child;$;){if($===x)return ir(_),c;if($===A)return ir(_),m;$=$.sibling}throw Error(r(188))}if(x.return!==A.return)x=_,A=$;else{for(var X=!1,ie=_.child;ie;){if(ie===x){X=!0,x=_,A=$;break}if(ie===A){X=!0,A=_,x=$;break}ie=ie.sibling}if(!X){for(ie=$.child;ie;){if(ie===x){X=!0,x=$,A=_;break}if(ie===A){X=!0,A=$,x=_;break}ie=ie.sibling}if(!X)throw Error(r(189))}}if(x.alternate!==A)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:m}function on(c){return c=_r(c),c!==null?$n(c):null}function $n(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var m=$n(c);if(m!==null)return m;c=c.sibling}return null}var si=n.unstable_scheduleCallback,Lo=n.unstable_cancelCallback,bm=n.unstable_shouldYield,zp=n.unstable_requestPaint,Wn=n.unstable_now,P0=n.unstable_getCurrentPriorityLevel,wm=n.unstable_ImmediatePriority,qp=n.unstable_UserBlockingPriority,ld=n.unstable_NormalPriority,E0=n.unstable_LowPriority,Vp=n.unstable_IdlePriority,Bl=null,Ua=null;function A0(c){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(Bl,c,void 0,(c.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:T0,k0=Math.log,_0=Math.LN2;function T0(c){return c>>>=0,c===0?32:31-(k0(c)/_0|0)|0}var cd=64,dd=4194304;function zo(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ud(c,m){var x=c.pendingLanes;if(x===0)return 0;var A=0,_=c.suspendedLanes,$=c.pingedLanes,X=x&268435455;if(X!==0){var ie=X&~_;ie!==0?A=zo(ie):($&=X,$!==0&&(A=zo($)))}else X=x&~_,X!==0?A=zo(X):$!==0&&(A=zo($));if(A===0)return 0;if(m!==0&&m!==A&&(m&_)===0&&(_=A&-A,$=m&-m,_>=$||_===16&&($&4194240)!==0))return m;if((A&4)!==0&&(A|=x&16),m=c.entangledLanes,m!==0)for(c=c.entanglements,m&=A;0<m;)x=31-Sa(m),_=1<<x,A|=c[x],m&=~_;return A}function Bp(c,m){switch(c){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O0(c,m){for(var x=c.suspendedLanes,A=c.pingedLanes,_=c.expirationTimes,$=c.pendingLanes;0<$;){var X=31-Sa($),ie=1<<X,ce=_[X];ce===-1?((ie&x)===0||(ie&A)!==0)&&(_[X]=Bp(ie,m)):ce<=m&&(c.expiredLanes|=ie),$&=~ie}}function Nm(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function md(){var c=cd;return cd<<=1,(cd&4194240)===0&&(cd=64),c}function Cm(c){for(var m=[],x=0;31>x;x++)m.push(c);return m}function Hl(c,m,x){c.pendingLanes|=m,m!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,m=31-Sa(m),c[m]=x}function Hp(c,m){var x=c.pendingLanes&~m;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=m,c.mutableReadLanes&=m,c.entangledLanes&=m,m=c.entanglements;var A=c.eventTimes;for(c=c.expirationTimes;0<x;){var _=31-Sa(x),$=1<<_;m[_]=0,A[_]=-1,c[_]=-1,x&=~$}}function M0(c,m){var x=c.entangledLanes|=m;for(c=c.entanglements;x;){var A=31-Sa(x),_=1<<A;_&m|c[A]&m&&(c[A]|=m),x&=~_}}var Nn=0;function T_(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var O_,R0,M_,R_,D_,D0=!1,Up=[],qo=null,Vo=null,Bo=null,Sm=new Map,Pm=new Map,Ho=[],BG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I_(c,m){switch(c){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":Sm.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pm.delete(m.pointerId)}}function Em(c,m,x,A,_,$){return c===null||c.nativeEvent!==$?(c={blockedOn:m,domEventName:x,eventSystemFlags:A,nativeEvent:$,targetContainers:[_]},m!==null&&(m=qm(m),m!==null&&R0(m)),c):(c.eventSystemFlags|=A,m=c.targetContainers,_!==null&&m.indexOf(_)===-1&&m.push(_),c)}function HG(c,m,x,A,_){switch(m){case"focusin":return qo=Em(qo,c,m,x,A,_),!0;case"dragenter":return Vo=Em(Vo,c,m,x,A,_),!0;case"mouseover":return Bo=Em(Bo,c,m,x,A,_),!0;case"pointerover":var $=_.pointerId;return Sm.set($,Em(Sm.get($)||null,c,m,x,A,_)),!0;case"gotpointercapture":return $=_.pointerId,Pm.set($,Em(Pm.get($)||null,c,m,x,A,_)),!0}return!1}function $_(c){var m=Ul(c.target);if(m!==null){var x=st(m);if(x!==null){if(m=x.tag,m===13){if(m=xt(x),m!==null){c.blockedOn=m,D_(c.priority,function(){M_(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Kp(c){if(c.blockedOn!==null)return!1;for(var m=c.targetContainers;0<m.length;){var x=$0(c.domEventName,c.eventSystemFlags,m[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var A=new x.constructor(x.type,x);ni=A,x.target.dispatchEvent(A),ni=null}else return m=qm(x),m!==null&&R0(m),c.blockedOn=x,!1;m.shift()}return!0}function F_(c,m,x){Kp(c)&&x.delete(m)}function UG(){D0=!1,qo!==null&&Kp(qo)&&(qo=null),Vo!==null&&Kp(Vo)&&(Vo=null),Bo!==null&&Kp(Bo)&&(Bo=null),Sm.forEach(F_),Pm.forEach(F_)}function Am(c,m){c.blockedOn===m&&(c.blockedOn=null,D0||(D0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UG)))}function km(c){function m(_){return Am(_,c)}if(0<Up.length){Am(Up[0],c);for(var x=1;x<Up.length;x++){var A=Up[x];A.blockedOn===c&&(A.blockedOn=null)}}for(qo!==null&&Am(qo,c),Vo!==null&&Am(Vo,c),Bo!==null&&Am(Bo,c),Sm.forEach(m),Pm.forEach(m),x=0;x<Ho.length;x++)A=Ho[x],A.blockedOn===c&&(A.blockedOn=null);for(;0<Ho.length&&(x=Ho[0],x.blockedOn===null);)$_(x),x.blockedOn===null&&Ho.shift()}var fd=y.ReactCurrentBatchConfig,Wp=!0;function KG(c,m,x,A){var _=Nn,$=fd.transition;fd.transition=null;try{Nn=1,I0(c,m,x,A)}finally{Nn=_,fd.transition=$}}function WG(c,m,x,A){var _=Nn,$=fd.transition;fd.transition=null;try{Nn=4,I0(c,m,x,A)}finally{Nn=_,fd.transition=$}}function I0(c,m,x,A){if(Wp){var _=$0(c,m,x,A);if(_===null)eb(c,m,A,Gp,x),I_(c,A);else if(HG(_,c,m,x,A))A.stopPropagation();else if(I_(c,A),m&4&&-1<BG.indexOf(c)){for(;_!==null;){var $=qm(_);if($!==null&&O_($),$=$0(c,m,x,A),$===null&&eb(c,m,A,Gp,x),$===_)break;_=$}_!==null&&A.stopPropagation()}else eb(c,m,A,null,x)}}var Gp=null;function $0(c,m,x,A){if(Gp=null,c=In(A),c=Ul(c),c!==null)if(m=st(c),m===null)c=null;else if(x=m.tag,x===13){if(c=xt(m),c!==null)return c;c=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;c=null}else m!==c&&(c=null);return Gp=c,null}function L_(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P0()){case wm:return 1;case qp:return 4;case ld:case E0:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var Uo=null,F0=null,Qp=null;function z_(){if(Qp)return Qp;var c,m=F0,x=m.length,A,_="value"in Uo?Uo.value:Uo.textContent,$=_.length;for(c=0;c<x&&m[c]===_[c];c++);var X=x-c;for(A=1;A<=X&&m[x-A]===_[$-A];A++);return Qp=_.slice(c,1<A?1-A:void 0)}function Yp(c){var m=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&m===13&&(c=13)):c=m,c===10&&(c=13),32<=c||c===13?c:0}function Xp(){return!0}function q_(){return!1}function Pa(c){function m(x,A,_,$,X){this._reactName=x,this._targetInst=_,this.type=A,this.nativeEvent=$,this.target=X,this.currentTarget=null;for(var ie in c)c.hasOwnProperty(ie)&&(x=c[ie],this[ie]=x?x($):$[ie]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Xp:q_,this.isPropagationStopped=q_,this}return G(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),m}var hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=Pa(hd),_m=G({},hd,{view:0,detail:0}),GG=Pa(_m),z0,q0,Tm,Zp=G({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Tm&&(Tm&&c.type==="mousemove"?(z0=c.screenX-Tm.screenX,q0=c.screenY-Tm.screenY):q0=z0=0,Tm=c),z0)},movementY:function(c){return"movementY"in c?c.movementY:q0}}),V_=Pa(Zp),QG=G({},Zp,{dataTransfer:0}),YG=Pa(QG),XG=G({},_m,{relatedTarget:0}),V0=Pa(XG),ZG=G({},hd,{animationName:0,elapsedTime:0,pseudoElement:0}),JG=Pa(ZG),eQ=G({},hd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),tQ=Pa(eQ),nQ=G({},hd,{data:0}),B_=Pa(nQ),rQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iQ(c){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(c):(c=sQ[c])?!!m[c]:!1}function B0(){return iQ}var oQ=G({},_m,{key:function(c){if(c.key){var m=rQ[c.key]||c.key;if(m!=="Unidentified")return m}return c.type==="keypress"?(c=Yp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?aQ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(c){return c.type==="keypress"?Yp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Yp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),lQ=Pa(oQ),cQ=G({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=Pa(cQ),dQ=G({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),uQ=Pa(dQ),mQ=G({},hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),fQ=Pa(mQ),hQ=G({},Zp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),pQ=Pa(hQ),xQ=[9,13,27,32],H0=l&&"CompositionEvent"in window,Om=null;l&&"documentMode"in document&&(Om=document.documentMode);var gQ=l&&"TextEvent"in window&&!Om,U_=l&&(!H0||Om&&8<Om&&11>=Om),K_=" ",W_=!1;function G_(c,m){switch(c){case"keyup":return xQ.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q_(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var pd=!1;function vQ(c,m){switch(c){case"compositionend":return Q_(m);case"keypress":return m.which!==32?null:(W_=!0,K_);case"textInput":return c=m.data,c===K_&&W_?null:c;default:return null}}function yQ(c,m){if(pd)return c==="compositionend"||!H0&&G_(c,m)?(c=z_(),Qp=F0=Uo=null,pd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return U_&&m.locale!=="ko"?null:m.data;default:return null}}var jQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m==="input"?!!jQ[c.type]:m==="textarea"}function X_(c,m,x,A){sd(A),m=rx(m,"onChange"),0<m.length&&(x=new L0("onChange","change",null,x,A),c.push({event:x,listeners:m}))}var Mm=null,Rm=null;function bQ(c){p4(c,0)}function Jp(c){var m=jd(c);if(W(m))return c}function wQ(c,m){if(c==="change")return m}var Z_=!1;if(l){var U0;if(l){var K0="oninput"in document;if(!K0){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),K0=typeof J_.oninput=="function"}U0=K0}else U0=!1;Z_=U0&&(!document.documentMode||9<document.documentMode)}function e4(){Mm&&(Mm.detachEvent("onpropertychange",t4),Rm=Mm=null)}function t4(c){if(c.propertyName==="value"&&Jp(Rm)){var m=[];X_(m,Rm,c,In(c)),ai(bQ,m)}}function NQ(c,m,x){c==="focusin"?(e4(),Mm=m,Rm=x,Mm.attachEvent("onpropertychange",t4)):c==="focusout"&&e4()}function CQ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Jp(Rm)}function SQ(c,m){if(c==="click")return Jp(m)}function PQ(c,m){if(c==="input"||c==="change")return Jp(m)}function EQ(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var Ns=typeof Object.is=="function"?Object.is:EQ;function Dm(c,m){if(Ns(c,m))return!0;if(typeof c!="object"||c===null||typeof m!="object"||m===null)return!1;var x=Object.keys(c),A=Object.keys(m);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var _=x[A];if(!d.call(m,_)||!Ns(c[_],m[_]))return!1}return!0}function n4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function r4(c,m){var x=n4(c);c=0;for(var A;x;){if(x.nodeType===3){if(A=c+x.textContent.length,c<=m&&A>=m)return{node:x,offset:m-c};c=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=n4(x)}}function a4(c,m){return c&&m?c===m?!0:c&&c.nodeType===3?!1:m&&m.nodeType===3?a4(c,m.parentNode):"contains"in c?c.contains(m):c.compareDocumentPosition?!!(c.compareDocumentPosition(m)&16):!1:!1}function s4(){for(var c=window,m=Se();m instanceof c.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)c=m.contentWindow;else break;m=Se(c.document)}return m}function W0(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m&&(m==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||m==="textarea"||c.contentEditable==="true")}function AQ(c){var m=s4(),x=c.focusedElem,A=c.selectionRange;if(m!==x&&x&&x.ownerDocument&&a4(x.ownerDocument.documentElement,x)){if(A!==null&&W0(x)){if(m=A.start,c=A.end,c===void 0&&(c=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(c,x.value.length);else if(c=(m=x.ownerDocument||document)&&m.defaultView||window,c.getSelection){c=c.getSelection();var _=x.textContent.length,$=Math.min(A.start,_);A=A.end===void 0?$:Math.min(A.end,_),!c.extend&&$>A&&(_=A,A=$,$=_),_=r4(x,$);var X=r4(x,A);_&&X&&(c.rangeCount!==1||c.anchorNode!==_.node||c.anchorOffset!==_.offset||c.focusNode!==X.node||c.focusOffset!==X.offset)&&(m=m.createRange(),m.setStart(_.node,_.offset),c.removeAllRanges(),$>A?(c.addRange(m),c.extend(X.node,X.offset)):(m.setEnd(X.node,X.offset),c.addRange(m)))}}for(m=[],c=x;c=c.parentNode;)c.nodeType===1&&m.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)c=m[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var kQ=l&&"documentMode"in document&&11>=document.documentMode,xd=null,G0=null,Im=null,Q0=!1;function i4(c,m,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Q0||xd==null||xd!==Se(A)||(A=xd,"selectionStart"in A&&W0(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Im&&Dm(Im,A)||(Im=A,A=rx(G0,"onSelect"),0<A.length&&(m=new L0("onSelect","select",null,m,x),c.push({event:m,listeners:A}),m.target=xd)))}function ex(c,m){var x={};return x[c.toLowerCase()]=m.toLowerCase(),x["Webkit"+c]="webkit"+m,x["Moz"+c]="moz"+m,x}var gd={animationend:ex("Animation","AnimationEnd"),animationiteration:ex("Animation","AnimationIteration"),animationstart:ex("Animation","AnimationStart"),transitionend:ex("Transition","TransitionEnd")},Y0={},o4={};l&&(o4=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function tx(c){if(Y0[c])return Y0[c];if(!gd[c])return c;var m=gd[c],x;for(x in m)if(m.hasOwnProperty(x)&&x in o4)return Y0[c]=m[x];return c}var l4=tx("animationend"),c4=tx("animationiteration"),d4=tx("animationstart"),u4=tx("transitionend"),m4=new Map,f4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(c,m){m4.set(c,m),i(m,[c])}for(var X0=0;X0<f4.length;X0++){var Z0=f4[X0],_Q=Z0.toLowerCase(),TQ=Z0[0].toUpperCase()+Z0.slice(1);Ko(_Q,"on"+TQ)}Ko(l4,"onAnimationEnd"),Ko(c4,"onAnimationIteration"),Ko(d4,"onAnimationStart"),Ko("dblclick","onDoubleClick"),Ko("focusin","onFocus"),Ko("focusout","onBlur"),Ko(u4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OQ=new Set("cancel close invalid load scroll toggle".split(" ").concat($m));function h4(c,m,x){var A=c.type||"unknown-event";c.currentTarget=x,Re(A,m,void 0,c),c.currentTarget=null}function p4(c,m){m=(m&4)!==0;for(var x=0;x<c.length;x++){var A=c[x],_=A.event;A=A.listeners;e:{var $=void 0;if(m)for(var X=A.length-1;0<=X;X--){var ie=A[X],ce=ie.instance,we=ie.currentTarget;if(ie=ie.listener,ce!==$&&_.isPropagationStopped())break e;h4(_,ie,we),$=ce}else for(X=0;X<A.length;X++){if(ie=A[X],ce=ie.instance,we=ie.currentTarget,ie=ie.listener,ce!==$&&_.isPropagationStopped())break e;h4(_,ie,we),$=ce}}}if(Fo)throw c=Vl,Fo=!1,Vl=null,c}function Fn(c,m){var x=m[ib];x===void 0&&(x=m[ib]=new Set);var A=c+"__bubble";x.has(A)||(x4(m,c,2,!1),x.add(A))}function J0(c,m,x){var A=0;m&&(A|=4),x4(x,c,A,m)}var nx="_reactListening"+Math.random().toString(36).slice(2);function Fm(c){if(!c[nx]){c[nx]=!0,a.forEach(function(x){x!=="selectionchange"&&(OQ.has(x)||J0(x,!1,c),J0(x,!0,c))});var m=c.nodeType===9?c:c.ownerDocument;m===null||m[nx]||(m[nx]=!0,J0("selectionchange",!1,m))}}function x4(c,m,x,A){switch(L_(m)){case 1:var _=KG;break;case 4:_=WG;break;default:_=I0}x=_.bind(null,m,x,c),_=void 0,!$i||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(_=!0),A?_!==void 0?c.addEventListener(m,x,{capture:!0,passive:_}):c.addEventListener(m,x,!0):_!==void 0?c.addEventListener(m,x,{passive:_}):c.addEventListener(m,x,!1)}function eb(c,m,x,A,_){var $=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var X=A.tag;if(X===3||X===4){var ie=A.stateNode.containerInfo;if(ie===_||ie.nodeType===8&&ie.parentNode===_)break;if(X===4)for(X=A.return;X!==null;){var ce=X.tag;if((ce===3||ce===4)&&(ce=X.stateNode.containerInfo,ce===_||ce.nodeType===8&&ce.parentNode===_))return;X=X.return}for(;ie!==null;){if(X=Ul(ie),X===null)return;if(ce=X.tag,ce===5||ce===6){A=$=X;continue e}ie=ie.parentNode}}A=A.return}ai(function(){var we=$,qe=In(x),Be=[];e:{var ze=m4.get(c);if(ze!==void 0){var ht=L0,jt=c;switch(c){case"keypress":if(Yp(x)===0)break e;case"keydown":case"keyup":ht=lQ;break;case"focusin":jt="focus",ht=V0;break;case"focusout":jt="blur",ht=V0;break;case"beforeblur":case"afterblur":ht=V0;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=V_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=YG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=uQ;break;case l4:case c4:case d4:ht=JG;break;case u4:ht=fQ;break;case"scroll":ht=GG;break;case"wheel":ht=pQ;break;case"copy":case"cut":case"paste":ht=tQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=H_}var Ct=(m&4)!==0,tr=!Ct&&c==="scroll",ve=Ct?ze!==null?ze+"Capture":null:ze;Ct=[];for(var fe=we,je;fe!==null;){je=fe;var Je=je.stateNode;if(je.tag===5&&Je!==null&&(je=Je,ve!==null&&(Je=Ii(fe,ve),Je!=null&&Ct.push(Lm(fe,Je,je)))),tr)break;fe=fe.return}0<Ct.length&&(ze=new ht(ze,jt,null,x,qe),Be.push({event:ze,listeners:Ct}))}}if((m&7)===0){e:{if(ze=c==="mouseover"||c==="pointerover",ht=c==="mouseout"||c==="pointerout",ze&&x!==ni&&(jt=x.relatedTarget||x.fromElement)&&(Ul(jt)||jt[zi]))break e;if((ht||ze)&&(ze=qe.window===qe?qe:(ze=qe.ownerDocument)?ze.defaultView||ze.parentWindow:window,ht?(jt=x.relatedTarget||x.toElement,ht=we,jt=jt?Ul(jt):null,jt!==null&&(tr=st(jt),jt!==tr||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(ht=null,jt=we),ht!==jt)){if(Ct=V_,Je="onMouseLeave",ve="onMouseEnter",fe="mouse",(c==="pointerout"||c==="pointerover")&&(Ct=H_,Je="onPointerLeave",ve="onPointerEnter",fe="pointer"),tr=ht==null?ze:jd(ht),je=jt==null?ze:jd(jt),ze=new Ct(Je,fe+"leave",ht,x,qe),ze.target=tr,ze.relatedTarget=je,Je=null,Ul(qe)===we&&(Ct=new Ct(ve,fe+"enter",jt,x,qe),Ct.target=je,Ct.relatedTarget=tr,Je=Ct),tr=Je,ht&&jt)t:{for(Ct=ht,ve=jt,fe=0,je=Ct;je;je=vd(je))fe++;for(je=0,Je=ve;Je;Je=vd(Je))je++;for(;0<fe-je;)Ct=vd(Ct),fe--;for(;0<je-fe;)ve=vd(ve),je--;for(;fe--;){if(Ct===ve||ve!==null&&Ct===ve.alternate)break t;Ct=vd(Ct),ve=vd(ve)}Ct=null}else Ct=null;ht!==null&&g4(Be,ze,ht,Ct,!1),jt!==null&&tr!==null&&g4(Be,tr,jt,Ct,!0)}}e:{if(ze=we?jd(we):window,ht=ze.nodeName&&ze.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ze.type==="file")var Pt=wQ;else if(Y_(ze))if(Z_)Pt=PQ;else{Pt=CQ;var Rt=NQ}else(ht=ze.nodeName)&&ht.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(Pt=SQ);if(Pt&&(Pt=Pt(c,we))){X_(Be,Pt,x,qe);break e}Rt&&Rt(c,ze,we),c==="focusout"&&(Rt=ze._wrapperState)&&Rt.controlled&&ze.type==="number"&&Pe(ze,"number",ze.value)}switch(Rt=we?jd(we):window,c){case"focusin":(Y_(Rt)||Rt.contentEditable==="true")&&(xd=Rt,G0=we,Im=null);break;case"focusout":Im=G0=xd=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,i4(Be,x,qe);break;case"selectionchange":if(kQ)break;case"keydown":case"keyup":i4(Be,x,qe)}var Dt;if(H0)e:{switch(c){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else pd?G_(c,x)&&(Lt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(Lt="onCompositionStart");Lt&&(U_&&x.locale!=="ko"&&(pd||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&pd&&(Dt=z_()):(Uo=qe,F0="value"in Uo?Uo.value:Uo.textContent,pd=!0)),Rt=rx(we,Lt),0<Rt.length&&(Lt=new B_(Lt,c,null,x,qe),Be.push({event:Lt,listeners:Rt}),Dt?Lt.data=Dt:(Dt=Q_(x),Dt!==null&&(Lt.data=Dt)))),(Dt=gQ?vQ(c,x):yQ(c,x))&&(we=rx(we,"onBeforeInput"),0<we.length&&(qe=new B_("onBeforeInput","beforeinput",null,x,qe),Be.push({event:qe,listeners:we}),qe.data=Dt))}p4(Be,m)})}function Lm(c,m,x){return{instance:c,listener:m,currentTarget:x}}function rx(c,m){for(var x=m+"Capture",A=[];c!==null;){var _=c,$=_.stateNode;_.tag===5&&$!==null&&(_=$,$=Ii(c,x),$!=null&&A.unshift(Lm(c,$,_)),$=Ii(c,m),$!=null&&A.push(Lm(c,$,_))),c=c.return}return A}function vd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function g4(c,m,x,A,_){for(var $=m._reactName,X=[];x!==null&&x!==A;){var ie=x,ce=ie.alternate,we=ie.stateNode;if(ce!==null&&ce===A)break;ie.tag===5&&we!==null&&(ie=we,_?(ce=Ii(x,$),ce!=null&&X.unshift(Lm(x,ce,ie))):_||(ce=Ii(x,$),ce!=null&&X.push(Lm(x,ce,ie)))),x=x.return}X.length!==0&&c.push({event:m,listeners:X})}var MQ=/\r\n?/g,RQ=/\u0000|\uFFFD/g;function v4(c){return(typeof c=="string"?c:""+c).replace(MQ,`
`).replace(RQ,"")}function ax(c,m,x){if(m=v4(m),v4(c)!==m&&x)throw Error(r(425))}function sx(){}var tb=null,nb=null;function rb(c,m){return c==="textarea"||c==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ab=typeof setTimeout=="function"?setTimeout:void 0,DQ=typeof clearTimeout=="function"?clearTimeout:void 0,y4=typeof Promise=="function"?Promise:void 0,IQ=typeof queueMicrotask=="function"?queueMicrotask:typeof y4<"u"?function(c){return y4.resolve(null).then(c).catch($Q)}:ab;function $Q(c){setTimeout(function(){throw c})}function sb(c,m){var x=m,A=0;do{var _=x.nextSibling;if(c.removeChild(x),_&&_.nodeType===8)if(x=_.data,x==="/$"){if(A===0){c.removeChild(_),km(m);return}A--}else x!=="$"&&x!=="$?"&&x!=="$!"||A++;x=_}while(x);km(m)}function Wo(c){for(;c!=null;c=c.nextSibling){var m=c.nodeType;if(m===1||m===3)break;if(m===8){if(m=c.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return c}function j4(c){c=c.previousSibling;for(var m=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return c;m--}else x==="/$"&&m++}c=c.previousSibling}return null}var yd=Math.random().toString(36).slice(2),ii="__reactFiber$"+yd,zm="__reactProps$"+yd,zi="__reactContainer$"+yd,ib="__reactEvents$"+yd,FQ="__reactListeners$"+yd,LQ="__reactHandles$"+yd;function Ul(c){var m=c[ii];if(m)return m;for(var x=c.parentNode;x;){if(m=x[zi]||x[ii]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(c=j4(c);c!==null;){if(x=c[ii])return x;c=j4(c)}return m}c=x,x=c.parentNode}return null}function qm(c){return c=c[ii]||c[zi],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function jd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function ix(c){return c[zm]||null}var ob=[],bd=-1;function Go(c){return{current:c}}function Ln(c){0>bd||(c.current=ob[bd],ob[bd]=null,bd--)}function Tn(c,m){bd++,ob[bd]=c.current,c.current=m}var Qo={},Fr=Go(Qo),ma=Go(!1),Kl=Qo;function wd(c,m){var x=c.type.contextTypes;if(!x)return Qo;var A=c.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var _={},$;for($ in x)_[$]=m[$];return A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=m,c.__reactInternalMemoizedMaskedChildContext=_),_}function fa(c){return c=c.childContextTypes,c!=null}function ox(){Ln(ma),Ln(Fr)}function b4(c,m,x){if(Fr.current!==Qo)throw Error(r(168));Tn(Fr,m),Tn(ma,x)}function w4(c,m,x){var A=c.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return x;A=A.getChildContext();for(var _ in A)if(!(_ in m))throw Error(r(108,he(c)||"Unknown",_));return G({},x,A)}function lx(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Qo,Kl=Fr.current,Tn(Fr,c),Tn(ma,ma.current),!0}function N4(c,m,x){var A=c.stateNode;if(!A)throw Error(r(169));x?(c=w4(c,m,Kl),A.__reactInternalMemoizedMergedChildContext=c,Ln(ma),Ln(Fr),Tn(Fr,c)):Ln(ma),Tn(ma,x)}var qi=null,cx=!1,lb=!1;function C4(c){qi===null?qi=[c]:qi.push(c)}function zQ(c){cx=!0,C4(c)}function Yo(){if(!lb&&qi!==null){lb=!0;var c=0,m=Nn;try{var x=qi;for(Nn=1;c<x.length;c++){var A=x[c];do A=A(!0);while(A!==null)}qi=null,cx=!1}catch(_){throw qi!==null&&(qi=qi.slice(c+1)),si(wm,Yo),_}finally{Nn=m,lb=!1}}return null}var Nd=[],Cd=0,dx=null,ux=0,Ka=[],Wa=0,Wl=null,Vi=1,Bi="";function Gl(c,m){Nd[Cd++]=ux,Nd[Cd++]=dx,dx=c,ux=m}function S4(c,m,x){Ka[Wa++]=Vi,Ka[Wa++]=Bi,Ka[Wa++]=Wl,Wl=c;var A=Vi;c=Bi;var _=32-Sa(A)-1;A&=~(1<<_),x+=1;var $=32-Sa(m)+_;if(30<$){var X=_-_%5;$=(A&(1<<X)-1).toString(32),A>>=X,_-=X,Vi=1<<32-Sa(m)+_|x<<_|A,Bi=$+c}else Vi=1<<$|x<<_|A,Bi=c}function cb(c){c.return!==null&&(Gl(c,1),S4(c,1,0))}function db(c){for(;c===dx;)dx=Nd[--Cd],Nd[Cd]=null,ux=Nd[--Cd],Nd[Cd]=null;for(;c===Wl;)Wl=Ka[--Wa],Ka[Wa]=null,Bi=Ka[--Wa],Ka[Wa]=null,Vi=Ka[--Wa],Ka[Wa]=null}var Ea=null,Aa=null,Vn=!1,Cs=null;function P4(c,m){var x=Xa(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=c,m=c.deletions,m===null?(c.deletions=[x],c.flags|=16):m.push(x)}function E4(c,m){switch(c.tag){case 5:var x=c.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(c.stateNode=m,Ea=c,Aa=Wo(m.firstChild),!0):!1;case 6:return m=c.pendingProps===""||m.nodeType!==3?null:m,m!==null?(c.stateNode=m,Ea=c,Aa=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=Wl!==null?{id:Vi,overflow:Bi}:null,c.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=Xa(18,null,null,0),x.stateNode=m,x.return=c,c.child=x,Ea=c,Aa=null,!0):!1;default:return!1}}function ub(c){return(c.mode&1)!==0&&(c.flags&128)===0}function mb(c){if(Vn){var m=Aa;if(m){var x=m;if(!E4(c,m)){if(ub(c))throw Error(r(418));m=Wo(x.nextSibling);var A=Ea;m&&E4(c,m)?P4(A,x):(c.flags=c.flags&-4097|2,Vn=!1,Ea=c)}}else{if(ub(c))throw Error(r(418));c.flags=c.flags&-4097|2,Vn=!1,Ea=c}}}function A4(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ea=c}function mx(c){if(c!==Ea)return!1;if(!Vn)return A4(c),Vn=!0,!1;var m;if((m=c.tag!==3)&&!(m=c.tag!==5)&&(m=c.type,m=m!=="head"&&m!=="body"&&!rb(c.type,c.memoizedProps)),m&&(m=Aa)){if(ub(c))throw k4(),Error(r(418));for(;m;)P4(c,m),m=Wo(m.nextSibling)}if(A4(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,m=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(m===0){Aa=Wo(c.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}c=c.nextSibling}Aa=null}}else Aa=Ea?Wo(c.stateNode.nextSibling):null;return!0}function k4(){for(var c=Aa;c;)c=Wo(c.nextSibling)}function Sd(){Aa=Ea=null,Vn=!1}function fb(c){Cs===null?Cs=[c]:Cs.push(c)}var qQ=y.ReactCurrentBatchConfig;function Vm(c,m,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var A=x.stateNode}if(!A)throw Error(r(147,c));var _=A,$=""+c;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(X){var ie=_.refs;X===null?delete ie[$]:ie[$]=X},m._stringRef=$,m)}if(typeof c!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,c))}return c}function fx(c,m){throw c=Object.prototype.toString.call(m),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":c))}function _4(c){var m=c._init;return m(c._payload)}function T4(c){function m(ve,fe){if(c){var je=ve.deletions;je===null?(ve.deletions=[fe],ve.flags|=16):je.push(fe)}}function x(ve,fe){if(!c)return null;for(;fe!==null;)m(ve,fe),fe=fe.sibling;return null}function A(ve,fe){for(ve=new Map;fe!==null;)fe.key!==null?ve.set(fe.key,fe):ve.set(fe.index,fe),fe=fe.sibling;return ve}function _(ve,fe){return ve=al(ve,fe),ve.index=0,ve.sibling=null,ve}function $(ve,fe,je){return ve.index=je,c?(je=ve.alternate,je!==null?(je=je.index,je<fe?(ve.flags|=2,fe):je):(ve.flags|=2,fe)):(ve.flags|=1048576,fe)}function X(ve){return c&&ve.alternate===null&&(ve.flags|=2),ve}function ie(ve,fe,je,Je){return fe===null||fe.tag!==6?(fe=a1(je,ve.mode,Je),fe.return=ve,fe):(fe=_(fe,je),fe.return=ve,fe)}function ce(ve,fe,je,Je){var Pt=je.type;return Pt===k?qe(ve,fe,je.props.children,Je,je.key):fe!==null&&(fe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===K&&_4(Pt)===fe.type)?(Je=_(fe,je.props),Je.ref=Vm(ve,fe,je),Je.return=ve,Je):(Je=$x(je.type,je.key,je.props,null,ve.mode,Je),Je.ref=Vm(ve,fe,je),Je.return=ve,Je)}function we(ve,fe,je,Je){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==je.containerInfo||fe.stateNode.implementation!==je.implementation?(fe=s1(je,ve.mode,Je),fe.return=ve,fe):(fe=_(fe,je.children||[]),fe.return=ve,fe)}function qe(ve,fe,je,Je,Pt){return fe===null||fe.tag!==7?(fe=nc(je,ve.mode,Je,Pt),fe.return=ve,fe):(fe=_(fe,je),fe.return=ve,fe)}function Be(ve,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=a1(""+fe,ve.mode,je),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return je=$x(fe.type,fe.key,fe.props,null,ve.mode,je),je.ref=Vm(ve,null,fe),je.return=ve,je;case S:return fe=s1(fe,ve.mode,je),fe.return=ve,fe;case K:var Je=fe._init;return Be(ve,Je(fe._payload),je)}if(kt(fe)||I(fe))return fe=nc(fe,ve.mode,je,null),fe.return=ve,fe;fx(ve,fe)}return null}function ze(ve,fe,je,Je){var Pt=fe!==null?fe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Pt!==null?null:ie(ve,fe,""+je,Je);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case E:return je.key===Pt?ce(ve,fe,je,Je):null;case S:return je.key===Pt?we(ve,fe,je,Je):null;case K:return Pt=je._init,ze(ve,fe,Pt(je._payload),Je)}if(kt(je)||I(je))return Pt!==null?null:qe(ve,fe,je,Je,null);fx(ve,je)}return null}function ht(ve,fe,je,Je,Pt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ve=ve.get(je)||null,ie(fe,ve,""+Je,Pt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case E:return ve=ve.get(Je.key===null?je:Je.key)||null,ce(fe,ve,Je,Pt);case S:return ve=ve.get(Je.key===null?je:Je.key)||null,we(fe,ve,Je,Pt);case K:var Rt=Je._init;return ht(ve,fe,je,Rt(Je._payload),Pt)}if(kt(Je)||I(Je))return ve=ve.get(je)||null,qe(fe,ve,Je,Pt,null);fx(fe,Je)}return null}function jt(ve,fe,je,Je){for(var Pt=null,Rt=null,Dt=fe,Lt=fe=0,Cr=null;Dt!==null&&Lt<je.length;Lt++){Dt.index>Lt?(Cr=Dt,Dt=null):Cr=Dt.sibling;var un=ze(ve,Dt,je[Lt],Je);if(un===null){Dt===null&&(Dt=Cr);break}c&&Dt&&un.alternate===null&&m(ve,Dt),fe=$(un,fe,Lt),Rt===null?Pt=un:Rt.sibling=un,Rt=un,Dt=Cr}if(Lt===je.length)return x(ve,Dt),Vn&&Gl(ve,Lt),Pt;if(Dt===null){for(;Lt<je.length;Lt++)Dt=Be(ve,je[Lt],Je),Dt!==null&&(fe=$(Dt,fe,Lt),Rt===null?Pt=Dt:Rt.sibling=Dt,Rt=Dt);return Vn&&Gl(ve,Lt),Pt}for(Dt=A(ve,Dt);Lt<je.length;Lt++)Cr=ht(Dt,ve,Lt,je[Lt],Je),Cr!==null&&(c&&Cr.alternate!==null&&Dt.delete(Cr.key===null?Lt:Cr.key),fe=$(Cr,fe,Lt),Rt===null?Pt=Cr:Rt.sibling=Cr,Rt=Cr);return c&&Dt.forEach(function(sl){return m(ve,sl)}),Vn&&Gl(ve,Lt),Pt}function Ct(ve,fe,je,Je){var Pt=I(je);if(typeof Pt!="function")throw Error(r(150));if(je=Pt.call(je),je==null)throw Error(r(151));for(var Rt=Pt=null,Dt=fe,Lt=fe=0,Cr=null,un=je.next();Dt!==null&&!un.done;Lt++,un=je.next()){Dt.index>Lt?(Cr=Dt,Dt=null):Cr=Dt.sibling;var sl=ze(ve,Dt,un.value,Je);if(sl===null){Dt===null&&(Dt=Cr);break}c&&Dt&&sl.alternate===null&&m(ve,Dt),fe=$(sl,fe,Lt),Rt===null?Pt=sl:Rt.sibling=sl,Rt=sl,Dt=Cr}if(un.done)return x(ve,Dt),Vn&&Gl(ve,Lt),Pt;if(Dt===null){for(;!un.done;Lt++,un=je.next())un=Be(ve,un.value,Je),un!==null&&(fe=$(un,fe,Lt),Rt===null?Pt=un:Rt.sibling=un,Rt=un);return Vn&&Gl(ve,Lt),Pt}for(Dt=A(ve,Dt);!un.done;Lt++,un=je.next())un=ht(Dt,ve,Lt,un.value,Je),un!==null&&(c&&un.alternate!==null&&Dt.delete(un.key===null?Lt:un.key),fe=$(un,fe,Lt),Rt===null?Pt=un:Rt.sibling=un,Rt=un);return c&&Dt.forEach(function(jY){return m(ve,jY)}),Vn&&Gl(ve,Lt),Pt}function tr(ve,fe,je,Je){if(typeof je=="object"&&je!==null&&je.type===k&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case E:e:{for(var Pt=je.key,Rt=fe;Rt!==null;){if(Rt.key===Pt){if(Pt=je.type,Pt===k){if(Rt.tag===7){x(ve,Rt.sibling),fe=_(Rt,je.props.children),fe.return=ve,ve=fe;break e}}else if(Rt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===K&&_4(Pt)===Rt.type){x(ve,Rt.sibling),fe=_(Rt,je.props),fe.ref=Vm(ve,Rt,je),fe.return=ve,ve=fe;break e}x(ve,Rt);break}else m(ve,Rt);Rt=Rt.sibling}je.type===k?(fe=nc(je.props.children,ve.mode,Je,je.key),fe.return=ve,ve=fe):(Je=$x(je.type,je.key,je.props,null,ve.mode,Je),Je.ref=Vm(ve,fe,je),Je.return=ve,ve=Je)}return X(ve);case S:e:{for(Rt=je.key;fe!==null;){if(fe.key===Rt)if(fe.tag===4&&fe.stateNode.containerInfo===je.containerInfo&&fe.stateNode.implementation===je.implementation){x(ve,fe.sibling),fe=_(fe,je.children||[]),fe.return=ve,ve=fe;break e}else{x(ve,fe);break}else m(ve,fe);fe=fe.sibling}fe=s1(je,ve.mode,Je),fe.return=ve,ve=fe}return X(ve);case K:return Rt=je._init,tr(ve,fe,Rt(je._payload),Je)}if(kt(je))return jt(ve,fe,je,Je);if(I(je))return Ct(ve,fe,je,Je);fx(ve,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,fe!==null&&fe.tag===6?(x(ve,fe.sibling),fe=_(fe,je),fe.return=ve,ve=fe):(x(ve,fe),fe=a1(je,ve.mode,Je),fe.return=ve,ve=fe),X(ve)):x(ve,fe)}return tr}var Pd=T4(!0),O4=T4(!1),hx=Go(null),px=null,Ed=null,hb=null;function pb(){hb=Ed=px=null}function xb(c){var m=hx.current;Ln(hx),c._currentValue=m}function gb(c,m,x){for(;c!==null;){var A=c.alternate;if((c.childLanes&m)!==m?(c.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),c===x)break;c=c.return}}function Ad(c,m){px=c,hb=Ed=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&m)!==0&&(ha=!0),c.firstContext=null)}function Ga(c){var m=c._currentValue;if(hb!==c)if(c={context:c,memoizedValue:m,next:null},Ed===null){if(px===null)throw Error(r(308));Ed=c,px.dependencies={lanes:0,firstContext:c}}else Ed=Ed.next=c;return m}var Ql=null;function vb(c){Ql===null?Ql=[c]:Ql.push(c)}function M4(c,m,x,A){var _=m.interleaved;return _===null?(x.next=x,vb(m)):(x.next=_.next,_.next=x),m.interleaved=x,Hi(c,A)}function Hi(c,m){c.lanes|=m;var x=c.alternate;for(x!==null&&(x.lanes|=m),x=c,c=c.return;c!==null;)c.childLanes|=m,x=c.alternate,x!==null&&(x.childLanes|=m),x=c,c=c.return;return x.tag===3?x.stateNode:null}var Xo=!1;function yb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R4(c,m){c=c.updateQueue,m.updateQueue===c&&(m.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ui(c,m){return{eventTime:c,lane:m,tag:0,payload:null,callback:null,next:null}}function Zo(c,m,x){var A=c.updateQueue;if(A===null)return null;if(A=A.shared,(ln&2)!==0){var _=A.pending;return _===null?m.next=m:(m.next=_.next,_.next=m),A.pending=m,Hi(c,x)}return _=A.interleaved,_===null?(m.next=m,vb(A)):(m.next=_.next,_.next=m),A.interleaved=m,Hi(c,x)}function xx(c,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var A=m.lanes;A&=c.pendingLanes,x|=A,m.lanes=x,M0(c,x)}}function D4(c,m){var x=c.updateQueue,A=c.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var _=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var X={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};$===null?_=$=X:$=$.next=X,x=x.next}while(x!==null);$===null?_=$=m:$=$.next=m}else _=$=m;x={baseState:A.baseState,firstBaseUpdate:_,lastBaseUpdate:$,shared:A.shared,effects:A.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=m:c.next=m,x.lastBaseUpdate=m}function gx(c,m,x,A){var _=c.updateQueue;Xo=!1;var $=_.firstBaseUpdate,X=_.lastBaseUpdate,ie=_.shared.pending;if(ie!==null){_.shared.pending=null;var ce=ie,we=ce.next;ce.next=null,X===null?$=we:X.next=we,X=ce;var qe=c.alternate;qe!==null&&(qe=qe.updateQueue,ie=qe.lastBaseUpdate,ie!==X&&(ie===null?qe.firstBaseUpdate=we:ie.next=we,qe.lastBaseUpdate=ce))}if($!==null){var Be=_.baseState;X=0,qe=we=ce=null,ie=$;do{var ze=ie.lane,ht=ie.eventTime;if((A&ze)===ze){qe!==null&&(qe=qe.next={eventTime:ht,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var jt=c,Ct=ie;switch(ze=m,ht=x,Ct.tag){case 1:if(jt=Ct.payload,typeof jt=="function"){Be=jt.call(ht,Be,ze);break e}Be=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Ct.payload,ze=typeof jt=="function"?jt.call(ht,Be,ze):jt,ze==null)break e;Be=G({},Be,ze);break e;case 2:Xo=!0}}ie.callback!==null&&ie.lane!==0&&(c.flags|=64,ze=_.effects,ze===null?_.effects=[ie]:ze.push(ie))}else ht={eventTime:ht,lane:ze,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},qe===null?(we=qe=ht,ce=Be):qe=qe.next=ht,X|=ze;if(ie=ie.next,ie===null){if(ie=_.shared.pending,ie===null)break;ze=ie,ie=ze.next,ze.next=null,_.lastBaseUpdate=ze,_.shared.pending=null}}while(!0);if(qe===null&&(ce=Be),_.baseState=ce,_.firstBaseUpdate=we,_.lastBaseUpdate=qe,m=_.shared.interleaved,m!==null){_=m;do X|=_.lane,_=_.next;while(_!==m)}else $===null&&(_.shared.lanes=0);Zl|=X,c.lanes=X,c.memoizedState=Be}}function I4(c,m,x){if(c=m.effects,m.effects=null,c!==null)for(m=0;m<c.length;m++){var A=c[m],_=A.callback;if(_!==null){if(A.callback=null,A=x,typeof _!="function")throw Error(r(191,_));_.call(A)}}}var Bm={},oi=Go(Bm),Hm=Go(Bm),Um=Go(Bm);function Yl(c){if(c===Bm)throw Error(r(174));return c}function jb(c,m){switch(Tn(Um,m),Tn(Hm,c),Tn(oi,Bm),c=m.nodeType,c){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Le(null,"");break;default:c=c===8?m.parentNode:m,m=c.namespaceURI||null,c=c.tagName,m=Le(m,c)}Ln(oi),Tn(oi,m)}function kd(){Ln(oi),Ln(Hm),Ln(Um)}function $4(c){Yl(Um.current);var m=Yl(oi.current),x=Le(m,c.type);m!==x&&(Tn(Hm,c),Tn(oi,x))}function bb(c){Hm.current===c&&(Ln(oi),Ln(Hm))}var Gn=Go(0);function vx(c){for(var m=c;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var wb=[];function Nb(){for(var c=0;c<wb.length;c++)wb[c]._workInProgressVersionPrimary=null;wb.length=0}var yx=y.ReactCurrentDispatcher,Cb=y.ReactCurrentBatchConfig,Xl=0,Qn=null,fr=null,wr=null,jx=!1,Km=!1,Wm=0,VQ=0;function Lr(){throw Error(r(321))}function Sb(c,m){if(m===null)return!1;for(var x=0;x<m.length&&x<c.length;x++)if(!Ns(c[x],m[x]))return!1;return!0}function Pb(c,m,x,A,_,$){if(Xl=$,Qn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,yx.current=c===null||c.memoizedState===null?KQ:WQ,c=x(A,_),Km){$=0;do{if(Km=!1,Wm=0,25<=$)throw Error(r(301));$+=1,wr=fr=null,m.updateQueue=null,yx.current=GQ,c=x(A,_)}while(Km)}if(yx.current=Nx,m=fr!==null&&fr.next!==null,Xl=0,wr=fr=Qn=null,jx=!1,m)throw Error(r(300));return c}function Eb(){var c=Wm!==0;return Wm=0,c}function li(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Qn.memoizedState=wr=c:wr=wr.next=c,wr}function Qa(){if(fr===null){var c=Qn.alternate;c=c!==null?c.memoizedState:null}else c=fr.next;var m=wr===null?Qn.memoizedState:wr.next;if(m!==null)wr=m,fr=c;else{if(c===null)throw Error(r(310));fr=c,c={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wr===null?Qn.memoizedState=wr=c:wr=wr.next=c}return wr}function Gm(c,m){return typeof m=="function"?m(c):m}function Ab(c){var m=Qa(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var A=fr,_=A.baseQueue,$=x.pending;if($!==null){if(_!==null){var X=_.next;_.next=$.next,$.next=X}A.baseQueue=_=$,x.pending=null}if(_!==null){$=_.next,A=A.baseState;var ie=X=null,ce=null,we=$;do{var qe=we.lane;if((Xl&qe)===qe)ce!==null&&(ce=ce.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),A=we.hasEagerState?we.eagerState:c(A,we.action);else{var Be={lane:qe,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ce===null?(ie=ce=Be,X=A):ce=ce.next=Be,Qn.lanes|=qe,Zl|=qe}we=we.next}while(we!==null&&we!==$);ce===null?X=A:ce.next=ie,Ns(A,m.memoizedState)||(ha=!0),m.memoizedState=A,m.baseState=X,m.baseQueue=ce,x.lastRenderedState=A}if(c=x.interleaved,c!==null){_=c;do $=_.lane,Qn.lanes|=$,Zl|=$,_=_.next;while(_!==c)}else _===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function kb(c){var m=Qa(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var A=x.dispatch,_=x.pending,$=m.memoizedState;if(_!==null){x.pending=null;var X=_=_.next;do $=c($,X.action),X=X.next;while(X!==_);Ns($,m.memoizedState)||(ha=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),x.lastRenderedState=$}return[$,A]}function F4(){}function L4(c,m){var x=Qn,A=Qa(),_=m(),$=!Ns(A.memoizedState,_);if($&&(A.memoizedState=_,ha=!0),A=A.queue,_b(V4.bind(null,x,A,c),[c]),A.getSnapshot!==m||$||wr!==null&&wr.memoizedState.tag&1){if(x.flags|=2048,Qm(9,q4.bind(null,x,A,_,m),void 0,null),Nr===null)throw Error(r(349));(Xl&30)!==0||z4(x,m,_)}return _}function z4(c,m,x){c.flags|=16384,c={getSnapshot:m,value:x},m=Qn.updateQueue,m===null?(m={lastEffect:null,stores:null},Qn.updateQueue=m,m.stores=[c]):(x=m.stores,x===null?m.stores=[c]:x.push(c))}function q4(c,m,x,A){m.value=x,m.getSnapshot=A,B4(m)&&H4(c)}function V4(c,m,x){return x(function(){B4(m)&&H4(c)})}function B4(c){var m=c.getSnapshot;c=c.value;try{var x=m();return!Ns(c,x)}catch{return!0}}function H4(c){var m=Hi(c,1);m!==null&&As(m,c,1,-1)}function U4(c){var m=li();return typeof c=="function"&&(c=c()),m.memoizedState=m.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:c},m.queue=c,c=c.dispatch=UQ.bind(null,Qn,c),[m.memoizedState,c]}function Qm(c,m,x,A){return c={tag:c,create:m,destroy:x,deps:A,next:null},m=Qn.updateQueue,m===null?(m={lastEffect:null,stores:null},Qn.updateQueue=m,m.lastEffect=c.next=c):(x=m.lastEffect,x===null?m.lastEffect=c.next=c:(A=x.next,x.next=c,c.next=A,m.lastEffect=c)),c}function K4(){return Qa().memoizedState}function bx(c,m,x,A){var _=li();Qn.flags|=c,_.memoizedState=Qm(1|m,x,void 0,A===void 0?null:A)}function wx(c,m,x,A){var _=Qa();A=A===void 0?null:A;var $=void 0;if(fr!==null){var X=fr.memoizedState;if($=X.destroy,A!==null&&Sb(A,X.deps)){_.memoizedState=Qm(m,x,$,A);return}}Qn.flags|=c,_.memoizedState=Qm(1|m,x,$,A)}function W4(c,m){return bx(8390656,8,c,m)}function _b(c,m){return wx(2048,8,c,m)}function G4(c,m){return wx(4,2,c,m)}function Q4(c,m){return wx(4,4,c,m)}function Y4(c,m){if(typeof m=="function")return c=c(),m(c),function(){m(null)};if(m!=null)return c=c(),m.current=c,function(){m.current=null}}function X4(c,m,x){return x=x!=null?x.concat([c]):null,wx(4,4,Y4.bind(null,m,c),x)}function Tb(){}function Z4(c,m){var x=Qa();m=m===void 0?null:m;var A=x.memoizedState;return A!==null&&m!==null&&Sb(m,A[1])?A[0]:(x.memoizedState=[c,m],c)}function J4(c,m){var x=Qa();m=m===void 0?null:m;var A=x.memoizedState;return A!==null&&m!==null&&Sb(m,A[1])?A[0]:(c=c(),x.memoizedState=[c,m],c)}function eT(c,m,x){return(Xl&21)===0?(c.baseState&&(c.baseState=!1,ha=!0),c.memoizedState=x):(Ns(x,m)||(x=md(),Qn.lanes|=x,Zl|=x,c.baseState=!0),m)}function BQ(c,m){var x=Nn;Nn=x!==0&&4>x?x:4,c(!0);var A=Cb.transition;Cb.transition={};try{c(!1),m()}finally{Nn=x,Cb.transition=A}}function tT(){return Qa().memoizedState}function HQ(c,m,x){var A=nl(c);if(x={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null},nT(c))rT(m,x);else if(x=M4(c,m,x,A),x!==null){var _=Wr();As(x,c,A,_),aT(x,m,A)}}function UQ(c,m,x){var A=nl(c),_={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null};if(nT(c))rT(m,_);else{var $=c.alternate;if(c.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var X=m.lastRenderedState,ie=$(X,x);if(_.hasEagerState=!0,_.eagerState=ie,Ns(ie,X)){var ce=m.interleaved;ce===null?(_.next=_,vb(m)):(_.next=ce.next,ce.next=_),m.interleaved=_;return}}catch{}x=M4(c,m,_,A),x!==null&&(_=Wr(),As(x,c,A,_),aT(x,m,A))}}function nT(c){var m=c.alternate;return c===Qn||m!==null&&m===Qn}function rT(c,m){Km=jx=!0;var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}function aT(c,m,x){if((x&4194240)!==0){var A=m.lanes;A&=c.pendingLanes,x|=A,m.lanes=x,M0(c,x)}}var Nx={readContext:Ga,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},KQ={readContext:Ga,useCallback:function(c,m){return li().memoizedState=[c,m===void 0?null:m],c},useContext:Ga,useEffect:W4,useImperativeHandle:function(c,m,x){return x=x!=null?x.concat([c]):null,bx(4194308,4,Y4.bind(null,m,c),x)},useLayoutEffect:function(c,m){return bx(4194308,4,c,m)},useInsertionEffect:function(c,m){return bx(4,2,c,m)},useMemo:function(c,m){var x=li();return m=m===void 0?null:m,c=c(),x.memoizedState=[c,m],c},useReducer:function(c,m,x){var A=li();return m=x!==void 0?x(m):m,A.memoizedState=A.baseState=m,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:m},A.queue=c,c=c.dispatch=HQ.bind(null,Qn,c),[A.memoizedState,c]},useRef:function(c){var m=li();return c={current:c},m.memoizedState=c},useState:U4,useDebugValue:Tb,useDeferredValue:function(c){return li().memoizedState=c},useTransition:function(){var c=U4(!1),m=c[0];return c=BQ.bind(null,c[1]),li().memoizedState=c,[m,c]},useMutableSource:function(){},useSyncExternalStore:function(c,m,x){var A=Qn,_=li();if(Vn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=m(),Nr===null)throw Error(r(349));(Xl&30)!==0||z4(A,m,x)}_.memoizedState=x;var $={value:x,getSnapshot:m};return _.queue=$,W4(V4.bind(null,A,$,c),[c]),A.flags|=2048,Qm(9,q4.bind(null,A,$,x,m),void 0,null),x},useId:function(){var c=li(),m=Nr.identifierPrefix;if(Vn){var x=Bi,A=Vi;x=(A&~(1<<32-Sa(A)-1)).toString(32)+x,m=":"+m+"R"+x,x=Wm++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=VQ++,m=":"+m+"r"+x.toString(32)+":";return c.memoizedState=m},unstable_isNewReconciler:!1},WQ={readContext:Ga,useCallback:Z4,useContext:Ga,useEffect:_b,useImperativeHandle:X4,useInsertionEffect:G4,useLayoutEffect:Q4,useMemo:J4,useReducer:Ab,useRef:K4,useState:function(){return Ab(Gm)},useDebugValue:Tb,useDeferredValue:function(c){var m=Qa();return eT(m,fr.memoizedState,c)},useTransition:function(){var c=Ab(Gm)[0],m=Qa().memoizedState;return[c,m]},useMutableSource:F4,useSyncExternalStore:L4,useId:tT,unstable_isNewReconciler:!1},GQ={readContext:Ga,useCallback:Z4,useContext:Ga,useEffect:_b,useImperativeHandle:X4,useInsertionEffect:G4,useLayoutEffect:Q4,useMemo:J4,useReducer:kb,useRef:K4,useState:function(){return kb(Gm)},useDebugValue:Tb,useDeferredValue:function(c){var m=Qa();return fr===null?m.memoizedState=c:eT(m,fr.memoizedState,c)},useTransition:function(){var c=kb(Gm)[0],m=Qa().memoizedState;return[c,m]},useMutableSource:F4,useSyncExternalStore:L4,useId:tT,unstable_isNewReconciler:!1};function Ss(c,m){if(c&&c.defaultProps){m=G({},m),c=c.defaultProps;for(var x in c)m[x]===void 0&&(m[x]=c[x]);return m}return m}function Ob(c,m,x,A){m=c.memoizedState,x=x(A,m),x=x==null?m:G({},m,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Cx={isMounted:function(c){return(c=c._reactInternals)?st(c)===c:!1},enqueueSetState:function(c,m,x){c=c._reactInternals;var A=Wr(),_=nl(c),$=Ui(A,_);$.payload=m,x!=null&&($.callback=x),m=Zo(c,$,_),m!==null&&(As(m,c,_,A),xx(m,c,_))},enqueueReplaceState:function(c,m,x){c=c._reactInternals;var A=Wr(),_=nl(c),$=Ui(A,_);$.tag=1,$.payload=m,x!=null&&($.callback=x),m=Zo(c,$,_),m!==null&&(As(m,c,_,A),xx(m,c,_))},enqueueForceUpdate:function(c,m){c=c._reactInternals;var x=Wr(),A=nl(c),_=Ui(x,A);_.tag=2,m!=null&&(_.callback=m),m=Zo(c,_,A),m!==null&&(As(m,c,A,x),xx(m,c,A))}};function sT(c,m,x,A,_,$,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(A,$,X):m.prototype&&m.prototype.isPureReactComponent?!Dm(x,A)||!Dm(_,$):!0}function iT(c,m,x){var A=!1,_=Qo,$=m.contextType;return typeof $=="object"&&$!==null?$=Ga($):(_=fa(m)?Kl:Fr.current,A=m.contextTypes,$=(A=A!=null)?wd(c,_):Qo),m=new m(x,$),c.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cx,c.stateNode=m,m._reactInternals=c,A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=_,c.__reactInternalMemoizedMaskedChildContext=$),m}function oT(c,m,x,A){c=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,A),m.state!==c&&Cx.enqueueReplaceState(m,m.state,null)}function Mb(c,m,x,A){var _=c.stateNode;_.props=x,_.state=c.memoizedState,_.refs={},yb(c);var $=m.contextType;typeof $=="object"&&$!==null?_.context=Ga($):($=fa(m)?Kl:Fr.current,_.context=wd(c,$)),_.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Ob(c,m,$,x),_.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(m=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),m!==_.state&&Cx.enqueueReplaceState(_,_.state,null),gx(c,x,_,A),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308)}function _d(c,m){try{var x="",A=m;do x+=le(A),A=A.return;while(A);var _=x}catch($){_=`
Error generating stack: `+$.message+`
`+$.stack}return{value:c,source:m,stack:_,digest:null}}function Rb(c,m,x){return{value:c,source:null,stack:x??null,digest:m??null}}function Db(c,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var QQ=typeof WeakMap=="function"?WeakMap:Map;function lT(c,m,x){x=Ui(-1,x),x.tag=3,x.payload={element:null};var A=m.value;return x.callback=function(){Tx||(Tx=!0,Yb=A),Db(c,m)},x}function cT(c,m,x){x=Ui(-1,x),x.tag=3;var A=c.type.getDerivedStateFromError;if(typeof A=="function"){var _=m.value;x.payload=function(){return A(_)},x.callback=function(){Db(c,m)}}var $=c.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(x.callback=function(){Db(c,m),typeof A!="function"&&(el===null?el=new Set([this]):el.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})}),x}function dT(c,m,x){var A=c.pingCache;if(A===null){A=c.pingCache=new QQ;var _=new Set;A.set(m,_)}else _=A.get(m),_===void 0&&(_=new Set,A.set(m,_));_.has(x)||(_.add(x),c=cY.bind(null,c,m,x),m.then(c,c))}function uT(c){do{var m;if((m=c.tag===13)&&(m=c.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return c;c=c.return}while(c!==null);return null}function mT(c,m,x,A,_){return(c.mode&1)===0?(c===m?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=Ui(-1,1),m.tag=2,Zo(x,m,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=_,c)}var YQ=y.ReactCurrentOwner,ha=!1;function Kr(c,m,x,A){m.child=c===null?O4(m,null,x,A):Pd(m,c.child,x,A)}function fT(c,m,x,A,_){x=x.render;var $=m.ref;return Ad(m,_),A=Pb(c,m,x,A,$,_),x=Eb(),c!==null&&!ha?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~_,Ki(c,m,_)):(Vn&&x&&cb(m),m.flags|=1,Kr(c,m,A,_),m.child)}function hT(c,m,x,A,_){if(c===null){var $=x.type;return typeof $=="function"&&!r1($)&&$.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=$,pT(c,m,$,A,_)):(c=$x(x.type,null,A,m,m.mode,_),c.ref=m.ref,c.return=m,m.child=c)}if($=c.child,(c.lanes&_)===0){var X=$.memoizedProps;if(x=x.compare,x=x!==null?x:Dm,x(X,A)&&c.ref===m.ref)return Ki(c,m,_)}return m.flags|=1,c=al($,A),c.ref=m.ref,c.return=m,m.child=c}function pT(c,m,x,A,_){if(c!==null){var $=c.memoizedProps;if(Dm($,A)&&c.ref===m.ref)if(ha=!1,m.pendingProps=A=$,(c.lanes&_)!==0)(c.flags&131072)!==0&&(ha=!0);else return m.lanes=c.lanes,Ki(c,m,_)}return Ib(c,m,x,A,_)}function xT(c,m,x){var A=m.pendingProps,_=A.children,$=c!==null?c.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Od,ka),ka|=x;else{if((x&1073741824)===0)return c=$!==null?$.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:c,cachePool:null,transitions:null},m.updateQueue=null,Tn(Od,ka),ka|=c,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=$!==null?$.baseLanes:x,Tn(Od,ka),ka|=A}else $!==null?(A=$.baseLanes|x,m.memoizedState=null):A=x,Tn(Od,ka),ka|=A;return Kr(c,m,_,x),m.child}function gT(c,m){var x=m.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function Ib(c,m,x,A,_){var $=fa(x)?Kl:Fr.current;return $=wd(m,$),Ad(m,_),x=Pb(c,m,x,A,$,_),A=Eb(),c!==null&&!ha?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~_,Ki(c,m,_)):(Vn&&A&&cb(m),m.flags|=1,Kr(c,m,x,_),m.child)}function vT(c,m,x,A,_){if(fa(x)){var $=!0;lx(m)}else $=!1;if(Ad(m,_),m.stateNode===null)Px(c,m),iT(m,x,A),Mb(m,x,A,_),A=!0;else if(c===null){var X=m.stateNode,ie=m.memoizedProps;X.props=ie;var ce=X.context,we=x.contextType;typeof we=="object"&&we!==null?we=Ga(we):(we=fa(x)?Kl:Fr.current,we=wd(m,we));var qe=x.getDerivedStateFromProps,Be=typeof qe=="function"||typeof X.getSnapshotBeforeUpdate=="function";Be||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==A||ce!==we)&&oT(m,X,A,we),Xo=!1;var ze=m.memoizedState;X.state=ze,gx(m,A,X,_),ce=m.memoizedState,ie!==A||ze!==ce||ma.current||Xo?(typeof qe=="function"&&(Ob(m,x,qe,A),ce=m.memoizedState),(ie=Xo||sT(m,x,ie,A,ze,ce,we))?(Be||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(m.flags|=4194308)):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=ce),X.props=A,X.state=ce,X.context=we,A=ie):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{X=m.stateNode,R4(c,m),ie=m.memoizedProps,we=m.type===m.elementType?ie:Ss(m.type,ie),X.props=we,Be=m.pendingProps,ze=X.context,ce=x.contextType,typeof ce=="object"&&ce!==null?ce=Ga(ce):(ce=fa(x)?Kl:Fr.current,ce=wd(m,ce));var ht=x.getDerivedStateFromProps;(qe=typeof ht=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==Be||ze!==ce)&&oT(m,X,A,ce),Xo=!1,ze=m.memoizedState,X.state=ze,gx(m,A,X,_);var jt=m.memoizedState;ie!==Be||ze!==jt||ma.current||Xo?(typeof ht=="function"&&(Ob(m,x,ht,A),jt=m.memoizedState),(we=Xo||sT(m,x,we,A,ze,jt,ce)||!1)?(qe||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(A,jt,ce),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(A,jt,ce)),typeof X.componentDidUpdate=="function"&&(m.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof X.componentDidUpdate!="function"||ie===c.memoizedProps&&ze===c.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&ze===c.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=jt),X.props=A,X.state=jt,X.context=ce,A=we):(typeof X.componentDidUpdate!="function"||ie===c.memoizedProps&&ze===c.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&ze===c.memoizedState||(m.flags|=1024),A=!1)}return $b(c,m,x,A,$,_)}function $b(c,m,x,A,_,$){gT(c,m);var X=(m.flags&128)!==0;if(!A&&!X)return _&&N4(m,x,!1),Ki(c,m,$);A=m.stateNode,YQ.current=m;var ie=X&&typeof x.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,c!==null&&X?(m.child=Pd(m,c.child,null,$),m.child=Pd(m,null,ie,$)):Kr(c,m,ie,$),m.memoizedState=A.state,_&&N4(m,x,!0),m.child}function yT(c){var m=c.stateNode;m.pendingContext?b4(c,m.pendingContext,m.pendingContext!==m.context):m.context&&b4(c,m.context,!1),jb(c,m.containerInfo)}function jT(c,m,x,A,_){return Sd(),fb(_),m.flags|=256,Kr(c,m,x,A),m.child}var Fb={dehydrated:null,treeContext:null,retryLane:0};function Lb(c){return{baseLanes:c,cachePool:null,transitions:null}}function bT(c,m,x){var A=m.pendingProps,_=Gn.current,$=!1,X=(m.flags&128)!==0,ie;if((ie=X)||(ie=c!==null&&c.memoizedState===null?!1:(_&2)!==0),ie?($=!0,m.flags&=-129):(c===null||c.memoizedState!==null)&&(_|=1),Tn(Gn,_&1),c===null)return mb(m),c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((m.mode&1)===0?m.lanes=1:c.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(X=A.children,c=A.fallback,$?(A=m.mode,$=m.child,X={mode:"hidden",children:X},(A&1)===0&&$!==null?($.childLanes=0,$.pendingProps=X):$=Fx(X,A,0,null),c=nc(c,A,x,null),$.return=m,c.return=m,$.sibling=c,m.child=$,m.child.memoizedState=Lb(x),m.memoizedState=Fb,c):zb(m,X));if(_=c.memoizedState,_!==null&&(ie=_.dehydrated,ie!==null))return XQ(c,m,X,A,ie,_,x);if($){$=A.fallback,X=m.mode,_=c.child,ie=_.sibling;var ce={mode:"hidden",children:A.children};return(X&1)===0&&m.child!==_?(A=m.child,A.childLanes=0,A.pendingProps=ce,m.deletions=null):(A=al(_,ce),A.subtreeFlags=_.subtreeFlags&14680064),ie!==null?$=al(ie,$):($=nc($,X,x,null),$.flags|=2),$.return=m,A.return=m,A.sibling=$,m.child=A,A=$,$=m.child,X=c.child.memoizedState,X=X===null?Lb(x):{baseLanes:X.baseLanes|x,cachePool:null,transitions:X.transitions},$.memoizedState=X,$.childLanes=c.childLanes&~x,m.memoizedState=Fb,A}return $=c.child,c=$.sibling,A=al($,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=x),A.return=m,A.sibling=null,c!==null&&(x=m.deletions,x===null?(m.deletions=[c],m.flags|=16):x.push(c)),m.child=A,m.memoizedState=null,A}function zb(c,m){return m=Fx({mode:"visible",children:m},c.mode,0,null),m.return=c,c.child=m}function Sx(c,m,x,A){return A!==null&&fb(A),Pd(m,c.child,null,x),c=zb(m,m.pendingProps.children),c.flags|=2,m.memoizedState=null,c}function XQ(c,m,x,A,_,$,X){if(x)return m.flags&256?(m.flags&=-257,A=Rb(Error(r(422))),Sx(c,m,X,A)):m.memoizedState!==null?(m.child=c.child,m.flags|=128,null):($=A.fallback,_=m.mode,A=Fx({mode:"visible",children:A.children},_,0,null),$=nc($,_,X,null),$.flags|=2,A.return=m,$.return=m,A.sibling=$,m.child=A,(m.mode&1)!==0&&Pd(m,c.child,null,X),m.child.memoizedState=Lb(X),m.memoizedState=Fb,$);if((m.mode&1)===0)return Sx(c,m,X,null);if(_.data==="$!"){if(A=_.nextSibling&&_.nextSibling.dataset,A)var ie=A.dgst;return A=ie,$=Error(r(419)),A=Rb($,A,void 0),Sx(c,m,X,A)}if(ie=(X&c.childLanes)!==0,ha||ie){if(A=Nr,A!==null){switch(X&-X){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(A.suspendedLanes|X))!==0?0:_,_!==0&&_!==$.retryLane&&($.retryLane=_,Hi(c,_),As(A,c,_,-1))}return n1(),A=Rb(Error(r(421))),Sx(c,m,X,A)}return _.data==="$?"?(m.flags|=128,m.child=c.child,m=dY.bind(null,c),_._reactRetry=m,null):(c=$.treeContext,Aa=Wo(_.nextSibling),Ea=m,Vn=!0,Cs=null,c!==null&&(Ka[Wa++]=Vi,Ka[Wa++]=Bi,Ka[Wa++]=Wl,Vi=c.id,Bi=c.overflow,Wl=m),m=zb(m,A.children),m.flags|=4096,m)}function wT(c,m,x){c.lanes|=m;var A=c.alternate;A!==null&&(A.lanes|=m),gb(c.return,m,x)}function qb(c,m,x,A,_){var $=c.memoizedState;$===null?c.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:_}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=A,$.tail=x,$.tailMode=_)}function NT(c,m,x){var A=m.pendingProps,_=A.revealOrder,$=A.tail;if(Kr(c,m,A.children,x),A=Gn.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=m.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&wT(c,x,m);else if(c.tag===19)wT(c,x,m);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===m)break e;for(;c.sibling===null;){if(c.return===null||c.return===m)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}A&=1}if(Tn(Gn,A),(m.mode&1)===0)m.memoizedState=null;else switch(_){case"forwards":for(x=m.child,_=null;x!==null;)c=x.alternate,c!==null&&vx(c)===null&&(_=x),x=x.sibling;x=_,x===null?(_=m.child,m.child=null):(_=x.sibling,x.sibling=null),qb(m,!1,_,x,$);break;case"backwards":for(x=null,_=m.child,m.child=null;_!==null;){if(c=_.alternate,c!==null&&vx(c)===null){m.child=_;break}c=_.sibling,_.sibling=x,x=_,_=c}qb(m,!0,x,null,$);break;case"together":qb(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Px(c,m){(m.mode&1)===0&&c!==null&&(c.alternate=null,m.alternate=null,m.flags|=2)}function Ki(c,m,x){if(c!==null&&(m.dependencies=c.dependencies),Zl|=m.lanes,(x&m.childLanes)===0)return null;if(c!==null&&m.child!==c.child)throw Error(r(153));if(m.child!==null){for(c=m.child,x=al(c,c.pendingProps),m.child=x,x.return=m;c.sibling!==null;)c=c.sibling,x=x.sibling=al(c,c.pendingProps),x.return=m;x.sibling=null}return m.child}function ZQ(c,m,x){switch(m.tag){case 3:yT(m),Sd();break;case 5:$4(m);break;case 1:fa(m.type)&&lx(m);break;case 4:jb(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,_=m.memoizedProps.value;Tn(hx,A._currentValue),A._currentValue=_;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(Tn(Gn,Gn.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?bT(c,m,x):(Tn(Gn,Gn.current&1),c=Ki(c,m,x),c!==null?c.sibling:null);Tn(Gn,Gn.current&1);break;case 19:if(A=(x&m.childLanes)!==0,(c.flags&128)!==0){if(A)return NT(c,m,x);m.flags|=128}if(_=m.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Tn(Gn,Gn.current),A)break;return null;case 22:case 23:return m.lanes=0,xT(c,m,x)}return Ki(c,m,x)}var CT,Vb,ST,PT;CT=function(c,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Vb=function(){},ST=function(c,m,x,A){var _=c.memoizedProps;if(_!==A){c=m.stateNode,Yl(oi.current);var $=null;switch(x){case"input":_=$e(c,_),A=$e(c,A),$=[];break;case"select":_=G({},_,{value:void 0}),A=G({},A,{value:void 0}),$=[];break;case"textarea":_=oe(c,_),A=oe(c,A),$=[];break;default:typeof _.onClick!="function"&&typeof A.onClick=="function"&&(c.onclick=sx)}ti(x,A);var X;x=null;for(we in _)if(!A.hasOwnProperty(we)&&_.hasOwnProperty(we)&&_[we]!=null)if(we==="style"){var ie=_[we];for(X in ie)ie.hasOwnProperty(X)&&(x||(x={}),x[X]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?$||($=[]):($=$||[]).push(we,null));for(we in A){var ce=A[we];if(ie=_?.[we],A.hasOwnProperty(we)&&ce!==ie&&(ce!=null||ie!=null))if(we==="style")if(ie){for(X in ie)!ie.hasOwnProperty(X)||ce&&ce.hasOwnProperty(X)||(x||(x={}),x[X]="");for(X in ce)ce.hasOwnProperty(X)&&ie[X]!==ce[X]&&(x||(x={}),x[X]=ce[X])}else x||($||($=[]),$.push(we,x)),x=ce;else we==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ie=ie?ie.__html:void 0,ce!=null&&ie!==ce&&($=$||[]).push(we,ce)):we==="children"?typeof ce!="string"&&typeof ce!="number"||($=$||[]).push(we,""+ce):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(ce!=null&&we==="onScroll"&&Fn("scroll",c),$||ie===ce||($=[])):($=$||[]).push(we,ce))}x&&($=$||[]).push("style",x);var we=$;(m.updateQueue=we)&&(m.flags|=4)}},PT=function(c,m,x,A){x!==A&&(m.flags|=4)};function Ym(c,m){if(!Vn)switch(c.tailMode){case"hidden":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?m||c.tail===null?c.tail=null:c.tail.sibling=null:A.sibling=null}}function zr(c){var m=c.alternate!==null&&c.alternate.child===c.child,x=0,A=0;if(m)for(var _=c.child;_!==null;)x|=_.lanes|_.childLanes,A|=_.subtreeFlags&14680064,A|=_.flags&14680064,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)x|=_.lanes|_.childLanes,A|=_.subtreeFlags,A|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=A,c.childLanes=x,m}function JQ(c,m,x){var A=m.pendingProps;switch(db(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(m),null;case 1:return fa(m.type)&&ox(),zr(m),null;case 3:return A=m.stateNode,kd(),Ln(ma),Ln(Fr),Nb(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(c===null||c.child===null)&&(mx(m)?m.flags|=4:c===null||c.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Cs!==null&&(Jb(Cs),Cs=null))),Vb(c,m),zr(m),null;case 5:bb(m);var _=Yl(Um.current);if(x=m.type,c!==null&&m.stateNode!=null)ST(c,m,x,A,_),c.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(r(166));return zr(m),null}if(c=Yl(oi.current),mx(m)){A=m.stateNode,x=m.type;var $=m.memoizedProps;switch(A[ii]=m,A[zm]=$,c=(m.mode&1)!==0,x){case"dialog":Fn("cancel",A),Fn("close",A);break;case"iframe":case"object":case"embed":Fn("load",A);break;case"video":case"audio":for(_=0;_<$m.length;_++)Fn($m[_],A);break;case"source":Fn("error",A);break;case"img":case"image":case"link":Fn("error",A),Fn("load",A);break;case"details":Fn("toggle",A);break;case"input":tt(A,$),Fn("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!$.multiple},Fn("invalid",A);break;case"textarea":ge(A,$),Fn("invalid",A)}ti(x,$),_=null;for(var X in $)if($.hasOwnProperty(X)){var ie=$[X];X==="children"?typeof ie=="string"?A.textContent!==ie&&($.suppressHydrationWarning!==!0&&ax(A.textContent,ie,c),_=["children",ie]):typeof ie=="number"&&A.textContent!==""+ie&&($.suppressHydrationWarning!==!0&&ax(A.textContent,ie,c),_=["children",""+ie]):s.hasOwnProperty(X)&&ie!=null&&X==="onScroll"&&Fn("scroll",A)}switch(x){case"input":me(A),xn(A,$,!0);break;case"textarea":me(A),Xe(A);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(A.onclick=sx)}A=_,m.updateQueue=A,A!==null&&(m.flags|=4)}else{X=_.nodeType===9?_:_.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Ue(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=X.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof A.is=="string"?c=X.createElement(x,{is:A.is}):(c=X.createElement(x),x==="select"&&(X=c,A.multiple?X.multiple=!0:A.size&&(X.size=A.size))):c=X.createElementNS(c,x),c[ii]=m,c[zm]=A,CT(c,m,!1,!1),m.stateNode=c;e:{switch(X=Ri(x,A),x){case"dialog":Fn("cancel",c),Fn("close",c),_=A;break;case"iframe":case"object":case"embed":Fn("load",c),_=A;break;case"video":case"audio":for(_=0;_<$m.length;_++)Fn($m[_],c);_=A;break;case"source":Fn("error",c),_=A;break;case"img":case"image":case"link":Fn("error",c),Fn("load",c),_=A;break;case"details":Fn("toggle",c),_=A;break;case"input":tt(c,A),_=$e(c,A),Fn("invalid",c);break;case"option":_=A;break;case"select":c._wrapperState={wasMultiple:!!A.multiple},_=G({},A,{value:void 0}),Fn("invalid",c);break;case"textarea":ge(c,A),_=oe(c,A),Fn("invalid",c);break;default:_=A}ti(x,_),ie=_;for($ in ie)if(ie.hasOwnProperty($)){var ce=ie[$];$==="style"?br(c,ce):$==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&Bt(c,ce)):$==="children"?typeof ce=="string"?(x!=="textarea"||ce!=="")&&Qt(c,ce):typeof ce=="number"&&Qt(c,""+ce):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?ce!=null&&$==="onScroll"&&Fn("scroll",c):ce!=null&&b(c,$,ce,X))}switch(x){case"input":me(c),xn(c,A,!1);break;case"textarea":me(c),Xe(c);break;case"option":A.value!=null&&c.setAttribute("value",""+pe(A.value));break;case"select":c.multiple=!!A.multiple,$=A.value,$!=null?gn(c,!!A.multiple,$,!1):A.defaultValue!=null&&gn(c,!!A.multiple,A.defaultValue,!0);break;default:typeof _.onClick=="function"&&(c.onclick=sx)}switch(x){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return zr(m),null;case 6:if(c&&m.stateNode!=null)PT(c,m,c.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(r(166));if(x=Yl(Um.current),Yl(oi.current),mx(m)){if(A=m.stateNode,x=m.memoizedProps,A[ii]=m,($=A.nodeValue!==x)&&(c=Ea,c!==null))switch(c.tag){case 3:ax(A.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ax(A.nodeValue,x,(c.mode&1)!==0)}$&&(m.flags|=4)}else A=(x.nodeType===9?x:x.ownerDocument).createTextNode(A),A[ii]=m,m.stateNode=A}return zr(m),null;case 13:if(Ln(Gn),A=m.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Vn&&Aa!==null&&(m.mode&1)!==0&&(m.flags&128)===0)k4(),Sd(),m.flags|=98560,$=!1;else if($=mx(m),A!==null&&A.dehydrated!==null){if(c===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[ii]=m}else Sd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;zr(m),$=!1}else Cs!==null&&(Jb(Cs),Cs=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(A=A!==null,A!==(c!==null&&c.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(c===null||(Gn.current&1)!==0?hr===0&&(hr=3):n1())),m.updateQueue!==null&&(m.flags|=4),zr(m),null);case 4:return kd(),Vb(c,m),c===null&&Fm(m.stateNode.containerInfo),zr(m),null;case 10:return xb(m.type._context),zr(m),null;case 17:return fa(m.type)&&ox(),zr(m),null;case 19:if(Ln(Gn),$=m.memoizedState,$===null)return zr(m),null;if(A=(m.flags&128)!==0,X=$.rendering,X===null)if(A)Ym($,!1);else{if(hr!==0||c!==null&&(c.flags&128)!==0)for(c=m.child;c!==null;){if(X=vx(c),X!==null){for(m.flags|=128,Ym($,!1),A=X.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=x,x=m.child;x!==null;)$=x,c=A,$.flags&=14680066,X=$.alternate,X===null?($.childLanes=0,$.lanes=c,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=X.childLanes,$.lanes=X.lanes,$.child=X.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=X.memoizedProps,$.memoizedState=X.memoizedState,$.updateQueue=X.updateQueue,$.type=X.type,c=X.dependencies,$.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return Tn(Gn,Gn.current&1|2),m.child}c=c.sibling}$.tail!==null&&Wn()>Md&&(m.flags|=128,A=!0,Ym($,!1),m.lanes=4194304)}else{if(!A)if(c=vx(X),c!==null){if(m.flags|=128,A=!0,x=c.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),Ym($,!0),$.tail===null&&$.tailMode==="hidden"&&!X.alternate&&!Vn)return zr(m),null}else 2*Wn()-$.renderingStartTime>Md&&x!==1073741824&&(m.flags|=128,A=!0,Ym($,!1),m.lanes=4194304);$.isBackwards?(X.sibling=m.child,m.child=X):(x=$.last,x!==null?x.sibling=X:m.child=X,$.last=X)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=Wn(),m.sibling=null,x=Gn.current,Tn(Gn,A?x&1|2:x&1),m):(zr(m),null);case 22:case 23:return t1(),A=m.memoizedState!==null,c!==null&&c.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(ka&1073741824)!==0&&(zr(m),m.subtreeFlags&6&&(m.flags|=8192)):zr(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function eY(c,m){switch(db(m),m.tag){case 1:return fa(m.type)&&ox(),c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 3:return kd(),Ln(ma),Ln(Fr),Nb(),c=m.flags,(c&65536)!==0&&(c&128)===0?(m.flags=c&-65537|128,m):null;case 5:return bb(m),null;case 13:if(Ln(Gn),c=m.memoizedState,c!==null&&c.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Sd()}return c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 19:return Ln(Gn),null;case 4:return kd(),null;case 10:return xb(m.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var Ex=!1,qr=!1,tY=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Td(c,m){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(A){Xn(c,m,A)}else x.current=null}function Bb(c,m,x){try{x()}catch(A){Xn(c,m,A)}}var ET=!1;function nY(c,m){if(tb=Wp,c=s4(),W0(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var _=A.anchorOffset,$=A.focusNode;A=A.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var X=0,ie=-1,ce=-1,we=0,qe=0,Be=c,ze=null;t:for(;;){for(var ht;Be!==x||_!==0&&Be.nodeType!==3||(ie=X+_),Be!==$||A!==0&&Be.nodeType!==3||(ce=X+A),Be.nodeType===3&&(X+=Be.nodeValue.length),(ht=Be.firstChild)!==null;)ze=Be,Be=ht;for(;;){if(Be===c)break t;if(ze===x&&++we===_&&(ie=X),ze===$&&++qe===A&&(ce=X),(ht=Be.nextSibling)!==null)break;Be=ze,ze=Be.parentNode}Be=ht}x=ie===-1||ce===-1?null:{start:ie,end:ce}}else x=null}x=x||{start:0,end:0}}else x=null;for(nb={focusedElem:c,selectionRange:x},Wp=!1,gt=m;gt!==null;)if(m=gt,c=m.child,(m.subtreeFlags&1028)!==0&&c!==null)c.return=m,gt=c;else for(;gt!==null;){m=gt;try{var jt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var Ct=jt.memoizedProps,tr=jt.memoizedState,ve=m.stateNode,fe=ve.getSnapshotBeforeUpdate(m.elementType===m.type?Ct:Ss(m.type,Ct),tr);ve.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var je=m.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){Xn(m,m.return,Je)}if(c=m.sibling,c!==null){c.return=m.return,gt=c;break}gt=m.return}return jt=ET,ET=!1,jt}function Xm(c,m,x){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var _=A=A.next;do{if((_.tag&c)===c){var $=_.destroy;_.destroy=void 0,$!==void 0&&Bb(m,x,$)}_=_.next}while(_!==A)}}function Ax(c,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&c)===c){var A=x.create;x.destroy=A()}x=x.next}while(x!==m)}}function Hb(c){var m=c.ref;if(m!==null){var x=c.stateNode;c.tag,c=x,typeof m=="function"?m(c):m.current=c}}function AT(c){var m=c.alternate;m!==null&&(c.alternate=null,AT(m)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(m=c.stateNode,m!==null&&(delete m[ii],delete m[zm],delete m[ib],delete m[FQ],delete m[LQ])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function kT(c){return c.tag===5||c.tag===3||c.tag===4}function _T(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||kT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ub(c,m,x){var A=c.tag;if(A===5||A===6)c=c.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(c,m):x.insertBefore(c,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(c,x)):(m=x,m.appendChild(c)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=sx));else if(A!==4&&(c=c.child,c!==null))for(Ub(c,m,x),c=c.sibling;c!==null;)Ub(c,m,x),c=c.sibling}function Kb(c,m,x){var A=c.tag;if(A===5||A===6)c=c.stateNode,m?x.insertBefore(c,m):x.appendChild(c);else if(A!==4&&(c=c.child,c!==null))for(Kb(c,m,x),c=c.sibling;c!==null;)Kb(c,m,x),c=c.sibling}var Tr=null,Ps=!1;function Jo(c,m,x){for(x=x.child;x!==null;)TT(c,m,x),x=x.sibling}function TT(c,m,x){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(Bl,x)}catch{}switch(x.tag){case 5:qr||Td(x,m);case 6:var A=Tr,_=Ps;Tr=null,Jo(c,m,x),Tr=A,Ps=_,Tr!==null&&(Ps?(c=Tr,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Tr.removeChild(x.stateNode));break;case 18:Tr!==null&&(Ps?(c=Tr,x=x.stateNode,c.nodeType===8?sb(c.parentNode,x):c.nodeType===1&&sb(c,x),km(c)):sb(Tr,x.stateNode));break;case 4:A=Tr,_=Ps,Tr=x.stateNode.containerInfo,Ps=!0,Jo(c,m,x),Tr=A,Ps=_;break;case 0:case 11:case 14:case 15:if(!qr&&(A=x.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){_=A=A.next;do{var $=_,X=$.destroy;$=$.tag,X!==void 0&&(($&2)!==0||($&4)!==0)&&Bb(x,m,X),_=_.next}while(_!==A)}Jo(c,m,x);break;case 1:if(!qr&&(Td(x,m),A=x.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=x.memoizedProps,A.state=x.memoizedState,A.componentWillUnmount()}catch(ie){Xn(x,m,ie)}Jo(c,m,x);break;case 21:Jo(c,m,x);break;case 22:x.mode&1?(qr=(A=qr)||x.memoizedState!==null,Jo(c,m,x),qr=A):Jo(c,m,x);break;default:Jo(c,m,x)}}function OT(c){var m=c.updateQueue;if(m!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new tY),m.forEach(function(A){var _=uY.bind(null,c,A);x.has(A)||(x.add(A),A.then(_,_))})}}function Es(c,m){var x=m.deletions;if(x!==null)for(var A=0;A<x.length;A++){var _=x[A];try{var $=c,X=m,ie=X;e:for(;ie!==null;){switch(ie.tag){case 5:Tr=ie.stateNode,Ps=!1;break e;case 3:Tr=ie.stateNode.containerInfo,Ps=!0;break e;case 4:Tr=ie.stateNode.containerInfo,Ps=!0;break e}ie=ie.return}if(Tr===null)throw Error(r(160));TT($,X,_),Tr=null,Ps=!1;var ce=_.alternate;ce!==null&&(ce.return=null),_.return=null}catch(we){Xn(_,m,we)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)MT(m,c),m=m.sibling}function MT(c,m){var x=c.alternate,A=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Es(m,c),ci(c),A&4){try{Xm(3,c,c.return),Ax(3,c)}catch(Ct){Xn(c,c.return,Ct)}try{Xm(5,c,c.return)}catch(Ct){Xn(c,c.return,Ct)}}break;case 1:Es(m,c),ci(c),A&512&&x!==null&&Td(x,x.return);break;case 5:if(Es(m,c),ci(c),A&512&&x!==null&&Td(x,x.return),c.flags&32){var _=c.stateNode;try{Qt(_,"")}catch(Ct){Xn(c,c.return,Ct)}}if(A&4&&(_=c.stateNode,_!=null)){var $=c.memoizedProps,X=x!==null?x.memoizedProps:$,ie=c.type,ce=c.updateQueue;if(c.updateQueue=null,ce!==null)try{ie==="input"&&$.type==="radio"&&$.name!=null&&ft(_,$),Ri(ie,X);var we=Ri(ie,$);for(X=0;X<ce.length;X+=2){var qe=ce[X],Be=ce[X+1];qe==="style"?br(_,Be):qe==="dangerouslySetInnerHTML"?Bt(_,Be):qe==="children"?Qt(_,Be):b(_,qe,Be,we)}switch(ie){case"input":_t(_,$);break;case"textarea":ke(_,$);break;case"select":var ze=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!$.multiple;var ht=$.value;ht!=null?gn(_,!!$.multiple,ht,!1):ze!==!!$.multiple&&($.defaultValue!=null?gn(_,!!$.multiple,$.defaultValue,!0):gn(_,!!$.multiple,$.multiple?[]:"",!1))}_[zm]=$}catch(Ct){Xn(c,c.return,Ct)}}break;case 6:if(Es(m,c),ci(c),A&4){if(c.stateNode===null)throw Error(r(162));_=c.stateNode,$=c.memoizedProps;try{_.nodeValue=$}catch(Ct){Xn(c,c.return,Ct)}}break;case 3:if(Es(m,c),ci(c),A&4&&x!==null&&x.memoizedState.isDehydrated)try{km(m.containerInfo)}catch(Ct){Xn(c,c.return,Ct)}break;case 4:Es(m,c),ci(c);break;case 13:Es(m,c),ci(c),_=c.child,_.flags&8192&&($=_.memoizedState!==null,_.stateNode.isHidden=$,!$||_.alternate!==null&&_.alternate.memoizedState!==null||(Qb=Wn())),A&4&&OT(c);break;case 22:if(qe=x!==null&&x.memoizedState!==null,c.mode&1?(qr=(we=qr)||qe,Es(m,c),qr=we):Es(m,c),ci(c),A&8192){if(we=c.memoizedState!==null,(c.stateNode.isHidden=we)&&!qe&&(c.mode&1)!==0)for(gt=c,qe=c.child;qe!==null;){for(Be=gt=qe;gt!==null;){switch(ze=gt,ht=ze.child,ze.tag){case 0:case 11:case 14:case 15:Xm(4,ze,ze.return);break;case 1:Td(ze,ze.return);var jt=ze.stateNode;if(typeof jt.componentWillUnmount=="function"){A=ze,x=ze.return;try{m=A,jt.props=m.memoizedProps,jt.state=m.memoizedState,jt.componentWillUnmount()}catch(Ct){Xn(A,x,Ct)}}break;case 5:Td(ze,ze.return);break;case 22:if(ze.memoizedState!==null){IT(Be);continue}}ht!==null?(ht.return=ze,gt=ht):IT(Be)}qe=qe.sibling}e:for(qe=null,Be=c;;){if(Be.tag===5){if(qe===null){qe=Be;try{_=Be.stateNode,we?($=_.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ie=Be.stateNode,ce=Be.memoizedProps.style,X=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,ie.style.display=ua("display",X))}catch(Ct){Xn(c,c.return,Ct)}}}else if(Be.tag===6){if(qe===null)try{Be.stateNode.nodeValue=we?"":Be.memoizedProps}catch(Ct){Xn(c,c.return,Ct)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===c)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===c)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===c)break e;qe===Be&&(qe=null),Be=Be.return}qe===Be&&(qe=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:Es(m,c),ci(c),A&4&&OT(c);break;case 21:break;default:Es(m,c),ci(c)}}function ci(c){var m=c.flags;if(m&2){try{e:{for(var x=c.return;x!==null;){if(kT(x)){var A=x;break e}x=x.return}throw Error(r(160))}switch(A.tag){case 5:var _=A.stateNode;A.flags&32&&(Qt(_,""),A.flags&=-33);var $=_T(c);Kb(c,$,_);break;case 3:case 4:var X=A.stateNode.containerInfo,ie=_T(c);Ub(c,ie,X);break;default:throw Error(r(161))}}catch(ce){Xn(c,c.return,ce)}c.flags&=-3}m&4096&&(c.flags&=-4097)}function rY(c,m,x){gt=c,RT(c)}function RT(c,m,x){for(var A=(c.mode&1)!==0;gt!==null;){var _=gt,$=_.child;if(_.tag===22&&A){var X=_.memoizedState!==null||Ex;if(!X){var ie=_.alternate,ce=ie!==null&&ie.memoizedState!==null||qr;ie=Ex;var we=qr;if(Ex=X,(qr=ce)&&!we)for(gt=_;gt!==null;)X=gt,ce=X.child,X.tag===22&&X.memoizedState!==null?$T(_):ce!==null?(ce.return=X,gt=ce):$T(_);for(;$!==null;)gt=$,RT($),$=$.sibling;gt=_,Ex=ie,qr=we}DT(c)}else(_.subtreeFlags&8772)!==0&&$!==null?($.return=_,gt=$):DT(c)}}function DT(c){for(;gt!==null;){var m=gt;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:qr||Ax(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!qr)if(x===null)A.componentDidMount();else{var _=m.elementType===m.type?x.memoizedProps:Ss(m.type,x.memoizedProps);A.componentDidUpdate(_,x.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&I4(m,$,A);break;case 3:var X=m.updateQueue;if(X!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}I4(m,X,x)}break;case 5:var ie=m.stateNode;if(x===null&&m.flags&4){x=ie;var ce=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&x.focus();break;case"img":ce.src&&(x.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var we=m.alternate;if(we!==null){var qe=we.memoizedState;if(qe!==null){var Be=qe.dehydrated;Be!==null&&km(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}qr||m.flags&512&&Hb(m)}catch(ze){Xn(m,m.return,ze)}}if(m===c){gt=null;break}if(x=m.sibling,x!==null){x.return=m.return,gt=x;break}gt=m.return}}function IT(c){for(;gt!==null;){var m=gt;if(m===c){gt=null;break}var x=m.sibling;if(x!==null){x.return=m.return,gt=x;break}gt=m.return}}function $T(c){for(;gt!==null;){var m=gt;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{Ax(4,m)}catch(ce){Xn(m,x,ce)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var _=m.return;try{A.componentDidMount()}catch(ce){Xn(m,_,ce)}}var $=m.return;try{Hb(m)}catch(ce){Xn(m,$,ce)}break;case 5:var X=m.return;try{Hb(m)}catch(ce){Xn(m,X,ce)}}}catch(ce){Xn(m,m.return,ce)}if(m===c){gt=null;break}var ie=m.sibling;if(ie!==null){ie.return=m.return,gt=ie;break}gt=m.return}}var aY=Math.ceil,kx=y.ReactCurrentDispatcher,Wb=y.ReactCurrentOwner,Ya=y.ReactCurrentBatchConfig,ln=0,Nr=null,or=null,Or=0,ka=0,Od=Go(0),hr=0,Zm=null,Zl=0,_x=0,Gb=0,Jm=null,pa=null,Qb=0,Md=1/0,Wi=null,Tx=!1,Yb=null,el=null,Ox=!1,tl=null,Mx=0,ef=0,Xb=null,Rx=-1,Dx=0;function Wr(){return(ln&6)!==0?Wn():Rx!==-1?Rx:Rx=Wn()}function nl(c){return(c.mode&1)===0?1:(ln&2)!==0&&Or!==0?Or&-Or:qQ.transition!==null?(Dx===0&&(Dx=md()),Dx):(c=Nn,c!==0||(c=window.event,c=c===void 0?16:L_(c.type)),c)}function As(c,m,x,A){if(50<ef)throw ef=0,Xb=null,Error(r(185));Hl(c,x,A),((ln&2)===0||c!==Nr)&&(c===Nr&&((ln&2)===0&&(_x|=x),hr===4&&rl(c,Or)),xa(c,A),x===1&&ln===0&&(m.mode&1)===0&&(Md=Wn()+500,cx&&Yo()))}function xa(c,m){var x=c.callbackNode;O0(c,m);var A=ud(c,c===Nr?Or:0);if(A===0)x!==null&&Lo(x),c.callbackNode=null,c.callbackPriority=0;else if(m=A&-A,c.callbackPriority!==m){if(x!=null&&Lo(x),m===1)c.tag===0?zQ(LT.bind(null,c)):C4(LT.bind(null,c)),IQ(function(){(ln&6)===0&&Yo()}),x=null;else{switch(T_(A)){case 1:x=wm;break;case 4:x=qp;break;case 16:x=ld;break;case 536870912:x=Vp;break;default:x=ld}x=WT(x,FT.bind(null,c))}c.callbackPriority=m,c.callbackNode=x}}function FT(c,m){if(Rx=-1,Dx=0,(ln&6)!==0)throw Error(r(327));var x=c.callbackNode;if(Rd()&&c.callbackNode!==x)return null;var A=ud(c,c===Nr?Or:0);if(A===0)return null;if((A&30)!==0||(A&c.expiredLanes)!==0||m)m=Ix(c,A);else{m=A;var _=ln;ln|=2;var $=qT();(Nr!==c||Or!==m)&&(Wi=null,Md=Wn()+500,ec(c,m));do try{oY();break}catch(ie){zT(c,ie)}while(!0);pb(),kx.current=$,ln=_,or!==null?m=0:(Nr=null,Or=0,m=hr)}if(m!==0){if(m===2&&(_=Nm(c),_!==0&&(A=_,m=Zb(c,_))),m===1)throw x=Zm,ec(c,0),rl(c,A),xa(c,Wn()),x;if(m===6)rl(c,A);else{if(_=c.current.alternate,(A&30)===0&&!sY(_)&&(m=Ix(c,A),m===2&&($=Nm(c),$!==0&&(A=$,m=Zb(c,$))),m===1))throw x=Zm,ec(c,0),rl(c,A),xa(c,Wn()),x;switch(c.finishedWork=_,c.finishedLanes=A,m){case 0:case 1:throw Error(r(345));case 2:tc(c,pa,Wi);break;case 3:if(rl(c,A),(A&130023424)===A&&(m=Qb+500-Wn(),10<m)){if(ud(c,0)!==0)break;if(_=c.suspendedLanes,(_&A)!==A){Wr(),c.pingedLanes|=c.suspendedLanes&_;break}c.timeoutHandle=ab(tc.bind(null,c,pa,Wi),m);break}tc(c,pa,Wi);break;case 4:if(rl(c,A),(A&4194240)===A)break;for(m=c.eventTimes,_=-1;0<A;){var X=31-Sa(A);$=1<<X,X=m[X],X>_&&(_=X),A&=~$}if(A=_,A=Wn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*aY(A/1960))-A,10<A){c.timeoutHandle=ab(tc.bind(null,c,pa,Wi),A);break}tc(c,pa,Wi);break;case 5:tc(c,pa,Wi);break;default:throw Error(r(329))}}}return xa(c,Wn()),c.callbackNode===x?FT.bind(null,c):null}function Zb(c,m){var x=Jm;return c.current.memoizedState.isDehydrated&&(ec(c,m).flags|=256),c=Ix(c,m),c!==2&&(m=pa,pa=x,m!==null&&Jb(m)),c}function Jb(c){pa===null?pa=c:pa.push.apply(pa,c)}function sY(c){for(var m=c;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var A=0;A<x.length;A++){var _=x[A],$=_.getSnapshot;_=_.value;try{if(!Ns($(),_))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function rl(c,m){for(m&=~Gb,m&=~_x,c.suspendedLanes|=m,c.pingedLanes&=~m,c=c.expirationTimes;0<m;){var x=31-Sa(m),A=1<<x;c[x]=-1,m&=~A}}function LT(c){if((ln&6)!==0)throw Error(r(327));Rd();var m=ud(c,0);if((m&1)===0)return xa(c,Wn()),null;var x=Ix(c,m);if(c.tag!==0&&x===2){var A=Nm(c);A!==0&&(m=A,x=Zb(c,A))}if(x===1)throw x=Zm,ec(c,0),rl(c,m),xa(c,Wn()),x;if(x===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=m,tc(c,pa,Wi),xa(c,Wn()),null}function e1(c,m){var x=ln;ln|=1;try{return c(m)}finally{ln=x,ln===0&&(Md=Wn()+500,cx&&Yo())}}function Jl(c){tl!==null&&tl.tag===0&&(ln&6)===0&&Rd();var m=ln;ln|=1;var x=Ya.transition,A=Nn;try{if(Ya.transition=null,Nn=1,c)return c()}finally{Nn=A,Ya.transition=x,ln=m,(ln&6)===0&&Yo()}}function t1(){ka=Od.current,Ln(Od)}function ec(c,m){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,DQ(x)),or!==null)for(x=or.return;x!==null;){var A=x;switch(db(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&ox();break;case 3:kd(),Ln(ma),Ln(Fr),Nb();break;case 5:bb(A);break;case 4:kd();break;case 13:Ln(Gn);break;case 19:Ln(Gn);break;case 10:xb(A.type._context);break;case 22:case 23:t1()}x=x.return}if(Nr=c,or=c=al(c.current,null),Or=ka=m,hr=0,Zm=null,Gb=_x=Zl=0,pa=Jm=null,Ql!==null){for(m=0;m<Ql.length;m++)if(x=Ql[m],A=x.interleaved,A!==null){x.interleaved=null;var _=A.next,$=x.pending;if($!==null){var X=$.next;$.next=_,A.next=X}x.pending=A}Ql=null}return c}function zT(c,m){do{var x=or;try{if(pb(),yx.current=Nx,jx){for(var A=Qn.memoizedState;A!==null;){var _=A.queue;_!==null&&(_.pending=null),A=A.next}jx=!1}if(Xl=0,wr=fr=Qn=null,Km=!1,Wm=0,Wb.current=null,x===null||x.return===null){hr=1,Zm=m,or=null;break}e:{var $=c,X=x.return,ie=x,ce=m;if(m=Or,ie.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var we=ce,qe=ie,Be=qe.tag;if((qe.mode&1)===0&&(Be===0||Be===11||Be===15)){var ze=qe.alternate;ze?(qe.updateQueue=ze.updateQueue,qe.memoizedState=ze.memoizedState,qe.lanes=ze.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var ht=uT(X);if(ht!==null){ht.flags&=-257,mT(ht,X,ie,$,m),ht.mode&1&&dT($,we,m),m=ht,ce=we;var jt=m.updateQueue;if(jt===null){var Ct=new Set;Ct.add(ce),m.updateQueue=Ct}else jt.add(ce);break e}else{if((m&1)===0){dT($,we,m),n1();break e}ce=Error(r(426))}}else if(Vn&&ie.mode&1){var tr=uT(X);if(tr!==null){(tr.flags&65536)===0&&(tr.flags|=256),mT(tr,X,ie,$,m),fb(_d(ce,ie));break e}}$=ce=_d(ce,ie),hr!==4&&(hr=2),Jm===null?Jm=[$]:Jm.push($),$=X;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var ve=lT($,ce,m);D4($,ve);break e;case 1:ie=ce;var fe=$.type,je=$.stateNode;if(($.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(el===null||!el.has(je)))){$.flags|=65536,m&=-m,$.lanes|=m;var Je=cT($,ie,m);D4($,Je);break e}}$=$.return}while($!==null)}BT(x)}catch(Pt){m=Pt,or===x&&x!==null&&(or=x=x.return);continue}break}while(!0)}function qT(){var c=kx.current;return kx.current=Nx,c===null?Nx:c}function n1(){(hr===0||hr===3||hr===2)&&(hr=4),Nr===null||(Zl&268435455)===0&&(_x&268435455)===0||rl(Nr,Or)}function Ix(c,m){var x=ln;ln|=2;var A=qT();(Nr!==c||Or!==m)&&(Wi=null,ec(c,m));do try{iY();break}catch(_){zT(c,_)}while(!0);if(pb(),ln=x,kx.current=A,or!==null)throw Error(r(261));return Nr=null,Or=0,hr}function iY(){for(;or!==null;)VT(or)}function oY(){for(;or!==null&&!bm();)VT(or)}function VT(c){var m=KT(c.alternate,c,ka);c.memoizedProps=c.pendingProps,m===null?BT(c):or=m,Wb.current=null}function BT(c){var m=c;do{var x=m.alternate;if(c=m.return,(m.flags&32768)===0){if(x=JQ(x,m,ka),x!==null){or=x;return}}else{if(x=eY(x,m),x!==null){x.flags&=32767,or=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{hr=6,or=null;return}}if(m=m.sibling,m!==null){or=m;return}or=m=c}while(m!==null);hr===0&&(hr=5)}function tc(c,m,x){var A=Nn,_=Ya.transition;try{Ya.transition=null,Nn=1,lY(c,m,x,A)}finally{Ya.transition=_,Nn=A}return null}function lY(c,m,x,A){do Rd();while(tl!==null);if((ln&6)!==0)throw Error(r(327));x=c.finishedWork;var _=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var $=x.lanes|x.childLanes;if(Hp(c,$),c===Nr&&(or=Nr=null,Or=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Ox||(Ox=!0,WT(ld,function(){return Rd(),null})),$=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||$){$=Ya.transition,Ya.transition=null;var X=Nn;Nn=1;var ie=ln;ln|=4,Wb.current=null,nY(c,x),MT(x,c),AQ(nb),Wp=!!tb,nb=tb=null,c.current=x,rY(x),zp(),ln=ie,Nn=X,Ya.transition=$}else c.current=x;if(Ox&&(Ox=!1,tl=c,Mx=_),$=c.pendingLanes,$===0&&(el=null),A0(x.stateNode),xa(c,Wn()),m!==null)for(A=c.onRecoverableError,x=0;x<m.length;x++)_=m[x],A(_.value,{componentStack:_.stack,digest:_.digest});if(Tx)throw Tx=!1,c=Yb,Yb=null,c;return(Mx&1)!==0&&c.tag!==0&&Rd(),$=c.pendingLanes,($&1)!==0?c===Xb?ef++:(ef=0,Xb=c):ef=0,Yo(),null}function Rd(){if(tl!==null){var c=T_(Mx),m=Ya.transition,x=Nn;try{if(Ya.transition=null,Nn=16>c?16:c,tl===null)var A=!1;else{if(c=tl,tl=null,Mx=0,(ln&6)!==0)throw Error(r(331));var _=ln;for(ln|=4,gt=c.current;gt!==null;){var $=gt,X=$.child;if((gt.flags&16)!==0){var ie=$.deletions;if(ie!==null){for(var ce=0;ce<ie.length;ce++){var we=ie[ce];for(gt=we;gt!==null;){var qe=gt;switch(qe.tag){case 0:case 11:case 15:Xm(8,qe,$)}var Be=qe.child;if(Be!==null)Be.return=qe,gt=Be;else for(;gt!==null;){qe=gt;var ze=qe.sibling,ht=qe.return;if(AT(qe),qe===we){gt=null;break}if(ze!==null){ze.return=ht,gt=ze;break}gt=ht}}}var jt=$.alternate;if(jt!==null){var Ct=jt.child;if(Ct!==null){jt.child=null;do{var tr=Ct.sibling;Ct.sibling=null,Ct=tr}while(Ct!==null)}}gt=$}}if(($.subtreeFlags&2064)!==0&&X!==null)X.return=$,gt=X;else e:for(;gt!==null;){if($=gt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Xm(9,$,$.return)}var ve=$.sibling;if(ve!==null){ve.return=$.return,gt=ve;break e}gt=$.return}}var fe=c.current;for(gt=fe;gt!==null;){X=gt;var je=X.child;if((X.subtreeFlags&2064)!==0&&je!==null)je.return=X,gt=je;else e:for(X=fe;gt!==null;){if(ie=gt,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Ax(9,ie)}}catch(Pt){Xn(ie,ie.return,Pt)}if(ie===X){gt=null;break e}var Je=ie.sibling;if(Je!==null){Je.return=ie.return,gt=Je;break e}gt=ie.return}}if(ln=_,Yo(),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(Bl,c)}catch{}A=!0}return A}finally{Nn=x,Ya.transition=m}}return!1}function HT(c,m,x){m=_d(x,m),m=lT(c,m,1),c=Zo(c,m,1),m=Wr(),c!==null&&(Hl(c,1,m),xa(c,m))}function Xn(c,m,x){if(c.tag===3)HT(c,c,x);else for(;m!==null;){if(m.tag===3){HT(m,c,x);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(el===null||!el.has(A))){c=_d(x,c),c=cT(m,c,1),m=Zo(m,c,1),c=Wr(),m!==null&&(Hl(m,1,c),xa(m,c));break}}m=m.return}}function cY(c,m,x){var A=c.pingCache;A!==null&&A.delete(m),m=Wr(),c.pingedLanes|=c.suspendedLanes&x,Nr===c&&(Or&x)===x&&(hr===4||hr===3&&(Or&130023424)===Or&&500>Wn()-Qb?ec(c,0):Gb|=x),xa(c,m)}function UT(c,m){m===0&&((c.mode&1)===0?m=1:(m=dd,dd<<=1,(dd&130023424)===0&&(dd=4194304)));var x=Wr();c=Hi(c,m),c!==null&&(Hl(c,m,x),xa(c,x))}function dY(c){var m=c.memoizedState,x=0;m!==null&&(x=m.retryLane),UT(c,x)}function uY(c,m){var x=0;switch(c.tag){case 13:var A=c.stateNode,_=c.memoizedState;_!==null&&(x=_.retryLane);break;case 19:A=c.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(m),UT(c,x)}var KT;KT=function(c,m,x){if(c!==null)if(c.memoizedProps!==m.pendingProps||ma.current)ha=!0;else{if((c.lanes&x)===0&&(m.flags&128)===0)return ha=!1,ZQ(c,m,x);ha=(c.flags&131072)!==0}else ha=!1,Vn&&(m.flags&1048576)!==0&&S4(m,ux,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;Px(c,m),c=m.pendingProps;var _=wd(m,Fr.current);Ad(m,x),_=Pb(null,m,A,c,_,x);var $=Eb();return m.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,fa(A)?($=!0,lx(m)):$=!1,m.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,yb(m),_.updater=Cx,m.stateNode=_,_._reactInternals=m,Mb(m,A,c,x),m=$b(null,m,A,!0,$,x)):(m.tag=0,Vn&&$&&cb(m),Kr(null,m,_,x),m=m.child),m;case 16:A=m.elementType;e:{switch(Px(c,m),c=m.pendingProps,_=A._init,A=_(A._payload),m.type=A,_=m.tag=fY(A),c=Ss(A,c),_){case 0:m=Ib(null,m,A,c,x);break e;case 1:m=vT(null,m,A,c,x);break e;case 11:m=fT(null,m,A,c,x);break e;case 14:m=hT(null,m,A,Ss(A.type,c),x);break e}throw Error(r(306,A,""))}return m;case 0:return A=m.type,_=m.pendingProps,_=m.elementType===A?_:Ss(A,_),Ib(c,m,A,_,x);case 1:return A=m.type,_=m.pendingProps,_=m.elementType===A?_:Ss(A,_),vT(c,m,A,_,x);case 3:e:{if(yT(m),c===null)throw Error(r(387));A=m.pendingProps,$=m.memoizedState,_=$.element,R4(c,m),gx(m,A,null,x);var X=m.memoizedState;if(A=X.element,$.isDehydrated)if($={element:A,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){_=_d(Error(r(423)),m),m=jT(c,m,A,x,_);break e}else if(A!==_){_=_d(Error(r(424)),m),m=jT(c,m,A,x,_);break e}else for(Aa=Wo(m.stateNode.containerInfo.firstChild),Ea=m,Vn=!0,Cs=null,x=O4(m,null,A,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Sd(),A===_){m=Ki(c,m,x);break e}Kr(c,m,A,x)}m=m.child}return m;case 5:return $4(m),c===null&&mb(m),A=m.type,_=m.pendingProps,$=c!==null?c.memoizedProps:null,X=_.children,rb(A,_)?X=null:$!==null&&rb(A,$)&&(m.flags|=32),gT(c,m),Kr(c,m,X,x),m.child;case 6:return c===null&&mb(m),null;case 13:return bT(c,m,x);case 4:return jb(m,m.stateNode.containerInfo),A=m.pendingProps,c===null?m.child=Pd(m,null,A,x):Kr(c,m,A,x),m.child;case 11:return A=m.type,_=m.pendingProps,_=m.elementType===A?_:Ss(A,_),fT(c,m,A,_,x);case 7:return Kr(c,m,m.pendingProps,x),m.child;case 8:return Kr(c,m,m.pendingProps.children,x),m.child;case 12:return Kr(c,m,m.pendingProps.children,x),m.child;case 10:e:{if(A=m.type._context,_=m.pendingProps,$=m.memoizedProps,X=_.value,Tn(hx,A._currentValue),A._currentValue=X,$!==null)if(Ns($.value,X)){if($.children===_.children&&!ma.current){m=Ki(c,m,x);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var ie=$.dependencies;if(ie!==null){X=$.child;for(var ce=ie.firstContext;ce!==null;){if(ce.context===A){if($.tag===1){ce=Ui(-1,x&-x),ce.tag=2;var we=$.updateQueue;if(we!==null){we=we.shared;var qe=we.pending;qe===null?ce.next=ce:(ce.next=qe.next,qe.next=ce),we.pending=ce}}$.lanes|=x,ce=$.alternate,ce!==null&&(ce.lanes|=x),gb($.return,x,m),ie.lanes|=x;break}ce=ce.next}}else if($.tag===10)X=$.type===m.type?null:$.child;else if($.tag===18){if(X=$.return,X===null)throw Error(r(341));X.lanes|=x,ie=X.alternate,ie!==null&&(ie.lanes|=x),gb(X,x,m),X=$.sibling}else X=$.child;if(X!==null)X.return=$;else for(X=$;X!==null;){if(X===m){X=null;break}if($=X.sibling,$!==null){$.return=X.return,X=$;break}X=X.return}$=X}Kr(c,m,_.children,x),m=m.child}return m;case 9:return _=m.type,A=m.pendingProps.children,Ad(m,x),_=Ga(_),A=A(_),m.flags|=1,Kr(c,m,A,x),m.child;case 14:return A=m.type,_=Ss(A,m.pendingProps),_=Ss(A.type,_),hT(c,m,A,_,x);case 15:return pT(c,m,m.type,m.pendingProps,x);case 17:return A=m.type,_=m.pendingProps,_=m.elementType===A?_:Ss(A,_),Px(c,m),m.tag=1,fa(A)?(c=!0,lx(m)):c=!1,Ad(m,x),iT(m,A,_),Mb(m,A,_,x),$b(null,m,A,!0,c,x);case 19:return NT(c,m,x);case 22:return xT(c,m,x)}throw Error(r(156,m.tag))};function WT(c,m){return si(c,m)}function mY(c,m,x,A){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(c,m,x,A){return new mY(c,m,x,A)}function r1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function fY(c){if(typeof c=="function")return r1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===D)return 11;if(c===Q)return 14}return 2}function al(c,m){var x=c.alternate;return x===null?(x=Xa(c.tag,m,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=m,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,m=c.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function $x(c,m,x,A,_,$){var X=2;if(A=c,typeof c=="function")r1(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case k:return nc(x.children,_,$,m);case T:X=8,_|=8;break;case z:return c=Xa(12,x,m,_|2),c.elementType=z,c.lanes=$,c;case R:return c=Xa(13,x,m,_),c.elementType=R,c.lanes=$,c;case q:return c=Xa(19,x,m,_),c.elementType=q,c.lanes=$,c;case U:return Fx(x,_,$,m);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Y:X=10;break e;case F:X=9;break e;case D:X=11;break e;case Q:X=14;break e;case K:X=16,A=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return m=Xa(X,x,m,_),m.elementType=c,m.type=A,m.lanes=$,m}function nc(c,m,x,A){return c=Xa(7,c,A,m),c.lanes=x,c}function Fx(c,m,x,A){return c=Xa(22,c,A,m),c.elementType=U,c.lanes=x,c.stateNode={isHidden:!1},c}function a1(c,m,x){return c=Xa(6,c,null,m),c.lanes=x,c}function s1(c,m,x){return m=Xa(4,c.children!==null?c.children:[],c.key,m),m.lanes=x,m.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},m}function hY(c,m,x,A,_){this.tag=m,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=A,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function i1(c,m,x,A,_,$,X,ie,ce){return c=new hY(c,m,x,ie,ce),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Xa(3,null,null,m),c.current=$,$.stateNode=c,$.memoizedState={element:A,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},yb($),c}function pY(c,m,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:A==null?null:""+A,children:c,containerInfo:m,implementation:x}}function GT(c){if(!c)return Qo;c=c._reactInternals;e:{if(st(c)!==c||c.tag!==1)throw Error(r(170));var m=c;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(fa(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(c.tag===1){var x=c.type;if(fa(x))return w4(c,x,m)}return m}function QT(c,m,x,A,_,$,X,ie,ce){return c=i1(x,A,!0,c,_,$,X,ie,ce),c.context=GT(null),x=c.current,A=Wr(),_=nl(x),$=Ui(A,_),$.callback=m??null,Zo(x,$,_),c.current.lanes=_,Hl(c,_,A),xa(c,A),c}function Lx(c,m,x,A){var _=m.current,$=Wr(),X=nl(_);return x=GT(x),m.context===null?m.context=x:m.pendingContext=x,m=Ui($,X),m.payload={element:c},A=A===void 0?null:A,A!==null&&(m.callback=A),c=Zo(_,m,X),c!==null&&(As(c,_,X,$),xx(c,_,X)),X}function zx(c){return c=c.current,c.child?(c.child.tag===5,c.child.stateNode):null}function YT(c,m){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<m?x:m}}function o1(c,m){YT(c,m),(c=c.alternate)&&YT(c,m)}function xY(){return null}var XT=typeof reportError=="function"?reportError:function(c){console.error(c)};function l1(c){this._internalRoot=c}qx.prototype.render=l1.prototype.render=function(c){var m=this._internalRoot;if(m===null)throw Error(r(409));Lx(c,m,null,null)},qx.prototype.unmount=l1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var m=c.containerInfo;Jl(function(){Lx(null,c,null,null)}),m[zi]=null}};function qx(c){this._internalRoot=c}qx.prototype.unstable_scheduleHydration=function(c){if(c){var m=R_();c={blockedOn:null,target:c,priority:m};for(var x=0;x<Ho.length&&m!==0&&m<Ho[x].priority;x++);Ho.splice(x,0,c),x===0&&$_(c)}};function c1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Vx(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function gY(c,m,x,A,_){if(_){if(typeof A=="function"){var $=A;A=function(){var we=zx(X);$.call(we)}}var X=QT(m,A,c,0,null,!1,!1,"",ZT);return c._reactRootContainer=X,c[zi]=X.current,Fm(c.nodeType===8?c.parentNode:c),Jl(),X}for(;_=c.lastChild;)c.removeChild(_);if(typeof A=="function"){var ie=A;A=function(){var we=zx(ce);ie.call(we)}}var ce=i1(c,0,!1,null,null,!1,!1,"",ZT);return c._reactRootContainer=ce,c[zi]=ce.current,Fm(c.nodeType===8?c.parentNode:c),Jl(function(){Lx(m,ce,x,A)}),ce}function Bx(c,m,x,A,_){var $=x._reactRootContainer;if($){var X=$;if(typeof _=="function"){var ie=_;_=function(){var ce=zx(X);ie.call(ce)}}Lx(m,X,c,_)}else X=gY(x,m,c,_,A);return zx(X)}O_=function(c){switch(c.tag){case 3:var m=c.stateNode;if(m.current.memoizedState.isDehydrated){var x=zo(m.pendingLanes);x!==0&&(M0(m,x|1),xa(m,Wn()),(ln&6)===0&&(Md=Wn()+500,Yo()))}break;case 13:Jl(function(){var A=Hi(c,1);if(A!==null){var _=Wr();As(A,c,1,_)}}),o1(c,1)}},R0=function(c){if(c.tag===13){var m=Hi(c,134217728);if(m!==null){var x=Wr();As(m,c,134217728,x)}o1(c,134217728)}},M_=function(c){if(c.tag===13){var m=nl(c),x=Hi(c,m);if(x!==null){var A=Wr();As(x,c,m,A)}o1(c,m)}},R_=function(){return Nn},D_=function(c,m){var x=Nn;try{return Nn=c,m()}finally{Nn=x}},zl=function(c,m,x){switch(m){case"input":if(_t(c,x),m=x.name,x.type==="radio"&&m!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var A=x[m];if(A!==c&&A.form===c.form){var _=ix(A);if(!_)throw Error(r(90));W(A),_t(A,_)}}}break;case"textarea":ke(c,x);break;case"select":m=x.value,m!=null&&gn(c,!!x.multiple,m,!1)}},Di=e1,od=Jl;var vY={usingClientEntryPoint:!1,Events:[qm,jd,ix,sd,id,e1]},tf={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yY={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=on(c),c===null?null:c.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||xY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hx.isDisabled&&Hx.supportsFiber)try{Bl=Hx.inject(yY),Ua=Hx}catch{}}return ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vY,ga.createPortal=function(c,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c1(m))throw Error(r(200));return pY(c,m,null,x)},ga.createRoot=function(c,m){if(!c1(c))throw Error(r(299));var x=!1,A="",_=XT;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(_=m.onRecoverableError)),m=i1(c,1,!1,null,null,x,!1,A,_),c[zi]=m.current,Fm(c.nodeType===8?c.parentNode:c),new l1(m)},ga.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var m=c._reactInternals;if(m===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=on(m),c=c===null?null:c.stateNode,c},ga.flushSync=function(c){return Jl(c)},ga.hydrate=function(c,m,x){if(!Vx(m))throw Error(r(200));return Bx(null,c,m,!0,x)},ga.hydrateRoot=function(c,m,x){if(!c1(c))throw Error(r(405));var A=x!=null&&x.hydratedSources||null,_=!1,$="",X=XT;if(x!=null&&(x.unstable_strictMode===!0&&(_=!0),x.identifierPrefix!==void 0&&($=x.identifierPrefix),x.onRecoverableError!==void 0&&(X=x.onRecoverableError)),m=QT(m,null,c,1,x??null,_,!1,$,X),c[zi]=m.current,Fm(c),A)for(c=0;c<A.length;c++)x=A[c],_=x._getVersion,_=_(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,_]:m.mutableSourceEagerHydrationData.push(x,_);return new qx(m)},ga.render=function(c,m,x){if(!Vx(m))throw Error(r(200));return Bx(null,c,m,!1,x)},ga.unmountComponentAtNode=function(c){if(!Vx(c))throw Error(r(40));return c._reactRootContainer?(Jl(function(){Bx(null,null,c,!1,function(){c._reactRootContainer=null,c[zi]=null})}),!0):!1},ga.unstable_batchedUpdates=e1,ga.unstable_renderSubtreeIntoContainer=function(c,m,x,A){if(!Vx(x))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Bx(c,m,x,!1,A)},ga.version="18.3.1-next-f1338f8080-20240426",ga}var iO;function aL(){if(iO)return m1.exports;iO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),m1.exports=EY(),m1.exports}var oO;function AY(){if(oO)return Kx;oO=1;var e=aL();return Kx.createRoot=e.createRoot,Kx.hydrateRoot=e.hydrateRoot,Kx}var kY=AY();function _Y(e,n){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,i,o=[],l="",d=e.split("/");for(d[0]||d.shift();s=d.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~a?a:~i?i:s.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(n?"(?=$|/)":"/?$"),"i")}}var w=ep();const se=wn(w),sL=bY({__proto__:null,default:se},[w]);var p1={exports:{}},x1={};var lO;function TY(){if(lO)return x1;lO=1;var e=ep();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,p){var v=p(),N=a({inst:{value:v,getSnapshot:p}}),j=N[0].inst,g=N[1];return i(function(){j.value=v,j.getSnapshot=p,d(j)&&g({inst:j})},[h,v,p]),s(function(){return d(j)&&g({inst:j}),h(function(){d(j)&&g({inst:j})})},[h]),o(v),v}function d(h){var p=h.getSnapshot;h=h.value;try{var v=p();return!r(h,v)}catch{return!0}}function u(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return x1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,x1}var cO;function iL(){return cO||(cO=1,p1.exports=TY()),p1.exports}var OY=iL();const MY=sL.useInsertionEffect,RY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DY=RY?w.useLayoutEffect:w.useEffect,IY=MY||DY,oL=e=>{const n=w.useRef([e,(...r)=>n[0](...r)]).current;return IY(()=>{n[0]=e}),n[1]},$Y="popstate",FE="pushState",LE="replaceState",FY="hashchange",dO=[$Y,FE,LE,FY],LY=e=>{for(const n of dO)addEventListener(n,e);return()=>{for(const n of dO)removeEventListener(n,e)}},lL=(e,n)=>OY.useSyncExternalStore(LY,e,n),zY=()=>location.search,qY=({ssrSearch:e=""}={})=>lL(zY,()=>e),uO=()=>location.pathname,VY=({ssrPath:e}={})=>lL(uO,e?()=>e:uO),BY=(e,{replace:n=!1,state:r=null}={})=>history[n?LE:FE](r,"",e),HY=(e={})=>[VY(e),BY],mO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mO]>"u"){for(const e of[FE,LE]){const n=history[e];history[e]=function(){const r=n.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,mO,{value:!0})}const UY=(e,n)=>n.toLowerCase().indexOf(e.toLowerCase())?"~"+n:n.slice(e.length)||"/",cL=(e="")=>e==="/"?"":e,KY=(e,n)=>e[0]==="~"?e.slice(1):cL(n)+e,WY=(e="",n)=>UY(fS(cL(e)),fS(n)),GY=e=>e[0]==="?"?e.slice(1):e,fS=e=>{try{return decodeURI(e)}catch{return e}},QY=e=>fS(GY(e)),dL={hook:HY,searchHook:qY,parser:_Y,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},uL=w.createContext(dL),tm=()=>w.useContext(uL),mL={},fL=w.createContext(mL),YY=()=>w.useContext(fL),Iy=e=>{const[n,r]=e.hook(e);return[WY(e.base,n),oL((a,s)=>r(KY(a,e.base),s))]},wa=()=>Iy(tm()),hL=()=>{const e=tm();return QY(e.searchHook(e))},pL=(e,n,r,a)=>{const{pattern:s,keys:i}=n instanceof RegExp?{keys:!1,pattern:n}:e(n||"*",a),o=s.exec(r)||[],[l,...d]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,d[p]])):o.groups;let f={...d};return u&&Object.assign(f,u),f})(),...a?[l]:[]]:[!1,null]},XY=({children:e,...n})=>{const r=tm(),a=n.hook?dL:r;let s=a;const[i,o]=n.ssrPath?.split("?")??[];o&&(n.ssrSearch=o,n.ssrPath=i),n.hrefs=n.hrefs??n.hook?.hrefs;let l=w.useRef({}),d=l.current,u=d;for(let f in a){const h=f==="base"?a[f]+(n[f]||""):n[f]||a[f];d===u&&h!==u[f]&&(l.current=u={...u}),u[f]=h,h!==a[f]&&(s=u)}return w.createElement(uL.Provider,{value:s,children:e})},fO=({children:e,component:n},r)=>n?w.createElement(n,{params:r}):typeof e=="function"?e(r):e,ZY=e=>{let n=w.useRef(mL),r=n.current;for(const a in e)e[a]!==r[a]&&(r=e);return Object.keys(e).length===0&&(r=e),n.current=r},mt=({path:e,nest:n,match:r,...a})=>{const s=tm(),[i]=Iy(s),[o,l,d]=r??pL(s.parser,e,i,n),u=ZY({...YY(),...l});if(!o)return null;const f=d?w.createElement(XY,{base:d},fO(a,u)):fO(a,u);return w.createElement(fL.Provider,{value:u,children:f})},it=w.forwardRef((e,n)=>{const r=tm(),[a,s]=Iy(r),{to:i="",href:o=i,onClick:l,asChild:d,children:u,className:f,replace:h,state:p,...v}=e,N=oL(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l?.(g),g.defaultPrevented||(g.preventDefault(),s(o,e)))}),j=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return d&&w.isValidElement(u)?w.cloneElement(u,{onClick:N,href:j}):w.createElement("a",{...v,onClick:N,href:j,className:f?.call?f(a===o):f,children:u,ref:n})}),xL=e=>Array.isArray(e)?e.flatMap(n=>xL(n&&n.type===w.Fragment?n.props.children:n)):[e],JY=({children:e,location:n})=>{const r=tm(),[a]=Iy(r);for(const s of xL(e)){let i=0;if(w.isValidElement(s)&&(i=pL(r.parser,s.props.path,n||a,s.props.nest))[0])return w.cloneElement(s,{match:i})}return null};var nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wc=typeof window>"u"||"Deno"in globalThis;function ts(){}function eX(e,n){return typeof e=="function"?e(n):e}function hS(e){return typeof e=="number"&&e>=0&&e!==1/0}function gL(e,n){return Math.max(e+(n||0)-Date.now(),0)}function tu(e,n){return typeof e=="function"?e(n):e}function Rs(e,n){return typeof e=="function"?e(n):e}function hO(e,n){const{type:r="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(n.queryHash!==zE(o,n.options))return!1}else if(!Vf(n.queryKey,o))return!1}if(r!=="all"){const d=n.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||s&&s!==n.state.fetchStatus||i&&!i(n))}function pO(e,n){const{exact:r,status:a,predicate:s,mutationKey:i}=e;if(i){if(!n.options.mutationKey)return!1;if(r){if(Nc(n.options.mutationKey)!==Nc(i))return!1}else if(!Vf(n.options.mutationKey,i))return!1}return!(a&&n.state.status!==a||s&&!s(n))}function zE(e,n){return(n?.queryKeyHashFn||Nc)(e)}function Nc(e){return JSON.stringify(e,(n,r)=>pS(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Vf(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(r=>!Vf(e[r],n[r])):!1}function vL(e,n){if(e===n)return e;const r=xO(e)&&xO(n);if(r||pS(e)&&pS(n)){const a=r?e:Object.keys(e),s=a.length,i=r?n:Object.keys(n),o=i.length,l=r?[]:{};let d=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&a.includes(f)||r)&&e[f]===void 0&&n[f]===void 0?(l[f]=void 0,d++):(l[f]=vL(e[f],n[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return s===o&&d===s?e:l}return n}function Yg(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function xO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pS(e){if(!gO(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!gO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gO(e){return Object.prototype.toString.call(e)==="[object Object]"}function tX(e){return new Promise(n=>{setTimeout(n,e)})}function xS(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?vL(e,n):n}function nX(e,n,r=0){const a=[...e,n];return r&&a.length>r?a.slice(1):a}function rX(e,n,r=0){const a=[n,...e];return r&&a.length>r?a.slice(0,-1):a}var qE=Symbol();function yL(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===qE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var aX=class extends nm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!wc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},VE=new aX,sX=class extends nm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!wc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Xg=new sX;function gS(){let e,n;const r=new Promise((s,i)=>{e=s,n=i});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),n(s)},r}function iX(e){return Math.min(1e3*2**e,3e4)}function jL(e){return(e??"online")==="online"?Xg.isOnline():!0}var bL=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function g1(e){return e instanceof bL}function wL(e){let n=!1,r=0,a=!1,s;const i=gS(),o=j=>{a||(p(new bL(j)),e.abort?.())},l=()=>{n=!0},d=()=>{n=!1},u=()=>VE.isFocused()&&(e.networkMode==="always"||Xg.isOnline())&&e.canRun(),f=()=>jL(e.networkMode)&&e.canRun(),h=j=>{a||(a=!0,e.onSuccess?.(j),s?.(),i.resolve(j))},p=j=>{a||(a=!0,e.onError?.(j),s?.(),i.reject(j))},v=()=>new Promise(j=>{s=g=>{(a||u())&&j(g)},e.onPause?.()}).then(()=>{s=void 0,a||e.onContinue?.()}),N=()=>{if(a)return;let j;const g=r===0?e.initialPromise:void 0;try{j=g??e.fn()}catch(P){j=Promise.reject(P)}Promise.resolve(j).then(h).catch(P=>{if(a)return;const C=e.retry??(wc?0:3),b=e.retryDelay??iX,y=typeof b=="function"?b(r,P):b,E=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,P);if(n||!E){p(P);return}r++,e.onFail?.(r,P),tX(y).then(()=>u()?void 0:v()).then(()=>{n?p(P):N()})})};return{promise:i,cancel:o,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:d,canStart:f,start:()=>(f()?N():v().then(N),i)}}function oX(){let e=[],n=0,r=l=>{l()},a=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{n?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{a(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;n++;try{d=l()}finally{n--,n||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var gr=oX(),NL=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},lX=class extends NL{#e;#t;#r;#n;#i;#s;constructor(e){super(),this.#s=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=cX(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,n){const r=xS(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#n?.promise;return this.#n?.cancel(e),n?n.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Rs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!gL(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,a=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const l=yL(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return a(d),this.#s=!1,this.options.persister?this.options.persister(l,d,this):l(d)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#a({type:"fetch",meta:i.fetchOptions?.meta});const o=l=>{g1(l)&&l.silent||this.#a({type:"error",error:l}),g1(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=wL({initialPromise:n?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(d){o(d);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,d)=>{this.#a({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CL(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return g1(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function CL(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jL(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cX(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var dX=class extends nm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const a=n.queryKey,s=n.queryHash??zE(a,n);let i=this.get(s);return i||(i=new lX({cache:this,queryKey:a,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hO(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hO(e,r)):n}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uX=class extends NL{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||SL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=wL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,s)=>{this.#n({type:"failed",failureCount:a,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#r.canStart();try{if(!n){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:r})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#t.runNext(this)}}#n(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function SL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mX=class extends nm{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,n,r){const a=new uX({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(n),state:r});return this.add(a),a}add(e){const n=Wx(e),r=this.#e.get(n)??[];r.push(e),this.#e.set(n,r),this.notify({type:"added",mutation:e})}remove(e){const n=Wx(e);if(this.#e.has(n)){const r=this.#e.get(n)?.filter(a=>a!==e);r&&(r.length===0?this.#e.delete(n):this.#e.set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){const n=this.#e.get(Wx(e))?.find(r=>r.state.status==="pending");return!n||n===e}runNext(e){return this.#e.get(Wx(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pO(n,r))}findAll(e={}){return this.getAll().filter(n=>pO(e,n))}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ts))))}};function Wx(e){return e.options.scope?.id??String(e.mutationId)}function vO(e){return{onFetch:(n,r)=>{const a=n.options,s=n.fetchOptions?.meta?.fetchMore?.direction,i=n.state.data?.pages||[],o=n.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let f=!1;const h=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?f=!0:n.signal.addEventListener("abort",()=>{f=!0}),n.signal)})},p=yL(n.options,n.fetchOptions),v=async(N,j,g)=>{if(f)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const P={queryKey:n.queryKey,pageParam:j,direction:g?"backward":"forward",meta:n.options.meta};h(P);const C=await p(P),{maxPages:b}=n.options,y=g?rX:nX;return{pages:y(N.pages,C,b),pageParams:y(N.pageParams,j,b)}};if(s&&i.length){const N=s==="backward",j=N?fX:yO,g={pages:i,pageParams:o},P=j(a,g);l=await v(g,P,N)}else{const N=e??i.length;do{const j=d===0?o[0]??a.initialPageParam:yO(a,l);if(d>0&&j==null)break;l=await v(l,j),d++}while(d<N)}return l};n.options.persister?n.fetchFn=()=>n.options.persister?.(u,{queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=u}}}function yO(e,{pages:n,pageParams:r}){const a=n.length-1;return n.length>0?e.getNextPageParam(n[a],n,r[a],r):void 0}function fX(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var hX=class{#e;#t;#r;#n;#i;#s;#a;#o;constructor(e={}){this.#e=e.queryCache||new dX,this.#t=e.mutationCache||new mX,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=VE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Xg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.getQueryData(e.queryKey);if(n===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=this.#e.build(this,r);return e.revalidateIfStale&&a.isStaleByTime(tu(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(n)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const a=r.data;return[n,a]})}setQueryData(e,n,r){const a=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(a.queryHash)?.state.data,o=eX(n,i);if(o!==void 0)return this.#e.build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return gr.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;gr.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e,a={type:"active",...e};return gr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(a,n)))}cancelQueries(e={},n={}){const r={revert:!0,...n},a=gr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(ts).catch(ts)}invalidateQueries(e={},n={}){return gr.batch(()=>{if(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,n)})}refetchQueries(e={},n){const r={...n,cancelRefetch:n?.cancelRefetch??!0},a=gr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ts)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(ts)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(tu(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ts).catch(ts)}fetchInfiniteQuery(e){return e.behavior=vO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ts).catch(ts)}ensureInfiniteQueryData(e){return e.behavior=vO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,n){this.#n.set(Nc(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#n.values()];let r={};return n.forEach(a=>{Vf(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,n){this.#i.set(Nc(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#i.values()];let r={};return n.forEach(a=>{Vf(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=zE(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.enabled!==!0&&n.queryFn===qE&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},pX=class extends nm{constructor(e,n){super(),this.options=n,this.#e=e,this.#o=null,this.#a=gS(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#p;#m;#f;#c;#d;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),jO(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(e,n){const r=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!Yg(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&bO(this.#t,a,this.options,r)&&this.#u(),this.updateResult(n),s&&(this.#t!==a||Rs(this.options.enabled,this.#t)!==Rs(r.enabled,this.#t)||tu(this.options.staleTime,this.#t)!==tu(r.staleTime,this.#t))&&this.#x();const i=this.#g();s&&(this.#t!==a||Rs(this.options.enabled,this.#t)!==Rs(r.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return gX(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(e,n){const r={};return Object.keys(e).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n?.(a),e[a])})}),r}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#w();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(ts)),n}#x(){this.#j();const e=tu(this.options.staleTime,this.#t);if(wc||this.#n.isStale||!hS(e))return;const r=gL(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(wc||Rs(this.options.enabled,this.#t)===!1||!hS(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||VE.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#j(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,n){const r=this.#t,a=this.options,s=this.#n,i=this.#i,o=this.#s,d=e!==r?e.state:this.#r,{state:u}=e;let f={...u},h=!1,p;if(n._optimisticResults){const k=this.hasListeners(),T=!k&&jO(e,n),z=k&&bO(e,r,n,a);(T||z)&&(f={...f,...CL(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:N,status:j}=f;if(n.select&&f.data!==void 0)if(s&&f.data===i?.data&&n.select===this.#p)p=this.#m;else try{this.#p=n.select,p=n.select(f.data),p=xS(s?.data,p,n),this.#m=p,this.#o=null}catch(k){this.#o=k}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&j==="pending"){let k;if(s?.isPlaceholderData&&n.placeholderData===o?.placeholderData)k=s.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData(this.#f?.state.data,this.#f):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),this.#o=null}catch(T){this.#o=T}k!==void 0&&(j="success",p=xS(s?.data,k,n),h=!0)}this.#o&&(v=this.#o,p=this.#m,N=Date.now(),j="error");const g=f.fetchStatus==="fetching",P=j==="pending",C=j==="error",b=P&&g,y=p!==void 0,S={status:j,fetchStatus:f.fetchStatus,isPending:P,isSuccess:j==="success",isError:C,isInitialLoading:b,isLoading:b,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:N,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!P,isLoadingError:C&&!y,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&y,isStale:BE(e,n),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){const k=Y=>{S.status==="error"?Y.reject(S.error):S.data!==void 0&&Y.resolve(S.data)},T=()=>{const Y=this.#a=S.promise=gS();k(Y)},z=this.#a;switch(z.status){case"pending":e.queryHash===r.queryHash&&k(z);break;case"fulfilled":(S.status==="error"||S.data!==z.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==z.reason)&&T();break}}return S}updateResult(e){const n=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#f=this.#t),Yg(r,n))return;this.#n=r;const a={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#h.size)return!0;const l=new Set(o??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(d=>{const u=d;return this.#n[u]!==n[u]&&l.has(u)})};e?.listeners!==!1&&s()&&(a.listeners=!0),this.#N({...a,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){gr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xX(e,n){return Rs(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function jO(e,n){return xX(e,n)||e.state.data!==void 0&&vS(e,n,n.refetchOnMount)}function vS(e,n,r){if(Rs(n.enabled,e)!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&BE(e,n)}return!1}function bO(e,n,r,a){return(e!==n||Rs(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&BE(e,r)}function BE(e,n){return Rs(n.enabled,e)!==!1&&e.isStaleByTime(tu(n.staleTime,e))}function gX(e,n){return!Yg(e.getCurrentResult(),n)}var vX=class extends nm{#e;#t=void 0;#r;#n;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Yg(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Nc(r.mutationKey)!==Nc(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(n){this.#i(),this.#s(n)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(n,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(n)}#i(){const n=this.#r?.state??SL();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#s(n){gr.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context;n?.type==="success"?(this.#n.onSuccess?.(n.data,r,a),this.#n.onSettled?.(n.data,null,r,a)):n?.type==="error"&&(this.#n.onError?.(n.error,r,a),this.#n.onSettled?.(void 0,n.error,r,a))}this.listeners.forEach(r=>{r(this.#t)})})}},PL=w.createContext(void 0),EL=e=>{const n=w.useContext(PL);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},yX=({client:e,children:n})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(PL.Provider,{value:e,children:n})),AL=w.createContext(!1),jX=()=>w.useContext(AL);AL.Provider;function bX(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wX=w.createContext(bX()),NX=()=>w.useContext(wX);function kL(e,n){return typeof e=="function"?e(...n):!!e}function yS(){}var CX=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},SX=e=>{w.useEffect(()=>{e.clearReset()},[e])},PX=({result:e,errorResetBoundary:n,throwOnError:r,query:a})=>e.isError&&!n.isReset()&&!e.isFetching&&a&&kL(r,[e.error,a]),EX=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},AX=(e,n)=>e.isLoading&&e.isFetching&&!n,kX=(e,n)=>e?.suspense&&n.isPending,wO=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function _X(e,n,r){const a=EL(),s=jX(),i=NX(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",EX(o),CX(o,i),SX(i);const l=!a.getQueryCache().get(o.queryHash),[d]=w.useState(()=>new n(a,o)),u=d.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(f=>{const h=s?yS:d.subscribe(gr.batchCalls(f));return d.updateResult(),h},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),w.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),kX(o,u))throw wO(o,d,i);if(PX({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw u.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!wc&&AX(u,s)&&(l?wO(o,d,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(yS).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?u:d.trackResult(u)}function Ve(e,n){return _X(e,pX)}function Ae(e,n){const r=EL(),[a]=w.useState(()=>new vX(r,e));w.useEffect(()=>{a.setOptions(e)},[a,e]);const s=w.useSyncExternalStore(w.useCallback(o=>a.subscribe(gr.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=w.useCallback((o,l)=>{a.mutate(o,l).catch(yS)},[a]);if(s.error&&kL(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function _L(e){if(!e.ok){const n=await e.text()||e.statusText;throw new Error(`${e.status}: ${n}`)}}async function Ne(e,n,r){const a=await fetch(n,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await _L(a),a}const TL=({on401:e})=>async({queryKey:n})=>{const r=await fetch(n.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await _L(r),await r.json())},Ce=new hX({defaultOptions:{queries:{queryFn:TL({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),TX=1,OX=1e6;let v1=0;function MX(){return v1=(v1+1)%Number.MAX_SAFE_INTEGER,v1.toString()}const y1=new Map,NO=e=>{if(y1.has(e))return;const n=setTimeout(()=>{y1.delete(e),Of({type:"REMOVE_TOAST",toastId:e})},OX);y1.set(e,n)},RX=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,TX)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?NO(r):e.toasts.forEach(a=>{NO(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},kg=[];let _g={toasts:[]};function Of(e){_g=RX(_g,e),kg.forEach(n=>{n(_g)})}function DX({...e}){const n=MX(),r=s=>Of({type:"UPDATE_TOAST",toast:{...s,id:n}}),a=()=>Of({type:"DISMISS_TOAST",toastId:n});return Of({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:s=>{s||a()}}}),{id:n,dismiss:a,update:r}}function At(){const[e,n]=w.useState(_g);return w.useEffect(()=>(kg.push(n),()=>{const r=kg.indexOf(n);r>-1&&kg.splice(r,1)}),[e]),{...e,toast:DX,dismiss:r=>Of({type:"DISMISS_TOAST",toastId:r})}}var rm=aL();const IX=wn(rm);function He(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return n?.(s)}}function CO(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function ho(...e){return n=>{let r=!1;const a=e.map(s=>{const i=CO(s,n);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():CO(e[s],null)}}}}function qt(...e){return w.useCallback(ho(...e),e)}function $X(e,n){const r=w.createContext(n),a=i=>{const{children:o,...l}=i,d=w.useMemo(()=>l,Object.values(l));return t.jsx(r.Provider,{value:d,children:o})};a.displayName=e+"Provider";function s(i){const o=w.useContext(r);if(o)return o;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function sr(e,n=[]){let r=[];function a(i,o){const l=w.createContext(o),d=r.length;r=[...r,o];const u=h=>{const{scope:p,children:v,...N}=h,j=p?.[e]?.[d]||l,g=w.useMemo(()=>N,Object.values(N));return t.jsx(j.Provider,{value:g,children:v})};u.displayName=i+"Provider";function f(h,p){const v=p?.[e]?.[d]||l,N=w.useContext(v);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>w.createContext(o));return function(l){const d=l?.[e]||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[a,FX(s,...n)]}function FX(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:u})=>{const h=d(i)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${n.scopeName}`]:o}),[o])}};return r.scopeName=n.scopeName,r}function wl(e){const n=LX(e),r=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),d=l.find(zX);if(d){const u=d.props.children,f=l.map(h=>h===d?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return t.jsx(n,{...o,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return t.jsx(n,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var $y=wl("Slot");function LX(e){const n=w.forwardRef((r,a)=>{const{children:s,...i}=r;if(w.isValidElement(s)){const o=VX(s),l=qX(i,s.props);return s.type!==w.Fragment&&(l.ref=a?ho(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var OL=Symbol("radix.slottable");function ML(e){const n=({children:r})=>t.jsx(t.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=OL,n}function zX(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OL}function qX(e,n){const r={...n};for(const a in n){const s=e[a],i=n[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...l)=>{i(...l),s(...l)}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function VX(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tp(e){const n=e+"CollectionProvider",[r,a]=sr(n),[s,i]=r(n,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:g,children:P}=j,C=se.useRef(null),b=se.useRef(new Map).current;return t.jsx(s,{scope:g,itemMap:b,collectionRef:C,children:P})};o.displayName=n;const l=e+"CollectionSlot",d=wl(l),u=se.forwardRef((j,g)=>{const{scope:P,children:C}=j,b=i(l,P),y=qt(g,b.collectionRef);return t.jsx(d,{ref:y,children:C})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",p=wl(f),v=se.forwardRef((j,g)=>{const{scope:P,children:C,...b}=j,y=se.useRef(null),E=qt(g,y),S=i(f,P);return se.useEffect(()=>(S.itemMap.set(y,{ref:y,...b}),()=>{S.itemMap.delete(y)})),t.jsx(p,{[h]:"",ref:E,children:C})});v.displayName=f;function N(j){const g=i(e+"CollectionConsumer",j);return se.useCallback(()=>{const C=g.collectionRef.current;if(!C)return[];const b=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((S,k)=>b.indexOf(S.ref.current)-b.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},N,a]}var BX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ot=BX.reduce((e,n)=>{const r=wl(`Primitive.${n}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function HE(e,n){e&&rm.flushSync(()=>e.dispatchEvent(n))}function Bn(e){const n=w.useRef(e);return w.useEffect(()=>{n.current=e}),w.useMemo(()=>(...r)=>n.current?.(...r),[])}function HX(e,n=globalThis?.document){const r=Bn(e);w.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[r,n])}var UX="DismissableLayer",jS="dismissableLayer.update",KX="dismissableLayer.pointerDownOutside",WX="dismissableLayer.focusOutside",SO,RL=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=w.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=w.useContext(RL),[f,h]=w.useState(null),p=f?.ownerDocument??globalThis?.document,[,v]=w.useState({}),N=qt(n,k=>h(k)),j=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),P=j.indexOf(g),C=f?j.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,y=C>=P,E=QX(k=>{const T=k.target,z=[...u.branches].some(Y=>Y.contains(T));!y||z||(s?.(k),o?.(k),k.defaultPrevented||l?.())},p),S=YX(k=>{const T=k.target;[...u.branches].some(Y=>Y.contains(T))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},p);return HX(k=>{C===u.layers.size-1&&(a?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),w.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),PO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=SO)}},[f,p,r,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),PO())},[f,u]),w.useEffect(()=>{const k=()=>v({});return document.addEventListener(jS,k),()=>document.removeEventListener(jS,k)},[]),t.jsx(ot.div,{...d,ref:N,style:{pointerEvents:b?y?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,S.onFocusCapture),onBlurCapture:He(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,E.onPointerDownCapture)})});Wc.displayName=UX;var GX="DismissableLayerBranch",DL=w.forwardRef((e,n)=>{const r=w.useContext(RL),a=w.useRef(null),s=qt(n,a);return w.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),t.jsx(ot.div,{...e,ref:s})});DL.displayName=GX;function QX(e,n=globalThis?.document){const r=Bn(e),a=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){IL(KX,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=d,n.addEventListener("click",s.current,{once:!0})):d()}else n.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),n.removeEventListener("pointerdown",i),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function YX(e,n=globalThis?.document){const r=Bn(e),a=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!a.current&&IL(WX,r,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function PO(){const e=new CustomEvent(jS);document.dispatchEvent(e)}function IL(e,n,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),a?HE(s,i):s.dispatchEvent(i)}var XX=Wc,ZX=DL,ar=globalThis?.document?w.useLayoutEffect:()=>{},JX="Portal",am=w.forwardRef((e,n)=>{const{container:r,...a}=e,[s,i]=w.useState(!1);ar(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?IX.createPortal(t.jsx(ot.div,{...a,ref:n}),o):null});am.displayName=JX;function eZ(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var ur=e=>{const{present:n,children:r}=e,a=tZ(n),s=typeof r=="function"?r({present:a.isPresent}):w.Children.only(r),i=qt(a.ref,nZ(s));return typeof r=="function"||a.isPresent?w.cloneElement(s,{ref:i}):null};ur.displayName="Presence";function tZ(e){const[n,r]=w.useState(),a=w.useRef({}),s=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,d]=eZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Gx(a.current);i.current=l==="mounted"?u:"none"},[l]),ar(()=>{const u=a.current,f=s.current;if(f!==e){const p=i.current,v=Gx(u);e?d("MOUNT"):v==="none"||u?.display==="none"?d("UNMOUNT"):d(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),ar(()=>{if(n){let u;const f=n.ownerDocument.defaultView??window,h=v=>{const j=Gx(a.current).includes(v.animationName);if(v.target===n&&j&&(d("ANIMATION_END"),!s.current)){const g=n.style.animationFillMode;n.style.animationFillMode="forwards",u=f.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=g)})}},p=v=>{v.target===n&&(i.current=Gx(a.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",h),n.addEventListener("animationend",h),()=>{f.clearTimeout(u),n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",h),n.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(a.current=getComputedStyle(u)),r(u)},[])}}function Gx(e){return e?.animationName||"none"}function nZ(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function sa({prop:e,defaultProp:n,onChange:r=()=>{}}){const[a,s]=rZ({defaultProp:n,onChange:r}),i=e!==void 0,o=i?e:a,l=Bn(r),d=w.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[i,e,s,l]);return[o,d]}function rZ({defaultProp:e,onChange:n}){const r=w.useState(e),[a]=r,s=w.useRef(a),i=Bn(n);return w.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),r}var aZ="VisuallyHidden",np=w.forwardRef((e,n)=>t.jsx(ot.span,{...e,ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));np.displayName=aZ;var sZ=np,UE="ToastProvider",[KE,iZ,oZ]=tp("Toast"),[$L]=sr("Toast",[oZ]),[lZ,Fy]=$L(UE),FL=e=>{const{__scopeToast:n,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,d]=w.useState(null),[u,f]=w.useState(0),h=w.useRef(!1),p=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${UE}\`. Expected non-empty \`string\`.`),t.jsx(KE.Provider,{scope:n,children:t.jsx(lZ,{scope:n,label:r,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:w.useCallback(()=>f(v=>v+1),[]),onToastRemove:w.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};FL.displayName=UE;var LL="ToastViewport",cZ=["F8"],bS="toast.viewportPause",wS="toast.viewportResume",zL=w.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:a=cZ,label:s="Notifications ({hotkey})",...i}=e,o=Fy(LL,r),l=iZ(r),d=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=qt(n,h,o.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;w.useEffect(()=>{const g=P=>{a.length!==0&&a.every(b=>P[b]||P.code===b)&&h.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[a]),w.useEffect(()=>{const g=d.current,P=h.current;if(N&&g&&P){const C=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(bS);P.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(wS);P.dispatchEvent(S),o.isClosePausedRef.current=!1}},y=S=>{!g.contains(S.relatedTarget)&&b()},E=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",C),g.addEventListener("focusout",y),g.addEventListener("pointermove",C),g.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",C),g.removeEventListener("focusout",y),g.removeEventListener("pointermove",C),g.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",b)}}},[N,o.isClosePausedRef]);const j=w.useCallback(({tabbingDirection:g})=>{const C=l().map(b=>{const y=b.ref.current,E=[y,...wZ(y)];return g==="forwards"?E:E.reverse()});return(g==="forwards"?C.reverse():C).flat()},[l]);return w.useEffect(()=>{const g=h.current;if(g){const P=C=>{const b=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!b){const E=document.activeElement,S=C.shiftKey;if(C.target===g&&S){u.current?.focus();return}const z=j({tabbingDirection:S?"backwards":"forwards"}),Y=z.findIndex(F=>F===E);j1(z.slice(Y+1))?C.preventDefault():S?u.current?.focus():f.current?.focus()}};return g.addEventListener("keydown",P),()=>g.removeEventListener("keydown",P)}},[l,j]),t.jsxs(ZX,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&t.jsx(NS,{ref:u,onFocusFromOutsideViewport:()=>{const g=j({tabbingDirection:"forwards"});j1(g)}}),t.jsx(KE.Slot,{scope:r,children:t.jsx(ot.ol,{tabIndex:-1,...i,ref:p})}),N&&t.jsx(NS,{ref:f,onFocusFromOutsideViewport:()=>{const g=j({tabbingDirection:"backwards"});j1(g)}})]})});zL.displayName=LL;var qL="ToastFocusProxy",NS=w.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,i=Fy(qL,r);return t.jsx(np,{"aria-hidden":!0,tabIndex:0,...s,ref:n,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&a()}})});NS.displayName=qL;var Ly="Toast",dZ="toast.swipeStart",uZ="toast.swipeMove",mZ="toast.swipeCancel",fZ="toast.swipeEnd",VL=w.forwardRef((e,n)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,d]=sa({prop:a,defaultProp:s,onChange:i});return t.jsx(ur,{present:r||l,children:t.jsx(xZ,{open:l,...o,ref:n,onClose:()=>d(!1),onPause:Bn(e.onPause),onResume:Bn(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});VL.displayName=Ly;var[hZ,pZ]=$L(Ly,{onClose(){}}),xZ=w.forwardRef((e,n)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...N}=e,j=Fy(Ly,r),[g,P]=w.useState(null),C=qt(n,q=>P(q)),b=w.useRef(null),y=w.useRef(null),E=s||j.duration,S=w.useRef(0),k=w.useRef(E),T=w.useRef(0),{onToastAdd:z,onToastRemove:Y}=j,F=Bn(()=>{g?.contains(document.activeElement)&&j.viewport?.focus(),o()}),D=w.useCallback(q=>{!q||q===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(F,q))},[F]);w.useEffect(()=>{const q=j.viewport;if(q){const Q=()=>{D(k.current),u?.()},K=()=>{const U=new Date().getTime()-S.current;k.current=k.current-U,window.clearTimeout(T.current),d?.()};return q.addEventListener(bS,K),q.addEventListener(wS,Q),()=>{q.removeEventListener(bS,K),q.removeEventListener(wS,Q)}}},[j.viewport,E,d,u,D]),w.useEffect(()=>{i&&!j.isClosePausedRef.current&&D(E)},[i,E,j.isClosePausedRef,D]),w.useEffect(()=>(z(),()=>Y()),[z,Y]);const R=w.useMemo(()=>g?QL(g):null,[g]);return j.viewport?t.jsxs(t.Fragment,{children:[R&&t.jsx(gZ,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),t.jsx(hZ,{scope:r,onClose:F,children:rm.createPortal(t.jsx(KE.ItemSlot,{scope:r,children:t.jsx(XX,{asChild:!0,onEscapeKeyDown:He(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||F(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":j.swipeDirection,...N,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,q=>{q.key==="Escape"&&(l?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:He(e.onPointerDown,q=>{q.button===0&&(b.current={x:q.clientX,y:q.clientY})}),onPointerMove:He(e.onPointerMove,q=>{if(!b.current)return;const Q=q.clientX-b.current.x,K=q.clientY-b.current.y,U=!!y.current,O=["left","right"].includes(j.swipeDirection),I=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,G=O?I(0,Q):0,M=O?0:I(0,K),V=q.pointerType==="touch"?10:2,Z={x:G,y:M},re={originalEvent:q,delta:Z};U?(y.current=Z,Qx(uZ,h,re,{discrete:!1})):EO(Z,j.swipeDirection,V)?(y.current=Z,Qx(dZ,f,re,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(Q)>V||Math.abs(K)>V)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,q=>{const Q=y.current,K=q.target;if(K.hasPointerCapture(q.pointerId)&&K.releasePointerCapture(q.pointerId),y.current=null,b.current=null,Q){const U=q.currentTarget,O={originalEvent:q,delta:Q};EO(Q,j.swipeDirection,j.swipeThreshold)?Qx(fZ,v,O,{discrete:!0}):Qx(mZ,p,O,{discrete:!0}),U.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),gZ=e=>{const{__scopeToast:n,children:r,...a}=e,s=Fy(Ly,n),[i,o]=w.useState(!1),[l,d]=w.useState(!1);return jZ(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:t.jsx(am,{asChild:!0,children:t.jsx(np,{...a,children:i&&t.jsxs(t.Fragment,{children:[s.label," ",r]})})})},vZ="ToastTitle",BL=w.forwardRef((e,n)=>{const{__scopeToast:r,...a}=e;return t.jsx(ot.div,{...a,ref:n})});BL.displayName=vZ;var yZ="ToastDescription",HL=w.forwardRef((e,n)=>{const{__scopeToast:r,...a}=e;return t.jsx(ot.div,{...a,ref:n})});HL.displayName=yZ;var UL="ToastAction",KL=w.forwardRef((e,n)=>{const{altText:r,...a}=e;return r.trim()?t.jsx(GL,{altText:r,asChild:!0,children:t.jsx(WE,{...a,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${UL}\`. Expected non-empty \`string\`.`),null)});KL.displayName=UL;var WL="ToastClose",WE=w.forwardRef((e,n)=>{const{__scopeToast:r,...a}=e,s=pZ(WL,r);return t.jsx(GL,{asChild:!0,children:t.jsx(ot.button,{type:"button",...a,ref:n,onClick:He(e.onClick,s.onClose)})})});WE.displayName=WL;var GL=w.forwardRef((e,n)=>{const{__scopeToast:r,altText:a,...s}=e;return t.jsx(ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:n})});function QL(e){const n=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&n.push(a.textContent),bZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&n.push(o)}else n.push(...QL(a))}}),n}function Qx(e,n,r,{discrete:a}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),a?HE(s,i):s.dispatchEvent(i)}var EO=(e,n,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return n==="left"||n==="right"?i&&a>r:!i&&s>r};function jZ(e=()=>{}){const n=Bn(e);ar(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[n])}function bZ(e){return e.nodeType===e.ELEMENT_NODE}function wZ(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function j1(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var NZ=FL,YL=zL,XL=VL,ZL=BL,JL=HL,e8=KL,t8=WE;function n8(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=n8(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Wt(){for(var e,n,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=n8(e))&&(a&&(a+=" "),a+=n);return a}const AO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kO=Wt,Gc=(e,n)=>r=>{var a;if(n?.variants==null)return kO(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=n,o=Object.keys(s).map(u=>{const f=r?.[u],h=i?.[u];if(f===null)return null;const p=AO(f)||AO(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),d=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((u,f)=>{let{class:h,className:p,...v}=f;return Object.entries(v).every(N=>{let[j,g]=N;return Array.isArray(g)?g.includes({...i,...l}[j]):{...i,...l}[j]===g})?[...u,h,p]:u},[]);return kO(e,o,d,r?.class,r?.className)};const CZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r8=(...e)=>e.filter((n,r,a)=>!!n&&a.indexOf(n)===r).join(" ");var SZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PZ=w.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},d)=>w.createElement("svg",{ref:d,...SZ,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:r8("lucide",s),...l},[...o.map(([u,f])=>w.createElement(u,f)),...Array.isArray(i)?i:[i]]));const be=(e,n)=>{const r=w.forwardRef(({className:a,...s},i)=>w.createElement(PZ,{ref:i,iconNode:n,className:r8(`lucide-${CZ(e)}`,a),...s}));return r.displayName=`${e}`,r};const Tg=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Yx=be("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);const EZ=be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const ia=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const a8=be("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const gl=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const AZ=be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const GE=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const s8=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const _O=be("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const Bf=be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const rp=be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const nn=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const kZ=be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Po=be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const i8=be("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const ls=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const us=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Cc=be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const ta=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Eo=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const _Z=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const po=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const o8=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const TZ=be("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const Sc=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const OZ=be("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);const MZ=be("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);const ms=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ar=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const l8=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const RZ=be("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);const zy=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const c8=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const wi=be("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const d8=be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Ai=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const DZ=be("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);const Zg=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Qc=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const fu=be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const ba=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const vr=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const IZ=be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const $Z=be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Pc=be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const hu=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const fs=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const FZ=be("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const LZ=be("FileBadge",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"12ixgl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",key:"u0c8gj"}],["path",{d:"M7 16.5 8 22l-3-1-3 1 1-5.5",key:"5gm2nr"}]]);const zZ=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const qZ=be("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const VZ=be("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);const CS=be("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);const Xt=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const sm=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const BZ=be("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const ap=be("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const HZ=be("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const vl=be("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);const UZ=be("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const KZ=be("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);const SS=be("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);const sp=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const WZ=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const PS=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const GZ=be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const ip=be("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);const Jg=be("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const QZ=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const YZ=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Og=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const XZ=be("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);const ZZ=be("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const ES=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Ec=be("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);const op=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const gc=be("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);const JZ=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const eJ=be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const ev=be("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const cn=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const tJ=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const qy=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ks=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ac=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const TO=be("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const pu=be("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const nJ=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const QE=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Hf=be("MessageSquareHeart",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M14.8 7.5a1.84 1.84 0 0 0-2.6 0l-.2.3-.3-.3a1.84 1.84 0 1 0-2.4 2.8L12 13l2.7-2.7c.9-.9.8-2.1.1-2.8",key:"1blaws"}]]);const xo=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const rJ=be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const aJ=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const sJ=be("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const Er=be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Vy=be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const iJ=be("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const oJ=be("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);const AS=be("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const YE=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const er=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const lJ=be("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const cJ=be("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);const lp=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Mg=be("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const ut=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const u8=be("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const dJ=be("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const XE=be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const to=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const uJ=be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const tv=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const kS=be("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);const Ws=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const ca=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const m8=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const mJ=be("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const ZE=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const fJ=be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Hs=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const hJ=be("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);const b1=be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const fi=be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const pJ=be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Rg=be("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const nv=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const JE=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const By=be("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);const xJ=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const w1=be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Dr=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const _S=be("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);const gJ=be("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);const vJ=be("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const f8=be("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const Mt=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ao=be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const pn=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Hr=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Nl=be("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const yJ=be("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const TS=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Hy=be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const h8=be("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const rv=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const dc=be("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);const jJ=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const ko=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const hn=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Uf=be("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const eA=be("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);const OS=be("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);const Gs=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Kf=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tA="-",bJ=e=>{const n=NJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(tA);return l[0]===""&&l.length!==1&&l.shift(),p8(l,n)||wJ(o)},getConflictingClassGroupIds:(o,l)=>{const d=r[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},p8=(e,n)=>{if(e.length===0)return n.classGroupId;const r=e[0],a=n.nextPart.get(r),s=a?p8(e.slice(1),a):void 0;if(s)return s;if(n.validators.length===0)return;const i=e.join(tA);return n.validators.find(({validator:o})=>o(i))?.classGroupId},OO=/^\[(.+)\]$/,wJ=e=>{if(OO.test(e)){const n=OO.exec(e)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},NJ=e=>{const{theme:n,prefix:r}=e,a={nextPart:new Map,validators:[]};return SJ(Object.entries(e.classGroups),r).forEach(([i,o])=>{MS(o,a,i,n)}),a},MS=(e,n,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?n:MO(n,s);i.classGroupId=r;return}if(typeof s=="function"){if(CJ(s)){MS(s(a),n,r,a);return}n.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{MS(o,MO(n,i),r,a)})})},MO=(e,n)=>{let r=e;return n.split(tA).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},CJ=e=>e.isThemeGetter,SJ=(e,n)=>n?e.map(([r,a])=>{const s=a.map(i=>typeof i=="string"?n+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[n+o,l])):i);return[r,s]}):e,PJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,a=new Map;const s=(i,o)=>{r.set(i,o),n++,n>e&&(n=0,a=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},x8="!",EJ=e=>{const{separator:n,experimentalParseClassName:r}=e,a=n.length===1,s=n[0],i=n.length,o=l=>{const d=[];let u=0,f=0,h;for(let g=0;g<l.length;g++){let P=l[g];if(u===0){if(P===s&&(a||l.slice(g,g+i)===n)){d.push(l.slice(f,g)),f=g+i;continue}if(P==="/"){h=g;continue}}P==="["?u++:P==="]"&&u--}const p=d.length===0?l:l.substring(f),v=p.startsWith(x8),N=v?p.substring(1):p,j=h&&h>f?h-f:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:N,maybePostfixModifierPosition:j}};return r?l=>r({className:l,parseClassName:o}):o},AJ=e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(a=>{a[0]==="["?(n.push(...r.sort(),a),r=[]):r.push(a)}),n.push(...r.sort()),n},kJ=e=>({cache:PJ(e.cacheSize),parseClassName:EJ(e),...bJ(e)}),_J=/\s+/,TJ=(e,n)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s}=n,i=[],o=e.trim().split(_J);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=r(u);let N=!!v,j=a(N?p.substring(0,v):p);if(!j){if(!N){l=u+(l.length>0?" "+l:l);continue}if(j=a(p),!j){l=u+(l.length>0?" "+l:l);continue}N=!1}const g=AJ(f).join(":"),P=h?g+x8:g,C=P+j;if(i.includes(C))continue;i.push(C);const b=s(j,N);for(let y=0;y<b.length;++y){const E=b[y];i.push(P+E)}l=u+(l.length>0?" "+l:l)}return l};function OJ(){let e=0,n,r,a="";for(;e<arguments.length;)(n=arguments[e++])&&(r=g8(n))&&(a&&(a+=" "),a+=r);return a}const g8=e=>{if(typeof e=="string")return e;let n,r="";for(let a=0;a<e.length;a++)e[a]&&(n=g8(e[a]))&&(r&&(r+=" "),r+=n);return r};function MJ(e,...n){let r,a,s,i=o;function o(d){const u=n.reduce((f,h)=>h(f),e());return r=kJ(u),a=r.cache.get,s=r.cache.set,i=l,l(d)}function l(d){const u=a(d);if(u)return u;const f=TJ(d,r);return s(d,f),f}return function(){return i(OJ.apply(null,arguments))}}const zn=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},v8=/^\[(?:([a-z-]+):)?(.+)\]$/i,RJ=/^\d+\/\d+$/,DJ=new Set(["px","full","screen"]),IJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$J=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gi=e=>nu(e)||DJ.has(e)||RJ.test(e),il=e=>im(e,"length",GJ),nu=e=>!!e&&!Number.isNaN(Number(e)),N1=e=>im(e,"number",nu),rf=e=>!!e&&Number.isInteger(Number(e)),qJ=e=>e.endsWith("%")&&nu(e.slice(0,-1)),Kt=e=>v8.test(e),ol=e=>IJ.test(e),VJ=new Set(["length","size","percentage"]),BJ=e=>im(e,VJ,y8),HJ=e=>im(e,"position",y8),UJ=new Set(["image","url"]),KJ=e=>im(e,UJ,YJ),WJ=e=>im(e,"",QJ),af=()=>!0,im=(e,n,r)=>{const a=v8.exec(e);return a?a[1]?typeof n=="string"?a[1]===n:n.has(a[1]):r(a[2]):!1},GJ=e=>$J.test(e)&&!FJ.test(e),y8=()=>!1,QJ=e=>LJ.test(e),YJ=e=>zJ.test(e),XJ=()=>{const e=zn("colors"),n=zn("spacing"),r=zn("blur"),a=zn("brightness"),s=zn("borderColor"),i=zn("borderRadius"),o=zn("borderSpacing"),l=zn("borderWidth"),d=zn("contrast"),u=zn("grayscale"),f=zn("hueRotate"),h=zn("invert"),p=zn("gap"),v=zn("gradientColorStops"),N=zn("gradientColorStopPositions"),j=zn("inset"),g=zn("margin"),P=zn("opacity"),C=zn("padding"),b=zn("saturate"),y=zn("scale"),E=zn("sepia"),S=zn("skew"),k=zn("space"),T=zn("translate"),z=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Kt,n],D=()=>[Kt,n],R=()=>["",Gi,il],q=()=>["auto",nu,Kt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Kt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[nu,Kt];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[Gi,il],blur:["none","",ol,Kt],brightness:M(),borderColor:[e],borderRadius:["none","","full",ol,Kt],borderSpacing:D(),borderWidth:R(),contrast:M(),grayscale:I(),hueRotate:M(),invert:I(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[qJ,il],inset:F(),margin:F(),opacity:M(),padding:D(),saturate:M(),scale:M(),sepia:I(),skew:M(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[ol]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Kt]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rf,Kt]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",rf,Kt]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",rf,Kt]},Kt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[rf,Kt]},Kt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,n]}],"min-w":[{"min-w":[Kt,n,"min","max","fit"]}],"max-w":[{"max-w":[Kt,n,"none","full","min","max","fit","prose",{screen:[ol]},ol]}],h:[{h:[Kt,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,n,"auto","min","max","fit"]}],"font-size":[{text:["base",ol,il]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",N1]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",nu,N1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gi,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gi,il]}],"underline-offset":[{"underline-offset":["auto",Gi,Kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),HJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Gi,Kt]}],"outline-w":[{outline:[Gi,il]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Gi,il]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ol,WJ]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ol,Kt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[rf,Kt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gi,il,N1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZJ=MJ(XJ);function Fe(...e){return ZJ(Wt(e))}const JJ=NZ,j8=w.forwardRef(({className:e,...n},r)=>t.jsx(YL,{ref:r,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));j8.displayName=YL.displayName;const eee=Gc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b8=w.forwardRef(({className:e,variant:n,...r},a)=>t.jsx(XL,{ref:a,className:Fe(eee({variant:n}),e),...r}));b8.displayName=XL.displayName;const tee=w.forwardRef(({className:e,...n},r)=>t.jsx(e8,{ref:r,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...n}));tee.displayName=e8.displayName;const w8=w.forwardRef(({className:e,...n},r)=>t.jsx(t8,{ref:r,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:t.jsx(Gs,{className:"h-4 w-4"})}));w8.displayName=t8.displayName;const N8=w.forwardRef(({className:e,...n},r)=>t.jsx(ZL,{ref:r,className:Fe("text-sm font-semibold",e),...n}));N8.displayName=ZL.displayName;const C8=w.forwardRef(({className:e,...n},r)=>t.jsx(JL,{ref:r,className:Fe("text-sm opacity-90",e),...n}));C8.displayName=JL.displayName;function nee(){const{toasts:e}=At();return t.jsxs(JJ,{children:[e.map(function({id:n,title:r,description:a,action:s,...i}){return t.jsxs(b8,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(N8,{children:r}),a&&t.jsx(C8,{children:a})]}),s,t.jsx(w8,{})]},n)}),t.jsx(j8,{})]})}var ree=sL[" useId ".trim().toString()]||(()=>{}),aee=0;function cr(e){const[n,r]=w.useState(ree());return ar(()=>{r(a=>a??String(aee++))},[e]),n?`radix-${n}`:""}const see=["top","right","bottom","left"],Cl=Math.min,Ma=Math.max,av=Math.round,Xx=Math.floor,vi=e=>({x:e,y:e}),iee={left:"right",right:"left",bottom:"top",top:"bottom"},oee={start:"end",end:"start"};function RS(e,n,r){return Ma(e,Cl(n,r))}function go(e,n){return typeof e=="function"?e(n):e}function vo(e){return e.split("-")[0]}function om(e){return e.split("-")[1]}function nA(e){return e==="x"?"y":"x"}function rA(e){return e==="y"?"height":"width"}function Sl(e){return["top","bottom"].includes(vo(e))?"y":"x"}function aA(e){return nA(Sl(e))}function lee(e,n,r){r===void 0&&(r=!1);const a=om(e),s=aA(e),i=rA(s);let o=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(o=sv(o)),[o,sv(o)]}function cee(e){const n=sv(e);return[DS(e),n,DS(n)]}function DS(e){return e.replace(/start|end/g,n=>oee[n])}function dee(e,n,r){const a=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?n?s:a:n?a:s;case"left":case"right":return n?i:o;default:return[]}}function uee(e,n,r,a){const s=om(e);let i=dee(vo(e),r==="start",a);return s&&(i=i.map(o=>o+"-"+s),n&&(i=i.concat(i.map(DS)))),i}function sv(e){return e.replace(/left|right|bottom|top/g,n=>iee[n])}function mee(e){return{top:0,right:0,bottom:0,left:0,...e}}function S8(e){return typeof e!="number"?mee(e):{top:e,right:e,bottom:e,left:e}}function iv(e){const{x:n,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:n,right:n+a,bottom:r+s,x:n,y:r}}function RO(e,n,r){let{reference:a,floating:s}=e;const i=Sl(n),o=aA(n),l=rA(o),d=vo(n),u=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,p=a[l]/2-s[l]/2;let v;switch(d){case"top":v={x:f,y:a.y-s.height};break;case"bottom":v={x:f,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:h};break;case"left":v={x:a.x-s.width,y:h};break;default:v={x:a.x,y:a.y}}switch(om(n)){case"start":v[o]-=p*(r&&u?-1:1);break;case"end":v[o]+=p*(r&&u?-1:1);break}return v}const fee=async(e,n,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(n));let u=await o.getElementRects({reference:e,floating:n,strategy:s}),{x:f,y:h}=RO(u,a,d),p=a,v={},N=0;for(let j=0;j<l.length;j++){const{name:g,fn:P}=l[j],{x:C,y:b,data:y,reset:E}=await P({x:f,y:h,initialPlacement:a,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:n}});f=C??f,h=b??h,v={...v,[g]:{...v[g],...y}},E&&N<=50&&(N++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:n,strategy:s}):E.rects),{x:f,y:h}=RO(u,p,d)),j=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:v}};async function Wf(e,n){var r;n===void 0&&(n={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=go(n,e),N=S8(v),g=l[p?h==="floating"?"reference":"floating":h],P=iv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:d})),C=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),y=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=iv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:b,strategy:d}):C);return{top:(P.top-E.top+N.top)/y.y,bottom:(E.bottom-P.bottom+N.bottom)/y.y,left:(P.left-E.left+N.left)/y.x,right:(E.right-P.right+N.right)/y.x}}const hee=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:d}=n,{element:u,padding:f=0}=go(e,n)||{};if(u==null)return{};const h=S8(f),p={x:r,y:a},v=aA(s),N=rA(v),j=await o.getDimensions(u),g=v==="y",P=g?"top":"left",C=g?"bottom":"right",b=g?"clientHeight":"clientWidth",y=i.reference[N]+i.reference[v]-p[v]-i.floating[N],E=p[v]-i.reference[v],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=S?S[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=l.floating[b]||i.floating[N]);const T=y/2-E/2,z=k/2-j[N]/2-1,Y=Cl(h[P],z),F=Cl(h[C],z),D=Y,R=k-j[N]-F,q=k/2-j[N]/2+T,Q=RS(D,q,R),K=!d.arrow&&om(s)!=null&&q!==Q&&i.reference[N]/2-(q<D?Y:F)-j[N]/2<0,U=K?q<D?q-D:q-R:0;return{[v]:p[v]+U,data:{[v]:Q,centerOffset:q-Q-U,...K&&{alignmentOffset:U}},reset:K}}}),pee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=n,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...g}=go(e,n);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const P=vo(s),C=Sl(l),b=vo(l)===l,y=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=p||(b||!j?[sv(l)]:cee(l)),S=N!=="none";!p&&S&&E.push(...uee(l,j,N,y));const k=[l,...E],T=await Wf(n,g),z=[];let Y=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&z.push(T[P]),h){const q=lee(s,o,y);z.push(T[q[0]],T[q[1]])}if(Y=[...Y,{placement:s,overflows:z}],!z.every(q=>q<=0)){var F,D;const q=(((F=i.flip)==null?void 0:F.index)||0)+1,Q=k[q];if(Q)return{data:{index:q,overflows:Y},reset:{placement:Q}};let K=(D=Y.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(v){case"bestFit":{var R;const U=(R=Y.filter(O=>{if(S){const I=Sl(O.placement);return I===C||I==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(I=>I>0).reduce((I,G)=>I+G,0)]).sort((O,I)=>O[1]-I[1])[0])==null?void 0:R[0];U&&(K=U);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function DO(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function IO(e){return see.some(n=>e[n]>=0)}const xee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:a="referenceHidden",...s}=go(e,n);switch(a){case"referenceHidden":{const i=await Wf(n,{...s,elementContext:"reference"}),o=DO(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IO(o)}}}case"escaped":{const i=await Wf(n,{...s,altBoundary:!0}),o=DO(i,r.floating);return{data:{escapedOffsets:o,escaped:IO(o)}}}default:return{}}}}};async function gee(e,n){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=vo(r),l=om(r),d=Sl(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&d?-1:1,h=go(n,e);let{mainAxis:p,crossAxis:v,alignmentAxis:N}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof N=="number"&&(v=l==="end"?N*-1:N),d?{x:v*f,y:p*u}:{x:p*u,y:v*f}}const vee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,a;const{x:s,y:i,placement:o,middlewareData:l}=n,d=await gee(n,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},yee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:a,placement:s}=n,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:P,y:C}=g;return{x:P,y:C}}},...d}=go(e,n),u={x:r,y:a},f=await Wf(n,d),h=Sl(vo(s)),p=nA(h);let v=u[p],N=u[h];if(i){const g=p==="y"?"top":"left",P=p==="y"?"bottom":"right",C=v+f[g],b=v-f[P];v=RS(C,v,b)}if(o){const g=h==="y"?"top":"left",P=h==="y"?"bottom":"right",C=N+f[g],b=N-f[P];N=RS(C,N,b)}const j=l.fn({...n,[p]:v,[h]:N});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[p]:i,[h]:o}}}}}},jee=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:a,placement:s,rects:i,middlewareData:o}=n,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=go(e,n),f={x:r,y:a},h=Sl(s),p=nA(h);let v=f[p],N=f[h];const j=go(l,n),g=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(d){const b=p==="y"?"height":"width",y=i.reference[p]-i.floating[b]+g.mainAxis,E=i.reference[p]+i.reference[b]-g.mainAxis;v<y?v=y:v>E&&(v=E)}if(u){var P,C;const b=p==="y"?"width":"height",y=["top","left"].includes(vo(s)),E=i.reference[h]-i.floating[b]+(y&&((P=o.offset)==null?void 0:P[h])||0)+(y?0:g.crossAxis),S=i.reference[h]+i.reference[b]+(y?0:((C=o.offset)==null?void 0:C[h])||0)-(y?g.crossAxis:0);N<E?N=E:N>S&&(N=S)}return{[p]:v,[h]:N}}}},bee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,a;const{placement:s,rects:i,platform:o,elements:l}=n,{apply:d=()=>{},...u}=go(e,n),f=await Wf(n,u),h=vo(s),p=om(s),v=Sl(s)==="y",{width:N,height:j}=i.floating;let g,P;h==="top"||h==="bottom"?(g=h,P=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(P=h,g=p==="end"?"top":"bottom");const C=j-f.top-f.bottom,b=N-f.left-f.right,y=Cl(j-f[g],C),E=Cl(N-f[P],b),S=!n.middlewareData.shift;let k=y,T=E;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(k=C),S&&!p){const Y=Ma(f.left,0),F=Ma(f.right,0),D=Ma(f.top,0),R=Ma(f.bottom,0);v?T=N-2*(Y!==0||F!==0?Y+F:Ma(f.left,f.right)):k=j-2*(D!==0||R!==0?D+R:Ma(f.top,f.bottom))}await d({...n,availableWidth:T,availableHeight:k});const z=await o.getDimensions(l.floating);return N!==z.width||j!==z.height?{reset:{rects:!0}}:{}}}};function Uy(){return typeof window<"u"}function lm(e){return P8(e)?(e.nodeName||"").toLowerCase():"#document"}function Ia(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ki(e){var n;return(n=(P8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function P8(e){return Uy()?e instanceof Node||e instanceof Ia(e).Node:!1}function Qs(e){return Uy()?e instanceof Element||e instanceof Ia(e).Element:!1}function Ni(e){return Uy()?e instanceof HTMLElement||e instanceof Ia(e).HTMLElement:!1}function $O(e){return!Uy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ia(e).ShadowRoot}function cp(e){const{overflow:n,overflowX:r,overflowY:a,display:s}=Ys(e);return/auto|scroll|overlay|hidden|clip/.test(n+a+r)&&!["inline","contents"].includes(s)}function wee(e){return["table","td","th"].includes(lm(e))}function Ky(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function sA(e){const n=iA(),r=Qs(e)?Ys(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Nee(e){let n=Pl(e);for(;Ni(n)&&!xu(n);){if(sA(n))return n;if(Ky(n))return null;n=Pl(n)}return null}function iA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xu(e){return["html","body","#document"].includes(lm(e))}function Ys(e){return Ia(e).getComputedStyle(e)}function Wy(e){return Qs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pl(e){if(lm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||$O(e)&&e.host||ki(e);return $O(n)?n.host:n}function E8(e){const n=Pl(e);return xu(n)?e.ownerDocument?e.ownerDocument.body:e.body:Ni(n)&&cp(n)?n:E8(n)}function Gf(e,n,r){var a;n===void 0&&(n=[]),r===void 0&&(r=!0);const s=E8(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=Ia(s);if(i){const l=IS(o);return n.concat(o,o.visualViewport||[],cp(s)?s:[],l&&r?Gf(l):[])}return n.concat(s,Gf(s,[],r))}function IS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function A8(e){const n=Ys(e);let r=parseFloat(n.width)||0,a=parseFloat(n.height)||0;const s=Ni(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:a,l=av(r)!==i||av(a)!==o;return l&&(r=i,a=o),{width:r,height:a,$:l}}function oA(e){return Qs(e)?e:e.contextElement}function ru(e){const n=oA(e);if(!Ni(n))return vi(1);const r=n.getBoundingClientRect(),{width:a,height:s,$:i}=A8(n);let o=(i?av(r.width):r.width)/a,l=(i?av(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Cee=vi(0);function k8(e){const n=Ia(e);return!iA()||!n.visualViewport?Cee:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function See(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==Ia(e)?!1:n}function kc(e,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=oA(e);let o=vi(1);n&&(a?Qs(a)&&(o=ru(a)):o=ru(e));const l=See(i,r,a)?k8(i):vi(0);let d=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=Ia(i),v=a&&Qs(a)?Ia(a):a;let N=p,j=IS(N);for(;j&&a&&v!==N;){const g=ru(j),P=j.getBoundingClientRect(),C=Ys(j),b=P.left+(j.clientLeft+parseFloat(C.paddingLeft))*g.x,y=P.top+(j.clientTop+parseFloat(C.paddingTop))*g.y;d*=g.x,u*=g.y,f*=g.x,h*=g.y,d+=b,u+=y,N=Ia(j),j=IS(N)}}return iv({width:f,height:h,x:d,y:u})}function lA(e,n){const r=Wy(e).scrollLeft;return n?n.left+r:kc(ki(e)).left+r}function _8(e,n,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=a.left+n.scrollLeft-(r?0:lA(e,a)),i=a.top+n.scrollTop;return{x:s,y:i}}function Pee(e){let{elements:n,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=ki(a),l=n?Ky(n.floating):!1;if(a===o||l&&i)return r;let d={scrollLeft:0,scrollTop:0},u=vi(1);const f=vi(0),h=Ni(a);if((h||!h&&!i)&&((lm(a)!=="body"||cp(o))&&(d=Wy(a)),Ni(a))){const v=kc(a);u=ru(a),f.x=v.x+a.clientLeft,f.y=v.y+a.clientTop}const p=o&&!h&&!i?_8(o,d,!0):vi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-d.scrollTop*u.y+f.y+p.y}}function Eee(e){return Array.from(e.getClientRects())}function Aee(e){const n=ki(e),r=Wy(e),a=e.ownerDocument.body,s=Ma(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),i=Ma(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+lA(e);const l=-r.scrollTop;return Ys(a).direction==="rtl"&&(o+=Ma(n.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function kee(e,n){const r=Ia(e),a=ki(e),s=r.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(s){i=s.width,o=s.height;const u=iA();(!u||u&&n==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}return{width:i,height:o,x:l,y:d}}function _ee(e,n){const r=kc(e,!0,n==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ni(e)?ru(e):vi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=s*i.x,u=a*i.y;return{width:o,height:l,x:d,y:u}}function FO(e,n,r){let a;if(n==="viewport")a=kee(e,r);else if(n==="document")a=Aee(ki(e));else if(Qs(n))a=_ee(n,r);else{const s=k8(e);a={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return iv(a)}function T8(e,n){const r=Pl(e);return r===n||!Qs(r)||xu(r)?!1:Ys(r).position==="fixed"||T8(r,n)}function Tee(e,n){const r=n.get(e);if(r)return r;let a=Gf(e,[],!1).filter(l=>Qs(l)&&lm(l)!=="body"),s=null;const i=Ys(e).position==="fixed";let o=i?Pl(e):e;for(;Qs(o)&&!xu(o);){const l=Ys(o),d=sA(o);!d&&l.position==="fixed"&&(s=null),(i?!d&&!s:!d&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||cp(o)&&!d&&T8(e,o))?a=a.filter(f=>f!==o):s=l,o=Pl(o)}return n.set(e,a),a}function Oee(e){let{element:n,boundary:r,rootBoundary:a,strategy:s}=e;const o=[...r==="clippingAncestors"?Ky(n)?[]:Tee(n,this._c):[].concat(r),a],l=o[0],d=o.reduce((u,f)=>{const h=FO(n,f,s);return u.top=Ma(h.top,u.top),u.right=Cl(h.right,u.right),u.bottom=Cl(h.bottom,u.bottom),u.left=Ma(h.left,u.left),u},FO(n,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Mee(e){const{width:n,height:r}=A8(e);return{width:n,height:r}}function Ree(e,n,r){const a=Ni(n),s=ki(n),i=r==="fixed",o=kc(e,!0,i,n);let l={scrollLeft:0,scrollTop:0};const d=vi(0);if(a||!a&&!i)if((lm(n)!=="body"||cp(s))&&(l=Wy(n)),a){const p=kc(n,!0,i,n);d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}else s&&(d.x=lA(s));const u=s&&!a&&!i?_8(s,l):vi(0),f=o.left+l.scrollLeft-d.x-u.x,h=o.top+l.scrollTop-d.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function C1(e){return Ys(e).position==="static"}function LO(e,n){if(!Ni(e)||Ys(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return ki(e)===r&&(r=r.ownerDocument.body),r}function O8(e,n){const r=Ia(e);if(Ky(e))return r;if(!Ni(e)){let s=Pl(e);for(;s&&!xu(s);){if(Qs(s)&&!C1(s))return s;s=Pl(s)}return r}let a=LO(e,n);for(;a&&wee(a)&&C1(a);)a=LO(a,n);return a&&xu(a)&&C1(a)&&!sA(a)?r:a||Nee(e)||r}const Dee=async function(e){const n=this.getOffsetParent||O8,r=this.getDimensions,a=await r(e.floating);return{reference:Ree(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Iee(e){return Ys(e).direction==="rtl"}const $ee={convertOffsetParentRelativeRectToViewportRelativeRect:Pee,getDocumentElement:ki,getClippingRect:Oee,getOffsetParent:O8,getElementRects:Dee,getClientRects:Eee,getDimensions:Mee,getScale:ru,isElement:Qs,isRTL:Iee};function M8(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Fee(e,n){let r=null,a;const s=ki(e);function i(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:f,top:h,width:p,height:v}=u;if(l||n(),!p||!v)return;const N=Xx(h),j=Xx(s.clientWidth-(f+p)),g=Xx(s.clientHeight-(h+v)),P=Xx(f),b={rootMargin:-N+"px "+-j+"px "+-g+"px "+-P+"px",threshold:Ma(0,Cl(1,d))||1};let y=!0;function E(S){const k=S[0].intersectionRatio;if(k!==d){if(!y)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!M8(u,e.getBoundingClientRect())&&o(),y=!1}try{r=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,b)}r.observe(e)}return o(!0),i}function Lee(e,n,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,u=oA(e),f=s||i?[...u?Gf(u):[],...Gf(n)]:[];f.forEach(P=>{s&&P.addEventListener("scroll",r,{passive:!0}),i&&P.addEventListener("resize",r)});const h=u&&l?Fee(u,r):null;let p=-1,v=null;o&&(v=new ResizeObserver(P=>{let[C]=P;C&&C.target===u&&v&&(v.unobserve(n),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(n)})),r()}),u&&!d&&v.observe(u),v.observe(n));let N,j=d?kc(e):null;d&&g();function g(){const P=kc(e);j&&!M8(j,P)&&r(),j=P,N=requestAnimationFrame(g)}return r(),()=>{var P;f.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),h?.(),(P=v)==null||P.disconnect(),v=null,d&&cancelAnimationFrame(N)}}const zee=vee,qee=yee,Vee=pee,Bee=bee,Hee=xee,zO=hee,Uee=jee,Kee=(e,n,r)=>{const a=new Map,s={platform:$ee,...r},i={...s.platform,_c:a};return fee(e,n,{...s,platform:i})};var Dg=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ov(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,a,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(a=r;a--!==0;)if(!ov(e[a],n[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(n,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!ov(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function R8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qO(e,n){const r=R8(e);return Math.round(n*r)/r}function S1(e){const n=w.useRef(e);return Dg(()=>{n.current=e}),n}function Wee(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[f,h]=w.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,v]=w.useState(a);ov(p,a)||v(a);const[N,j]=w.useState(null),[g,P]=w.useState(null),C=w.useCallback(O=>{O!==S.current&&(S.current=O,j(O))},[]),b=w.useCallback(O=>{O!==k.current&&(k.current=O,P(O))},[]),y=i||N,E=o||g,S=w.useRef(null),k=w.useRef(null),T=w.useRef(f),z=d!=null,Y=S1(d),F=S1(s),D=S1(u),R=w.useCallback(()=>{if(!S.current||!k.current)return;const O={placement:n,strategy:r,middleware:p};F.current&&(O.platform=F.current),Kee(S.current,k.current,O).then(I=>{const G={...I,isPositioned:D.current!==!1};q.current&&!ov(T.current,G)&&(T.current=G,rm.flushSync(()=>{h(G)}))})},[p,n,r,F,D]);Dg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const q=w.useRef(!1);Dg(()=>(q.current=!0,()=>{q.current=!1}),[]),Dg(()=>{if(y&&(S.current=y),E&&(k.current=E),y&&E){if(Y.current)return Y.current(y,E,R);R()}},[y,E,R,Y,z]);const Q=w.useMemo(()=>({reference:S,floating:k,setReference:C,setFloating:b}),[C,b]),K=w.useMemo(()=>({reference:y,floating:E}),[y,E]),U=w.useMemo(()=>{const O={position:r,left:0,top:0};if(!K.floating)return O;const I=qO(K.floating,f.x),G=qO(K.floating,f.y);return l?{...O,transform:"translate("+I+"px, "+G+"px)",...R8(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:G}},[r,l,K.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:R,refs:Q,elements:K,floatingStyles:U}),[f,R,Q,K,U])}const Gee=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&n(a)?a.current!=null?zO({element:a.current,padding:s}).fn(r):{}:a?zO({element:a,padding:s}).fn(r):{}}}},Qee=(e,n)=>({...zee(e),options:[e,n]}),Yee=(e,n)=>({...qee(e),options:[e,n]}),Xee=(e,n)=>({...Uee(e),options:[e,n]}),Zee=(e,n)=>({...Vee(e),options:[e,n]}),Jee=(e,n)=>({...Bee(e),options:[e,n]}),ete=(e,n)=>({...Hee(e),options:[e,n]}),tte=(e,n)=>({...Gee(e),options:[e,n]});var nte="Arrow",D8=w.forwardRef((e,n)=>{const{children:r,width:a=10,height:s=5,...i}=e;return t.jsx(ot.svg,{...i,ref:n,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});D8.displayName=nte;var rte=D8;function Gy(e){const[n,r]=w.useState(void 0);return ar(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),n}var cA="Popper",[I8,Ol]=sr(cA),[ate,$8]=I8(cA),F8=e=>{const{__scopePopper:n,children:r}=e,[a,s]=w.useState(null);return t.jsx(ate,{scope:n,anchor:a,onAnchorChange:s,children:r})};F8.displayName=cA;var L8="PopperAnchor",z8=w.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=$8(L8,r),o=w.useRef(null),l=qt(n,o);return w.useEffect(()=>{i.onAnchorChange(a?.current||o.current)}),a?null:t.jsx(ot.div,{...s,ref:l})});z8.displayName=L8;var dA="PopperContent",[ste,ite]=I8(dA),q8=w.forwardRef((e,n)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:N,...j}=e,g=$8(dA,r),[P,C]=w.useState(null),b=qt(n,he=>C(he)),[y,E]=w.useState(null),S=Gy(y),k=S?.width??0,T=S?.height??0,z=a+(i!=="center"?"-"+i:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(u)?u:[u],D=F.length>0,R={padding:Y,boundary:F.filter(lte),altBoundary:D},{refs:q,floatingStyles:Q,placement:K,isPositioned:U,middlewareData:O}=Wee({strategy:"fixed",placement:z,whileElementsMounted:(...he)=>Lee(...he,{animationFrame:v==="always"}),elements:{reference:g.anchor},middleware:[Qee({mainAxis:s+T,alignmentAxis:o}),d&&Yee({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Xee():void 0,...R}),d&&Zee({...R}),Jee({...R,apply:({elements:he,rects:pe,availableWidth:L,availableHeight:ae})=>{const{width:me,height:W}=pe.reference,Se=he.floating.style;Se.setProperty("--radix-popper-available-width",`${L}px`),Se.setProperty("--radix-popper-available-height",`${ae}px`),Se.setProperty("--radix-popper-anchor-width",`${me}px`),Se.setProperty("--radix-popper-anchor-height",`${W}px`)}}),y&&tte({element:y,padding:l}),cte({arrowWidth:k,arrowHeight:T}),p&&ete({strategy:"referenceHidden",...R})]}),[I,G]=H8(K),M=Bn(N);ar(()=>{U&&M?.()},[U,M]);const V=O.arrow?.x,Z=O.arrow?.y,re=O.arrow?.centerOffset!==0,[le,ye]=w.useState();return ar(()=>{P&&ye(window.getComputedStyle(P).zIndex)},[P]),t.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:U?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(ste,{scope:r,placedSide:I,onArrowChange:E,arrowX:V,arrowY:Z,shouldHideArrow:re,children:t.jsx(ot.div,{"data-side":I,"data-align":G,...j,ref:b,style:{...j.style,animation:U?void 0:"none"}})})})});q8.displayName=dA;var V8="PopperArrow",ote={top:"bottom",right:"left",bottom:"top",left:"right"},B8=w.forwardRef(function(n,r){const{__scopePopper:a,...s}=n,i=ite(V8,a),o=ote[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(rte,{...s,ref:r,style:{...s.style,display:"block"}})})});B8.displayName=V8;function lte(e){return e!==null}var cte=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:a,middlewareData:s}=n,o=s.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,f]=H8(r),h={start:"0%",center:"50%",end:"100%"}[f],p=(s.arrow?.x??0)+l/2,v=(s.arrow?.y??0)+d/2;let N="",j="";return u==="bottom"?(N=o?h:`${p}px`,j=`${-d}px`):u==="top"?(N=o?h:`${p}px`,j=`${a.floating.height+d}px`):u==="right"?(N=`${-d}px`,j=o?h:`${v}px`):u==="left"&&(N=`${a.floating.width+d}px`,j=o?h:`${v}px`),{data:{x:N,y:j}}}});function H8(e){const[n,r="center"]=e.split("-");return[n,r]}var Qy=F8,dp=z8,Yy=q8,Xy=B8,[Zy]=sr("Tooltip",[Ol]),Jy=Ol(),U8="TooltipProvider",dte=700,$S="tooltip.open",[ute,uA]=Zy(U8),K8=e=>{const{__scopeTooltip:n,delayDuration:r=dte,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=w.useRef(!0),l=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),t.jsx(ute,{scope:n,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};K8.displayName=U8;var ej="Tooltip",[mte,tj]=Zy(ej),W8=e=>{const{__scopeTooltip:n,children:r,open:a,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,d=uA(ej,e.__scopeTooltip),u=Jy(n),[f,h]=w.useState(null),p=cr(),v=w.useRef(0),N=o??d.disableHoverableContent,j=l??d.delayDuration,g=w.useRef(!1),[P=!1,C]=sa({prop:a,defaultProp:s,onChange:k=>{k?(d.onOpen(),document.dispatchEvent(new CustomEvent($S))):d.onClose(),i?.(k)}}),b=w.useMemo(()=>P?g.current?"delayed-open":"instant-open":"closed",[P]),y=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,g.current=!1,C(!0)},[C]),E=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,C(!1)},[C]),S=w.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{g.current=!0,C(!0),v.current=0},j)},[j,C]);return w.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),t.jsx(Qy,{...u,children:t.jsx(mte,{scope:n,contentId:p,open:P,stateAttribute:b,trigger:f,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{d.isOpenDelayedRef.current?S():y()},[d.isOpenDelayedRef,S,y]),onTriggerLeave:w.useCallback(()=>{N?E():(window.clearTimeout(v.current),v.current=0)},[E,N]),onOpen:y,onClose:E,disableHoverableContent:N,children:r})})};W8.displayName=ej;var FS="TooltipTrigger",G8=w.forwardRef((e,n)=>{const{__scopeTooltip:r,...a}=e,s=tj(FS,r),i=uA(FS,r),o=Jy(r),l=w.useRef(null),d=qt(n,l,s.onTriggerChange),u=w.useRef(!1),f=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),t.jsx(dp,{asChild:!0,...o,children:t.jsx(ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:He(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:He(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:He(e.onBlur,s.onClose),onClick:He(e.onClick,s.onClose)})})});G8.displayName=FS;var fte="TooltipPortal",[iRe,hte]=Zy(fte,{forceMount:void 0}),gu="TooltipContent",Q8=w.forwardRef((e,n)=>{const r=hte(gu,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,o=tj(gu,e.__scopeTooltip);return t.jsx(ur,{present:a||o.open,children:o.disableHoverableContent?t.jsx(Y8,{side:s,...i,ref:n}):t.jsx(pte,{side:s,...i,ref:n})})}),pte=w.forwardRef((e,n)=>{const r=tj(gu,e.__scopeTooltip),a=uA(gu,e.__scopeTooltip),s=w.useRef(null),i=qt(n,s),[o,l]=w.useState(null),{trigger:d,onClose:u}=r,f=s.current,{onPointerInTransitChange:h}=a,p=w.useCallback(()=>{l(null),h(!1)},[h]),v=w.useCallback((N,j)=>{const g=N.currentTarget,P={x:N.clientX,y:N.clientY},C=jte(P,g.getBoundingClientRect()),b=bte(P,C),y=wte(j.getBoundingClientRect()),E=Cte([...b,...y]);l(E),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(d&&f){const N=g=>v(g,f),j=g=>v(g,d);return d.addEventListener("pointerleave",N),f.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",N),f.removeEventListener("pointerleave",j)}}},[d,f,v,p]),w.useEffect(()=>{if(o){const N=j=>{const g=j.target,P={x:j.clientX,y:j.clientY},C=d?.contains(g)||f?.contains(g),b=!Nte(P,o);C?p():b&&(p(),u())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[d,f,o,u,p]),t.jsx(Y8,{...e,ref:i})}),[xte,gte]=Zy(ej,{isInside:!1}),vte=ML("TooltipContent"),Y8=w.forwardRef((e,n)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=tj(gu,r),u=Jy(r),{onClose:f}=d;return w.useEffect(()=>(document.addEventListener($S,f),()=>document.removeEventListener($S,f)),[f]),w.useEffect(()=>{if(d.trigger){const h=p=>{p.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,f]),t.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:t.jsxs(Yy,{"data-state":d.stateAttribute,...u,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(vte,{children:a}),t.jsx(xte,{scope:r,isInside:!0,children:t.jsx(sZ,{id:d.contentId,role:"tooltip",children:s||a})})]})})});Q8.displayName=gu;var X8="TooltipArrow",yte=w.forwardRef((e,n)=>{const{__scopeTooltip:r,...a}=e,s=Jy(r);return gte(X8,r).isInside?null:t.jsx(Xy,{...s,...a,ref:n})});yte.displayName=X8;function jte(e,n){const r=Math.abs(n.top-e.y),a=Math.abs(n.bottom-e.y),s=Math.abs(n.right-e.x),i=Math.abs(n.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function bte(e,n,r=5){const a=[];switch(n){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function wte(e){const{top:n,right:r,bottom:a,left:s}=e;return[{x:s,y:n},{x:r,y:n},{x:r,y:a},{x:s,y:a}]}function Nte(e,n){const{x:r,y:a}=e;let s=!1;for(let i=0,o=n.length-1;i<n.length;o=i++){const l=n[i].x,d=n[i].y,u=n[o].x,f=n[o].y;d>a!=f>a&&r<(u-l)*(a-d)/(f-d)+l&&(s=!s)}return s}function Cte(e){const n=e.slice();return n.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),Ste(n)}function Ste(e){if(e.length<=1)return e.slice();const n=[];for(let a=0;a<e.length;a++){const s=e[a];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}n.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var Pte=K8,Ete=W8,Ate=G8,Z8=Q8;const J8=Pte,Ls=Ete,zs=Ate,rs=w.forwardRef(({className:e,sideOffset:n=4,...r},a)=>t.jsx(Z8,{ref:a,sideOffset:n,className:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));rs.displayName=Z8.displayName;const ez=w.createContext(void 0);function kte({children:e}){const[n,r]=w.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("mcg-theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});w.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(n),localStorage.setItem("mcg-theme",n)},[n]);const a=()=>{r(s=>s==="light"?"dark":"light")};return t.jsx(ez.Provider,{value:{theme:n,setTheme:r,toggleTheme:a},children:e})}function tz(){const e=w.useContext(ez);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function za(){const{data:e,isLoading:n}=Ve({queryKey:["/api/auth/user"],queryFn:TL({on401:"returnNull"}),retry:!1,staleTime:3e5,refetchOnWindowFocus:!1});return{user:e,isLoading:n,isAuthenticated:!!e,logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch{}Ce.clear(),window.location.href="/"}}}const mA=Gc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),H=w.forwardRef(({className:e,variant:n,size:r,asChild:a=!1,...s},i)=>{const o=a?$y:"button";return t.jsx(o,{className:Fe(mA({variant:n,size:r,className:e})),ref:i,...s})});H.displayName="Button";const ee=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...n}));ee.displayName="Card";const de=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("flex flex-col space-y-1.5 p-6",e),...n}));de.displayName="CardHeader";const ue=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("text-2xl font-semibold leading-none tracking-tight",e),...n}));ue.displayName="CardTitle";const rt=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("text-sm text-muted-foreground",e),...n}));rt.displayName="CardDescription";const te=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("p-6 pt-0",e),...n}));te.displayName="CardContent";const hi=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("flex items-center p-6 pt-0",e),...n}));hi.displayName="CardFooter";function _te(){const[e,n]=w.useState(!1);w.useEffect(()=>{localStorage.getItem("cookie-consent")||n(!0)},[]);const r=()=>{localStorage.setItem("cookie-consent","accepted"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),n(!1)},a=()=>{localStorage.setItem("cookie-consent","rejected"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),n(!1)};return e?t.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4","data-testid":"cookie-consent-banner",children:t.jsx(ee,{className:"max-w-4xl mx-auto",children:t.jsx(te,{className:"p-4 md:p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Aviso de Cookies e LGPD"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Utilizamos cookies para melhorar sua experincia de navegao e personalizar contedo. Ao continuar navegando, voc concorda com nossa"," ",t.jsx(it,{href:"/privacidade",className:"text-primary underline",children:"Poltica de Privacidade"})," ","e"," ",t.jsx(it,{href:"/termos",className:"text-primary underline",children:"Termos de Uso"}),", em conformidade com a Lei Geral de Proteo de Dados (LGPD)."]})]}),t.jsxs("div",{className:"flex gap-2 shrink-0",children:[t.jsx(H,{variant:"outline",onClick:a,"data-testid":"button-cookie-reject",children:"Recusar"}),t.jsx(H,{onClick:r,"data-testid":"button-cookie-accept",children:"Aceitar"})]})]})})})}):null}function Tte(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-background",children:t.jsx(ee,{className:"w-full max-w-md mx-4",children:t.jsxs(te,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(Sc,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold",children:"Pagina nao encontrada"})]}),t.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"A pagina que voce esta procurando nao existe."}),t.jsx("div",{className:"mt-6",children:t.jsx(H,{asChild:!0,children:t.jsxs(it,{href:"/",children:[t.jsx(YZ,{className:"h-4 w-4 mr-2"}),"Voltar para o Inicio"]})})})]})})})}var nz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VO=se.createContext&&se.createContext(nz),Ote=["attr","size","title"];function Mte(e,n){if(e==null)return{};var r=Rte(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Rte(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lv.apply(this,arguments)}function BO(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cv(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?BO(Object(r),!0).forEach(function(a){Dte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dte(e,n,r){return n=Ite(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Ite(e){var n=$te(e,"string");return typeof n=="symbol"?n:n+""}function $te(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function rz(e){return e&&e.map((n,r)=>se.createElement(n.tag,cv({key:r},n.attr),rz(n.child)))}function Yc(e){return n=>se.createElement(Fte,lv({attr:cv({},e.attr)},n),rz(e.child))}function Fte(e){var n=r=>{var{attr:a,size:s,title:i}=e,o=Mte(e,Ote),l=s||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),se.createElement("svg",lv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:d,style:cv(cv({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&se.createElement("title",null,i),e.children)};return VO!==void 0?se.createElement(VO.Consumer,null,r=>n(r)):n(nz)}function Lte(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function LS(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}function zte(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function qte(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function Qf(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function Vte(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function HO(e){return Yc({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}function ja(){const{theme:e,toggleTheme:n}=tz();return t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsxs(H,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:[e==="light"?t.jsx(aJ,{className:"h-5 w-5"}):t.jsx(xJ,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),t.jsx(rs,{children:e==="light"?"Modo escuro":"Modo claro"})]})}const Ir="/assets/logo_mcg_principal-CVqM-_DP.png",Bte=[{icon:wi,title:"Checklist Completo",description:"15 departamentos com questes estruturadas para diagnstico completo da operao",href:"/login"},{icon:Po,title:"Calculadoras",description:"Clculo preciso de frete e armazenagem com ICMS, GRIS, ADV e impostos",href:"/calculadora-frete"},{icon:hn,title:"CRM Integrado",description:"Gesto completa de clientes com pipeline visual e acompanhamento de propostas",href:"/login"},{icon:us,title:"Dashboard Gerencial",description:"Visualizao em tempo real dos indicadores da sua operao comercial",href:"/login"},{icon:pn,title:"Mdulo Financeiro",description:"Controle de contas a pagar e receber com gesto de encargos contbeis",href:"/login"},{icon:Hs,title:"Multi-empresas",description:"Arquitetura segura com isolamento completo de dados entre empresas",href:"/planos"}],Hte=[{title:"Consultoria Comercial",description:"Acompanhamento especializado para transformar sua operao comercial em logstica, com mentoria contnua e suporte estratgico.",features:["Mentoria executiva personalizada","Anlise de mercado e concorrncia","Estratgias de expanso comercial","Acompanhamento de metas e KPIs"],icon:ip,highlighted:!0},{title:"Diagnstico de Maturidade Comercial",description:"Avaliao completa da estrutura comercial da sua empresa de logstica, identificando pontos de melhoria e oportunidades de crescimento.",features:["Anlise de 15 departamentos","Checklist personalizado por segmento","Relatrio detalhado de gaps","Plano de ao recomendado"],icon:Dr,highlighted:!1},{title:"Estruturao de Vendas",description:"Implementao de processos comerciais eficientes, desde a prospeco at o fechamento de contratos de transporte e armazenagem.",features:["Definio de processos comerciais","Treinamento da equipe de vendas","Implantao de CRM","Acompanhamento de resultados"],icon:Kf,highlighted:!1}];function UO(){const{user:e,isAuthenticated:n}=za();return w.useEffect(()=>{if(!document.getElementById("ra-embed-reputation")){const a=document.createElement("script");a.id="ra-embed-reputation",a.src="https://s3.amazonaws.com/raichu-beta/selos/bundle.js",a.setAttribute("data-id","Ul8zMWxjWHRCU05IcTBHUTptY2ctY29uc3VsdG9yaWEtbHRkYQ=="),a.setAttribute("data-target","reputation-ra"),a.setAttribute("data-model","1");const s=document.getElementById("reputation-ra");s&&s.appendChild(a)}},[]),t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2","data-testid":"link-logo-header",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[t.jsx(it,{href:"/diagnstico",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Diagnstico Grtis"}),t.jsx(it,{href:"/calculadora-frete",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Calculadora Frete"}),t.jsx(it,{href:"/calculadora-armazenagem",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Calculadora Armazenagem"}),t.jsx(it,{href:"/planos",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Planos"}),t.jsx(it,{href:"/faleconosco",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Fale Conosco"}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsx("a",{href:"https://play.google.com/store",target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-md bg-foreground/10 hover:bg-foreground/20 transition-colors",title:"Google Play",children:t.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:t.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.61 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})})}),t.jsx("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-md bg-foreground/10 hover:bg-foreground/20 transition-colors",title:"App Store",children:t.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:t.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ja,{}),n&&e?t.jsx(it,{href:"/dashboard",children:t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md border border-border bg-muted/50 cursor-pointer","data-testid":"button-logged-in",children:[t.jsx(Hy,{className:"h-4 w-4 text-green-600"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:"Logado"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:e.email})]})]})}):t.jsx(it,{href:"/login",children:t.jsx(H,{"data-testid":"button-login",children:"Entrar"})})]})]})}),t.jsxs("main",{children:[t.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-16",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary/10"}),t.jsxs("div",{className:"relative max-w-screen-xl mx-auto px-6 py-20 text-center",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-8",children:[t.jsx(nn,{className:"h-4 w-4"}),"Modelo Completo de Gesto Comercial"]}),t.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6 max-w-4xl mx-auto",children:["Gesto comercial inteligente para"," ",t.jsx("span",{className:"text-primary",children:"operaes logsticas"})]}),t.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:"Sistema completo para gesto de empresas do setor logstico. CRM, calculadoras, checklists e controle financeiro em uma nica plataforma."}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[t.jsx(it,{href:"/diagnstico",children:t.jsxs(H,{size:"lg",className:"gap-2","data-testid":"button-diagnostic",children:["Faa Diagnstico Grtis",t.jsx(gl,{className:"h-4 w-4"})]})}),t.jsxs("div",{className:"flex flex-row items-center gap-4",children:[t.jsx(it,{href:"/calculadora-frete",children:t.jsx(H,{size:"lg",variant:"outline",className:"gap-2","data-testid":"button-calc-frete",children:"Calculadora de Frete"})}),t.jsx(it,{href:"/calculadora-armazenagem",children:t.jsx(H,{size:"lg",variant:"outline",className:"gap-2","data-testid":"button-calc-armazenagem",children:"Calculadora de Armazenagem"})})]})]}),t.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-primary",children:"15+"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Anos de experincia"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-primary",children:"100+"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Empresas atendidas"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-primary",children:"15"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Departamentos analisados"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-primary",children:"27"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Estados cobertos"})]})]}),t.jsx("div",{className:"mt-16 p-6 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-full bg-primary/20",children:t.jsx(pJ,{className:"h-8 w-8 text-primary"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"MCG no seu bolso"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Instale nosso app e acesse de qualquer lugar"})]})]}),t.jsxs("div",{className:"flex flex-row gap-3",children:[t.jsxs("a",{href:"https://wa.me/5541995323362",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:opacity-90 transition-opacity","data-testid":"link-whatsapp-app",children:[t.jsx(Qf,{className:"h-5 w-5"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-[10px] leading-none opacity-80",children:"Fale pelo"}),t.jsx("div",{className:"text-sm font-semibold leading-tight",children:"WhatsApp"})]})]}),t.jsxs("a",{href:"https://play.google.com/store",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-foreground text-background rounded-lg hover:opacity-90 transition-opacity","data-testid":"link-google-play",children:[t.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor",children:t.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.61 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-[10px] leading-none opacity-80",children:"Disponivel no"}),t.jsx("div",{className:"text-sm font-semibold leading-tight",children:"Google Play"})]})]}),t.jsxs("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-foreground text-background rounded-lg hover:opacity-90 transition-opacity","data-testid":"link-app-store",children:[t.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor",children:t.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-[10px] leading-none opacity-80",children:"Baixe na"}),t.jsx("div",{className:"text-sm font-semibold leading-tight",children:"App Store"})]})]})]})]})})]})]}),t.jsx("section",{id:"servios",className:"py-20 bg-muted/30",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Nossos Servios"}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Solues especializadas para empresas de transporte e armazenagem que buscam excelncia comercial"})]}),t.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:Hte.map(r=>t.jsxs(ee,{className:`overflow-hidden ${r.highlighted?"ring-2 ring-primary bg-primary/5":""}`,children:[r.highlighted&&t.jsx("div",{className:"bg-primary text-primary-foreground text-center py-2 text-sm font-medium",children:"Destaque"}),t.jsxs(te,{className:"p-8",children:[t.jsx("div",{className:`w-14 h-14 rounded-lg flex items-center justify-center mb-6 ${r.highlighted?"bg-primary":"bg-primary/10"}`,children:t.jsx(r.icon,{className:`h-7 w-7 ${r.highlighted?"text-primary-foreground":"text-primary"}`})}),t.jsx("h3",{className:"text-2xl font-semibold mb-3",children:r.title}),t.jsx("p",{className:"text-muted-foreground mb-6",children:r.description}),t.jsx("ul",{className:"space-y-3",children:r.features.map(a=>t.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[t.jsx(ms,{className:"h-5 w-5 text-primary flex-shrink-0"}),a]},a))})]})]},r.title))})]})}),t.jsx("section",{id:"funcionalidades",className:"py-20",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Funcionalidades do Sistema"}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Tudo que voc precisa para gerenciar sua operao comercial em um s lugar"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Bte.map(r=>t.jsx(it,{href:r.href,children:t.jsx(ee,{className:"hover-elevate cursor-pointer h-full",children:t.jsxs(te,{className:"p-6",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:t.jsx(r.icon,{className:"h-6 w-6 text-primary"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})})},r.title))})]})}),t.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Pronto para transformar sua gesto comercial?"}),t.jsx("p",{className:"text-primary-foreground/80 max-w-2xl mx-auto mb-8",children:"Comece agora e tenha acesso ao sistema completo de gesto para empresas de logstica"}),t.jsx(it,{href:"/login",children:t.jsxs(H,{size:"lg",variant:"secondary",className:"gap-2","data-testid":"button-cta-start",children:["Acessar o sistema",t.jsx(gl,{className:"h-4 w-4"})]})})]})}),t.jsx("section",{id:"contato",className:"py-20 bg-muted/30",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Entre em Contato"}),t.jsx("p",{className:"text-muted-foreground",children:"Fale conosco para saber mais sobre nossos servios"})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-3xl mx-auto",children:[t.jsx("a",{href:"https://wa.me/5541995323362",target:"_blank",rel:"noopener noreferrer",children:t.jsx(ee,{className:"hover-elevate cursor-pointer",children:t.jsxs(te,{className:"p-6 flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:t.jsx(Qf,{className:"h-5 w-5 text-primary"})}),t.jsx("h3",{className:"font-medium mb-1",children:"WhatsApp"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"(41) 9 9532-3362"})]})})}),t.jsx("a",{href:"mailto:comercial@mcgconsultoria.com.br",children:t.jsx(ee,{className:"hover-elevate cursor-pointer",children:t.jsxs(te,{className:"p-6 flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:t.jsx(Ks,{className:"h-5 w-5 text-primary"})}),t.jsx("h3",{className:"font-medium mb-1",children:"Email"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"comercial@mcgconsultoria.com.br"})]})})}),t.jsx("a",{href:"https://www.youtube.com/@mcgconsultoriacomercial",target:"_blank",rel:"noopener noreferrer",children:t.jsx(ee,{className:"hover-elevate cursor-pointer",children:t.jsxs(te,{className:"p-6 flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:t.jsx(HO,{className:"h-5 w-5 text-primary"})}),t.jsx("h3",{className:"font-medium mb-1",children:"PodBlog MCG"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Canal no YouTube"})]})})})]})]})})]}),t.jsx("footer",{className:"bg-card border-t border-border py-12",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6",children:[t.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[t.jsxs("div",{children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2 mb-4","data-testid":"link-logo-footer",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Consultoria especializada em logstica com foco na rea comercial."}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"CNPJ: 08.670.140/0001-89"}),t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsxs("a",{href:"https://play.google.com/store",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-foreground text-background rounded-md text-xs hover:opacity-90 transition-opacity",children:[t.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:t.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.61 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),"Google Play"]}),t.jsxs("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-foreground text-background rounded-md text-xs hover:opacity-90 transition-opacity",children:[t.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:t.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}),"App Store"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"Servios"}),t.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("li",{children:"Diagnstico Comercial"}),t.jsx("li",{children:"Estruturao de Vendas"}),t.jsx("li",{children:"Treinamentos"}),t.jsx("li",{children:"Consultoria"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"Sistema"}),t.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("li",{children:"CRM"}),t.jsx("li",{children:"Calculadoras"}),t.jsx("li",{children:"Checklists"}),t.jsx("li",{children:"Dashboard"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"Suporte"}),t.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("li",{children:"Central de Ajuda"}),t.jsx("li",{children:t.jsx(it,{href:"/faleconosco",className:"hover:text-foreground",children:"Fale Conosco"})}),t.jsx("li",{children:t.jsx(it,{href:"/termos",className:"hover:text-foreground",children:"Termos de Uso"})}),t.jsx("li",{children:t.jsx(it,{href:"/privacidade",className:"hover:text-foreground",children:"Privacidade"})})]})]})]}),t.jsx("div",{className:"border-t border-border mt-12 pt-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," MCG Consultoria. Todos os direitos reservados."]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("a",{href:"https://www.facebook.com/mcgconsultoriacomercial",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-facebook","aria-label":"Facebook",children:t.jsx(Lte,{className:"h-4 w-4 text-muted-foreground"})}),t.jsx("a",{href:"https://www.instagram.com/mcgconsultoriacomercial",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-instagram","aria-label":"Instagram",children:t.jsx(zte,{className:"h-4 w-4 text-muted-foreground"})}),t.jsx("a",{href:"https://www.linkedin.com/company/mcgconsultoriacomercial",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-linkedin","aria-label":"LinkedIn",children:t.jsx(qte,{className:"h-4 w-4 text-muted-foreground"})}),t.jsx("a",{href:"https://x.com/mcgconsultoriac",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-x-twitter","aria-label":"X (Twitter)",children:t.jsx(Vte,{className:"h-4 w-4 text-muted-foreground"})}),t.jsx("a",{href:"https://www.google.com/maps/place/MCG+Consultoria",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-google","aria-label":"Google Meu Negcio",children:t.jsx(LS,{className:"h-4 w-4 text-muted-foreground"})}),t.jsx("a",{href:"https://www.youtube.com/@mcgconsultoriacomercial",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-md bg-muted/50 flex items-center justify-center hover-elevate","data-testid":"link-youtube","aria-label":"YouTube",children:t.jsx(HO,{className:"h-4 w-4 text-muted-foreground"})})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-center",children:[t.jsx("div",{id:"reputation-ra","data-testid":"badge-reclame-aqui"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-md",children:[t.jsx(Hs,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),"Pagamento Seguro"]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-md",children:[t.jsx(Hs,{className:"h-4 w-4 text-primary"}),"LGPD Compliance"]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-md",children:[t.jsx(Hs,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"}),"SSL/TLS"]})]})]})})]})})]})}var up=e=>e.type==="checkbox",mc=e=>e instanceof Date,Yr=e=>e==null;const az=e=>typeof e=="object";var rr=e=>!Yr(e)&&!Array.isArray(e)&&az(e)&&!mc(e),sz=e=>rr(e)&&e.target?up(e.target)?e.target.checked:e.target.value:e,Ute=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,iz=(e,n)=>e.has(Ute(n)),Kte=e=>{const n=e.constructor&&e.constructor.prototype;return rr(n)&&n.hasOwnProperty("isPrototypeOf")},fA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mr(e){let n;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(e instanceof Set)n=new Set(e);else if(!(fA&&(e instanceof Blob||a))&&(r||rr(e)))if(n=r?[]:{},!r&&!Kte(e))n=e;else for(const s in e)e.hasOwnProperty(s)&&(n[s]=Mr(e[s]));else return e;return n}var nj=e=>Array.isArray(e)?e.filter(Boolean):[],nr=e=>e===void 0,lt=(e,n,r)=>{if(!n||!rr(e))return r;const a=nj(n.split(/[,[\].]+?/)).reduce((s,i)=>Yr(s)?s:s[i],e);return nr(a)||a===e?nr(e[n])?r:e[n]:a},Oa=e=>typeof e=="boolean",hA=e=>/^\w*$/.test(e),oz=e=>nj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),jn=(e,n,r)=>{let a=-1;const s=hA(n)?[n]:oz(n),i=s.length,o=i-1;for(;++a<i;){const l=s[a];let d=r;if(a!==o){const u=e[l];d=rr(u)||Array.isArray(u)?u:isNaN(+s[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=d,e=e[l]}};const dv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Is={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lz=se.createContext(null),rj=()=>se.useContext(lz),Wte=e=>{const{children:n,...r}=e;return se.createElement(lz.Provider,{value:r},n)};var cz=(e,n,r,a=!0)=>{const s={defaultValues:n._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return n._proxyFormState[o]!==Is.all&&(n._proxyFormState[o]=!a||Is.all),r&&(r[o]=!0),e[o]}});return s};function Gte(e){const n=rj(),{control:r=n.control,disabled:a,name:s,exact:i}=e||{},[o,l]=se.useState(r._formState),d=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=se.useRef(s);return u.current=s,se.useEffect(()=>r._subscribe({name:u.current,formState:d.current,exact:i,callback:f=>{!a&&l({...r._formState,...f})}}),[r,a,i]),se.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>cz(o,r,d.current,!1),[o,r])}var pi=e=>typeof e=="string",dz=(e,n,r,a,s)=>pi(e)?(a&&n.watch.add(e),lt(r,e,s)):Array.isArray(e)?e.map(i=>(a&&n.watch.add(i),lt(r,i))):(a&&(n.watchAll=!0),r);function Qte(e){const n=rj(),{control:r=n.control,name:a,defaultValue:s,disabled:i,exact:o}=e||{},l=se.useRef(a),d=se.useRef(s);l.current=a,se.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!i&&f(dz(l.current,r._names,h.values||r._formValues,!1,d.current))}),[r,i,o]);const[u,f]=se.useState(r._getWatch(a,s));return se.useEffect(()=>r._removeUnmounted()),u}function Yte(e){const n=rj(),{name:r,disabled:a,control:s=n.control,shouldUnregister:i}=e,o=iz(s._names.array,r),l=Qte({control:s,name:r,defaultValue:lt(s._formValues,r,lt(s._defaultValues,r,e.defaultValue)),exact:!0}),d=Gte({control:s,name:r,exact:!0}),u=se.useRef(e),f=se.useRef(s.register(r,{...e.rules,value:l,...Oa(e.disabled)?{disabled:e.disabled}:{}})),h=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!lt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!lt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!lt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!lt(d.validatingFields,r)},error:{enumerable:!0,get:()=>lt(d.errors,r)}}),[d,r]),p=se.useCallback(g=>f.current.onChange({target:{value:sz(g),name:r},type:dv.CHANGE}),[r]),v=se.useCallback(()=>f.current.onBlur({target:{value:lt(s._formValues,r),name:r},type:dv.BLUR}),[r,s._formValues]),N=se.useCallback(g=>{const P=lt(s._fields,r);P&&g&&(P._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:C=>g.setCustomValidity(C),reportValidity:()=>g.reportValidity()})},[s._fields,r]),j=se.useMemo(()=>({name:r,value:l,...Oa(a)||d.disabled?{disabled:d.disabled||a}:{},onChange:p,onBlur:v,ref:N}),[r,a,d.disabled,p,v,N,l]);return se.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(r,{...u.current.rules,...Oa(u.current.disabled)?{disabled:u.current.disabled}:{}});const P=(C,b)=>{const y=lt(s._fields,C);y&&y._f&&(y._f.mount=b)};if(P(r,!0),g){const C=Mr(lt(s._options.defaultValues,r));jn(s._defaultValues,r,C),nr(lt(s._formValues,r))&&jn(s._formValues,r,C)}return!o&&s.register(r),()=>{(o?g&&!s._state.action:g)?s.unregister(r):P(r,!1)}},[r,s,o,i]),se.useEffect(()=>{s._setDisabledField({disabled:a,name:r})},[a,r,s]),se.useMemo(()=>({field:j,formState:d,fieldState:h}),[j,d,h])}const Xte=e=>e.render(Yte(e));var uz=(e,n,r,a,s)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{},Mf=e=>Array.isArray(e)?e:[e],KO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},zS=e=>Yr(e)||!az(e);function hl(e,n){if(zS(e)||zS(n))return e===n;if(mc(e)&&mc(n))return e.getTime()===n.getTime();const r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(const s of r){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=n[s];if(mc(i)&&mc(o)||rr(i)&&rr(o)||Array.isArray(i)&&Array.isArray(o)?!hl(i,o):i!==o)return!1}}return!0}var Qr=e=>rr(e)&&!Object.keys(e).length,pA=e=>e.type==="file",$s=e=>typeof e=="function",uv=e=>{if(!fA)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},mz=e=>e.type==="select-multiple",xA=e=>e.type==="radio",Zte=e=>xA(e)||up(e),P1=e=>uv(e)&&e.isConnected;function Jte(e,n){const r=n.slice(0,-1).length;let a=0;for(;a<r;)e=nr(e)?a++:e[n[a++]];return e}function ene(e){for(const n in e)if(e.hasOwnProperty(n)&&!nr(e[n]))return!1;return!0}function xr(e,n){const r=Array.isArray(n)?n:hA(n)?[n]:oz(n),a=r.length===1?e:Jte(e,r),s=r.length-1,i=r[s];return a&&delete a[i],s!==0&&(rr(a)&&Qr(a)||Array.isArray(a)&&ene(a))&&xr(e,r.slice(0,-1)),e}var fz=e=>{for(const n in e)if($s(e[n]))return!0;return!1};function mv(e,n={}){const r=Array.isArray(e);if(rr(e)||r)for(const a in e)Array.isArray(e[a])||rr(e[a])&&!fz(e[a])?(n[a]=Array.isArray(e[a])?[]:{},mv(e[a],n[a])):Yr(e[a])||(n[a]=!0);return n}function hz(e,n,r){const a=Array.isArray(e);if(rr(e)||a)for(const s in e)Array.isArray(e[s])||rr(e[s])&&!fz(e[s])?nr(n)||zS(r[s])?r[s]=Array.isArray(e[s])?mv(e[s],[]):{...mv(e[s])}:hz(e[s],Yr(n)?{}:n[s],r[s]):r[s]=!hl(e[s],n[s]);return r}var sf=(e,n)=>hz(e,n,mv(n));const WO={value:!1,isValid:!1},GO={value:!0,isValid:!0};var pz=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nr(e[0].attributes.value)?nr(e[0].value)||e[0].value===""?GO:{value:e[0].value,isValid:!0}:GO:WO}return WO},xz=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:a})=>nr(e)?e:n?e===""?NaN:e&&+e:r&&pi(e)?new Date(e):a?a(e):e;const QO={isValid:!1,value:null};var gz=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,QO):QO;function YO(e){const n=e.ref;return pA(n)?n.files:xA(n)?gz(e.refs).value:mz(n)?[...n.selectedOptions].map(({value:r})=>r):up(n)?pz(e.refs).value:xz(nr(n.value)?e.ref.value:n.value,e)}var tne=(e,n,r,a)=>{const s={};for(const i of e){const o=lt(n,i);o&&jn(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}},fv=e=>e instanceof RegExp,of=e=>nr(e)?e:fv(e)?e.source:rr(e)?fv(e.value)?e.value.source:e.value:e,XO=e=>({isOnSubmit:!e||e===Is.onSubmit,isOnBlur:e===Is.onBlur,isOnChange:e===Is.onChange,isOnAll:e===Is.all,isOnTouch:e===Is.onTouched});const ZO="AsyncFunction";var nne=e=>!!e&&!!e.validate&&!!($s(e.validate)&&e.validate.constructor.name===ZO||rr(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===ZO)),rne=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),JO=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Rf=(e,n,r,a)=>{for(const s of r||Object.keys(e)){const i=lt(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&n(o.refs[0],s)&&!a)return!0;if(o.ref&&n(o.ref,o.name)&&!a)return!0;if(Rf(l,n))break}else if(rr(l)&&Rf(l,n))break}}};function eM(e,n,r){const a=lt(e,r);if(a||hA(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=lt(n,i),l=lt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var ane=(e,n,r,a)=>{r(e);const{name:s,...i}=e;return Qr(i)||Object.keys(i).length>=Object.keys(n).length||Object.keys(i).find(o=>n[o]===(!a||Is.all))},sne=(e,n,r)=>!e||!n||e===n||Mf(e).some(a=>a&&(r?a===n:a.startsWith(n)||n.startsWith(a))),ine=(e,n,r,a,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(n||e):(r?a.isOnBlur:s.isOnBlur)?!e:(r?a.isOnChange:s.isOnChange)?e:!0,one=(e,n)=>!nj(lt(e,n)).length&&xr(e,n),lne=(e,n,r)=>{const a=Mf(lt(e,r));return jn(a,"root",n[r]),jn(e,r,a),e},Ig=e=>pi(e);function tM(e,n,r="validate"){if(Ig(e)||Array.isArray(e)&&e.every(Ig)||Oa(e)&&!e)return{type:r,message:Ig(e)?e:"",ref:n}}var Dd=e=>rr(e)&&!fv(e)?e:{value:e,message:""},nM=async(e,n,r,a,s,i)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:f,min:h,max:p,pattern:v,validate:N,name:j,valueAsNumber:g,mount:P}=e._f,C=lt(r,j);if(!P||n.has(j))return{};const b=l?l[0]:o,y=D=>{s&&b.reportValidity&&(b.setCustomValidity(Oa(D)?"":D||""),b.reportValidity())},E={},S=xA(o),k=up(o),T=S||k,z=(g||pA(o))&&nr(o.value)&&nr(C)||uv(o)&&o.value===""||C===""||Array.isArray(C)&&!C.length,Y=uz.bind(null,j,a,E),F=(D,R,q,Q=Qi.maxLength,K=Qi.minLength)=>{const U=D?R:q;E[j]={type:D?Q:K,message:U,ref:o,...Y(D?Q:K,U)}};if(i?!Array.isArray(C)||!C.length:d&&(!T&&(z||Yr(C))||Oa(C)&&!C||k&&!pz(l).isValid||S&&!gz(l).isValid)){const{value:D,message:R}=Ig(d)?{value:!!d,message:d}:Dd(d);if(D&&(E[j]={type:Qi.required,message:R,ref:b,...Y(Qi.required,R)},!a))return y(R),E}if(!z&&(!Yr(h)||!Yr(p))){let D,R;const q=Dd(p),Q=Dd(h);if(!Yr(C)&&!isNaN(C)){const K=o.valueAsNumber||C&&+C;Yr(q.value)||(D=K>q.value),Yr(Q.value)||(R=K<Q.value)}else{const K=o.valueAsDate||new Date(C),U=G=>new Date(new Date().toDateString()+" "+G),O=o.type=="time",I=o.type=="week";pi(q.value)&&C&&(D=O?U(C)>U(q.value):I?C>q.value:K>new Date(q.value)),pi(Q.value)&&C&&(R=O?U(C)<U(Q.value):I?C<Q.value:K<new Date(Q.value))}if((D||R)&&(F(!!D,q.message,Q.message,Qi.max,Qi.min),!a))return y(E[j].message),E}if((u||f)&&!z&&(pi(C)||i&&Array.isArray(C))){const D=Dd(u),R=Dd(f),q=!Yr(D.value)&&C.length>+D.value,Q=!Yr(R.value)&&C.length<+R.value;if((q||Q)&&(F(q,D.message,R.message),!a))return y(E[j].message),E}if(v&&!z&&pi(C)){const{value:D,message:R}=Dd(v);if(fv(D)&&!C.match(D)&&(E[j]={type:Qi.pattern,message:R,ref:o,...Y(Qi.pattern,R)},!a))return y(R),E}if(N){if($s(N)){const D=await N(C,r),R=tM(D,b);if(R&&(E[j]={...R,...Y(Qi.validate,R.message)},!a))return y(R.message),E}else if(rr(N)){let D={};for(const R in N){if(!Qr(D)&&!a)break;const q=tM(await N[R](C,r),b,R);q&&(D={...q,...Y(R,q.message)},y(q.message),a&&(E[j]=D))}if(!Qr(D)&&(E[j]={ref:b,...D},!a))return E}}return y(!0),E};const cne={mode:Is.onSubmit,reValidateMode:Is.onChange,shouldFocusError:!0};function dne(e={}){let n={...cne,...e},r={submitCount:0,isDirty:!1,isLoading:$s(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1};const a={};let s=rr(n.defaultValues)||rr(n.values)?Mr(n.values||n.defaultValues)||{}:{},i=n.shouldUnregister?{}:Mr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const p={array:KO(),state:KO()},v=XO(n.mode),N=XO(n.reValidateMode),j=n.criteriaMode===Is.all,g=oe=>ge=>{clearTimeout(u),u=setTimeout(oe,ge)},P=async oe=>{if(!n.disabled&&(f.isValid||h.isValid||oe)){const ge=n.resolver?Qr((await z()).errors):await F(a,!0);ge!==r.isValid&&p.state.next({isValid:ge})}},C=(oe,ge)=>{!n.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((oe||Array.from(l.mount)).forEach(ke=>{ke&&(ge?jn(r.validatingFields,ke,ge):xr(r.validatingFields,ke))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Qr(r.validatingFields)}))},b=(oe,ge=[],ke,Xe,Ue=!0,Le=!0)=>{if(Xe&&ke&&!n.disabled){if(o.action=!0,Le&&Array.isArray(lt(a,oe))){const at=ke(lt(a,oe),Xe.argA,Xe.argB);Ue&&jn(a,oe,at)}if(Le&&Array.isArray(lt(r.errors,oe))){const at=ke(lt(r.errors,oe),Xe.argA,Xe.argB);Ue&&jn(r.errors,oe,at),one(r.errors,oe)}if((f.touchedFields||h.touchedFields)&&Le&&Array.isArray(lt(r.touchedFields,oe))){const at=ke(lt(r.touchedFields,oe),Xe.argA,Xe.argB);Ue&&jn(r.touchedFields,oe,at)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=sf(s,i)),p.state.next({name:oe,isDirty:R(oe,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jn(i,oe,ge)},y=(oe,ge)=>{jn(r.errors,oe,ge),p.state.next({errors:r.errors})},E=oe=>{r.errors=oe,p.state.next({errors:r.errors,isValid:!1})},S=(oe,ge,ke,Xe)=>{const Ue=lt(a,oe);if(Ue){const Le=lt(i,oe,nr(ke)?lt(s,oe):ke);nr(Le)||Xe&&Xe.defaultChecked||ge?jn(i,oe,ge?Le:YO(Ue._f)):K(oe,Le),o.mount&&P()}},k=(oe,ge,ke,Xe,Ue)=>{let Le=!1,at=!1;const Bt={name:oe};if(!n.disabled){if(!ke||Xe){(f.isDirty||h.isDirty)&&(at=r.isDirty,r.isDirty=Bt.isDirty=R(),Le=at!==Bt.isDirty);const Qt=hl(lt(s,oe),ge);at=!!lt(r.dirtyFields,oe),Qt?xr(r.dirtyFields,oe):jn(r.dirtyFields,oe,!0),Bt.dirtyFields=r.dirtyFields,Le=Le||(f.dirtyFields||h.dirtyFields)&&at!==!Qt}if(ke){const Qt=lt(r.touchedFields,oe);Qt||(jn(r.touchedFields,oe,ke),Bt.touchedFields=r.touchedFields,Le=Le||(f.touchedFields||h.touchedFields)&&Qt!==ke)}Le&&Ue&&p.state.next(Bt)}return Le?Bt:{}},T=(oe,ge,ke,Xe)=>{const Ue=lt(r.errors,oe),Le=(f.isValid||h.isValid)&&Oa(ge)&&r.isValid!==ge;if(n.delayError&&ke?(d=g(()=>y(oe,ke)),d(n.delayError)):(clearTimeout(u),d=null,ke?jn(r.errors,oe,ke):xr(r.errors,oe)),(ke?!hl(Ue,ke):Ue)||!Qr(Xe)||Le){const at={...Xe,...Le&&Oa(ge)?{isValid:ge}:{},errors:r.errors,name:oe};r={...r,...at},p.state.next(at)}},z=async oe=>{C(oe,!0);const ge=await n.resolver(i,n.context,tne(oe||l.mount,a,n.criteriaMode,n.shouldUseNativeValidation));return C(oe),ge},Y=async oe=>{const{errors:ge}=await z(oe);if(oe)for(const ke of oe){const Xe=lt(ge,ke);Xe?jn(r.errors,ke,Xe):xr(r.errors,ke)}else r.errors=ge;return ge},F=async(oe,ge,ke={valid:!0})=>{for(const Xe in oe){const Ue=oe[Xe];if(Ue){const{_f:Le,...at}=Ue;if(Le){const Bt=l.array.has(Le.name),Qt=Ue._f&&nne(Ue._f);Qt&&f.validatingFields&&C([Xe],!0);const dn=await nM(Ue,l.disabled,i,j,n.shouldUseNativeValidation&&!ge,Bt);if(Qt&&f.validatingFields&&C([Xe]),dn[Le.name]&&(ke.valid=!1,ge))break;!ge&&(lt(dn,Le.name)?Bt?lne(r.errors,dn,Le.name):jn(r.errors,Le.name,dn[Le.name]):xr(r.errors,Le.name))}!Qr(at)&&await F(at,ge,ke)}}return ke.valid},D=()=>{for(const oe of l.unMount){const ge=lt(a,oe);ge&&(ge._f.refs?ge._f.refs.every(ke=>!P1(ke)):!P1(ge._f.ref))&&L(oe)}l.unMount=new Set},R=(oe,ge)=>!n.disabled&&(oe&&ge&&jn(i,oe,ge),!hl(V(),s)),q=(oe,ge,ke)=>dz(oe,l,{...o.mount?i:nr(ge)?s:pi(oe)?{[oe]:ge}:ge},ke,ge),Q=oe=>nj(lt(o.mount?i:s,oe,n.shouldUnregister?lt(s,oe,[]):[])),K=(oe,ge,ke={})=>{const Xe=lt(a,oe);let Ue=ge;if(Xe){const Le=Xe._f;Le&&(!Le.disabled&&jn(i,oe,xz(ge,Le)),Ue=uv(Le.ref)&&Yr(ge)?"":ge,mz(Le.ref)?[...Le.ref.options].forEach(at=>at.selected=Ue.includes(at.value)):Le.refs?up(Le.ref)?Le.refs.length>1?Le.refs.forEach(at=>(!at.defaultChecked||!at.disabled)&&(at.checked=Array.isArray(Ue)?!!Ue.find(Bt=>Bt===at.value):Ue===at.value)):Le.refs[0]&&(Le.refs[0].checked=!!Ue):Le.refs.forEach(at=>at.checked=at.value===Ue):pA(Le.ref)?Le.ref.value="":(Le.ref.value=Ue,Le.ref.type||p.state.next({name:oe,values:Mr(i)})))}(ke.shouldDirty||ke.shouldTouch)&&k(oe,Ue,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&M(oe)},U=(oe,ge,ke)=>{for(const Xe in ge){const Ue=ge[Xe],Le=`${oe}.${Xe}`,at=lt(a,Le);(l.array.has(oe)||rr(Ue)||at&&!at._f)&&!mc(Ue)?U(Le,Ue,ke):K(Le,Ue,ke)}},O=(oe,ge,ke={})=>{const Xe=lt(a,oe),Ue=l.array.has(oe),Le=Mr(ge);jn(i,oe,Le),Ue?(p.array.next({name:oe,values:Mr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ke.shouldDirty&&p.state.next({name:oe,dirtyFields:sf(s,i),isDirty:R(oe,Le)})):Xe&&!Xe._f&&!Yr(Le)?U(oe,Le,ke):K(oe,Le,ke),JO(oe,l)&&p.state.next({...r}),p.state.next({name:o.mount?oe:void 0,values:Mr(i)})},I=async oe=>{o.mount=!0;const ge=oe.target;let ke=ge.name,Xe=!0;const Ue=lt(a,ke),Le=at=>{Xe=Number.isNaN(at)||mc(at)&&isNaN(at.getTime())||hl(at,lt(i,ke,at))};if(Ue){let at,Bt;const Qt=ge.type?YO(Ue._f):sz(oe),dn=oe.type===dv.BLUR||oe.type===dv.FOCUS_OUT,Va=!rne(Ue._f)&&!n.resolver&&!lt(r.errors,ke)&&!Ue._f.deps||ine(dn,lt(r.touchedFields,ke),r.isSubmitted,N,v),ua=JO(ke,l,dn);jn(i,ke,Qt),dn?(Ue._f.onBlur&&Ue._f.onBlur(oe),d&&d(0)):Ue._f.onChange&&Ue._f.onChange(oe);const br=k(ke,Qt,dn),Ba=!Qr(br)||ua;if(!dn&&p.state.next({name:ke,type:oe.type,values:Mr(i)}),Va)return(f.isValid||h.isValid)&&(n.mode==="onBlur"?dn&&P():dn||P()),Ba&&p.state.next({name:ke,...ua?{}:br});if(!dn&&ua&&p.state.next({...r}),n.resolver){const{errors:ti}=await z([ke]);if(Le(Qt),Xe){const Ri=eM(r.errors,a,ke),ni=eM(ti,a,Ri.name||ke);at=ni.error,ke=ni.name,Bt=Qr(ti)}}else C([ke],!0),at=(await nM(Ue,l.disabled,i,j,n.shouldUseNativeValidation))[ke],C([ke]),Le(Qt),Xe&&(at?Bt=!1:(f.isValid||h.isValid)&&(Bt=await F(a,!0)));Xe&&(Ue._f.deps&&M(Ue._f.deps),T(ke,Bt,at,br))}},G=(oe,ge)=>{if(lt(r.errors,ge)&&oe.focus)return oe.focus(),1},M=async(oe,ge={})=>{let ke,Xe;const Ue=Mf(oe);if(n.resolver){const Le=await Y(nr(oe)?oe:Ue);ke=Qr(Le),Xe=oe?!Ue.some(at=>lt(Le,at)):ke}else oe?(Xe=(await Promise.all(Ue.map(async Le=>{const at=lt(a,Le);return await F(at&&at._f?{[Le]:at}:at)}))).every(Boolean),!(!Xe&&!r.isValid)&&P()):Xe=ke=await F(a);return p.state.next({...!pi(oe)||(f.isValid||h.isValid)&&ke!==r.isValid?{}:{name:oe},...n.resolver||!oe?{isValid:ke}:{},errors:r.errors}),ge.shouldFocus&&!Xe&&Rf(a,G,oe?Ue:l.mount),Xe},V=oe=>{const ge={...o.mount?i:s};return nr(oe)?ge:pi(oe)?lt(ge,oe):oe.map(ke=>lt(ge,ke))},Z=(oe,ge)=>({invalid:!!lt((ge||r).errors,oe),isDirty:!!lt((ge||r).dirtyFields,oe),error:lt((ge||r).errors,oe),isValidating:!!lt(r.validatingFields,oe),isTouched:!!lt((ge||r).touchedFields,oe)}),re=oe=>{oe&&Mf(oe).forEach(ge=>xr(r.errors,ge)),p.state.next({errors:oe?r.errors:{}})},le=(oe,ge,ke)=>{const Xe=(lt(a,oe,{_f:{}})._f||{}).ref,Ue=lt(r.errors,oe)||{},{ref:Le,message:at,type:Bt,...Qt}=Ue;jn(r.errors,oe,{...Qt,...ge,ref:Xe}),p.state.next({name:oe,errors:r.errors,isValid:!1}),ke&&ke.shouldFocus&&Xe&&Xe.focus&&Xe.focus()},ye=(oe,ge)=>$s(oe)?p.state.subscribe({next:ke=>oe(q(void 0,ge),ke)}):q(oe,ge,!0),he=oe=>p.state.subscribe({next:ge=>{sne(oe.name,ge.name,oe.exact)&&ane(ge,oe.formState||f,Pe,oe.reRenderRoot)&&oe.callback({values:{...i},...r,...ge})}}).unsubscribe,pe=oe=>(o.mount=!0,h={...h,...oe.formState},he({...oe,formState:h})),L=(oe,ge={})=>{for(const ke of oe?Mf(oe):l.mount)l.mount.delete(ke),l.array.delete(ke),ge.keepValue||(xr(a,ke),xr(i,ke)),!ge.keepError&&xr(r.errors,ke),!ge.keepDirty&&xr(r.dirtyFields,ke),!ge.keepTouched&&xr(r.touchedFields,ke),!ge.keepIsValidating&&xr(r.validatingFields,ke),!n.shouldUnregister&&!ge.keepDefaultValue&&xr(s,ke);p.state.next({values:Mr(i)}),p.state.next({...r,...ge.keepDirty?{isDirty:R()}:{}}),!ge.keepIsValid&&P()},ae=({disabled:oe,name:ge})=>{(Oa(oe)&&o.mount||oe||l.disabled.has(ge))&&(oe?l.disabled.add(ge):l.disabled.delete(ge))},me=(oe,ge={})=>{let ke=lt(a,oe);const Xe=Oa(ge.disabled)||Oa(n.disabled);return jn(a,oe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:oe}},name:oe,mount:!0,...ge}}),l.mount.add(oe),ke?ae({disabled:Oa(ge.disabled)?ge.disabled:n.disabled,name:oe}):S(oe,!0,ge.value),{...Xe?{disabled:ge.disabled||n.disabled}:{},...n.progressive?{required:!!ge.required,min:of(ge.min),max:of(ge.max),minLength:of(ge.minLength),maxLength:of(ge.maxLength),pattern:of(ge.pattern)}:{},name:oe,onChange:I,onBlur:I,ref:Ue=>{if(Ue){me(oe,ge),ke=lt(a,oe);const Le=nr(Ue.value)&&Ue.querySelectorAll&&Ue.querySelectorAll("input,select,textarea")[0]||Ue,at=Zte(Le),Bt=ke._f.refs||[];if(at?Bt.find(Qt=>Qt===Le):Le===ke._f.ref)return;jn(a,oe,{_f:{...ke._f,...at?{refs:[...Bt.filter(P1),Le,...Array.isArray(lt(s,oe))?[{}]:[]],ref:{type:Le.type,name:oe}}:{ref:Le}}}),S(oe,!1,void 0,Le)}else ke=lt(a,oe,{}),ke._f&&(ke._f.mount=!1),(n.shouldUnregister||ge.shouldUnregister)&&!(iz(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},W=()=>n.shouldFocusError&&Rf(a,G,l.mount),Se=oe=>{Oa(oe)&&(p.state.next({disabled:oe}),Rf(a,(ge,ke)=>{const Xe=lt(a,ke);Xe&&(ge.disabled=Xe._f.disabled||oe,Array.isArray(Xe._f.refs)&&Xe._f.refs.forEach(Ue=>{Ue.disabled=Xe._f.disabled||oe}))},0,!1))},$e=(oe,ge)=>async ke=>{let Xe;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ue=Mr(i);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:Le,values:at}=await z();r.errors=Le,Ue=at}else await F(a);if(l.disabled.size)for(const Le of l.disabled)jn(Ue,Le,void 0);if(xr(r.errors,"root"),Qr(r.errors)){p.state.next({errors:{}});try{await oe(Ue,ke)}catch(Le){Xe=Le}}else ge&&await ge({...r.errors},ke),W(),setTimeout(W);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qr(r.errors)&&!Xe,submitCount:r.submitCount+1,errors:r.errors}),Xe)throw Xe},tt=(oe,ge={})=>{lt(a,oe)&&(nr(ge.defaultValue)?O(oe,Mr(lt(s,oe))):(O(oe,ge.defaultValue),jn(s,oe,Mr(ge.defaultValue))),ge.keepTouched||xr(r.touchedFields,oe),ge.keepDirty||(xr(r.dirtyFields,oe),r.isDirty=ge.defaultValue?R(oe,Mr(lt(s,oe))):R()),ge.keepError||(xr(r.errors,oe),f.isValid&&P()),p.state.next({...r}))},ft=(oe,ge={})=>{const ke=oe?Mr(oe):s,Xe=Mr(ke),Ue=Qr(oe),Le=Ue?s:Xe;if(ge.keepDefaultValues||(s=ke),!ge.keepValues){if(ge.keepDirtyValues){const at=new Set([...l.mount,...Object.keys(sf(s,i))]);for(const Bt of Array.from(at))lt(r.dirtyFields,Bt)?jn(Le,Bt,lt(i,Bt)):O(Bt,lt(Le,Bt))}else{if(fA&&nr(oe))for(const at of l.mount){const Bt=lt(a,at);if(Bt&&Bt._f){const Qt=Array.isArray(Bt._f.refs)?Bt._f.refs[0]:Bt._f.ref;if(uv(Qt)){const dn=Qt.closest("form");if(dn){dn.reset();break}}}}for(const at of l.mount)O(at,lt(Le,at))}i=Mr(Le),p.array.next({values:{...Le}}),p.state.next({values:{...Le}})}l={mount:ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,o.watch=!!n.shouldUnregister,p.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:Ue?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!hl(oe,s)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ue?{}:ge.keepDirtyValues?ge.keepDefaultValues&&i?sf(s,i):r.dirtyFields:ge.keepDefaultValues&&oe?sf(s,oe):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(oe,ge)=>ft($s(oe)?oe(i):oe,ge),xn=(oe,ge={})=>{const ke=lt(a,oe),Xe=ke&&ke._f;if(Xe){const Ue=Xe.refs?Xe.refs[0]:Xe.ref;Ue.focus&&(Ue.focus(),ge.shouldSelect&&$s(Ue.select)&&Ue.select())}},Pe=oe=>{r={...r,...oe}},gn={control:{register:me,unregister:L,getFieldState:Z,handleSubmit:$e,setError:le,_subscribe:he,_runSchema:z,_getWatch:q,_getDirty:R,_setValid:P,_setFieldArray:b,_setDisabledField:ae,_setErrors:E,_getFieldArray:Q,_reset:ft,_resetDefaultValues:()=>$s(n.defaultValues)&&n.defaultValues().then(oe=>{_t(oe,n.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Se,_subjects:p,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return s},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},get _options(){return n},set _options(oe){n={...n,...oe}}},subscribe:pe,trigger:M,register:me,handleSubmit:$e,watch:ye,setValue:O,getValues:V,reset:_t,resetField:tt,clearErrors:re,unregister:L,setError:le,setFocus:xn,getFieldState:Z};return{...gn,formControl:gn}}function hs(e={}){const n=se.useRef(void 0),r=se.useRef(void 0),[a,s]=se.useState({isDirty:!1,isValidating:!1,isLoading:$s(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:$s(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...e.formControl?e.formControl:dne(e),formState:a},e.formControl&&e.defaultValues&&!$s(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=n.current.control;return i._options=e,se.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),se.useEffect(()=>{e.values&&!hl(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),se.useEffect(()=>{e.errors&&!Qr(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),n.current.formState=cz(a,i),n.current}const rM=(e,n,r)=>{if(e&&"reportValidity"in e){const a=lt(r,n);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},vz=(e,n)=>{for(const r in n.fields){const a=n.fields[r];a&&a.ref&&"reportValidity"in a.ref?rM(a.ref,r,e):a.refs&&a.refs.forEach(s=>rM(s,r,e))}},une=(e,n)=>{n.shouldUseNativeValidation&&vz(e,n);const r={};for(const a in e){const s=lt(n.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(mne(n.names||Object.keys(e),a)){const o=Object.assign({},lt(r,a));jn(o,"root",i),jn(r,a,o)}else jn(r,a,i)}return r},mne=(e,n)=>e.some(r=>r.startsWith(n+"."));var fne=function(e,n){for(var r={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),n){var d=r[o].types,u=d&&d[a.code];r[o]=uz(o,n,r,s,u?[].concat(u,a.message):a.message)}e.shift()}return r},ps=function(e,n,r){return r===void 0&&(r={}),function(a,s,i){try{return Promise.resolve((function(o,l){try{var d=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,n)).then(function(u){return i.shouldUseNativeValidation&&vz({},i),{errors:{},values:r.raw?a:u}})}catch(u){return l(u)}return d&&d.then?d.then(void 0,l):d})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:une(fne(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},an;(function(e){e.assertEqual=s=>s;function n(s){}e.assertIs=n;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(an||(an={}));var qS;(function(e){e.mergeShapes=(n,r)=>({...n,...r})})(qS||(qS={}));const pt=an.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eo=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Ke=an.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hne=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class $a extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=n}format(n){const r=n||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return s(this),a}static assert(n){if(!(n instanceof $a))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,an.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=r=>r.message){const r={},a=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(n(s))):a.push(n(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}$a.create=e=>new $a(e);const vu=(e,n)=>{let r;switch(e.code){case Ke.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,an.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${an.joinValues(e.keys,", ")}`;break;case Ke.invalid_union:r="Invalid input";break;case Ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${an.joinValues(e.options)}`;break;case Ke.invalid_enum_value:r=`Invalid enum value. Expected ${an.joinValues(e.options)}, received '${e.received}'`;break;case Ke.invalid_arguments:r="Invalid function arguments";break;case Ke.invalid_return_type:r="Invalid function return type";break;case Ke.invalid_date:r="Invalid date";break;case Ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:an.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ke.custom:r="Invalid input";break;case Ke.invalid_intersection_types:r="Intersection results could not be merged";break;case Ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ke.not_finite:r="Number must be finite";break;default:r=n.defaultError,an.assertNever(e)}return{message:r}};let yz=vu;function pne(e){yz=e}function hv(){return yz}const pv=e=>{const{data:n,path:r,errorMaps:a,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const d=a.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:n,defaultError:l}).message;return{...s,path:i,message:l}},xne=[];function dt(e,n){const r=hv(),a=pv({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===vu?void 0:vu].filter(s=>!!s)});e.common.issues.push(a)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,r){const a=[];for(const s of r){if(s.status==="aborted")return Ft;s.status==="dirty"&&n.dirty(),a.push(s.value)}return{status:n.value,value:a}}static async mergeObjectAsync(n,r){const a=[];for(const s of r){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return Ur.mergeObjectSync(n,a)}static mergeObjectSync(n,r){const a={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ft;i.status==="dirty"&&n.dirty(),o.status==="dirty"&&n.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:n.value,value:a}}}const Ft=Object.freeze({status:"aborted"}),Wd=e=>({status:"dirty",value:e}),oa=e=>({status:"valid",value:e}),VS=e=>e.status==="aborted",BS=e=>e.status==="dirty",_c=e=>e.status==="valid",Yf=e=>typeof Promise<"u"&&e instanceof Promise;function xv(e,n,r,a){if(typeof n=="function"?e!==n||!0:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n.get(e)}function jz(e,n,r,a,s){if(typeof n=="function"?e!==n||!0:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n.set(e,r),r}var Et;(function(e){e.errToObj=n=>typeof n=="string"?{message:n}:n||{},e.toString=n=>typeof n=="string"?n:n?.message})(Et||(Et={}));var Nf,Cf;class Ci{constructor(n,r,a,s){this._cachedPath=[],this.parent=n,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aM=(e,n)=>{if(_c(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $a(e.common.issues);return this._error=r,this._error}}};function Ut(e){if(!e)return{};const{errorMap:n,invalid_type_error:r,required_error:a,description:s}=e;if(n&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:s}:{errorMap:(o,l)=>{var d,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(d=f??a)!==null&&d!==void 0?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Gt{get description(){return this._def.description}_getType(n){return eo(n.data)}_getOrReturnCtx(n,r){return r||{common:n.parent.common,data:n.data,parsedType:eo(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new Ur,ctx:{common:n.parent.common,data:n.data,parsedType:eo(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const r=this._parse(n);if(Yf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(n){const r=this._parse(n);return Promise.resolve(r)}parse(n,r){const a=this.safeParse(n,r);if(a.success)return a.data;throw a.error}safeParse(n,r){var a;const s={common:{issues:[],async:(a=r?.async)!==null&&a!==void 0?a:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:eo(n)},i=this._parseSync({data:n,path:s.path,parent:s});return aM(s,i)}"~validate"(n){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:eo(n)};if(!this["~standard"].async)try{const i=this._parseSync({data:n,path:[],parent:s});return _c(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((a=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:s}).then(i=>_c(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(n,r){const a=await this.safeParseAsync(n,r);if(a.success)return a.data;throw a.error}async safeParseAsync(n,r){const a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:eo(n)},s=this._parse({data:n,path:a.path,parent:a}),i=await(Yf(s)?s:Promise.resolve(s));return aM(a,i)}refine(n,r){const a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=n(s),l=()=>i.addIssue({code:Ke.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(n,r){return this._refinement((a,s)=>n(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(n){return new Xs({schema:this,typeName:$t.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return yi.create(this,this._def)}nullable(){return _l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return ju.create(this,this._def)}or(n){return eh.create([this,n],this._def)}and(n){return th.create(this,n,this._def)}transform(n){return new Xs({...Ut(this._def),schema:this,typeName:$t.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const r=typeof n=="function"?n:()=>n;return new ih({...Ut(this._def),innerType:this,defaultValue:r,typeName:$t.ZodDefault})}brand(){return new gA({typeName:$t.ZodBranded,type:this,...Ut(this._def)})}catch(n){const r=typeof n=="function"?n:()=>n;return new oh({...Ut(this._def),innerType:this,catchValue:r,typeName:$t.ZodCatch})}describe(n){const r=this.constructor;return new r({...this._def,description:n})}pipe(n){return mp.create(this,n)}readonly(){return lh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gne=/^c[^\s-]{8,}$/i,vne=/^[0-9a-z]+$/,yne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bne=/^[a-z0-9_-]{21}$/i,wne=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E1;const Pne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ene=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ane=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_ne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tne=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",One=new RegExp(`^${bz}$`);function wz(e){let n="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?n=`${n}\\.\\d{${e.precision}}`:e.precision==null&&(n=`${n}(\\.\\d+)?`),n}function Mne(e){return new RegExp(`^${wz(e)}$`)}function Nz(e){let n=`${bz}T${wz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${r.join("|")})`,new RegExp(`^${n}$`)}function Rne(e,n){return!!((n==="v4"||!n)&&Pne.test(e)||(n==="v6"||!n)&&Ane.test(e))}function Dne(e,n){if(!wne.test(e))return!1;try{const[r]=e.split("."),a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||n&&s.alg!==n)}catch{return!1}}function Ine(e,n){return!!((n==="v4"||!n)&&Ene.test(e)||(n==="v6"||!n)&&kne.test(e))}class qs extends Gt{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==pt.string){const i=this._getOrReturnCtx(n);return dt(i,{code:Ke.invalid_type,expected:pt.string,received:i.parsedType}),Ft}const a=new Ur;let s;for(const i of this._def.checks)if(i.kind==="min")n.data.length<i.value&&(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")n.data.length>i.value&&(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=n.data.length>i.value,l=n.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(n,s),o?dt(s,{code:Ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&dt(s,{code:Ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Cne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"email",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")E1||(E1=new RegExp(Sne,"u")),E1.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"emoji",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")jne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"uuid",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")bne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"nanoid",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")gne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"cuid",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")vne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"cuid2",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")yne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"ulid",code:Ke.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(n.data)}catch{s=this._getOrReturnCtx(n,s),dt(s,{validation:"url",code:Ke.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"regex",code:Ke.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?n.data=n.data.trim():i.kind==="includes"?n.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?n.data=n.data.toLowerCase():i.kind==="toUpperCase"?n.data=n.data.toUpperCase():i.kind==="startsWith"?n.data.startsWith(i.value)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?n.data.endsWith(i.value)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?Nz(i).test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?One.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Mne(i).test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Nne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"duration",code:Ke.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Rne(n.data,i.version)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"ip",code:Ke.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?Dne(n.data,i.alg)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"jwt",code:Ke.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Ine(n.data,i.version)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"cidr",code:Ke.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?_ne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"base64",code:Ke.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?Tne.test(n.data)||(s=this._getOrReturnCtx(n,s),dt(s,{validation:"base64url",code:Ke.invalid_string,message:i.message}),a.dirty()):an.assertNever(i);return{status:a.value,value:n.data}}_regex(n,r,a){return this.refinement(s=>n.test(s),{validation:r,code:Ke.invalid_string,...Et.errToObj(a)})}_addCheck(n){return new qs({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...Et.errToObj(n)})}url(n){return this._addCheck({kind:"url",...Et.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...Et.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...Et.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...Et.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...Et.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...Et.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...Et.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...Et.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...Et.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...Et.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...Et.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...Et.errToObj(n)})}datetime(n){var r,a;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:(r=n?.offset)!==null&&r!==void 0?r:!1,local:(a=n?.local)!==null&&a!==void 0?a:!1,...Et.errToObj(n?.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision,...Et.errToObj(n?.message)})}duration(n){return this._addCheck({kind:"duration",...Et.errToObj(n)})}regex(n,r){return this._addCheck({kind:"regex",regex:n,...Et.errToObj(r)})}includes(n,r){return this._addCheck({kind:"includes",value:n,position:r?.position,...Et.errToObj(r?.message)})}startsWith(n,r){return this._addCheck({kind:"startsWith",value:n,...Et.errToObj(r)})}endsWith(n,r){return this._addCheck({kind:"endsWith",value:n,...Et.errToObj(r)})}min(n,r){return this._addCheck({kind:"min",value:n,...Et.errToObj(r)})}max(n,r){return this._addCheck({kind:"max",value:n,...Et.errToObj(r)})}length(n,r){return this._addCheck({kind:"length",value:n,...Et.errToObj(r)})}nonempty(n){return this.min(1,Et.errToObj(n))}trim(){return new qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxLength(){let n=null;for(const r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}qs.create=e=>{var n;return new qs({checks:[],typeName:$t.ZodString,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1,...Ut(e)})};function $ne(e,n){const r=(e.toString().split(".")[1]||"").length,a=(n.toString().split(".")[1]||"").length,s=r>a?r:a,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(n.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class El extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==pt.number){const i=this._getOrReturnCtx(n);return dt(i,{code:Ke.invalid_type,expected:pt.number,received:i.parsedType}),Ft}let a;const s=new Ur;for(const i of this._def.checks)i.kind==="int"?an.isInteger(n.data)||(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?n.data<i.value:n.data<=i.value)&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?n.data>i.value:n.data>=i.value)&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?$ne(n.data,i.value)!==0&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(n.data)||(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.not_finite,message:i.message}),s.dirty()):an.assertNever(i);return{status:s.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,Et.toString(r))}gt(n,r){return this.setLimit("min",n,!1,Et.toString(r))}lte(n,r){return this.setLimit("max",n,!0,Et.toString(r))}lt(n,r){return this.setLimit("max",n,!1,Et.toString(r))}setLimit(n,r,a,s){return new El({...this._def,checks:[...this._def.checks,{kind:n,value:r,inclusive:a,message:Et.toString(s)}]})}_addCheck(n){return new El({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:Et.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Et.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Et.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Et.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Et.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:Et.toString(r)})}finite(n){return this._addCheck({kind:"finite",message:Et.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Et.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Et.toString(n)})}get minValue(){let n=null;for(const r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(const r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&an.isInteger(n.value))}get isFinite(){let n=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(n===null||a.value<n)&&(n=a.value)}return Number.isFinite(r)&&Number.isFinite(n)}}El.create=e=>new El({checks:[],typeName:$t.ZodNumber,coerce:e?.coerce||!1,...Ut(e)});class Al extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==pt.bigint)return this._getInvalidInput(n);let a;const s=new Ur;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?n.data<i.value:n.data<=i.value)&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?n.data>i.value:n.data>=i.value)&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?n.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(n,a),dt(a,{code:Ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):an.assertNever(i);return{status:s.value,value:n.data}}_getInvalidInput(n){const r=this._getOrReturnCtx(n);return dt(r,{code:Ke.invalid_type,expected:pt.bigint,received:r.parsedType}),Ft}gte(n,r){return this.setLimit("min",n,!0,Et.toString(r))}gt(n,r){return this.setLimit("min",n,!1,Et.toString(r))}lte(n,r){return this.setLimit("max",n,!0,Et.toString(r))}lt(n,r){return this.setLimit("max",n,!1,Et.toString(r))}setLimit(n,r,a,s){return new Al({...this._def,checks:[...this._def.checks,{kind:n,value:r,inclusive:a,message:Et.toString(s)}]})}_addCheck(n){return new Al({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Et.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Et.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Et.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Et.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:Et.toString(r)})}get minValue(){let n=null;for(const r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(const r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}Al.create=e=>{var n;return new Al({checks:[],typeName:$t.ZodBigInt,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1,...Ut(e)})};class Xf extends Gt{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==pt.boolean){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.boolean,received:a.parsedType}),Ft}return oa(n.data)}}Xf.create=e=>new Xf({typeName:$t.ZodBoolean,coerce:e?.coerce||!1,...Ut(e)});class Tc extends Gt{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==pt.date){const i=this._getOrReturnCtx(n);return dt(i,{code:Ke.invalid_type,expected:pt.date,received:i.parsedType}),Ft}if(isNaN(n.data.getTime())){const i=this._getOrReturnCtx(n);return dt(i,{code:Ke.invalid_date}),Ft}const a=new Ur;let s;for(const i of this._def.checks)i.kind==="min"?n.data.getTime()<i.value&&(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?n.data.getTime()>i.value&&(s=this._getOrReturnCtx(n,s),dt(s,{code:Ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):an.assertNever(i);return{status:a.value,value:new Date(n.data.getTime())}}_addCheck(n){return new Tc({...this._def,checks:[...this._def.checks,n]})}min(n,r){return this._addCheck({kind:"min",value:n.getTime(),message:Et.toString(r)})}max(n,r){return this._addCheck({kind:"max",value:n.getTime(),message:Et.toString(r)})}get minDate(){let n=null;for(const r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n!=null?new Date(n):null}}Tc.create=e=>new Tc({checks:[],coerce:e?.coerce||!1,typeName:$t.ZodDate,...Ut(e)});class gv extends Gt{_parse(n){if(this._getType(n)!==pt.symbol){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.symbol,received:a.parsedType}),Ft}return oa(n.data)}}gv.create=e=>new gv({typeName:$t.ZodSymbol,...Ut(e)});class Zf extends Gt{_parse(n){if(this._getType(n)!==pt.undefined){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.undefined,received:a.parsedType}),Ft}return oa(n.data)}}Zf.create=e=>new Zf({typeName:$t.ZodUndefined,...Ut(e)});class Jf extends Gt{_parse(n){if(this._getType(n)!==pt.null){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.null,received:a.parsedType}),Ft}return oa(n.data)}}Jf.create=e=>new Jf({typeName:$t.ZodNull,...Ut(e)});class yu extends Gt{constructor(){super(...arguments),this._any=!0}_parse(n){return oa(n.data)}}yu.create=e=>new yu({typeName:$t.ZodAny,...Ut(e)});class vc extends Gt{constructor(){super(...arguments),this._unknown=!0}_parse(n){return oa(n.data)}}vc.create=e=>new vc({typeName:$t.ZodUnknown,...Ut(e)});class yo extends Gt{_parse(n){const r=this._getOrReturnCtx(n);return dt(r,{code:Ke.invalid_type,expected:pt.never,received:r.parsedType}),Ft}}yo.create=e=>new yo({typeName:$t.ZodNever,...Ut(e)});class vv extends Gt{_parse(n){if(this._getType(n)!==pt.undefined){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.void,received:a.parsedType}),Ft}return oa(n.data)}}vv.create=e=>new vv({typeName:$t.ZodVoid,...Ut(e)});class Us extends Gt{_parse(n){const{ctx:r,status:a}=this._processInputParams(n),s=this._def;if(r.parsedType!==pt.array)return dt(r,{code:Ke.invalid_type,expected:pt.array,received:r.parsedType}),Ft;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(dt(r,{code:o?Ke.too_big:Ke.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(dt(r,{code:Ke.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(dt(r,{code:Ke.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Ci(r,o,r.path,l)))).then(o=>Ur.mergeArray(a,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Ci(r,o,r.path,l)));return Ur.mergeArray(a,i)}get element(){return this._def.type}min(n,r){return new Us({...this._def,minLength:{value:n,message:Et.toString(r)}})}max(n,r){return new Us({...this._def,maxLength:{value:n,message:Et.toString(r)}})}length(n,r){return new Us({...this._def,exactLength:{value:n,message:Et.toString(r)}})}nonempty(n){return this.min(1,n)}}Us.create=(e,n)=>new Us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$t.ZodArray,...Ut(n)});function Bd(e){if(e instanceof Yn){const n={};for(const r in e.shape){const a=e.shape[r];n[r]=yi.create(Bd(a))}return new Yn({...e._def,shape:()=>n})}else return e instanceof Us?new Us({...e._def,type:Bd(e.element)}):e instanceof yi?yi.create(Bd(e.unwrap())):e instanceof _l?_l.create(Bd(e.unwrap())):e instanceof Si?Si.create(e.items.map(n=>Bd(n))):e}class Yn extends Gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),r=an.objectKeys(n);return this._cached={shape:n,keys:r}}_parse(n){if(this._getType(n)!==pt.object){const u=this._getOrReturnCtx(n);return dt(u,{code:Ke.invalid_type,expected:pt.object,received:u.parsedType}),Ft}const{status:a,ctx:s}=this._processInputParams(n),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof yo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const f=i[u],h=s.data[u];d.push({key:{status:"valid",value:u},value:f._parse(new Ci(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof yo){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)d.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(dt(s,{code:Ke.unrecognized_keys,keys:l}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const h=s.data[f];d.push({key:{status:"valid",value:f},value:u._parse(new Ci(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of d){const h=await f.key,p=await f.value;u.push({key:h,value:p,alwaysSet:f.alwaysSet})}return u}).then(u=>Ur.mergeObjectSync(a,u)):Ur.mergeObjectSync(a,d)}get shape(){return this._def.shape()}strict(n){return Et.errToObj,new Yn({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(r,a)=>{var s,i,o,l;const d=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,a).message)!==null&&o!==void 0?o:a.defaultError;return r.code==="unrecognized_keys"?{message:(l=Et.errToObj(n).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new Yn({...this._def,unknownKeys:"strip"})}passthrough(){return new Yn({...this._def,unknownKeys:"passthrough"})}extend(n){return new Yn({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new Yn({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:$t.ZodObject})}setKey(n,r){return this.augment({[n]:r})}catchall(n){return new Yn({...this._def,catchall:n})}pick(n){const r={};return an.objectKeys(n).forEach(a=>{n[a]&&this.shape[a]&&(r[a]=this.shape[a])}),new Yn({...this._def,shape:()=>r})}omit(n){const r={};return an.objectKeys(this.shape).forEach(a=>{n[a]||(r[a]=this.shape[a])}),new Yn({...this._def,shape:()=>r})}deepPartial(){return Bd(this)}partial(n){const r={};return an.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];n&&!n[a]?r[a]=s:r[a]=s.optional()}),new Yn({...this._def,shape:()=>r})}required(n){const r={};return an.objectKeys(this.shape).forEach(a=>{if(n&&!n[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof yi;)i=i._def.innerType;r[a]=i}}),new Yn({...this._def,shape:()=>r})}keyof(){return Cz(an.objectKeys(this.shape))}}Yn.create=(e,n)=>new Yn({shape:()=>e,unknownKeys:"strip",catchall:yo.create(),typeName:$t.ZodObject,...Ut(n)});Yn.strictCreate=(e,n)=>new Yn({shape:()=>e,unknownKeys:"strict",catchall:yo.create(),typeName:$t.ZodObject,...Ut(n)});Yn.lazycreate=(e,n)=>new Yn({shape:e,unknownKeys:"strip",catchall:yo.create(),typeName:$t.ZodObject,...Ut(n)});class eh extends Gt{_parse(n){const{ctx:r}=this._processInputParams(n),a=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new $a(l.ctx.common.issues));return dt(r,{code:Ke.invalid_union,unionErrors:o}),Ft}if(r.common.async)return Promise.all(a.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const d of a){const u={...r,common:{...r.common,issues:[]},parent:null},f=d._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new $a(d));return dt(r,{code:Ke.invalid_union,unionErrors:l}),Ft}}get options(){return this._def.options}}eh.create=(e,n)=>new eh({options:e,typeName:$t.ZodUnion,...Ut(n)});const Zi=e=>e instanceof rh?Zi(e.schema):e instanceof Xs?Zi(e.innerType()):e instanceof ah?[e.value]:e instanceof kl?e.options:e instanceof sh?an.objectValues(e.enum):e instanceof ih?Zi(e._def.innerType):e instanceof Zf?[void 0]:e instanceof Jf?[null]:e instanceof yi?[void 0,...Zi(e.unwrap())]:e instanceof _l?[null,...Zi(e.unwrap())]:e instanceof gA||e instanceof lh?Zi(e.unwrap()):e instanceof oh?Zi(e._def.innerType):[];class aj extends Gt{_parse(n){const{ctx:r}=this._processInputParams(n);if(r.parsedType!==pt.object)return dt(r,{code:Ke.invalid_type,expected:pt.object,received:r.parsedType}),Ft;const a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(dt(r,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Ft)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,r,a){const s=new Map;for(const i of r){const o=Zi(i.shape[n]);if(!o.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(l)}`);s.set(l,i)}}return new aj({typeName:$t.ZodDiscriminatedUnion,discriminator:n,options:r,optionsMap:s,...Ut(a)})}}function HS(e,n){const r=eo(e),a=eo(n);if(e===n)return{valid:!0,data:e};if(r===pt.object&&a===pt.object){const s=an.objectKeys(n),i=an.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...n};for(const l of i){const d=HS(e[l],n[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===pt.array&&a===pt.array){if(e.length!==n.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=n[i],d=HS(o,l);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===pt.date&&a===pt.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}class th extends Gt{_parse(n){const{status:r,ctx:a}=this._processInputParams(n),s=(i,o)=>{if(VS(i)||VS(o))return Ft;const l=HS(i.value,o.value);return l.valid?((BS(i)||BS(o))&&r.dirty(),{status:r.value,value:l.data}):(dt(a,{code:Ke.invalid_intersection_types}),Ft)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}th.create=(e,n,r)=>new th({left:e,right:n,typeName:$t.ZodIntersection,...Ut(r)});class Si extends Gt{_parse(n){const{status:r,ctx:a}=this._processInputParams(n);if(a.parsedType!==pt.array)return dt(a,{code:Ke.invalid_type,expected:pt.array,received:a.parsedType}),Ft;if(a.data.length<this._def.items.length)return dt(a,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&a.data.length>this._def.items.length&&(dt(a,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...a.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new Ci(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Ur.mergeArray(r,o)):Ur.mergeArray(r,i)}get items(){return this._def.items}rest(n){return new Si({...this._def,rest:n})}}Si.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Si({items:e,typeName:$t.ZodTuple,rest:null,...Ut(n)})};class nh extends Gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:r,ctx:a}=this._processInputParams(n);if(a.parsedType!==pt.object)return dt(a,{code:Ke.invalid_type,expected:pt.object,received:a.parsedType}),Ft;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in a.data)s.push({key:i._parse(new Ci(a,l,a.path,l)),value:o._parse(new Ci(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?Ur.mergeObjectAsync(r,s):Ur.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(n,r,a){return r instanceof Gt?new nh({keyType:n,valueType:r,typeName:$t.ZodRecord,...Ut(a)}):new nh({keyType:qs.create(),valueType:n,typeName:$t.ZodRecord,...Ut(r)})}}class yv extends Gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:r,ctx:a}=this._processInputParams(n);if(a.parsedType!==pt.map)return dt(a,{code:Ke.invalid_type,expected:pt.map,received:a.parsedType}),Ft;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,d],u)=>({key:s._parse(new Ci(a,l,a.path,[u,"key"])),value:i._parse(new Ci(a,d,a.path,[u,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,f=await d.value;if(u.status==="aborted"||f.status==="aborted")return Ft;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,f=d.value;if(u.status==="aborted"||f.status==="aborted")return Ft;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}yv.create=(e,n,r)=>new yv({valueType:n,keyType:e,typeName:$t.ZodMap,...Ut(r)});class Oc extends Gt{_parse(n){const{status:r,ctx:a}=this._processInputParams(n);if(a.parsedType!==pt.set)return dt(a,{code:Ke.invalid_type,expected:pt.set,received:a.parsedType}),Ft;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(dt(a,{code:Ke.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(dt(a,{code:Ke.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(d){const u=new Set;for(const f of d){if(f.status==="aborted")return Ft;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...a.data.values()].map((d,u)=>i._parse(new Ci(a,d,a.path,u)));return a.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(n,r){return new Oc({...this._def,minSize:{value:n,message:Et.toString(r)}})}max(n,r){return new Oc({...this._def,maxSize:{value:n,message:Et.toString(r)}})}size(n,r){return this.min(n,r).max(n,r)}nonempty(n){return this.min(1,n)}}Oc.create=(e,n)=>new Oc({valueType:e,minSize:null,maxSize:null,typeName:$t.ZodSet,...Ut(n)});class au extends Gt{constructor(){super(...arguments),this.validate=this.implement}_parse(n){const{ctx:r}=this._processInputParams(n);if(r.parsedType!==pt.function)return dt(r,{code:Ke.invalid_type,expected:pt.function,received:r.parsedType}),Ft;function a(l,d){return pv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hv(),vu].filter(u=>!!u),issueData:{code:Ke.invalid_arguments,argumentsError:d}})}function s(l,d){return pv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hv(),vu].filter(u=>!!u),issueData:{code:Ke.invalid_return_type,returnTypeError:d}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ju){const l=this;return oa(async function(...d){const u=new $a([]),f=await l._def.args.parseAsync(d,i).catch(v=>{throw u.addIssue(a(d,v)),u}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,i).catch(v=>{throw u.addIssue(s(h,v)),u})})}else{const l=this;return oa(function(...d){const u=l._def.args.safeParse(d,i);if(!u.success)throw new $a([a(d,u.error)]);const f=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(f,i);if(!h.success)throw new $a([s(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new au({...this._def,args:Si.create(n).rest(vc.create())})}returns(n){return new au({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,r,a){return new au({args:n||Si.create([]).rest(vc.create()),returns:r||vc.create(),typeName:$t.ZodFunction,...Ut(a)})}}class rh extends Gt{get schema(){return this._def.getter()}_parse(n){const{ctx:r}=this._processInputParams(n);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}rh.create=(e,n)=>new rh({getter:e,typeName:$t.ZodLazy,...Ut(n)});class ah extends Gt{_parse(n){if(n.data!==this._def.value){const r=this._getOrReturnCtx(n);return dt(r,{received:r.data,code:Ke.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:n.data}}get value(){return this._def.value}}ah.create=(e,n)=>new ah({value:e,typeName:$t.ZodLiteral,...Ut(n)});function Cz(e,n){return new kl({values:e,typeName:$t.ZodEnum,...Ut(n)})}class kl extends Gt{constructor(){super(...arguments),Nf.set(this,void 0)}_parse(n){if(typeof n.data!="string"){const r=this._getOrReturnCtx(n),a=this._def.values;return dt(r,{expected:an.joinValues(a),received:r.parsedType,code:Ke.invalid_type}),Ft}if(xv(this,Nf)||jz(this,Nf,new Set(this._def.values)),!xv(this,Nf).has(n.data)){const r=this._getOrReturnCtx(n),a=this._def.values;return dt(r,{received:r.data,code:Ke.invalid_enum_value,options:a}),Ft}return oa(n.data)}get options(){return this._def.values}get enum(){const n={};for(const r of this._def.values)n[r]=r;return n}get Values(){const n={};for(const r of this._def.values)n[r]=r;return n}get Enum(){const n={};for(const r of this._def.values)n[r]=r;return n}extract(n,r=this._def){return kl.create(n,{...this._def,...r})}exclude(n,r=this._def){return kl.create(this.options.filter(a=>!n.includes(a)),{...this._def,...r})}}Nf=new WeakMap;kl.create=Cz;class sh extends Gt{constructor(){super(...arguments),Cf.set(this,void 0)}_parse(n){const r=an.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(n);if(a.parsedType!==pt.string&&a.parsedType!==pt.number){const s=an.objectValues(r);return dt(a,{expected:an.joinValues(s),received:a.parsedType,code:Ke.invalid_type}),Ft}if(xv(this,Cf)||jz(this,Cf,new Set(an.getValidEnumValues(this._def.values))),!xv(this,Cf).has(n.data)){const s=an.objectValues(r);return dt(a,{received:a.data,code:Ke.invalid_enum_value,options:s}),Ft}return oa(n.data)}get enum(){return this._def.values}}Cf=new WeakMap;sh.create=(e,n)=>new sh({values:e,typeName:$t.ZodNativeEnum,...Ut(n)});class ju extends Gt{unwrap(){return this._def.type}_parse(n){const{ctx:r}=this._processInputParams(n);if(r.parsedType!==pt.promise&&r.common.async===!1)return dt(r,{code:Ke.invalid_type,expected:pt.promise,received:r.parsedType}),Ft;const a=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return oa(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ju.create=(e,n)=>new ju({type:e,typeName:$t.ZodPromise,...Ut(n)});class Xs extends Gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:r,ctx:a}=this._processInputParams(n),s=this._def.effect||null,i={addIssue:o=>{dt(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ft;const d=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return d.status==="aborted"?Ft:d.status==="dirty"||r.value==="dirty"?Wd(d.value):d});{if(r.value==="aborted")return Ft;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?Ft:l.status==="dirty"||r.value==="dirty"?Wd(l.value):l}}if(s.type==="refinement"){const o=l=>{const d=s.refinement(l,i);if(a.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Ft:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?Ft:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!_c(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>_c(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);an.assertNever(s)}}Xs.create=(e,n,r)=>new Xs({schema:e,typeName:$t.ZodEffects,effect:n,...Ut(r)});Xs.createWithPreprocess=(e,n,r)=>new Xs({schema:n,effect:{type:"preprocess",transform:e},typeName:$t.ZodEffects,...Ut(r)});class yi extends Gt{_parse(n){return this._getType(n)===pt.undefined?oa(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}yi.create=(e,n)=>new yi({innerType:e,typeName:$t.ZodOptional,...Ut(n)});class _l extends Gt{_parse(n){return this._getType(n)===pt.null?oa(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}_l.create=(e,n)=>new _l({innerType:e,typeName:$t.ZodNullable,...Ut(n)});class ih extends Gt{_parse(n){const{ctx:r}=this._processInputParams(n);let a=r.data;return r.parsedType===pt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ih.create=(e,n)=>new ih({innerType:e,typeName:$t.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...Ut(n)});class oh extends Gt{_parse(n){const{ctx:r}=this._processInputParams(n),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Yf(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $a(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $a(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}oh.create=(e,n)=>new oh({innerType:e,typeName:$t.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...Ut(n)});class jv extends Gt{_parse(n){if(this._getType(n)!==pt.nan){const a=this._getOrReturnCtx(n);return dt(a,{code:Ke.invalid_type,expected:pt.nan,received:a.parsedType}),Ft}return{status:"valid",value:n.data}}}jv.create=e=>new jv({typeName:$t.ZodNaN,...Ut(e)});const Fne=Symbol("zod_brand");class gA extends Gt{_parse(n){const{ctx:r}=this._processInputParams(n),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class mp extends Gt{_parse(n){const{status:r,ctx:a}=this._processInputParams(n);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Ft:i.status==="dirty"?(r.dirty(),Wd(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Ft:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(n,r){return new mp({in:n,out:r,typeName:$t.ZodPipeline})}}class lh extends Gt{_parse(n){const r=this._def.innerType._parse(n),a=s=>(_c(s)&&(s.value=Object.freeze(s.value)),s);return Yf(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}}lh.create=(e,n)=>new lh({innerType:e,typeName:$t.ZodReadonly,...Ut(n)});function sM(e,n){const r=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Sz(e,n={},r){return e?yu.create().superRefine((a,s)=>{var i,o;const l=e(a);if(l instanceof Promise)return l.then(d=>{var u,f;if(!d){const h=sM(n,a),p=(f=(u=h.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!l){const d=sM(n,a),u=(o=(i=d.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...d,fatal:u})}}):yu.create()}const Lne={object:Yn.lazycreate};var $t;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($t||($t={}));const zne=(e,n={message:`Input not instance of ${e.name}`})=>Sz(r=>r instanceof e,n),Pz=qs.create,Ez=El.create,qne=jv.create,Vne=Al.create,Az=Xf.create,Bne=Tc.create,Hne=gv.create,Une=Zf.create,Kne=Jf.create,Wne=yu.create,Gne=vc.create,Qne=yo.create,Yne=vv.create,Xne=Us.create,Zne=Yn.create,Jne=Yn.strictCreate,ere=eh.create,tre=aj.create,nre=th.create,rre=Si.create,are=nh.create,sre=yv.create,ire=Oc.create,ore=au.create,lre=rh.create,cre=ah.create,dre=kl.create,ure=sh.create,mre=ju.create,iM=Xs.create,fre=yi.create,hre=_l.create,pre=Xs.createWithPreprocess,xre=mp.create,gre=()=>Pz().optional(),vre=()=>Ez().optional(),yre=()=>Az().optional(),jre={string:(e=>qs.create({...e,coerce:!0})),number:(e=>El.create({...e,coerce:!0})),boolean:(e=>Xf.create({...e,coerce:!0})),bigint:(e=>Al.create({...e,coerce:!0})),date:(e=>Tc.create({...e,coerce:!0}))},bre=Ft;var De=Object.freeze({__proto__:null,defaultErrorMap:vu,setErrorMap:pne,getErrorMap:hv,makeIssue:pv,EMPTY_PATH:xne,addIssueToContext:dt,ParseStatus:Ur,INVALID:Ft,DIRTY:Wd,OK:oa,isAborted:VS,isDirty:BS,isValid:_c,isAsync:Yf,get util(){return an},get objectUtil(){return qS},ZodParsedType:pt,getParsedType:eo,ZodType:Gt,datetimeRegex:Nz,ZodString:qs,ZodNumber:El,ZodBigInt:Al,ZodBoolean:Xf,ZodDate:Tc,ZodSymbol:gv,ZodUndefined:Zf,ZodNull:Jf,ZodAny:yu,ZodUnknown:vc,ZodNever:yo,ZodVoid:vv,ZodArray:Us,ZodObject:Yn,ZodUnion:eh,ZodDiscriminatedUnion:aj,ZodIntersection:th,ZodTuple:Si,ZodRecord:nh,ZodMap:yv,ZodSet:Oc,ZodFunction:au,ZodLazy:rh,ZodLiteral:ah,ZodEnum:kl,ZodNativeEnum:sh,ZodPromise:ju,ZodEffects:Xs,ZodTransformer:Xs,ZodOptional:yi,ZodNullable:_l,ZodDefault:ih,ZodCatch:oh,ZodNaN:jv,BRAND:Fne,ZodBranded:gA,ZodPipeline:mp,ZodReadonly:lh,custom:Sz,Schema:Gt,ZodSchema:Gt,late:Lne,get ZodFirstPartyTypeKind(){return $t},coerce:jre,any:Wne,array:Xne,bigint:Vne,boolean:Az,date:Bne,discriminatedUnion:tre,effect:iM,enum:dre,function:ore,instanceof:zne,intersection:nre,lazy:lre,literal:cre,map:sre,nan:qne,nativeEnum:ure,never:Qne,null:Kne,nullable:hre,number:Ez,object:Zne,oboolean:yre,onumber:vre,optional:fre,ostring:gre,pipeline:xre,preprocess:pre,promise:mre,record:are,set:ire,strictObject:Jne,string:Pz,symbol:Hne,transformer:iM,tuple:rre,undefined:Une,union:ere,unknown:Gne,void:Yne,NEVER:bre,ZodIssueCode:Ke,quotelessJson:hne,ZodError:$a});const J=w.forwardRef(({className:e,type:n,...r},a)=>t.jsx("input",{type:n,className:Fe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));J.displayName="Input";var wre="Label",kz=w.forwardRef((e,n)=>t.jsx(ot.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));kz.displayName=wre;var _z=kz;const Nre=Gc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=w.forwardRef(({className:e,...n},r)=>t.jsx(_z,{ref:r,className:Fe(Nre(),e),...n}));B.displayName=_z.displayName;const xs=Wte,Tz=w.createContext({}),Qe=({...e})=>t.jsx(Tz.Provider,{value:{name:e.name},children:t.jsx(Xte,{...e})}),sj=()=>{const e=w.useContext(Tz),n=w.useContext(Oz),{getFieldState:r,formState:a}=rj(),s=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=n;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},Oz=w.createContext({}),We=w.forwardRef(({className:e,...n},r)=>{const a=w.useId();return t.jsx(Oz.Provider,{value:{id:a},children:t.jsx("div",{ref:r,className:Fe("space-y-2",e),...n})})});We.displayName="FormItem";const Ge=w.forwardRef(({className:e,...n},r)=>{const{error:a,formItemId:s}=sj();return t.jsx(B,{ref:r,className:Fe(a&&"text-destructive",e),htmlFor:s,...n})});Ge.displayName="FormLabel";const Ye=w.forwardRef(({...e},n)=>{const{error:r,formItemId:a,formDescriptionId:s,formMessageId:i}=sj();return t.jsx($y,{ref:n,id:a,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Ye.displayName="FormControl";const Cre=w.forwardRef(({className:e,...n},r)=>{const{formDescriptionId:a}=sj();return t.jsx("p",{ref:r,id:a,className:Fe("text-sm text-muted-foreground",e),...n})});Cre.displayName="FormDescription";const Ze=w.forwardRef(({className:e,children:n,...r},a)=>{const{error:s,formMessageId:i}=sj(),o=s?String(s?.message??""):n;return o?t.jsx("p",{ref:a,id:i,className:Fe("text-sm font-medium text-destructive",e),...r,children:o}):null});Ze.displayName="FormMessage";const Sre=De.object({email:De.string().email("Email invlido"),password:De.string().min(1,"Senha  obrigatria")});function Pre(){const[,e]=wa(),{toast:n}=At(),[r,a]=w.useState(!1),s=hs({resolver:ps(Sre),defaultValues:{email:"",password:""}}),i=Ae({mutationFn:async l=>(await Ne("POST","/api/auth/login",l)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Login realizado",description:"Bem-vindo de volta!"}),e("/dashboard")},onError:l=>{n({title:"Erro no login",description:l.message||"Email ou senha invlidos",variant:"destructive"})}}),o=l=>{i.mutate(l)};return t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>window.history.length>1?window.history.back():e("/"),"data-testid":"button-back",title:"Voltar",children:t.jsx(ia,{className:"h-5 w-5"})}),t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs(ee,{className:"w-full max-w-md",children:[t.jsxs(de,{className:"text-center",children:[t.jsx(ue,{className:"text-2xl",children:"Entrar"}),t.jsx(rt,{children:"Acesse sua conta para continuar"})]}),t.jsxs(te,{children:[t.jsx(xs,{...s,children:t.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[t.jsx(Qe,{control:s.control,name:"email",render:({field:l})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",placeholder:"seu@email.com","data-testid":"input-email",...l})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:s.control,name:"password",render:({field:l})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:r?"text":"password",placeholder:"Sua senha","data-testid":"input-password",...l}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>a(!r),"data-testid":"button-toggle-password",children:r?t.jsx(hu,{className:"h-4 w-4"}):t.jsx(fs,{className:"h-4 w-4"})})]})}),t.jsx(Ze,{})]})}),t.jsx(H,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-login",children:i.isPending?t.jsxs(t.Fragment,{children:[t.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx(it,{href:"/esqueci-senha",className:"text-sm text-muted-foreground hover:text-primary hover:underline","data-testid":"link-forgot-password",children:"Esqueceu a senha?"})}),t.jsxs("div",{className:"mt-4 text-center text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"No tem uma conta? "}),t.jsx(it,{href:"/registro",className:"text-primary hover:underline","data-testid":"link-register",children:"Criar conta"})]})]})]})})]})}function ij(e){const n=w.useRef({value:e,previous:e});return w.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var vA="Checkbox",[Ere]=sr(vA),[Are,kre]=Ere(vA),Mz=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:f,...h}=e,[p,v]=w.useState(null),N=qt(n,y=>v(y)),j=w.useRef(!1),g=p?f||!!p.closest("form"):!0,[P=!1,C]=sa({prop:s,defaultProp:i,onChange:u}),b=w.useRef(P);return w.useEffect(()=>{const y=p?.form;if(y){const E=()=>C(b.current);return y.addEventListener("reset",E),()=>y.removeEventListener("reset",E)}},[p,C]),t.jsxs(Are,{scope:r,state:P,disabled:l,children:[t.jsx(ot.button,{type:"button",role:"checkbox","aria-checked":yl(P)?"mixed":P,"aria-required":o,"data-state":Iz(P),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:N,onKeyDown:He(e.onKeyDown,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:He(e.onClick,y=>{C(E=>yl(E)?!0:!E),g&&(j.current=y.isPropagationStopped(),j.current||y.stopPropagation())})}),g&&t.jsx(_re,{control:p,bubbles:!j.current,name:a,value:d,checked:P,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:yl(i)?!1:i})]})});Mz.displayName=vA;var Rz="CheckboxIndicator",Dz=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=kre(Rz,r);return t.jsx(ur,{present:a||yl(i.state)||i.state===!0,children:t.jsx(ot.span,{"data-state":Iz(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...e.style}})})});Dz.displayName=Rz;var _re=e=>{const{control:n,checked:r,bubbles:a=!0,defaultChecked:s,...i}=e,o=w.useRef(null),l=ij(r),d=Gy(n);w.useEffect(()=>{const f=o.current,h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&v){const N=new Event("click",{bubbles:a});f.indeterminate=yl(r),v.call(f,yl(r)?!1:r),f.dispatchEvent(N)}},[l,r,a]);const u=w.useRef(yl(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yl(e){return e==="indeterminate"}function Iz(e){return yl(e)?"indeterminate":e?"checked":"unchecked"}var $z=Mz,Tre=Dz;const fn=w.forwardRef(({className:e,...n},r)=>t.jsx($z,{ref:r,className:Fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:t.jsx(Tre,{className:Fe("flex items-center justify-center text-current"),children:t.jsx(ta,{className:"h-4 w-4"})})}));fn.displayName=$z.displayName;function US(e,[n,r]){return Math.min(r,Math.max(n,e))}var Ore=w.createContext(void 0);function Xc(e){const n=w.useContext(Ore);return e||n||"ltr"}var A1=0;function oj(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??oM()),document.body.insertAdjacentElement("beforeend",e[1]??oM()),A1++,()=>{A1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),A1--}},[])}function oM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var k1="focusScope.autoFocusOnMount",_1="focusScope.autoFocusOnUnmount",lM={bubbles:!1,cancelable:!0},Mre="FocusScope",fp=w.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,d]=w.useState(null),u=Bn(s),f=Bn(i),h=w.useRef(null),p=qt(n,j=>d(j)),v=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let j=function(b){if(v.paused||!l)return;const y=b.target;l.contains(y)?h.current=y:ul(h.current,{select:!0})},g=function(b){if(v.paused||!l)return;const y=b.relatedTarget;y!==null&&(l.contains(y)||ul(h.current,{select:!0}))},P=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ul(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",g);const C=new MutationObserver(P);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",g),C.disconnect()}}},[a,l,v.paused]),w.useEffect(()=>{if(l){dM.add(v);const j=document.activeElement;if(!l.contains(j)){const P=new CustomEvent(k1,lM);l.addEventListener(k1,u),l.dispatchEvent(P),P.defaultPrevented||(Rre(Lre(Fz(l)),{select:!0}),document.activeElement===j&&ul(l))}return()=>{l.removeEventListener(k1,u),setTimeout(()=>{const P=new CustomEvent(_1,lM);l.addEventListener(_1,f),l.dispatchEvent(P),P.defaultPrevented||ul(j??document.body,{select:!0}),l.removeEventListener(_1,f),dM.remove(v)},0)}}},[l,u,f,v]);const N=w.useCallback(j=>{if(!r&&!a||v.paused)return;const g=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,P=document.activeElement;if(g&&P){const C=j.currentTarget,[b,y]=Dre(C);b&&y?!j.shiftKey&&P===y?(j.preventDefault(),r&&ul(b,{select:!0})):j.shiftKey&&P===b&&(j.preventDefault(),r&&ul(y,{select:!0})):P===C&&j.preventDefault()}},[r,a,v.paused]);return t.jsx(ot.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});fp.displayName=Mre;function Rre(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(ul(a,{select:n}),document.activeElement!==r)return}function Dre(e){const n=Fz(e),r=cM(n,e),a=cM(n.reverse(),e);return[r,a]}function Fz(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function cM(e,n){for(const r of e)if(!Ire(r,{upTo:n}))return r}function Ire(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $re(e){return e instanceof HTMLInputElement&&"select"in e}function ul(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$re(e)&&n&&e.select()}}var dM=Fre();function Fre(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=uM(e,n),e.unshift(n)},remove(n){e=uM(e,n),e[0]?.resume()}}}function uM(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function Lre(e){return e.filter(n=>n.tagName!=="A")}var zre=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Id=new WeakMap,Zx=new WeakMap,Jx={},T1=0,Lz=function(e){return e&&(e.host||Lz(e.parentNode))},qre=function(e,n){return n.map(function(r){if(e.contains(r))return r;var a=Lz(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Vre=function(e,n,r,a){var s=qre(n,Array.isArray(e)?e:[e]);Jx[r]||(Jx[r]=new WeakMap);var i=Jx[r],o=[],l=new Set,d=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var v=p.getAttribute(a),N=v!==null&&v!=="false",j=(Id.get(p)||0)+1,g=(i.get(p)||0)+1;Id.set(p,j),i.set(p,g),o.push(p),j===1&&N&&Zx.set(p,!0),g===1&&p.setAttribute(r,"true"),N||p.setAttribute(a,"true")}catch(P){console.error("aria-hidden: cannot operate on ",p,P)}})};return f(n),l.clear(),T1++,function(){o.forEach(function(h){var p=Id.get(h)-1,v=i.get(h)-1;Id.set(h,p),i.set(h,v),p||(Zx.has(h)||h.removeAttribute(a),Zx.delete(h)),v||h.removeAttribute(r)}),T1--,T1||(Id=new WeakMap,Id=new WeakMap,Zx=new WeakMap,Jx={})}},lj=function(e,n,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=zre(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Vre(a,s,r,"aria-hidden")):function(){return null}},di=function(){return di=Object.assign||function(n){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},di.apply(this,arguments)};function zz(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Bre(e,n,r){if(r||arguments.length===2)for(var a=0,s=n.length,i;a<s;a++)(i||!(a in n))&&(i||(i=Array.prototype.slice.call(n,0,a)),i[a]=n[a]);return e.concat(i||Array.prototype.slice.call(n))}var $g="right-scroll-bar-position",Fg="width-before-scroll-bar",Hre="with-scroll-bars-hidden",Ure="--removed-body-scroll-bar-size";function O1(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function Kre(e,n){var r=w.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=n,r.facade}var Wre=typeof window<"u"?w.useLayoutEffect:w.useEffect,mM=new WeakMap;function Gre(e,n){var r=Kre(null,function(a){return e.forEach(function(s){return O1(s,a)})});return Wre(function(){var a=mM.get(r);if(a){var s=new Set(a),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||O1(l,null)}),i.forEach(function(l){s.has(l)||O1(l,o)})}mM.set(r,e)},[e]),r}function Qre(e){return e}function Yre(e,n){n===void 0&&(n=Qre);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=n(i,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var d=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function Xre(e){e===void 0&&(e={});var n=Yre(null);return n.options=di({async:!0,ssr:!1},e),n}var qz=function(e){var n=e.sideCar,r=zz(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,di({},r))};qz.isSideCarExport=!0;function Zre(e,n){return e.useMedium(n),qz}var Vz=Xre(),M1=function(){},cj=w.forwardRef(function(e,n){var r=w.useRef(null),a=w.useState({onScrollCapture:M1,onWheelCapture:M1,onTouchMoveCapture:M1}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,v=e.noIsolation,N=e.inert,j=e.allowPinchZoom,g=e.as,P=g===void 0?"div":g,C=e.gapMode,b=zz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=p,E=Gre([r,n]),S=di(di({},b),s);return w.createElement(w.Fragment,null,f&&w.createElement(y,{sideCar:Vz,removeScrollBar:u,shards:h,noIsolation:v,inert:N,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:C}),o?w.cloneElement(w.Children.only(l),di(di({},S),{ref:E})):w.createElement(P,di({},S,{className:d,ref:E}),l))});cj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cj.classNames={fullWidth:Fg,zeroRight:$g};var Jre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Jre();return n&&e.setAttribute("nonce",n),e}function tae(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function nae(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var rae=function(){var e=0,n=null;return{add:function(r){e==0&&(n=eae())&&(tae(n,r),nae(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},aae=function(){var e=rae();return function(n,r){w.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},Bz=function(){var e=aae(),n=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return n},sae={left:0,top:0,right:0,gap:0},R1=function(e){return parseInt(e||"",10)||0},iae=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],s=n[e==="padding"?"paddingRight":"marginRight"];return[R1(r),R1(a),R1(s)]},oae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sae;var n=iae(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-r+n[2]-n[0])}},lae=Bz(),su="data-scroll-locked",cae=function(e,n,r,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Hre,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(su,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($g,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Fg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat($g," .").concat($g,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Fg," .").concat(Fg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(su,`] {
    `).concat(Ure,": ").concat(l,`px;
  }
`)},fM=function(){var e=parseInt(document.body.getAttribute(su)||"0",10);return isFinite(e)?e:0},dae=function(){w.useEffect(function(){return document.body.setAttribute(su,(fM()+1).toString()),function(){var e=fM()-1;e<=0?document.body.removeAttribute(su):document.body.setAttribute(su,e.toString())}},[])},uae=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;dae();var i=w.useMemo(function(){return oae(s)},[s]);return w.createElement(lae,{styles:cae(i,!n,s,r?"":"!important")})},KS=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return KS=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{KS=!1}var $d=KS?{passive:!1}:!1,mae=function(e){return e.tagName==="TEXTAREA"},Hz=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!mae(e)&&r[n]==="visible")},fae=function(e){return Hz(e,"overflowY")},hae=function(e){return Hz(e,"overflowX")},hM=function(e,n){var r=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Uz(e,a);if(s){var i=Kz(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},pae=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},xae=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},Uz=function(e,n){return e==="v"?fae(n):hae(n)},Kz=function(e,n){return e==="v"?pae(n):xae(n)},gae=function(e,n){return e==="h"&&n==="rtl"?-1:1},vae=function(e,n,r,a,s){var i=gae(e,window.getComputedStyle(n).direction),o=i*a,l=r.target,d=n.contains(l),u=!1,f=o>0,h=0,p=0;do{var v=Kz(e,l),N=v[0],j=v[1],g=v[2],P=j-g-i*N;(N||P)&&Uz(e,l)&&(h+=P,p+=N),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(n.contains(l)||n===l));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},tg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pM=function(e){return[e.deltaX,e.deltaY]},xM=function(e){return e&&"current"in e?e.current:e},yae=function(e,n){return e[0]===n[0]&&e[1]===n[1]},jae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bae=0,Fd=[];function wae(e){var n=w.useRef([]),r=w.useRef([0,0]),a=w.useRef(),s=w.useState(bae++)[0],i=w.useState(Bz)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var j=Bre([e.lockRef.current],(e.shards||[]).map(xM),!0).filter(Boolean);return j.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),j.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(j,g){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var P=tg(j),C=r.current,b="deltaX"in j?j.deltaX:C[0]-P[0],y="deltaY"in j?j.deltaY:C[1]-P[1],E,S=j.target,k=Math.abs(b)>Math.abs(y)?"h":"v";if("touches"in j&&k==="h"&&S.type==="range")return!1;var T=hM(k,S);if(!T)return!0;if(T?E=k:(E=k==="v"?"h":"v",T=hM(k,S)),!T)return!1;if(!a.current&&"changedTouches"in j&&(b||y)&&(a.current=E),!E)return!0;var z=a.current||E;return vae(z,g,j,z==="h"?b:y)},[]),d=w.useCallback(function(j){var g=j;if(!(!Fd.length||Fd[Fd.length-1]!==i)){var P="deltaY"in g?pM(g):tg(g),C=n.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&yae(E.delta,P)})[0];if(C&&C.should){g.cancelable&&g.preventDefault();return}if(!C){var b=(o.current.shards||[]).map(xM).filter(Boolean).filter(function(E){return E.contains(g.target)}),y=b.length>0?l(g,b[0]):!o.current.noIsolation;y&&g.cancelable&&g.preventDefault()}}},[]),u=w.useCallback(function(j,g,P,C){var b={name:j,delta:g,target:P,should:C,shadowParent:Nae(P)};n.current.push(b),setTimeout(function(){n.current=n.current.filter(function(y){return y!==b})},1)},[]),f=w.useCallback(function(j){r.current=tg(j),a.current=void 0},[]),h=w.useCallback(function(j){u(j.type,pM(j),j.target,l(j,e.lockRef.current))},[]),p=w.useCallback(function(j){u(j.type,tg(j),j.target,l(j,e.lockRef.current))},[]);w.useEffect(function(){return Fd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",d,$d),document.addEventListener("touchmove",d,$d),document.addEventListener("touchstart",f,$d),function(){Fd=Fd.filter(function(j){return j!==i}),document.removeEventListener("wheel",d,$d),document.removeEventListener("touchmove",d,$d),document.removeEventListener("touchstart",f,$d)}},[]);var v=e.removeScrollBar,N=e.inert;return w.createElement(w.Fragment,null,N?w.createElement(i,{styles:jae(s)}):null,v?w.createElement(uae,{gapMode:e.gapMode}):null)}function Nae(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const Cae=Zre(Vz,wae);var hp=w.forwardRef(function(e,n){return w.createElement(cj,di({},e,{ref:n,sideCar:Cae}))});hp.classNames=cj.classNames;var Sae=[" ","Enter","ArrowUp","ArrowDown"],Pae=[" ","Enter"],pp="Select",[dj,uj,Eae]=tp(pp),[cm]=sr(pp,[Eae,Ol]),mj=Ol(),[Aae,Ml]=cm(pp),[kae,_ae]=cm(pp),Wz=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:f,autoComplete:h,disabled:p,required:v,form:N}=e,j=mj(n),[g,P]=w.useState(null),[C,b]=w.useState(null),[y,E]=w.useState(!1),S=Xc(u),[k=!1,T]=sa({prop:a,defaultProp:s,onChange:i}),[z,Y]=sa({prop:o,defaultProp:l,onChange:d}),F=w.useRef(null),D=g?N||!!g.closest("form"):!0,[R,q]=w.useState(new Set),Q=Array.from(R).map(K=>K.props.value).join(";");return t.jsx(Qy,{...j,children:t.jsxs(Aae,{required:v,scope:n,trigger:g,onTriggerChange:P,valueNode:C,onValueNodeChange:b,valueNodeHasChildren:y,onValueNodeHasChildrenChange:E,contentId:cr(),value:z,onValueChange:Y,open:k,onOpenChange:T,dir:S,triggerPointerDownPosRef:F,disabled:p,children:[t.jsx(dj.Provider,{scope:n,children:t.jsx(kae,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(K=>{q(U=>new Set(U).add(K))},[]),onNativeOptionRemove:w.useCallback(K=>{q(U=>{const O=new Set(U);return O.delete(K),O})},[]),children:r})}),D?t.jsxs(vq,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:z,onChange:K=>Y(K.target.value),disabled:p,form:N,children:[z===void 0?t.jsx("option",{value:""}):null,Array.from(R)]},Q):null]})})};Wz.displayName=pp;var Gz="SelectTrigger",Qz=w.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=mj(r),o=Ml(Gz,r),l=o.disabled||a,d=qt(n,o.onTriggerChange),u=uj(r),f=w.useRef("touch"),[h,p,v]=yq(j=>{const g=u().filter(b=>!b.disabled),P=g.find(b=>b.value===o.value),C=jq(g,j,P);C!==void 0&&o.onValueChange(C.value)}),N=j=>{l||(o.onOpenChange(!0),v()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(dp,{asChild:!0,...i,children:t.jsx(ot.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gq(o.value)?"":void 0,...s,ref:d,onClick:He(s.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&N(j)}),onPointerDown:He(s.onPointerDown,j=>{f.current=j.pointerType;const g=j.target;g.hasPointerCapture(j.pointerId)&&g.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:He(s.onKeyDown,j=>{const g=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&p(j.key),!(g&&j.key===" ")&&Sae.includes(j.key)&&(N(),j.preventDefault())})})})});Qz.displayName=Gz;var Yz="SelectValue",Xz=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:o="",...l}=e,d=Ml(Yz,r),{onValueNodeHasChildrenChange:u}=d,f=i!==void 0,h=qt(n,d.onValueNodeChange);return ar(()=>{u(f)},[u,f]),t.jsx(ot.span,{...l,ref:h,style:{pointerEvents:"none"},children:gq(d.value)?t.jsx(t.Fragment,{children:o}):i})});Xz.displayName=Yz;var Tae="SelectIcon",Zz=w.forwardRef((e,n)=>{const{__scopeSelect:r,children:a,...s}=e;return t.jsx(ot.span,{"aria-hidden":!0,...s,ref:n,children:a||""})});Zz.displayName=Tae;var Oae="SelectPortal",Jz=e=>t.jsx(am,{asChild:!0,...e});Jz.displayName=Oae;var Mc="SelectContent",eq=w.forwardRef((e,n)=>{const r=Ml(Mc,e.__scopeSelect),[a,s]=w.useState();if(ar(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?rm.createPortal(t.jsx(tq,{scope:e.__scopeSelect,children:t.jsx(dj.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(nq,{...e,ref:n})});eq.displayName=Mc;var _s=10,[tq,Rl]=cm(Mc),Mae="SelectContentImpl",Rae=wl("SelectContent.RemoveScroll"),nq=w.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:N,hideWhenDetached:j,avoidCollisions:g,...P}=e,C=Ml(Mc,r),[b,y]=w.useState(null),[E,S]=w.useState(null),k=qt(n,he=>y(he)),[T,z]=w.useState(null),[Y,F]=w.useState(null),D=uj(r),[R,q]=w.useState(!1),Q=w.useRef(!1);w.useEffect(()=>{if(b)return lj(b)},[b]),oj();const K=w.useCallback(he=>{const[pe,...L]=D().map(W=>W.ref.current),[ae]=L.slice(-1),me=document.activeElement;for(const W of he)if(W===me||(W?.scrollIntoView({block:"nearest"}),W===pe&&E&&(E.scrollTop=0),W===ae&&E&&(E.scrollTop=E.scrollHeight),W?.focus(),document.activeElement!==me))return},[D,E]),U=w.useCallback(()=>K([T,b]),[K,T,b]);w.useEffect(()=>{R&&U()},[R,U]);const{onOpenChange:O,triggerPointerDownPosRef:I}=C;w.useEffect(()=>{if(b){let he={x:0,y:0};const pe=ae=>{he={x:Math.abs(Math.round(ae.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-(I.current?.y??0))}},L=ae=>{he.x<=10&&he.y<=10?ae.preventDefault():b.contains(ae.target)||O(!1),document.removeEventListener("pointermove",pe),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",L,{capture:!0})}}},[b,O,I]),w.useEffect(()=>{const he=()=>O(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[O]);const[G,M]=yq(he=>{const pe=D().filter(me=>!me.disabled),L=pe.find(me=>me.ref.current===document.activeElement),ae=jq(pe,he,L);ae&&setTimeout(()=>ae.ref.current.focus())}),V=w.useCallback((he,pe,L)=>{const ae=!Q.current&&!L;(C.value!==void 0&&C.value===pe||ae)&&(z(he),ae&&(Q.current=!0))},[C.value]),Z=w.useCallback(()=>b?.focus(),[b]),re=w.useCallback((he,pe,L)=>{const ae=!Q.current&&!L;(C.value!==void 0&&C.value===pe||ae)&&F(he)},[C.value]),le=a==="popper"?WS:rq,ye=le===WS?{side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:N,hideWhenDetached:j,avoidCollisions:g}:{};return t.jsx(tq,{scope:r,content:b,viewport:E,onViewportChange:S,itemRefCallback:V,selectedItem:T,onItemLeave:Z,itemTextRefCallback:re,focusSelectedItem:U,selectedItemText:Y,position:a,isPositioned:R,searchRef:G,children:t.jsx(hp,{as:Rae,allowPinchZoom:!0,children:t.jsx(fp,{asChild:!0,trapped:C.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:He(s,he=>{C.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:t.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:t.jsx(le,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:he=>he.preventDefault(),...P,...ye,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:He(P.onKeyDown,he=>{const pe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!pe&&he.key.length===1&&M(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ae=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const me=he.target,W=ae.indexOf(me);ae=ae.slice(W+1)}setTimeout(()=>K(ae)),he.preventDefault()}})})})})})})});nq.displayName=Mae;var Dae="SelectItemAlignedPosition",rq=w.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=Ml(Mc,r),o=Rl(Mc,r),[l,d]=w.useState(null),[u,f]=w.useState(null),h=qt(n,k=>f(k)),p=uj(r),v=w.useRef(!1),N=w.useRef(!0),{viewport:j,selectedItem:g,selectedItemText:P,focusSelectedItem:C}=o,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&j&&g&&P){const k=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),Y=P.getBoundingClientRect();if(i.dir!=="rtl"){const me=Y.left-T.left,W=z.left-me,Se=k.left-W,$e=k.width+Se,tt=Math.max($e,T.width),ft=window.innerWidth-_s,_t=US(W,[_s,Math.max(_s,ft-tt)]);l.style.minWidth=$e+"px",l.style.left=_t+"px"}else{const me=T.right-Y.right,W=window.innerWidth-z.right-me,Se=window.innerWidth-k.right-W,$e=k.width+Se,tt=Math.max($e,T.width),ft=window.innerWidth-_s,_t=US(W,[_s,Math.max(_s,ft-tt)]);l.style.minWidth=$e+"px",l.style.right=_t+"px"}const F=p(),D=window.innerHeight-_s*2,R=j.scrollHeight,q=window.getComputedStyle(u),Q=parseInt(q.borderTopWidth,10),K=parseInt(q.paddingTop,10),U=parseInt(q.borderBottomWidth,10),O=parseInt(q.paddingBottom,10),I=Q+K+R+O+U,G=Math.min(g.offsetHeight*5,I),M=window.getComputedStyle(j),V=parseInt(M.paddingTop,10),Z=parseInt(M.paddingBottom,10),re=k.top+k.height/2-_s,le=D-re,ye=g.offsetHeight/2,he=g.offsetTop+ye,pe=Q+K+he,L=I-pe;if(pe<=re){const me=F.length>0&&g===F[F.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-j.offsetTop-j.offsetHeight,Se=Math.max(le,ye+(me?Z:0)+W+U),$e=pe+Se;l.style.height=$e+"px"}else{const me=F.length>0&&g===F[0].ref.current;l.style.top="0px";const Se=Math.max(re,Q+j.offsetTop+(me?V:0)+ye)+L;l.style.height=Se+"px",j.scrollTop=pe-re+j.offsetTop}l.style.margin=`${_s}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=D+"px",a?.(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,u,j,g,P,i.dir,a]);ar(()=>b(),[b]);const[y,E]=w.useState();ar(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(k=>{k&&N.current===!0&&(b(),C?.(),N.current=!1)},[b,C]);return t.jsx($ae,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:S,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:t.jsx(ot.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rq.displayName=Dae;var Iae="SelectPopperPosition",WS=w.forwardRef((e,n)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=_s,...i}=e,o=mj(r);return t.jsx(Yy,{...o,...i,ref:n,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WS.displayName=Iae;var[$ae,yA]=cm(Mc,{}),GS="SelectViewport",aq=w.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=Rl(GS,r),o=yA(GS,r),l=qt(n,i.onViewportChange),d=w.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(dj.Slot,{scope:r,children:t.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:He(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p?.current&&h){const v=Math.abs(d.current-f.scrollTop);if(v>0){const N=window.innerHeight-_s*2,j=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),P=Math.max(j,g);if(P<N){const C=P+v,b=Math.min(N,C),y=C-b;h.style.height=b+"px",h.style.bottom==="0px"&&(f.scrollTop=y>0?y:0,h.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});aq.displayName=GS;var sq="SelectGroup",[Fae,Lae]=cm(sq),zae=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,s=cr();return t.jsx(Fae,{scope:r,id:s,children:t.jsx(ot.div,{role:"group","aria-labelledby":s,...a,ref:n})})});zae.displayName=sq;var iq="SelectLabel",oq=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,s=Lae(iq,r);return t.jsx(ot.div,{id:s.id,...a,ref:n})});oq.displayName=iq;var bv="SelectItem",[qae,lq]=cm(bv),cq=w.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...o}=e,l=Ml(bv,r),d=Rl(bv,r),u=l.value===a,[f,h]=w.useState(i??""),[p,v]=w.useState(!1),N=qt(n,C=>d.itemRefCallback?.(C,a,s)),j=cr(),g=w.useRef("touch"),P=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(qae,{scope:r,value:a,disabled:s,textId:j,isSelected:u,onItemTextChange:w.useCallback(C=>{h(b=>b||(C?.textContent??"").trim())},[]),children:t.jsx(dj.ItemSlot,{scope:r,value:a,disabled:s,textValue:f,children:t.jsx(ot.div,{role:"option","aria-labelledby":j,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:N,onFocus:He(o.onFocus,()=>v(!0)),onBlur:He(o.onBlur,()=>v(!1)),onClick:He(o.onClick,()=>{g.current!=="mouse"&&P()}),onPointerUp:He(o.onPointerUp,()=>{g.current==="mouse"&&P()}),onPointerDown:He(o.onPointerDown,C=>{g.current=C.pointerType}),onPointerMove:He(o.onPointerMove,C=>{g.current=C.pointerType,s?d.onItemLeave?.():g.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:He(o.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(Pae.includes(C.key)&&P(),C.key===" "&&C.preventDefault())})})})})});cq.displayName=bv;var Sf="SelectItemText",dq=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,o=Ml(Sf,r),l=Rl(Sf,r),d=lq(Sf,r),u=_ae(Sf,r),[f,h]=w.useState(null),p=qt(n,P=>h(P),d.onItemTextChange,P=>l.itemTextRefCallback?.(P,d.value,d.disabled)),v=f?.textContent,N=w.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:j,onNativeOptionRemove:g}=u;return ar(()=>(j(N),()=>g(N)),[j,g,N]),t.jsxs(t.Fragment,{children:[t.jsx(ot.span,{id:d.textId,...i,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?rm.createPortal(i.children,o.valueNode):null]})});dq.displayName=Sf;var uq="SelectItemIndicator",mq=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return lq(uq,r).isSelected?t.jsx(ot.span,{"aria-hidden":!0,...a,ref:n}):null});mq.displayName=uq;var QS="SelectScrollUpButton",fq=w.forwardRef((e,n)=>{const r=Rl(QS,e.__scopeSelect),a=yA(QS,e.__scopeSelect),[s,i]=w.useState(!1),o=qt(n,a.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?t.jsx(pq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});fq.displayName=QS;var YS="SelectScrollDownButton",hq=w.forwardRef((e,n)=>{const r=Rl(YS,e.__scopeSelect),a=yA(YS,e.__scopeSelect),[s,i]=w.useState(!1),o=qt(n,a.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;i(f)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?t.jsx(pq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});hq.displayName=YS;var pq=w.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=Rl("SelectScrollButton",r),o=w.useRef(null),l=uj(r),d=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),ar(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),t.jsx(ot.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:He(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:He(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:He(s.onPointerLeave,()=>{d()})})}),Vae="SelectSeparator",xq=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return t.jsx(ot.div,{"aria-hidden":!0,...a,ref:n})});xq.displayName=Vae;var XS="SelectArrow",Bae=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,s=mj(r),i=Ml(XS,r),o=Rl(XS,r);return i.open&&o.position==="popper"?t.jsx(Xy,{...s,...a,ref:n}):null});Bae.displayName=XS;function gq(e){return e===""||e===void 0}var vq=w.forwardRef((e,n)=>{const{value:r,...a}=e,s=w.useRef(null),i=qt(n,s),o=ij(r);return w.useEffect(()=>{const l=s.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),t.jsx(np,{asChild:!0,children:t.jsx("select",{...a,ref:i,defaultValue:r})})});vq.displayName="BubbleSelect";function yq(e){const n=Bn(e),r=w.useRef(""),a=w.useRef(0),s=w.useCallback(o=>{const l=r.current+o;n(l),(function d(u){r.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))})(l)},[n]),i=w.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function jq(e,n,r){const s=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let o=Hae(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function Hae(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var Uae=Wz,bq=Qz,Kae=Xz,Wae=Zz,Gae=Jz,wq=eq,Qae=aq,Nq=oq,Cq=cq,Yae=dq,Xae=mq,Sq=fq,Pq=hq,Eq=xq;const Oe=Uae,Me=Kae,_e=w.forwardRef(({className:e,children:n,...r},a)=>t.jsxs(bq,{ref:a,className:Fe("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,t.jsx(Wae,{asChild:!0,children:t.jsx(Eo,{className:"h-4 w-4 opacity-50"})})]}));_e.displayName=bq.displayName;const Aq=w.forwardRef(({className:e,...n},r)=>t.jsx(Sq,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(o8,{className:"h-4 w-4"})}));Aq.displayName=Sq.displayName;const kq=w.forwardRef(({className:e,...n},r)=>t.jsx(Pq,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Eo,{className:"h-4 w-4"})}));kq.displayName=Pq.displayName;const Te=w.forwardRef(({className:e,children:n,position:r="popper",...a},s)=>t.jsx(Gae,{children:t.jsxs(wq,{ref:s,className:Fe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[t.jsx(Aq,{}),t.jsx(Qae,{className:Fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(kq,{})]})}));Te.displayName=wq.displayName;const Zae=w.forwardRef(({className:e,...n},r)=>t.jsx(Nq,{ref:r,className:Fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));Zae.displayName=Nq.displayName;const ne=w.forwardRef(({className:e,children:n,...r},a)=>t.jsxs(Cq,{ref:a,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Xae,{children:t.jsx(ta,{className:"h-4 w-4"})})}),t.jsx(Yae,{children:n})]}));ne.displayName=Cq.displayName;const Jae=w.forwardRef(({className:e,...n},r)=>t.jsx(Eq,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",e),...n}));Jae.displayName=Eq.displayName;function _q(e){const n=e.replace(/\D/g,"").slice(0,11);return n.length<=3?n:n.length<=6?`${n.slice(0,3)}.${n.slice(3)}`:n.length<=9?`${n.slice(0,3)}.${n.slice(3,6)}.${n.slice(6)}`:`${n.slice(0,3)}.${n.slice(3,6)}.${n.slice(6,9)}-${n.slice(9)}`}function Tq(e){const n=e.replace(/\D/g,"").slice(0,14);return n.length<=2?n:n.length<=5?`${n.slice(0,2)}.${n.slice(2)}`:n.length<=8?`${n.slice(0,2)}.${n.slice(2,5)}.${n.slice(5)}`:n.length<=12?`${n.slice(0,2)}.${n.slice(2,5)}.${n.slice(5,8)}/${n.slice(8)}`:`${n.slice(0,2)}.${n.slice(2,5)}.${n.slice(5,8)}/${n.slice(8,12)}-${n.slice(12)}`}function Oq(e){const n=e.replace(/\D/g,"");if(n.length===0)return{valid:!0,message:""};if(n.length!==11)return{valid:!1,message:"CPF deve ter 11 digitos"};if(/^(\d)\1+$/.test(n))return{valid:!1,message:"CPF invalido"};let r=0;for(let s=0;s<9;s++)r+=parseInt(n[s])*(10-s);let a=r*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(n[9]))return{valid:!1,message:"CPF invalido - digito verificador incorreto"};r=0;for(let s=0;s<10;s++)r+=parseInt(n[s])*(11-s);return a=r*10%11,(a===10||a===11)&&(a=0),a!==parseInt(n[10])?{valid:!1,message:"CPF invalido - digito verificador incorreto"}:{valid:!0,message:""}}function Mq(e){const n=e.replace(/\D/g,"");if(n.length===0)return{valid:!0,message:""};if(n.length!==14)return{valid:!1,message:"CNPJ deve ter 14 digitos"};if(/^(\d)\1+$/.test(n))return{valid:!1,message:"CNPJ invalido"};const r=[5,4,3,2,9,8,7,6,5,4,3,2];let a=0;for(let d=0;d<12;d++)a+=parseInt(n[d])*r[d];let s=a%11;if((s<2?0:11-s)!==parseInt(n[12]))return{valid:!1,message:"CNPJ invalido - digito verificador incorreto"};const o=[6,5,4,3,2,9,8,7,6,5,4,3,2];a=0;for(let d=0;d<13;d++)a+=parseInt(n[d])*o[d];return s=a%11,(s<2?0:11-s)!==parseInt(n[13])?{valid:!1,message:"CNPJ invalido - digito verificador incorreto"}:{valid:!0,message:""}}function D1(e,n){return e==="cpf"?Oq(n):Mq(n)}function I1(e,n){return e==="cpf"?_q(n):Tq(n)}function dm({value:e,onChange:n,documentType:r,onDocumentTypeChange:a,label:s="CPF/CNPJ",disabled:i=!1,showValidation:o=!0,"data-testid":l}){const[d,u]=w.useState(()=>{if(e){const C=e.replace(/\D/g,"");if(C.length===11)return"cpf";if(C.length===14)return"cnpj"}return"cnpj"}),[f,h]=w.useState(""),[p,v]=w.useState(!1);w.useEffect(()=>{if(e&&!r&&!p){const C=e.replace(/\D/g,"");C.length===11&&d!=="cpf"?u("cpf"):C.length===14&&d!=="cnpj"&&u("cnpj")}},[]);const N=r??d,j=C=>{v(!0),a?a(C):u(C),n(""),h("")},g=C=>{const b=C.target.value,y=N==="cpf"?_q(b):Tq(b);n(y)};w.useEffect(()=>{if(!o||!e){h("");return}const C=e.replace(/\D/g,""),b=N==="cpf"?11:14;if(C.length===b){const y=N==="cpf"?Oq(e):Mq(e);h(y.valid?"":y.message)}else C.length>0&&h("")},[e,N,o]);const P=N==="cpf"?"000.000.000-00":"00.000.000/0000-00";return t.jsxs("div",{className:"space-y-2",children:[s&&t.jsx(B,{children:s}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{value:N,onValueChange:C=>j(C),children:[t.jsx(_e,{className:"w-24","data-testid":`${l}-type`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"cnpj",children:"CNPJ"}),t.jsx(ne,{value:"cpf",children:"CPF"})]})]}),t.jsx(J,{value:e,onChange:g,placeholder:P,disabled:i,className:"flex-1","data-testid":l})]}),o&&f&&t.jsx("p",{className:"text-sm text-destructive",children:f})]})}var jA="Dialog",[Rq,Dq]=sr(jA),[ese,Zs]=Rq(jA),Iq=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),d=w.useRef(null),[u=!1,f]=sa({prop:a,defaultProp:s,onChange:i});return t.jsx(ese,{scope:n,triggerRef:l,contentRef:d,contentId:cr(),titleId:cr(),descriptionId:cr(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};Iq.displayName=jA;var $q="DialogTrigger",Fq=w.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=Zs($q,r),i=qt(n,s.triggerRef);return t.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":NA(s.open),...a,ref:i,onClick:He(e.onClick,s.onOpenToggle)})});Fq.displayName=$q;var bA="DialogPortal",[tse,Lq]=Rq(bA,{forceMount:void 0}),zq=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:s}=e,i=Zs(bA,n);return t.jsx(tse,{scope:n,forceMount:r,children:w.Children.map(a,o=>t.jsx(ur,{present:r||i.open,children:t.jsx(am,{asChild:!0,container:s,children:o})}))})};zq.displayName=bA;var wv="DialogOverlay",qq=w.forwardRef((e,n)=>{const r=Lq(wv,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Zs(wv,e.__scopeDialog);return i.modal?t.jsx(ur,{present:a||i.open,children:t.jsx(rse,{...s,ref:n})}):null});qq.displayName=wv;var nse=wl("DialogOverlay.RemoveScroll"),rse=w.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=Zs(wv,r);return t.jsx(hp,{as:nse,allowPinchZoom:!0,shards:[s.contentRef],children:t.jsx(ot.div,{"data-state":NA(s.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),Rc="DialogContent",Vq=w.forwardRef((e,n)=>{const r=Lq(Rc,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Zs(Rc,e.__scopeDialog);return t.jsx(ur,{present:a||i.open,children:i.modal?t.jsx(ase,{...s,ref:n}):t.jsx(sse,{...s,ref:n})})});Vq.displayName=Rc;var ase=w.forwardRef((e,n)=>{const r=Zs(Rc,e.__scopeDialog),a=w.useRef(null),s=qt(n,r.contentRef,a);return w.useEffect(()=>{const i=a.current;if(i)return lj(i)},[]),t.jsx(Bq,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),sse=w.forwardRef((e,n)=>{const r=Zs(Rc,e.__scopeDialog),a=w.useRef(!1),s=w.useRef(!1);return t.jsx(Bq,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Bq=w.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Zs(Rc,r),d=w.useRef(null),u=qt(n,d);return oj(),t.jsxs(t.Fragment,{children:[t.jsx(fp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx(Wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(ose,{titleId:l.titleId}),t.jsx(cse,{contentRef:d,descriptionId:l.descriptionId})]})]})}),wA="DialogTitle",Hq=w.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=Zs(wA,r);return t.jsx(ot.h2,{id:s.titleId,...a,ref:n})});Hq.displayName=wA;var Uq="DialogDescription",Kq=w.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=Zs(Uq,r);return t.jsx(ot.p,{id:s.descriptionId,...a,ref:n})});Kq.displayName=Uq;var Wq="DialogClose",Gq=w.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=Zs(Wq,r);return t.jsx(ot.button,{type:"button",...a,ref:n,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});Gq.displayName=Wq;function NA(e){return e?"open":"closed"}var Qq="DialogTitleWarning",[ise,Yq]=$X(Qq,{contentName:Rc,titleName:wA,docsSlug:"dialog"}),ose=({titleId:e})=>{const n=Yq(Qq),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lse="DialogDescriptionWarning",cse=({contentRef:e,descriptionId:n})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Yq(lse).contentName}}.`;return w.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");n&&s&&(document.getElementById(n)||console.warn(a))},[a,e,n]),null},fj=Iq,Xq=Fq,hj=zq,um=qq,mm=Vq,xp=Hq,gp=Kq,pj=Gq;const bt=fj,$r=Xq,dse=hj,Zq=w.forwardRef(({className:e,...n},r)=>t.jsx(um,{ref:r,className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));Zq.displayName=um.displayName;const yt=w.forwardRef(({className:e,children:n,...r},a)=>t.jsxs(dse,{children:[t.jsx(Zq,{}),t.jsxs(mm,{ref:a,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,t.jsxs(pj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(Gs,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yt.displayName=mm.displayName;const wt=({className:e,...n})=>t.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});wt.displayName="DialogHeader";const Pn=({className:e,...n})=>t.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Pn.displayName="DialogFooter";const Nt=w.forwardRef(({className:e,...n},r)=>t.jsx(xp,{ref:r,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...n}));Nt.displayName=xp.displayName;const tn=w.forwardRef(({className:e,...n},r)=>t.jsx(gp,{ref:r,className:Fe("text-sm text-muted-foreground",e),...n}));tn.displayName=gp.displayName;const use=De.object({email:De.string().email("Email invlido"),password:De.string().min(8,"Senha deve ter no mnimo 8 caracteres"),confirmPassword:De.string(),userCategories:De.array(De.string()).min(1,"Selecione pelo menos uma categoria"),cnpj:De.string().optional(),inscrioEstadual:De.string().optional(),inscrioEstadualIsento:De.boolean().optional().default(!1),inscrioMunicipal:De.string().optional(),razaoSocial:De.string().optional(),nomeFantasia:De.string().optional(),firstName:De.string().min(1,"Nome  obrigatrio"),lastName:De.string().optional(),tipoEmpresa:De.string().optional(),segmentos:De.array(De.string()).optional(),segmento:De.string().optional(),departamento:De.string().optional(),vendedor:De.string().optional(),perfilConta:De.string().optional().default("colaborador"),phone:De.string().optional(),acceptTerms:De.boolean().refine(e=>e===!0,{message:"Voc deve aceitar os termos de uso"})}).refine(e=>e.password===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),mse=[{key:"embarcador",label:"Embarcador",desc:"Busca prestadores de servio"},{key:"servicos",label:"Servios",desc:"Busca clientes"},{key:"operador",label:"Operador Logstico",desc:"Busca clientes e prestadores de servio"},{key:"parceiro",label:"Parceiros",desc:"Servios Autnomos"},{key:"motorista",label:"Motoristas",desc:"Terceiros, Agregados, Autnomos"}],gM=["Indstria","Transportadora","Operador Logstico","Carga/Descarga","Motorista","Despachante Aduaneiro","Associao","Contador","Advogado","Governo","Portos","Influencer","ERP"],vM=["Alimentos Seco","Alimentos Refrigerado","Medicamentos","Ferramentas","Bebidas","Qumicos","Higiene/Limpeza","Pet","EPIs","Automotivo","Peas Automotivo","Caf","Txtil","Eletrnicos","Odontolgico","Esportivos","Embalagens"],fse=[{value:"direo",label:"Direo"},{value:"comercial",label:"Comercial"},{value:"financeiro",label:"Financeiro"},{value:"compras",label:"Compras"},{value:"logstica",label:"Logstica"},{value:"frota",label:"Frota"},{value:"qualidade",label:"Qualidade"},{value:"ti",label:"T.I"}],hse=[{value:"administrador",label:"Administrador"},{value:"colaborador",label:"Colaborador"}];function pse(){const[,e]=wa(),{toast:n}=At(),[r,a]=w.useState(!1),[s,i]=w.useState(!1),[o,l]=w.useState(""),[d,u]=w.useState(""),[f,h]=w.useState(!1),[p,v]=w.useState(!1),[N,j]=w.useState(!1),[g,P]=w.useState(!1),{data:C=[]}=Ve({queryKey:["/api/business-types"]}),{data:b=[]}=Ve({queryKey:["/api/market-segments"]}),y=[...gM,...C.map(U=>U.name).filter(U=>!gM.includes(U))],E=[...vM,...b.map(U=>U.name).filter(U=>!vM.includes(U))],S=hs({resolver:ps(use),defaultValues:{email:"",password:"",confirmPassword:"",userCategories:[],cnpj:"",inscrioEstadual:"",inscrioEstadualIsento:!1,inscrioMunicipal:"",razaoSocial:"",nomeFantasia:"",firstName:"",lastName:"",tipoEmpresa:"",segmentos:[],segmento:"",departamento:"",vendedor:"",perfilConta:"colaborador",phone:"",acceptTerms:!1}}),k=S.watch("inscrioEstadualIsento"),T=async U=>{const O=U.replace(/[^\d]/g,"");if(O.length===14){j(!0),P(!1);try{const I=await fetch(`/api/cnpj/${O}`);if(I.ok){const G=await I.json(),M=G.razao_social||G.razaoSocial||"",V=G.nome_fantasia||G.nomeFantasia||"";S.setValue("razaoSocial",M),S.setValue("nomeFantasia",V),P(!0),n({title:"CNPJ encontrado",description:`Dados de ${M} carregados automaticamente`})}else n({title:"CNPJ no encontrado",description:"No foi possvel encontrar dados para este CNPJ",variant:"destructive"})}catch(I){console.error("Erro ao buscar CNPJ:",I),n({title:"Erro ao buscar CNPJ",description:"Tente novamente mais tarde",variant:"destructive"})}finally{j(!1)}}},z=S.watch("departamento"),Y=z==="direo"||z==="comercial",[F,D]=w.useState(!1),R=Ae({mutationFn:async U=>{const{confirmPassword:O,acceptTerms:I,...G}=U;return(await Ne("POST","/api/auth/register",G)).json()},onSuccess:U=>{U.pendingApproval?(D(!0),n({title:"Cadastro realizado!",description:"Sua conta est aguardando aprovao. Voc receber um email quando for aprovada."})):(Ce.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Conta criada",description:"Sua conta foi criada com sucesso!"}),e("/dashboard"))},onError:U=>{n({title:"Erro ao criar conta",description:U.message||"No foi possvel criar sua conta",variant:"destructive"})}}),q=Ae({mutationFn:async U=>(await Ne("POST","/api/business-types",{name:U})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/business-types"]}),l(""),h(!1),n({title:"Tipo de empresa criado!"})}}),Q=Ae({mutationFn:async U=>(await Ne("POST","/api/market-segments",{name:U})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/market-segments"]}),u(""),v(!1),n({title:"Segmento criado!"})}}),K=U=>{R.mutate(U)};return t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>window.history.length>1?window.history.back():window.location.href="/","data-testid":"button-back",title:"Voltar",children:t.jsx(ia,{className:"h-5 w-5"})}),t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:F?t.jsx(ee,{className:"w-full max-w-md",children:t.jsxs(te,{className:"pt-8 pb-8 text-center space-y-6",children:[t.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx(Ar,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Cadastro Realizado!"}),t.jsx("p",{className:"text-muted-foreground",children:"Sua conta foi criada e est aguardando aprovao."})]}),t.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-left space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"O que acontece agora?"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"1. Nossa equipe ir analisar seu cadastro"}),t.jsx("li",{children:"2. Voc receber um email quando sua conta for aprovada"}),t.jsx("li",{children:"3. Aps aprovao, voc poder acessar o sistema normalmente"})]})]}),t.jsxs("div",{className:"pt-4 space-y-3",children:[t.jsx(H,{onClick:()=>e("/login"),className:"w-full","data-testid":"button-go-to-login",children:"Ir para Login"}),t.jsx(H,{variant:"outline",onClick:()=>e("/"),className:"w-full","data-testid":"button-go-home",children:"Voltar para o Incio"})]})]})}):t.jsxs(ee,{className:"w-full max-w-2xl",children:[t.jsxs(de,{className:"text-center",children:[t.jsx(ue,{className:"text-2xl",children:"Criar Conta"}),t.jsx(rt,{children:"Preencha os dados para criar sua conta gratuita"})]}),t.jsxs(te,{children:[t.jsx(xs,{...S,children:t.jsxs("form",{onSubmit:S.handleSubmit(K),className:"space-y-4",children:[t.jsx(Qe,{control:S.control,name:"userCategories",render:({field:U})=>{const O=Array.isArray(U.value)?U.value:[],I=G=>{const M=O.includes(G)?O.filter(V=>V!==G):[...O,G];U.onChange(M)};return t.jsxs(We,{children:[t.jsx(Ge,{children:"Voc : *"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-2",children:mse.map(G=>{const M=O.includes(G.key);return t.jsxs("div",{className:`flex items-start gap-2 p-3 rounded-md border cursor-pointer transition-colors ${M?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>I(G.key),"data-testid":`checkbox-category-${G.key}`,children:[t.jsx("div",{className:"pt-0.5",children:t.jsx(fn,{checked:M,tabIndex:-1,className:"pointer-events-none"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:G.label}),t.jsx("span",{className:"text-xs text-muted-foreground",children:G.desc})]})]},G.key)})}),t.jsx(Ze,{})]})}}),t.jsx(Qe,{control:S.control,name:"cnpj",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"CNPJ/CPF"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ye,{className:"flex-1",children:t.jsx(dm,{value:U.value||"",onChange:O=>{U.onChange(O),P(!1)},label:"","data-testid":"input-cnpj"})}),t.jsx(H,{type:"button",variant:"outline",onClick:()=>T(U.value||""),disabled:N||!U.value||U.value.replace(/[^\d]/g,"").length!==14,"data-testid":"button-cnpj-lookup",children:N?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):g?t.jsx(Ar,{className:"h-4 w-4 text-green-500"}):t.jsx(ca,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o CNPJ e clique na lupa para buscar dados automaticamente"}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"inscrioEstadual",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Inscrio Estadual (I.E.)"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:k?"ISENTO":"Inscrio Estadual",disabled:k,"data-testid":"input-ie",...U,value:k?"":U.value})}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(fn,{id:"ie-isento",checked:S.watch("inscrioEstadualIsento"),onCheckedChange:O=>{S.setValue("inscrioEstadualIsento",!!O),O&&S.setValue("inscrioEstadual","")},"data-testid":"checkbox-ie-isento"}),t.jsx("label",{htmlFor:"ie-isento",className:"text-xs text-muted-foreground cursor-pointer",children:"Isento"})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"inscrioMunicipal",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Inscrio Municipal (I.M.)"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Inscrio Municipal","data-testid":"input-im",...U})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"razaoSocial",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Razao Social"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Nome da empresa","data-testid":"input-razao-social",...U})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"nomeFantasia",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome Fantasia"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Nome fantasia","data-testid":"input-nome-fantasia",...U})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"firstName",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Seu nome","data-testid":"input-first-name",...U})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"lastName",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Sobrenome"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Seu sobrenome","data-testid":"input-last-name",...U})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"tipoEmpresa",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Voc "}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{onValueChange:U.onChange,value:U.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-tipo-empresa",className:"flex-1",children:t.jsx(Me,{placeholder:"Selecione..."})})}),t.jsx(Te,{children:y.map(O=>t.jsx(ne,{value:O,children:O},O))})]}),t.jsxs(bt,{open:f,onOpenChange:h,children:[t.jsx($r,{asChild:!0,children:t.jsx(H,{type:"button",variant:"outline",size:"icon",children:t.jsx(ut,{className:"h-4 w-4"})})}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Tipo de Empresa"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(J,{placeholder:"Nome do tipo",value:o,onChange:O=>l(O.target.value),"data-testid":"input-new-type"}),t.jsx(H,{onClick:()=>q.mutate(o),disabled:!o||q.isPending,"data-testid":"button-create-type",children:q.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):"Criar"})]})]})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"segmentos",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Segmentos (mltipla escolha)"}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{onValueChange:O=>{const I=U.value||[];I.includes(O)||U.onChange([...I,O])},value:"",children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-segmento",className:"flex-1",children:t.jsx(Me,{placeholder:"Adicionar segmento..."})})}),t.jsx(Te,{children:E.filter(O=>!(U.value||[]).includes(O)).map(O=>t.jsx(ne,{value:O,children:O},O))})]}),t.jsxs(bt,{open:p,onOpenChange:v,children:[t.jsx($r,{asChild:!0,children:t.jsx(H,{type:"button",variant:"outline",size:"icon",children:t.jsx(ut,{className:"h-4 w-4"})})}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Segmento"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(J,{placeholder:"Nome do segmento",value:d,onChange:O=>u(O.target.value),"data-testid":"input-new-segment"}),t.jsx(H,{onClick:()=>Q.mutate(d),disabled:!d||Q.isPending,"data-testid":"button-create-segment",children:Q.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):"Criar"})]})]})]})]}),(U.value||[]).length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:(U.value||[]).map(O=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-md bg-primary/10 text-primary",children:[O,t.jsx("button",{type:"button",onClick:()=>U.onChange(U.value?.filter(I=>I!==O)),className:"ml-1 hover:text-destructive","data-testid":`remove-segment-${O}`,children:"x"})]},O))})]}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"departamento",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Departamento"}),t.jsxs(Oe,{onValueChange:U.onChange,value:U.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-departamento",children:t.jsx(Me,{placeholder:"Selecione..."})})}),t.jsx(Te,{children:fse.map(O=>t.jsx(ne,{value:O.value,children:O.label},O.value))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"perfilConta",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Perfil da Conta"}),t.jsxs(Oe,{onValueChange:U.onChange,value:U.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-perfil",children:t.jsx(Me,{placeholder:"Selecione..."})})}),t.jsx(Te,{children:hse.map(O=>t.jsx(ne,{value:O.value,children:O.label},O.value))})]}),t.jsx(Ze,{})]})})]}),Y&&t.jsx(Qe,{control:S.control,name:"vendedor",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Vendedor"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Nome do vendedor","data-testid":"input-vendedor",...U})}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"email",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",placeholder:"seu@email.com","data-testid":"input-email",...U})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"phone",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Telefone"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"(00) 00000-0000","data-testid":"input-phone",...U})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:S.control,name:"password",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:r?"text":"password",placeholder:"Mnimo 8 caracteres","data-testid":"input-password",...U}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>a(!r),children:r?t.jsx(hu,{className:"h-4 w-4"}):t.jsx(fs,{className:"h-4 w-4"})})]})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"confirmPassword",render:({field:U})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Confirmar Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:s?"text":"password",placeholder:"Confirme sua senha","data-testid":"input-confirm-password",...U}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>i(!s),children:s?t.jsx(hu,{className:"h-4 w-4"}):t.jsx(fs,{className:"h-4 w-4"})})]})}),t.jsx(Ze,{})]})})]}),t.jsx(Qe,{control:S.control,name:"acceptTerms",render:({field:U})=>t.jsxs(We,{className:"flex flex-row items-start space-x-3 space-y-0",children:[t.jsx(Ye,{children:t.jsx(fn,{checked:U.value,onCheckedChange:U.onChange,"data-testid":"checkbox-terms"})}),t.jsxs("div",{className:"space-y-1 leading-none",children:[t.jsxs(Ge,{className:"text-sm font-normal",children:["Li e aceito os"," ",t.jsx(it,{href:"/termos",className:"text-primary hover:underline",children:"Termos de Uso"})," ","e a"," ",t.jsx(it,{href:"/privacidade",className:"text-primary hover:underline",children:"Poltica de Privacidade"})]}),t.jsx(Ze,{})]})]})}),t.jsx(H,{type:"submit",className:"w-full",disabled:R.isPending,"data-testid":"button-register",children:R.isPending?t.jsxs(t.Fragment,{children:[t.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]})}),t.jsxs("div",{className:"mt-6 text-center text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"J tem uma conta? "}),t.jsx(it,{href:"/login",className:"text-primary hover:underline","data-testid":"link-login",children:"Entrar"})]})]})]})})]})}const $1=768;function xse(){const[e,n]=w.useState(void 0);return w.useEffect(()=>{const r=window.matchMedia(`(max-width: ${$1-1}px)`),a=()=>{n(window.innerWidth<$1)};return r.addEventListener("change",a),n(window.innerWidth<$1),()=>r.removeEventListener("change",a)},[]),!!e}var gse="Separator",yM="horizontal",vse=["horizontal","vertical"],Jq=w.forwardRef((e,n)=>{const{decorative:r,orientation:a=yM,...s}=e,i=yse(a)?a:yM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(ot.div,{"data-orientation":i,...l,...s,ref:n})});Jq.displayName=gse;function yse(e){return vse.includes(e)}var e9=Jq;const kn=w.forwardRef(({className:e,orientation:n="horizontal",decorative:r=!0,...a},s)=>t.jsx(e9,{ref:s,decorative:r,orientation:n,className:Fe("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));kn.displayName=e9.displayName;const jse=fj,bse=hj,t9=w.forwardRef(({className:e,...n},r)=>t.jsx(um,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));t9.displayName=um.displayName;const wse=Gc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),n9=w.forwardRef(({side:e="right",className:n,children:r,...a},s)=>t.jsxs(bse,{children:[t.jsx(t9,{}),t.jsxs(mm,{ref:s,className:Fe(wse({side:e}),n),...a,children:[r,t.jsxs(pj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(Gs,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));n9.displayName=mm.displayName;const r9=({className:e,...n})=>t.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",e),...n});r9.displayName="SheetHeader";const a9=w.forwardRef(({className:e,...n},r)=>t.jsx(xp,{ref:r,className:Fe("text-lg font-semibold text-foreground",e),...n}));a9.displayName=xp.displayName;const s9=w.forwardRef(({className:e,...n},r)=>t.jsx(gp,{ref:r,className:Fe("text-sm text-muted-foreground",e),...n}));s9.displayName=gp.displayName;function va({className:e,...n}){return t.jsx("div",{className:Fe("animate-pulse rounded-md bg-muted",e),...n})}const Nse="sidebar_state",Cse=3600*24*7,Sse="16rem",Pse="18rem",Ese="3rem",Ase="b",i9=w.createContext(null);function CA(){const e=w.useContext(i9);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function SA({defaultOpen:e=!0,open:n,onOpenChange:r,className:a,style:s,children:i,...o}){const l=xse(),[d,u]=w.useState(!1),[f,h]=w.useState(e),p=n??f,v=w.useCallback(P=>{const C=typeof P=="function"?P(p):P;r?r(C):h(C),document.cookie=`${Nse}=${C}; path=/; max-age=${Cse}`},[r,p]),N=w.useCallback(()=>l?u(P=>!P):v(P=>!P),[l,v,u]);w.useEffect(()=>{const P=C=>{C.key===Ase&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),N())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[N]);const j=p?"expanded":"collapsed",g=w.useMemo(()=>({state:j,open:p,setOpen:v,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:N}),[j,p,v,l,d,u,N]);return t.jsx(i9.Provider,{value:g,children:t.jsx(J8,{delayDuration:0,children:t.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Sse,"--sidebar-width-icon":Ese,...s},className:Fe("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...o,children:i})})})}function PA({side:e="left",variant:n="sidebar",collapsible:r="offcanvas",className:a,children:s,...i}){const{isMobile:o,state:l,openMobile:d,setOpenMobile:u}=CA();return r==="none"?t.jsx("div",{"data-slot":"sidebar",className:Fe("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",a),...i,children:s}):o?t.jsx(jse,{open:d,onOpenChange:u,...i,children:t.jsxs(n9,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Pse},side:e,children:[t.jsxs(r9,{className:"sr-only",children:[t.jsx(a9,{children:"Sidebar"}),t.jsx(s9,{children:"Displays the mobile sidebar."})]}),t.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):t.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":n,"data-side":e,"data-slot":"sidebar",children:[t.jsx("div",{"data-slot":"sidebar-gap",className:Fe("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",n==="floating"||n==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),t.jsx("div",{"data-slot":"sidebar-container",className:Fe("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",n==="floating"||n==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:t.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function EA({className:e,onClick:n,...r}){const{toggleSidebar:a}=CA();return t.jsxs(H,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Fe("h-7 w-7",e),onClick:s=>{n?.(s),a()},...r,children:[t.jsx(iJ,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function AA({className:e,...n}){return t.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Fe("flex flex-col gap-2 p-2",e),...n})}function kA({className:e,...n}){return t.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Fe("flex flex-col gap-2 p-2",e),...n})}function _A({className:e,...n}){return t.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Fe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...n})}function xi({className:e,...n}){return t.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Fe("relative flex w-full min-w-0 flex-col p-2",e),...n})}function Lg({className:e,asChild:n=!1,...r}){const a=n?$y:"div";return t.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Fe("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function ro({className:e,...n}){return t.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Fe("w-full text-sm",e),...n})}function ao({className:e,...n}){return t.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Fe("flex w-full min-w-0 flex-col gap-1",e),...n})}function as({className:e,...n}){return t.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Fe("group/menu-item relative",e),...n})}const kse=Gc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function ss({asChild:e=!1,isActive:n=!1,variant:r="default",size:a="default",tooltip:s,className:i,...o}){const l=e?$y:"button",{isMobile:d,state:u}=CA(),f=t.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":n,className:Fe(kse({variant:r,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:f}),t.jsx(rs,{side:"right",align:"center",hidden:u!=="collapsed"||d,...s})]})):f}var TA="Collapsible",[_se,o9]=sr(TA),[Tse,OA]=_se(TA),l9=w.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[d=!1,u]=sa({prop:a,defaultProp:s,onChange:o});return t.jsx(Tse,{scope:r,disabled:i,contentId:cr(),open:d,onOpenToggle:w.useCallback(()=>u(f=>!f),[u]),children:t.jsx(ot.div,{"data-state":IA(d),"data-disabled":i?"":void 0,...l,ref:n})})});l9.displayName=TA;var c9="CollapsibleTrigger",MA=w.forwardRef((e,n)=>{const{__scopeCollapsible:r,...a}=e,s=OA(c9,r);return t.jsx(ot.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":IA(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:n,onClick:He(e.onClick,s.onOpenToggle)})});MA.displayName=c9;var RA="CollapsibleContent",DA=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,s=OA(RA,e.__scopeCollapsible);return t.jsx(ur,{present:r||s.open,children:({present:i})=>t.jsx(Ose,{...a,ref:n,present:i})})});DA.displayName=RA;var Ose=w.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:a,children:s,...i}=e,o=OA(RA,r),[l,d]=w.useState(a),u=w.useRef(null),f=qt(n,u),h=w.useRef(0),p=h.current,v=w.useRef(0),N=v.current,j=o.open||l,g=w.useRef(j),P=w.useRef(void 0);return w.useEffect(()=>{const C=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(C)},[]),ar(()=>{const C=u.current;if(C){P.current=P.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const b=C.getBoundingClientRect();h.current=b.height,v.current=b.width,g.current||(C.style.transitionDuration=P.current.transitionDuration,C.style.animationName=P.current.animationName),d(a)}},[o.open,a]),t.jsx(ot.div,{"data-state":IA(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!j,...i,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:j&&s})});function IA(e){return e?"open":"closed"}var d9=l9,Mse=MA,Rse=DA;const xj=d9,gj=MA,vj=DA;var $A="Avatar",[Dse]=sr($A),[Ise,u9]=Dse($A),m9=w.forwardRef((e,n)=>{const{__scopeAvatar:r,...a}=e,[s,i]=w.useState("idle");return t.jsx(Ise,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:t.jsx(ot.span,{...a,ref:n})})});m9.displayName=$A;var f9="AvatarImage",h9=w.forwardRef((e,n)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=u9(f9,r),l=$se(a,i),d=Bn(u=>{s(u),o.onImageLoadingStatusChange(u)});return ar(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?t.jsx(ot.img,{...i,ref:n,src:a}):null});h9.displayName=f9;var p9="AvatarFallback",x9=w.forwardRef((e,n)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,i=u9(p9,r),[o,l]=w.useState(a===void 0);return w.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(ot.span,{...s,ref:n}):null});x9.displayName=p9;function jM(e,n){return e?n?(e.src!==n&&(e.src=n),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $se(e,{referrerPolicy:n,crossOrigin:r}){const a=Lse(),s=w.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=w.useState(()=>jM(i,e));return ar(()=>{l(jM(i,e))},[i,e]),ar(()=>{const d=h=>()=>{l(h)};if(!i)return;const u=d("loaded"),f=d("error");return i.addEventListener("load",u),i.addEventListener("error",f),n&&(i.referrerPolicy=n),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,n]),o}function Fse(){return()=>{}}function Lse(){return w.useSyncExternalStore(Fse,()=>!0,()=>!1)}var g9=m9,v9=h9,y9=x9;const vp=w.forwardRef(({className:e,...n},r)=>t.jsx(g9,{ref:r,className:Fe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...n}));vp.displayName=g9.displayName;const FA=w.forwardRef(({className:e,...n},r)=>t.jsx(v9,{ref:r,className:Fe("aspect-square h-full w-full",e),...n}));FA.displayName=v9.displayName;const yp=w.forwardRef(({className:e,...n},r)=>t.jsx(y9,{ref:r,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...n}));yp.displayName=y9.displayName;const zse=[{title:"Marketing",url:"/marketing",icon:pu},{title:"Indicadores",url:"/indicadores-pre-vendas",icon:pn}],qse=[{title:"Calcule Frete",url:"/calculadora-frete",icon:Po},{title:"Calcule Armazenagem",url:"/calculadora-armazenagem",icon:eA},{title:"Dashboard",url:"/dashboard",icon:op},{title:"Clientes",url:"/clientes",icon:hn},{title:"Pipeline",url:"/pipeline",icon:XZ},{title:"Calendrio",url:"/calendrio",icon:ls},{title:"Rotas",url:"/rotas",icon:kS},{title:"Ata Plano de Ao",url:"/atas",icon:CS},{title:"Checklist",url:"/checklist",icon:wi},{title:"RFI",url:"/rfi",icon:d8},{title:"Tarefas",url:"/tarefas",icon:ev},{title:"Projetos",url:"/projetos",icon:ap},{title:"Indicadores",url:"/indicadores-vendas",icon:pn},{title:"Relatrios",url:"/relatrios",icon:us},{title:"Metas",url:"/operaes",icon:mJ}],Vse=[{title:"Pesquisas de Satisfao",url:"/pesquisas",icon:Hf},{title:"Indicadores",url:"/indicadores-pos-vendas",icon:pn}],Bse=[{title:"Meu Plano",url:"/admin/meu-plano",icon:Qc},{title:"Vendedores",url:"/vendedores",icon:dc},{title:"Logs de Auditoria",url:"/logs-auditoria",icon:Tg}],bM=[{title:"Aguardando Aprovao",url:"/admin/aguardando-aprovacao",icon:Hy},{title:"Comercial",url:"/admin/comercial",icon:rp},{title:"Projetos",url:"/admin/projetos",icon:ap},{title:"Parcerias",url:"/admin/parcerias",icon:ip},{title:"Contratos",url:"/admin/contratos",icon:VZ},{title:"Campanha Piloto",url:"/admin/campanha-piloto",icon:uJ},{title:"Diagnstico Leads",url:"/admin/leads-diagnstico",icon:ca}],Hse=[{title:"Contedo",url:"/admin/conteudo",icon:Xt},{title:"Kit Marca",url:"/admin/kit-marca",icon:Vy},{title:"Templates",url:"/admin/templates",icon:gc}],Use=[{title:"Dashboard Admin",url:"/admin",icon:op},{title:"Financeiro",url:"/admin/financeiro",icon:Qc},{title:"Plano de Contas (DRE)",url:"/admin/dre",icon:Cc},{title:"Centros de Custo",url:"/admin/centros-custo",icon:nn},{title:"Contas Bancarias",url:"/admin/bancos",icon:Ec},{title:"Certificados",url:"/admin/certificados",icon:LZ},{title:"Lanamentos",url:"/admin/lanamentos",icon:Bf},{title:"Relatorio DRE",url:"/admin/relatorio-dre",icon:us},{title:"IRPJ",url:"/admin/irpj",icon:Xt}],Kse=[{title:"Loja MCG",url:"/admin/loja",icon:By}],Wse=[{title:"Biblioteca",url:"/biblioteca",icon:gc},{title:"E-book",url:"/ebook",icon:Bf},{title:"Brindes",url:"/brindes",icon:sp}];function no({title:e,icon:n,items:r,location:a,defaultOpen:s=!1}){const[i,o]=w.useState(s),l=d=>d==="/admin"?a==="/admin":a===d||a.startsWith(d+"/");return t.jsx(xj,{open:i,onOpenChange:o,children:t.jsxs(xi,{children:[t.jsx(gj,{asChild:!0,children:t.jsxs("button",{className:"flex items-center justify-between w-full px-3 py-2 text-base font-semibold text-foreground hover-elevate rounded-md cursor-pointer","data-testid":`section-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(n,{className:"h-5 w-5"}),t.jsx("span",{children:e})]}),t.jsx(Eo,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]})}),t.jsx(vj,{children:t.jsx(ro,{className:"mt-1",children:t.jsx(ao,{children:r.map(d=>{const u=l(d.url);return t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:u,children:t.jsxs(it,{href:d.url,"data-testid":`nav-${d.url.replace("/","")}`,children:[t.jsx(d.icon,{className:"h-4 w-4"}),t.jsx("span",{children:d.title})]})})},d.title)})})})})]})})}function Gse({location:e,userRole:n}){const[r,a]=w.useState(!1),s=n==="admin_mcg"?bM:bM.filter(i=>i.url!=="/admin/aguardando-aprovacao");return t.jsx(xj,{open:r,onOpenChange:a,children:t.jsxs(xi,{children:[t.jsx(gj,{asChild:!0,children:t.jsxs("button",{className:"flex items-center justify-between w-full px-3 py-2 text-base font-bold text-foreground hover-elevate rounded-md cursor-pointer","data-testid":"section-admin-pj",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),t.jsx("span",{children:"ADMIN PJ"})]}),t.jsx(Eo,{className:`h-4 w-4 transition-transform duration-200 ${r?"rotate-180":""}`})]})}),t.jsx(vj,{children:t.jsxs("div",{className:"pl-2",children:[t.jsx(no,{title:"Comercial",icon:rp,items:s,location:e}),t.jsx(no,{title:"Marketing",icon:pu,items:Hse,location:e}),t.jsx(no,{title:"Financeiro",icon:Ec,items:Use,location:e}),t.jsx(no,{title:"Loja",icon:By,items:Kse,location:e})]})})]})})}const Qse=[{title:"Dashboard PF",url:"/pessoal",icon:op},{title:"Gesto Financeira",url:"/pessoal/gestao-financeira",icon:Uf},{title:"Contas Bancrias",url:"/pessoal/contas",icon:Ec},{title:"Centros de Custo",url:"/pessoal/centros-custo",icon:nn},{title:"IRPF",url:"/pessoal/irpf",icon:Xt}];function Yse({location:e}){const[n,r]=w.useState(!1),a=s=>s==="/pessoal"?e==="/pessoal":e===s||e.startsWith(s+"/");return t.jsx(xj,{open:n,onOpenChange:r,children:t.jsxs(xi,{children:[t.jsx(gj,{asChild:!0,children:t.jsxs("button",{className:"flex items-center justify-between w-full px-3 py-2 text-base font-bold text-foreground hover-elevate rounded-md cursor-pointer","data-testid":"section-admin-pf",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dc,{className:"h-5 w-5"}),t.jsx("span",{children:"ADMIN PF"})]}),t.jsx(Eo,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]})}),t.jsx(vj,{children:t.jsx(ro,{className:"mt-1",children:t.jsx(ao,{children:Qse.map(s=>{const i=a(s.url);return t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:i,children:t.jsxs(it,{href:s.url,"data-testid":`nav-${s.url.replace("/","")}`,children:[t.jsx(s.icon,{className:"h-4 w-4"}),t.jsx("span",{children:s.title})]})})},s.title)})})})})]})})}function Xse(){const[e]=wa(),{user:n}=za(),r=(s,i)=>{const o=s?.charAt(0)||"",l=i?.charAt(0)||"";return(o+l).toUpperCase()||"U"},a=n?.role==="administrador"||n?.role==="admin"||n?.role==="admin_mcg";return t.jsxs(PA,{children:[t.jsx(AA,{className:"p-4 border-b border-sidebar-border",children:t.jsxs("a",{href:"/landing",className:"flex items-center gap-3 cursor-pointer no-underline",title:"Ir para pgina inicial","data-testid":"link-logo-home",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight text-foreground",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]})}),t.jsxs(_A,{children:[t.jsx(xi,{children:t.jsx(ro,{children:t.jsxs(ao,{children:[t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:e==="/suporte",children:t.jsxs(it,{href:"/suporte","data-testid":"nav-suporte",className:"flex items-center gap-2 px-3 py-2 text-base font-semibold text-blue-600 dark:text-blue-400",children:[t.jsx(Jg,{className:"h-5 w-5"}),t.jsx("span",{children:"Suporte"})]})})}),t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:e==="/manual-app",children:t.jsxs(it,{href:"/manual-app","data-testid":"nav-manual-app",className:"flex items-center gap-2 px-3 py-2 text-base font-semibold",children:[t.jsx(Xt,{className:"h-5 w-5"}),t.jsx("span",{children:"Manual APP"})]})})}),t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:e==="/fluxograma",children:t.jsxs(it,{href:"/fluxograma","data-testid":"nav-fluxograma",className:"flex items-center gap-2 px-3 py-2 text-base font-semibold",children:[t.jsx(WZ,{className:"h-5 w-5"}),t.jsx("span",{children:"Fluxograma Comercial"})]})})})]})})}),t.jsx(no,{title:"Loja MCG",icon:By,items:Wse,location:e}),t.jsx(no,{title:"MKT (Pr Vendas)",icon:pu,items:zse,location:e}),t.jsx(no,{title:"COM (Vendas)",icon:fi,items:qse,location:e}),t.jsx(no,{title:"CAC (Ps Vendas)",icon:ip,items:Vse,location:e}),a&&t.jsx(no,{title:"Admin Cliente",icon:h8,items:Bse,location:e}),(n?.role==="admin"||n?.role==="admin_mcg")&&t.jsx(Gse,{location:e,userRole:n?.role}),(n?.role==="admin"||n?.role==="admin_mcg")&&t.jsx(Yse,{location:e})]}),t.jsxs(kA,{className:"p-4 border-t border-sidebar-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsxs(vp,{className:"h-9 w-9",children:[t.jsx(FA,{src:n?.profileImageUrl||void 0,style:{objectFit:"cover"}}),t.jsx(yp,{className:"text-xs",children:r(n?.firstName,n?.lastName)})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:n?.firstName||n?.email||"Usurio"}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n?.email})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{variant:"ghost",size:"sm",className:"flex-1 justify-start",asChild:!0,children:t.jsxs(it,{href:"/configuraes",children:[t.jsx(ZE,{className:"h-4 w-4 mr-2"}),"Configuraes"]})}),t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(it,{href:"/logout",children:t.jsx("button",{type:"button",className:"inline-flex items-center justify-center h-9 w-9 rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground","data-testid":"button-logout",children:t.jsx(qy,{className:"h-4 w-4"})})})}),t.jsx(rs,{children:"Sair"})]})]})]})]})}const Zse=Gc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ch=w.forwardRef(({className:e,variant:n,...r},a)=>t.jsx("div",{ref:a,role:"alert",className:Fe(Zse({variant:n}),e),...r}));ch.displayName="Alert";const ZS=w.forwardRef(({className:e,...n},r)=>t.jsx("h5",{ref:r,className:Fe("mb-1 font-medium leading-none tracking-tight",e),...n}));ZS.displayName="AlertTitle";const dh=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Fe("text-sm [&_p]:leading-relaxed",e),...n}));dh.displayName="AlertDescription";function Ot({children:e,title:n,subtitle:r,showBackButton:a=!0}){const[s,i]=wa(),[o,l]=w.useState(!1),[d,u]=w.useState(!1),{data:f}=Ve({queryKey:["/api/subscription/status"],staleTime:300*1e3}),h={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},p=()=>{window.history.length>1?window.history.back():i("/dashboard")},v=s==="/dashboard",N=!o&&f?.daysUntilAccessLoss!==null&&f?.daysUntilAccessLoss!==void 0&&f.daysUntilAccessLoss<=7,j=!d&&f?.renewalDue&&!N;return t.jsx(SA,{style:h,children:t.jsxs("div",{className:"flex h-screen w-full",children:[t.jsx(Xse,{}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsxs("header",{className:"h-14 md:h-16 flex items-center justify-between gap-2 md:gap-4 px-3 md:px-6 border-b border-border bg-background sticky top-0 z-40",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(EA,{"data-testid":"button-sidebar-toggle"})}),t.jsx(rs,{children:"Menu"})]}),a&&!v&&t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"icon",onClick:p,"data-testid":"button-back",children:t.jsx(ia,{className:"h-5 w-5"})})}),t.jsx(rs,{children:"Voltar"})]}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h1",{className:"text-base md:text-lg font-semibold truncate","data-testid":"text-page-title",children:n}),r&&t.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate hidden sm:block",children:r})]})]}),t.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:[t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"icon","data-testid":"button-notifications",className:"hidden sm:flex",children:t.jsx(s8,{className:"h-5 w-5"})})}),t.jsx(rs,{children:"Notificaes"})]}),t.jsx(ja,{}),t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(H,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-new-access",className:"hidden md:flex",children:t.jsx("a",{href:"/login",children:"Novo Acesso"})})}),t.jsx(rs,{children:"Acessar outra conta"})]})]})]}),t.jsxs("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-background",children:[N&&t.jsxs(ch,{variant:"destructive",className:"mb-4","data-testid":"alert-global-access-warning",children:[t.jsx(Hr,{className:"h-4 w-4"}),t.jsxs(dh,{className:"flex items-center justify-between gap-2 flex-wrap",children:[t.jsx("span",{children:f?.daysUntilAccessLoss!==null&&f.daysUntilAccessLoss<=0?"Seu acesso expirou. Entre em contato com o suporte.":`Seu acesso expira em ${f?.daysUntilAccessLoss} dia(s). Aps essa data, voc no poder mais acessar o sistema.`}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{size:"sm",variant:"outline",asChild:!0,children:t.jsx(it,{href:"/admin/meu-plano",children:"Ver Detalhes"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>l(!0),children:t.jsx(Gs,{className:"h-4 w-4"})})]})]})]}),j&&t.jsxs(ch,{className:"mb-4 border-yellow-500 bg-yellow-50 dark:bg-yellow-950/20","data-testid":"alert-global-renewal",children:[t.jsx(to,{className:"h-4 w-4 text-yellow-600"}),t.jsxs(dh,{className:"flex items-center justify-between gap-2 flex-wrap text-yellow-800 dark:text-yellow-200",children:[t.jsxs("span",{children:["Sua assinatura vence em breve. Aprove a renovao para continuar usando o sistema.",f?.renewalPrice&&t.jsxs("span",{className:"font-medium",children:[" Novo valor: R$ ",(f.renewalPrice/100).toFixed(2),"/ms"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{size:"sm",variant:"outline",asChild:!0,children:t.jsx(it,{href:"/admin/meu-plano",children:"Aprovar Renovao"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>u(!0),children:t.jsx(Gs,{className:"h-4 w-4"})})]})]})]}),e]})]})]})})}const Jse=Gc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:n,...r}){return t.jsx("div",{className:Fe(Jse({variant:n}),e),...r})}const na=w.forwardRef(({className:e,...n},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:Fe("w-full caption-bottom text-sm",e),...n})}));na.displayName="Table";const ra=w.forwardRef(({className:e,...n},r)=>t.jsx("thead",{ref:r,className:Fe("[&_tr]:border-b",e),...n}));ra.displayName="TableHeader";const aa=w.forwardRef(({className:e,...n},r)=>t.jsx("tbody",{ref:r,className:Fe("[&_tr:last-child]:border-0",e),...n}));aa.displayName="TableBody";const eie=w.forwardRef(({className:e,...n},r)=>t.jsx("tfoot",{ref:r,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));eie.displayName="TableFooter";const bn=w.forwardRef(({className:e,...n},r)=>t.jsx("tr",{ref:r,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...n}));bn.displayName="TableRow";const nt=w.forwardRef(({className:e,...n},r)=>t.jsx("th",{ref:r,className:Fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));nt.displayName="TableHead";const et=w.forwardRef(({className:e,...n},r)=>t.jsx("td",{ref:r,className:Fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));et.displayName="TableCell";const tie=w.forwardRef(({className:e,...n},r)=>t.jsx("caption",{ref:r,className:Fe("mt-4 text-sm text-muted-foreground",e),...n}));tie.displayName="TableCaption";const is=[{uf:"AC",name:"Acre",icms:17,region:"N"},{uf:"AL",name:"Alagoas",icms:18,region:"NE"},{uf:"AP",name:"Amap",icms:18,region:"N"},{uf:"AM",name:"Amazonas",icms:18,region:"N"},{uf:"BA",name:"Bahia",icms:18,region:"NE"},{uf:"CE",name:"Cear",icms:18,region:"NE"},{uf:"DF",name:"Distrito Federal",icms:18,region:"CO"},{uf:"ES",name:"Esprito Santo",icms:17,region:"SE"},{uf:"GO",name:"Gois",icms:17,region:"CO"},{uf:"MA",name:"Maranho",icms:18,region:"NE"},{uf:"MT",name:"Mato Grosso",icms:17,region:"CO"},{uf:"MS",name:"Mato Grosso do Sul",icms:17,region:"CO"},{uf:"MG",name:"Minas Gerais",icms:18,region:"SE"},{uf:"PA",name:"Par",icms:17,region:"N"},{uf:"PB",name:"Paraba",icms:18,region:"NE"},{uf:"PR",name:"Paran",icms:18,region:"S",tollExemptFromIcms:!0},{uf:"PE",name:"Pernambuco",icms:18,region:"NE"},{uf:"PI",name:"Piau",icms:18,region:"NE"},{uf:"RJ",name:"Rio de Janeiro",icms:20,region:"SE"},{uf:"RN",name:"Rio Grande do Norte",icms:18,region:"NE"},{uf:"RS",name:"Rio Grande do Sul",icms:17,region:"S"},{uf:"RO",name:"Rondnia",icms:17.5,region:"N"},{uf:"RR",name:"Roraima",icms:17,region:"N"},{uf:"SC",name:"Santa Catarina",icms:17,region:"S"},{uf:"SP",name:"So Paulo",icms:18,region:"SE"},{uf:"SE",name:"Sergipe",icms:18,region:"NE"},{uf:"TO",name:"Tocantins",icms:18,region:"N"}],nie={N:{N:12,NE:12,CO:12,SE:7,S:7},NE:{N:12,NE:12,CO:12,SE:7,S:7},CO:{N:12,NE:12,CO:12,SE:7,S:7},SE:{N:12,NE:12,CO:12,SE:12,S:12},S:{N:12,NE:12,CO:12,SE:12,S:12}},rie=[{value:"granel_solido",label:"Granel Slido",anttCode:"granel_solido"},{value:"granel_liquido",label:"Granel Lquido",anttCode:"granel_liquido"},{value:"carga_geral",label:"Carga Geral",anttCode:"carga_geral"},{value:"neogranel",label:"Neogranel",anttCode:"neogranel"},{value:"frigorificada",label:"Frigorificada/Refrigerada",anttCode:"frigorificada"},{value:"conteinerizada",label:"Conteinerizada",anttCode:"conteinerizada"},{value:"perigosa",label:"Perigosa",anttCode:"perigosa"},{value:"perigosa_granel",label:"Perigosa Granel Lquido",anttCode:"perigosa_granel"},{value:"perigosa_frigo",label:"Perigosa Frigorificada",anttCode:"perigosa_frigo"},{value:"perigosa_container",label:"Perigosa Conteinerizada",anttCode:"perigosa_container"},{value:"perigosa_geral",label:"Perigosa Carga Geral",anttCode:"perigosa_geral"},{value:"pressurizada",label:"Granel Pressurizada",anttCode:"pressurizada"},{value:"glp",label:"GLP (Gs de Cozinha)",anttCode:"perigosa"}],F1=[{value:"P5",label:"P5 (5kg)",weightKg:5,taraKg:4.8,totalKg:9.8},{value:"P13",label:"P13 (13kg)",weightKg:13,taraKg:13.5,totalKg:26.5},{value:"P20",label:"P20 (20kg)",weightKg:20,taraKg:18,totalKg:38},{value:"P45",label:"P45 (45kg)",weightKg:45,taraKg:45,totalKg:90}],aie=[{value:"pallet",label:"Pallet/Paletizada"},{value:"bombonas",label:"Bombonas"},{value:"batida_chao",label:"Batida ao Cho"},{value:"big_bag",label:"Big Bag"},{value:"caixas",label:"Caixas"},{value:"sacaria",label:"Sacaria"},{value:"granel",label:"Granel (sem embalagem)"},{value:"container",label:"Container"},{value:"tanque",label:"Tanque"}],LA=[{value:"3_4",label:"3/4",axles:2,capacityKg:4e3,description:"Veculo leve urbano"},{value:"van",label:"Van",axles:2,capacityKg:1500,description:"Van de carga"},{value:"toco",label:"Toco",axles:2,capacityKg:8e3,description:"Caminho toco"},{value:"truck",label:"Truck",axles:3,capacityKg:14e3,description:"Caminho truck"},{value:"bitruck",label:"Bitruck",axles:4,capacityKg:19e3,description:"Caminho bitruck"},{value:"carreta",label:"Carreta",axles:5,capacityKg:27e3,description:"Carreta simples"},{value:"carreta_ls",label:"Carreta LS",axles:6,capacityKg:33e3,description:"Carreta LS"},{value:"bitrem",label:"Bitrem",axles:7,capacityKg:41e3,description:"Bitrem"},{value:"rodotrem",label:"Rodotrem",axles:9,capacityKg:57e3,description:"Rodotrem"}],sie=[{value:"sider",label:"Sider",description:"Carroceria com lonas laterais"},{value:"bau_seco",label:"Ba Seco",description:"Ba fechado sem refrigerao"},{value:"bau_refrigerado",label:"Ba Refrigerado",description:"Ba com sistema de refrigerao"},{value:"gaiola",label:"Gaiola",description:"Carroceria aberta tipo gaiola"},{value:"tanque",label:"Tanque",description:"Para transporte de lquidos"},{value:"container",label:"Container",description:"Para containers martimos"},{value:"graneleiro",label:"Graneleiro",description:"Para gros e granis slidos"},{value:"cegonha",label:"Cegonha",description:"Para transporte de veculos"},{value:"prancha",label:"Prancha",description:"Para cargas especiais/pesadas"}],iie=[{value:2,label:"2 eixos (Toco)"},{value:3,label:"3 eixos (Truck)"},{value:4,label:"4 eixos"},{value:5,label:"5 eixos (Carreta)"},{value:6,label:"6 eixos (Carreta LS)"},{value:7,label:"7 eixos (Bitrem)"},{value:9,label:"9 eixos (Rodotrem)"}];function oie(e){const n=[...LA].sort((r,a)=>r.capacityKg-a.capacityKg);for(const r of n)if(r.capacityKg>=e)return r;return n[n.length-1]}function lie(e){return LA.find(n=>n.value===e)}const wM={granel_solido:{2:{ccd:2.8521,cc:267.42},3:{ccd:3.4526,cc:289.37},4:{ccd:4.2145,cc:395.12},5:{ccd:5.5749,cc:520.16},6:{ccd:6.1234,cc:572.45},7:{ccd:7.2456,cc:678.34},9:{ccd:9.1234,cc:854.67}},granel_liquido:{2:{ccd:2.9856,cc:279.89},3:{ccd:3.6123,cc:302.45},4:{ccd:4.4089,cc:413.26},5:{ccd:5.8312,cc:544.12},6:{ccd:6.4089,cc:598.56},7:{ccd:7.5789,cc:709.45},9:{ccd:9.5432,cc:894.12}},carga_geral:{2:{ccd:2.7234,cc:255.34},3:{ccd:3.2956,cc:276.12},4:{ccd:4.0234,cc:377.23},5:{ccd:5.3234,cc:496.78},6:{ccd:5.8456,cc:546.34},7:{ccd:6.9123,cc:647.23},9:{ccd:8.7123,cc:815.45}},frigorificada:{2:{ccd:3.1567,cc:296.12},3:{ccd:3.8234,cc:320.45},4:{ccd:4.6678,cc:437.56},5:{ccd:6.1859,cc:580.43},6:{ccd:6.7934,cc:637.89},7:{ccd:8.0345,cc:754.12},9:{ccd:10.1234,cc:949.34}},neogranel:{2:{ccd:2.8234,cc:264.78},3:{ccd:3.4123,cc:285.67},4:{ccd:4.1678,cc:390.34},5:{ccd:5.5123,cc:514.23},6:{ccd:6.0567,cc:566.78},7:{ccd:7.1678,cc:671.12},9:{ccd:9.0345,cc:846.45}},conteinerizada:{2:{ccd:3.0123,cc:282.45},3:{ccd:3.6456,cc:305.78},4:{ccd:4.4523,cc:417.34},5:{ccd:5.8934,cc:549.89},6:{ccd:6.4734,cc:604.23},7:{ccd:7.6567,cc:716.78},9:{ccd:9.6456,cc:902.34}},perigosa:{2:{ccd:3.2345,cc:303.12},3:{ccd:3.9123,cc:327.56},4:{ccd:4.7789,cc:447.89},5:{ccd:6.3234,cc:593.34},6:{ccd:6.9489,cc:652.78},7:{ccd:8.2134,cc:771.23},9:{ccd:10.3456,cc:970.45}},perigosa_granel:{2:{ccd:3.3567,cc:314.67},3:{ccd:4.0623,cc:340.12},4:{ccd:4.9612,cc:464.89},5:{ccd:6.5645,cc:615.78},6:{ccd:7.2134,cc:677.34},7:{ccd:8.5289,cc:800.56},9:{ccd:10.7423,cc:1007.23}},perigosa_frigo:{2:{ccd:3.4789,cc:326.23},3:{ccd:4.2123,cc:352.67},4:{ccd:5.1434,cc:481.89},5:{ccd:6.8056,cc:638.23},6:{ccd:7.4778,cc:701.89},7:{ccd:8.8445,cc:829.89},9:{ccd:11.1389,cc:1044.12}},perigosa_container:{2:{ccd:3.3012,cc:309.45},3:{ccd:3.9956,cc:334.78},4:{ccd:4.8789,cc:457.34},5:{ccd:6.4534,cc:604.89},6:{ccd:7.0912,cc:665.45},7:{ccd:8.3856,cc:787.12},9:{ccd:10.5623,cc:989.78}},perigosa_geral:{2:{ccd:3.1789,cc:298.12},3:{ccd:3.8467,cc:322.56},4:{ccd:4.6978,cc:440.23},5:{ccd:6.2156,cc:582.67},6:{ccd:6.8312,cc:640.12},7:{ccd:8.0789,cc:756.78},9:{ccd:10.1789,cc:954.23}},pressurizada:{2:{ccd:3.4234,cc:321.23},3:{ccd:4.1423,cc:347.78},4:{ccd:5.0589,cc:474.34},5:{ccd:6.6934,cc:627.89},6:{ccd:7.3545,cc:689.45},7:{ccd:8.6989,cc:816.12},9:{ccd:10.9612,cc:1027.56}}};function j9(e){const n=is.find(r=>r.uf===e);return n?n.icms:18}function cie(e,n){if(e===n)return j9(n);const r=is.find(s=>s.uf===e),a=is.find(s=>s.uf===n);return!r||!a?12:nie[r.region]?.[a.region]||12}function die(e){return is.find(r=>r.uf===e)?.tollExemptFromIcms===!0}function uie(e,n,r){const a=wM[n]?.[r];if(!a){const s=wM.carga_geral?.[5]||{ccd:5.3234,cc:496.78};return e*s.ccd+s.cc}return e*a.ccd+a.cc}function Vt(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function b9(e,n,r,a){return e!==r?"interestadual":n!==a?"intermunicipal":"municipal"}function mie(e,n,r,a){const s=b9(e,n,r,a);if(s==="municipal")return{taxType:"ISS",rate:5,description:"Transporte municipal - ISS 5%"};const i=s==="interestadual"?cie(e,r):j9(r);return{taxType:"ICMS",rate:i,description:s==="interestadual"?`Transporte interestadual - ICMS ${i}%`:`Transporte intermunicipal - ICMS ${i}%`}}var L1,NM;function Na(){if(NM)return L1;NM=1;var e=Array.isArray;return L1=e,L1}var z1,CM;function w9(){if(CM)return z1;CM=1;var e=typeof Ux=="object"&&Ux&&Ux.Object===Object&&Ux;return z1=e,z1}var q1,SM;function _i(){if(SM)return q1;SM=1;var e=w9(),n=typeof self=="object"&&self&&self.Object===Object&&self,r=e||n||Function("return this")();return q1=r,q1}var V1,PM;function jp(){if(PM)return V1;PM=1;var e=_i(),n=e.Symbol;return V1=n,V1}var B1,EM;function fie(){if(EM)return B1;EM=1;var e=jp(),n=Object.prototype,r=n.hasOwnProperty,a=n.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),d=o[s];try{o[s]=void 0;var u=!0}catch{}var f=a.call(o);return u&&(l?o[s]=d:delete o[s]),f}return B1=i,B1}var H1,AM;function hie(){if(AM)return H1;AM=1;var e=Object.prototype,n=e.toString;function r(a){return n.call(a)}return H1=r,H1}var U1,kM;function _o(){if(kM)return U1;kM=1;var e=jp(),n=fie(),r=hie(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?n(l):r(l)}return U1=o,U1}var K1,_M;function To(){if(_M)return K1;_M=1;function e(n){return n!=null&&typeof n=="object"}return K1=e,K1}var W1,TM;function fm(){if(TM)return W1;TM=1;var e=_o(),n=To(),r="[object Symbol]";function a(s){return typeof s=="symbol"||n(s)&&e(s)==r}return W1=a,W1}var G1,OM;function zA(){if(OM)return G1;OM=1;var e=Na(),n=fm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||n(i)?!0:a.test(i)||!r.test(i)||o!=null&&i in Object(o)}return G1=s,G1}var Q1,MM;function Dl(){if(MM)return Q1;MM=1;function e(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}return Q1=e,Q1}var Y1,RM;function qA(){if(RM)return Y1;RM=1;var e=_o(),n=Dl(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!n(l))return!1;var d=e(l);return d==a||d==s||d==r||d==i}return Y1=o,Y1}var X1,DM;function pie(){if(DM)return X1;DM=1;var e=_i(),n=e["__core-js_shared__"];return X1=n,X1}var Z1,IM;function xie(){if(IM)return Z1;IM=1;var e=pie(),n=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!n&&n in a}return Z1=r,Z1}var J1,$M;function N9(){if($M)return J1;$M=1;var e=Function.prototype,n=e.toString;function r(a){if(a!=null){try{return n.call(a)}catch{}try{return a+""}catch{}}return""}return J1=r,J1}var ew,FM;function gie(){if(FM)return ew;FM=1;var e=qA(),n=xie(),r=Dl(),a=N9(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,u=l.hasOwnProperty,f=RegExp("^"+d.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||n(p))return!1;var v=e(p)?f:i;return v.test(a(p))}return ew=h,ew}var tw,LM;function vie(){if(LM)return tw;LM=1;function e(n,r){return n?.[r]}return tw=e,tw}var nw,zM;function Zc(){if(zM)return nw;zM=1;var e=gie(),n=vie();function r(a,s){var i=n(a,s);return e(i)?i:void 0}return nw=r,nw}var rw,qM;function yj(){if(qM)return rw;qM=1;var e=Zc(),n=e(Object,"create");return rw=n,rw}var aw,VM;function yie(){if(VM)return aw;VM=1;var e=yj();function n(){this.__data__=e?e(null):{},this.size=0}return aw=n,aw}var sw,BM;function jie(){if(BM)return sw;BM=1;function e(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r}return sw=e,sw}var iw,HM;function bie(){if(HM)return iw;HM=1;var e=yj(),n="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===n?void 0:l}return a.call(o,i)?o[i]:void 0}return iw=s,iw}var ow,UM;function wie(){if(UM)return ow;UM=1;var e=yj(),n=Object.prototype,r=n.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return ow=a,ow}var lw,KM;function Nie(){if(KM)return lw;KM=1;var e=yj(),n="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?n:s,this}return lw=r,lw}var cw,WM;function Cie(){if(WM)return cw;WM=1;var e=yie(),n=jie(),r=bie(),a=wie(),s=Nie();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,cw=i,cw}var dw,GM;function Sie(){if(GM)return dw;GM=1;function e(){this.__data__=[],this.size=0}return dw=e,dw}var uw,QM;function VA(){if(QM)return uw;QM=1;function e(n,r){return n===r||n!==n&&r!==r}return uw=e,uw}var mw,YM;function jj(){if(YM)return mw;YM=1;var e=VA();function n(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return mw=n,mw}var fw,XM;function Pie(){if(XM)return fw;XM=1;var e=jj(),n=Array.prototype,r=n.splice;function a(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return fw=a,fw}var hw,ZM;function Eie(){if(ZM)return hw;ZM=1;var e=jj();function n(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return hw=n,hw}var pw,JM;function Aie(){if(JM)return pw;JM=1;var e=jj();function n(r){return e(this.__data__,r)>-1}return pw=n,pw}var xw,eR;function kie(){if(eR)return xw;eR=1;var e=jj();function n(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return xw=n,xw}var gw,tR;function bj(){if(tR)return gw;tR=1;var e=Sie(),n=Pie(),r=Eie(),a=Aie(),s=kie();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,gw=i,gw}var vw,nR;function BA(){if(nR)return vw;nR=1;var e=Zc(),n=_i(),r=e(n,"Map");return vw=r,vw}var yw,rR;function _ie(){if(rR)return yw;rR=1;var e=Cie(),n=bj(),r=BA();function a(){this.size=0,this.__data__={hash:new e,map:new(r||n),string:new e}}return yw=a,yw}var jw,aR;function Tie(){if(aR)return jw;aR=1;function e(n){var r=typeof n;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null}return jw=e,jw}var bw,sR;function wj(){if(sR)return bw;sR=1;var e=Tie();function n(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return bw=n,bw}var ww,iR;function Oie(){if(iR)return ww;iR=1;var e=wj();function n(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return ww=n,ww}var Nw,oR;function Mie(){if(oR)return Nw;oR=1;var e=wj();function n(r){return e(this,r).get(r)}return Nw=n,Nw}var Cw,lR;function Rie(){if(lR)return Cw;lR=1;var e=wj();function n(r){return e(this,r).has(r)}return Cw=n,Cw}var Sw,cR;function Die(){if(cR)return Sw;cR=1;var e=wj();function n(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return Sw=n,Sw}var Pw,dR;function HA(){if(dR)return Pw;dR=1;var e=_ie(),n=Oie(),r=Mie(),a=Rie(),s=Die();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Pw=i,Pw}var Ew,uR;function C9(){if(uR)return Ew;uR=1;var e=HA(),n="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(n);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],d=i.cache;if(d.has(l))return d.get(l);var u=a.apply(this,o);return i.cache=d.set(l,u)||d,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Ew=r,Ew}var Aw,mR;function Iie(){if(mR)return Aw;mR=1;var e=C9(),n=500;function r(a){var s=e(a,function(o){return i.size===n&&i.clear(),o}),i=s.cache;return s}return Aw=r,Aw}var kw,fR;function $ie(){if(fR)return kw;fR=1;var e=Iie(),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(n,function(o,l,d,u){i.push(d?u.replace(r,"$1"):l||o)}),i});return kw=a,kw}var _w,hR;function UA(){if(hR)return _w;hR=1;function e(n,r){for(var a=-1,s=n==null?0:n.length,i=Array(s);++a<s;)i[a]=r(n[a],a,n);return i}return _w=e,_w}var Tw,pR;function Fie(){if(pR)return Tw;pR=1;var e=jp(),n=UA(),r=Na(),a=fm(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return n(l,o)+"";if(a(l))return i?i.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Tw=o,Tw}var Ow,xR;function S9(){if(xR)return Ow;xR=1;var e=Fie();function n(r){return r==null?"":e(r)}return Ow=n,Ow}var Mw,gR;function P9(){if(gR)return Mw;gR=1;var e=Na(),n=zA(),r=$ie(),a=S9();function s(i,o){return e(i)?i:n(i,o)?[i]:r(a(i))}return Mw=s,Mw}var Rw,vR;function Nj(){if(vR)return Rw;vR=1;var e=fm();function n(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Rw=n,Rw}var Dw,yR;function KA(){if(yR)return Dw;yR=1;var e=P9(),n=Nj();function r(a,s){s=e(s,a);for(var i=0,o=s.length;a!=null&&i<o;)a=a[n(s[i++])];return i&&i==o?a:void 0}return Dw=r,Dw}var Iw,jR;function E9(){if(jR)return Iw;jR=1;var e=KA();function n(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Iw=n,Iw}var Lie=E9();const Fa=wn(Lie);var $w,bR;function zie(){if(bR)return $w;bR=1;function e(n){return n==null}return $w=e,$w}var qie=zie();const rn=wn(qie);var Fw,wR;function Vie(){if(wR)return Fw;wR=1;var e=_o(),n=Na(),r=To(),a="[object String]";function s(i){return typeof i=="string"||!n(i)&&r(i)&&e(i)==a}return Fw=s,Fw}var Bie=Vie();const bp=wn(Bie);var Hie=qA();const Ht=wn(Hie);var Uie=Dl();const hm=wn(Uie);var Lw={exports:{}},vn={};var NR;function Kie(){if(NR)return vn;NR=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function j(g){if(typeof g=="object"&&g!==null){var P=g.$$typeof;switch(P){case e:switch(g=g.type,g){case r:case s:case a:case u:case f:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case d:case p:case h:case i:return g;default:return P}}case n:return P}}}return vn.ContextConsumer=o,vn.ContextProvider=i,vn.Element=e,vn.ForwardRef=d,vn.Fragment=r,vn.Lazy=p,vn.Memo=h,vn.Portal=n,vn.Profiler=s,vn.StrictMode=a,vn.Suspense=u,vn.SuspenseList=f,vn.isAsyncMode=function(){return!1},vn.isConcurrentMode=function(){return!1},vn.isContextConsumer=function(g){return j(g)===o},vn.isContextProvider=function(g){return j(g)===i},vn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},vn.isForwardRef=function(g){return j(g)===d},vn.isFragment=function(g){return j(g)===r},vn.isLazy=function(g){return j(g)===p},vn.isMemo=function(g){return j(g)===h},vn.isPortal=function(g){return j(g)===n},vn.isProfiler=function(g){return j(g)===s},vn.isStrictMode=function(g){return j(g)===a},vn.isSuspense=function(g){return j(g)===u},vn.isSuspenseList=function(g){return j(g)===f},vn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===s||g===a||g===u||g===f||g===v||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===d||g.$$typeof===N||g.getModuleId!==void 0)},vn.typeOf=j,vn}var CR;function Wie(){return CR||(CR=1,Lw.exports=Kie()),Lw.exports}var Gie=Wie(),zw,SR;function A9(){if(SR)return zw;SR=1;var e=_o(),n=To(),r="[object Number]";function a(s){return typeof s=="number"||n(s)&&e(s)==r}return zw=a,zw}var qw,PR;function Qie(){if(PR)return qw;PR=1;var e=A9();function n(r){return e(r)&&r!=+r}return qw=n,qw}var Yie=Qie();const wp=wn(Yie);var Xie=A9();const Zie=wn(Xie);var Xr=function(n){return n===0?0:n>0?1:-1},fc=function(n){return bp(n)&&n.indexOf("%")===n.length-1},ct=function(n){return Zie(n)&&!wp(n)},yr=function(n){return ct(n)||bp(n)},Jie=0,Np=function(n){var r=++Jie;return"".concat(n||"").concat(r)},Zr=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ct(n)&&!bp(n))return a;var i;if(fc(n)){var o=n.indexOf("%");i=r*parseFloat(n.slice(0,o))/100}else i=+n;return wp(i)&&(i=a),s&&i>r&&(i=r),i},Hd=function(n){if(!n)return null;var r=Object.keys(n);return r&&r.length?n[r[0]]:null},eoe=function(n){if(!Array.isArray(n))return!1;for(var r=n.length,a={},s=0;s<r;s++)if(!a[n[s]])a[n[s]]=!0;else return!0;return!1},ml=function(n,r){return ct(n)&&ct(r)?function(a){return n+a*(r-n)}:function(){return r}};function JS(e,n,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof n=="function"?n(a):Fa(a,n))===r})}function iu(e,n){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(n,r)||e[r]!==n[r]))return!1;for(var a in n)if({}.hasOwnProperty.call(n,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function eP(e){"@babel/helpers - typeof";return eP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eP(e)}var toe=["viewBox","children"],noe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ER=["points","pathLength"],Vw={svg:toe,polygon:ER,polyline:ER},WA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nv=function(n,r){if(!n||typeof n=="function"||typeof n=="boolean")return null;var a=n;if(w.isValidElement(n)&&(a=n.props),!hm(a))return null;var s={};return Object.keys(a).forEach(function(i){WA.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},roe=function(n,r,a){return function(s){return n(r,a,s),null}},Dc=function(n,r,a){if(!hm(n)||eP(n)!=="object")return null;var s=null;return Object.keys(n).forEach(function(i){var o=n[i];WA.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=roe(o,r,a))}),s},aoe=["children"],soe=["children"];function AR(e,n){if(e==null)return{};var r=ioe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ioe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var kR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lo=function(n){return typeof n=="string"?n:n?n.displayName||n.name||"Component":""},_R=null,Bw=null,GA=function e(n){if(n===_R&&Array.isArray(Bw))return Bw;var r=[];return w.Children.forEach(n,function(a){rn(a)||(Gie.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),Bw=r,_R=n,r};function cs(e,n){var r=[],a=[];return Array.isArray(n)?a=n.map(function(s){return lo(s)}):a=[lo(n)],GA(e).forEach(function(s){var i=Fa(s,"type.displayName")||Fa(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Ta(e,n){var r=cs(e,n);return r&&r[0]}var TR=function(n){if(!n||!n.props)return!1;var r=n.props,a=r.width,s=r.height;return!(!ct(a)||a<=0||!ct(s)||s<=0)},ooe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],loe=function(n){return n&&n.type&&bp(n.type)&&ooe.indexOf(n.type)>=0},coe=function(n,r,a,s){var i,o=(i=Vw?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ht(n)&&(s&&o.includes(r)||noe.includes(r))||a&&WA.includes(r)},zt=function(n,r,a){if(!n||typeof n=="function"||typeof n=="boolean")return null;var s=n;if(w.isValidElement(n)&&(s=n.props),!hm(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;coe((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},tP=function e(n,r){if(n===r)return!0;var a=w.Children.count(n);if(a!==w.Children.count(r))return!1;if(a===0)return!0;if(a===1)return OR(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=n[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!OR(i,o))return!1}return!0},OR=function(n,r){if(rn(n)&&rn(r))return!0;if(!rn(n)&&!rn(r)){var a=n.props||{},s=a.children,i=AR(a,aoe),o=r.props||{},l=o.children,d=AR(o,soe);return s&&l?iu(i,d)&&tP(s,l):!s&&!l?iu(i,d):!1}return!1},MR=function(n,r){var a=[],s={};return GA(n).forEach(function(i,o){if(loe(i))a.push(i);else if(i){var l=lo(i.type),d=r[l]||{},u=d.handler,f=d.once;if(u&&(!f||!s[l])){var h=u(i,l,o);a.push(h),s[l]=!0}}}),a},doe=function(n){var r=n&&n.type;return r&&kR[r]?kR[r]:null},uoe=function(n,r){return GA(r).indexOf(n)},moe=["children","width","height","viewBox","className","style","title","desc"];function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nP.apply(this,arguments)}function foe(e,n){if(e==null)return{};var r=hoe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hoe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function rP(e){var n=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,d=e.desc,u=foe(e,moe),f=s||{width:r,height:a,x:0,y:0},h=Wt("recharts-surface",i);return se.createElement("svg",nP({},zt(u,!0,"svg"),{className:h,width:r,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),se.createElement("title",null,l),se.createElement("desc",null,d),n)}var poe=["children","className"];function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aP.apply(this,arguments)}function xoe(e,n){if(e==null)return{};var r=goe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function goe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Sn=se.forwardRef(function(e,n){var r=e.children,a=e.className,s=xoe(e,poe),i=Wt("recharts-layer",a);return se.createElement("g",aP({className:i},zt(s,!0),{ref:n}),r)}),co=function(n,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Hw,RR;function voe(){if(RR)return Hw;RR=1;function e(n,r,a){var s=-1,i=n.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=n[s+r];return o}return Hw=e,Hw}var Uw,DR;function yoe(){if(DR)return Uw;DR=1;var e=voe();function n(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return Uw=n,Uw}var Kw,IR;function k9(){if(IR)return Kw;IR=1;var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function d(u){return l.test(u)}return Kw=d,Kw}var Ww,$R;function joe(){if($R)return Ww;$R=1;function e(n){return n.split("")}return Ww=e,Ww}var Gw,FR;function boe(){if(FR)return Gw;FR=1;var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+d+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",N=u+"?",j="["+i+"]?",g="(?:"+v+"(?:"+[f,h,p].join("|")+")"+j+N+")*",P=j+N+g,C="(?:"+[f+l+"?",l,h,p,o].join("|")+")",b=RegExp(d+"(?="+d+")|"+C+P,"g");function y(E){return E.match(b)||[]}return Gw=y,Gw}var Qw,LR;function woe(){if(LR)return Qw;LR=1;var e=joe(),n=k9(),r=boe();function a(s){return n(s)?r(s):e(s)}return Qw=a,Qw}var Yw,zR;function Noe(){if(zR)return Yw;zR=1;var e=yoe(),n=k9(),r=woe(),a=S9();function s(i){return function(o){o=a(o);var l=n(o)?r(o):void 0,d=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return d[i]()+u}}return Yw=s,Yw}var Xw,qR;function Coe(){if(qR)return Xw;qR=1;var e=Noe(),n=e("toUpperCase");return Xw=n,Xw}var Soe=Coe();const Cj=wn(Soe);function Rn(e){return function(){return e}}const _9=Math.cos,Cv=Math.sin,Js=Math.sqrt,Sv=Math.PI,Sj=2*Sv,sP=Math.PI,iP=2*sP,ic=1e-6,Poe=iP-ic;function T9(e){this._+=e[0];for(let n=1,r=e.length;n<r;++n)this._+=arguments[n]+e[n]}function Eoe(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return T9;const r=10**n;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class Aoe{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?T9:Eoe(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,a,s){this._append`Q${+n},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(n,r,a,s,i,o){this._append`C${+n},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(n,r,a,s,i){if(n=+n,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-n,u=s-r,f=o-n,h=l-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(p>ic)if(!(Math.abs(h*d-u*f)>ic)||!i)this._append`L${this._x1=n},${this._y1=r}`;else{let v=a-o,N=s-l,j=d*d+u*u,g=v*v+N*N,P=Math.sqrt(j),C=Math.sqrt(p),b=i*Math.tan((sP-Math.acos((j+p-g)/(2*P*C)))/2),y=b/C,E=b/P;Math.abs(y-1)>ic&&this._append`L${n+y*f},${r+y*h}`,this._append`A${i},${i},0,0,${+(h*v>f*N)},${this._x1=n+E*d},${this._y1=r+E*u}`}}arc(n,r,a,s,i,o){if(n=+n,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),d=a*Math.sin(s),u=n+l,f=r+d,h=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ic||Math.abs(this._y1-f)>ic)&&this._append`L${u},${f}`,a&&(p<0&&(p=p%iP+iP),p>Poe?this._append`A${a},${a},0,1,${h},${n-l},${r-d}A${a},${a},0,1,${h},${this._x1=u},${this._y1=f}`:p>ic&&this._append`A${a},${a},0,${+(p>=sP)},${h},${this._x1=n+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(n,r,a,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function QA(e){let n=3;return e.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);n=a}return e},()=>new Aoe(n)}function YA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function O9(e){this._context=e}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function Pj(e){return new O9(e)}function M9(e){return e[0]}function R9(e){return e[1]}function D9(e,n){var r=Rn(!0),a=null,s=Pj,i=null,o=QA(l);e=typeof e=="function"?e:e===void 0?M9:Rn(e),n=typeof n=="function"?n:n===void 0?R9:Rn(n);function l(d){var u,f=(d=YA(d)).length,h,p=!1,v;for(a==null&&(i=s(v=o())),u=0;u<=f;++u)!(u<f&&r(h=d[u],u,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,u,d),+n(h,u,d));if(v)return i=null,v+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Rn(+d),l):e},l.y=function(d){return arguments.length?(n=typeof d=="function"?d:Rn(+d),l):n},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Rn(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),l):s},l.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),l):a},l}function ng(e,n,r){var a=null,s=Rn(!0),i=null,o=Pj,l=null,d=QA(u);e=typeof e=="function"?e:e===void 0?M9:Rn(+e),n=typeof n=="function"?n:Rn(n===void 0?0:+n),r=typeof r=="function"?r:r===void 0?R9:Rn(+r);function u(h){var p,v,N,j=(h=YA(h)).length,g,P=!1,C,b=new Array(j),y=new Array(j);for(i==null&&(l=o(C=d())),p=0;p<=j;++p){if(!(p<j&&s(g=h[p],p,h))===P)if(P=!P)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=p-1;N>=v;--N)l.point(b[N],y[N]);l.lineEnd(),l.areaEnd()}P&&(b[p]=+e(g,p,h),y[p]=+n(g,p,h),l.point(a?+a(g,p,h):b[p],r?+r(g,p,h):y[p]))}if(C)return l=null,C+""||null}function f(){return D9().defined(s).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Rn(+h),a=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Rn(+h),u):e},u.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Rn(+h),u):a},u.y=function(h){return arguments.length?(n=typeof h=="function"?h:Rn(+h),r=null,u):n},u.y0=function(h){return arguments.length?(n=typeof h=="function"?h:Rn(+h),u):n},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Rn(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(n)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(a).y(n)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Rn(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class I9{constructor(n,r){this._context=n,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,r){switch(n=+n,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,r,n,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,n,this._y0,n,r);break}}this._x0=n,this._y0=r}}function koe(e){return new I9(e,!0)}function _oe(e){return new I9(e,!1)}const XA={draw(e,n){const r=Js(n/Sv);e.moveTo(r,0),e.arc(0,0,r,0,Sj)}},Toe={draw(e,n){const r=Js(n/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$9=Js(1/3),Ooe=$9*2,Moe={draw(e,n){const r=Js(n/Ooe),a=r*$9;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Roe={draw(e,n){const r=Js(n),a=-r/2;e.rect(a,a,r,r)}},Doe=.8908130915292852,F9=Cv(Sv/10)/Cv(7*Sv/10),Ioe=Cv(Sj/10)*F9,$oe=-_9(Sj/10)*F9,Foe={draw(e,n){const r=Js(n*Doe),a=Ioe*r,s=$oe*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=Sj*i/5,l=_9(o),d=Cv(o);e.lineTo(d*r,-l*r),e.lineTo(l*a-d*s,d*a+l*s)}e.closePath()}},Zw=Js(3),Loe={draw(e,n){const r=-Js(n/(Zw*3));e.moveTo(0,r*2),e.lineTo(-Zw*r,-r),e.lineTo(Zw*r,-r),e.closePath()}},Za=-.5,Ja=Js(3)/2,oP=1/Js(12),zoe=(oP/2+1)*3,qoe={draw(e,n){const r=Js(n/zoe),a=r/2,s=r*oP,i=a,o=r*oP+r,l=-i,d=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Za*a-Ja*s,Ja*a+Za*s),e.lineTo(Za*i-Ja*o,Ja*i+Za*o),e.lineTo(Za*l-Ja*d,Ja*l+Za*d),e.lineTo(Za*a+Ja*s,Za*s-Ja*a),e.lineTo(Za*i+Ja*o,Za*o-Ja*i),e.lineTo(Za*l+Ja*d,Za*d-Ja*l),e.closePath()}};function Voe(e,n){let r=null,a=QA(s);e=typeof e=="function"?e:Rn(e||XA),n=typeof n=="function"?n:Rn(n===void 0?64:+n);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rn(i),s):e},s.size=function(i){return arguments.length?(n=typeof i=="function"?i:Rn(+i),s):n},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Pv(){}function Ev(e,n,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+r)/6)}function L9(e){this._context=e}L9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ev(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Boe(e){return new L9(e)}function z9(e){this._context=e}z9.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x2=e,this._y2=n;break;case 1:this._point=2,this._x3=e,this._y3=n;break;case 2:this._point=3,this._x4=e,this._y4=n,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:Ev(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Hoe(e){return new z9(e)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Ev(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Uoe(e){return new q9(e)}function V9(e){this._context=e}V9.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function Koe(e){return new V9(e)}function VR(e){return e<0?-1:1}function BR(e,n,r){var a=e._x1-e._x0,s=n-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(VR(i)+VR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function HR(e,n){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-n)/2:n}function Jw(e,n,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*n,i-l,o-l*r,i,o)}function Av(e){this._context=e}Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jw(this,this._t0,HR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var r=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,Jw(this,HR(this,r=BR(this,e,n)),r);break;default:Jw(this,this._t0,r=BR(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=r}}};function B9(e){this._context=new H9(e)}(B9.prototype=Object.create(Av.prototype)).point=function(e,n){Av.prototype.point.call(this,n,e)};function H9(e){this._context=e}H9.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,r,a,s,i){this._context.bezierCurveTo(n,e,a,r,i,s)}};function Woe(e){return new Av(e)}function Goe(e){return new B9(e)}function U9(e){this._context=e}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),r===2)this._context.lineTo(e[1],n[1]);else for(var a=UR(e),s=UR(n),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],n[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};function UR(e){var n,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],n=1;n<r-1;++n)s[n]=1,i[n]=4,o[n]=4*e[n]+2*e[n+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],n=1;n<r;++n)a=s[n]/i[n-1],i[n]-=a,o[n]-=a*o[n-1];for(s[r-1]=o[r-1]/i[r-1],n=r-2;n>=0;--n)s[n]=(o[n]-s[n+1])/i[n];for(i[r-1]=(e[r]+s[r-1])/2,n=0;n<r-1;++n)i[n]=2*e[n+1]-s[n+1];return[s,i]}function Qoe(e){return new U9(e)}function Ej(e,n){this._context=e,this._t=n}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}break}}this._x=e,this._y=n}};function Yoe(e){return new Ej(e,.5)}function Xoe(e){return new Ej(e,0)}function Zoe(e){return new Ej(e,1)}function bu(e,n){if((o=e.length)>1)for(var r=1,a,s,i=e[n[0]],o,l=i.length;r<o;++r)for(s=i,i=e[n[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function lP(e){for(var n=e.length,r=new Array(n);--n>=0;)r[n]=n;return r}function Joe(e,n){return e[n]}function ele(e){const n=[];return n.key=e,n}function tle(){var e=Rn([]),n=lP,r=bu,a=Joe;function s(i){var o=Array.from(e.apply(this,arguments),ele),l,d=o.length,u=-1,f;for(const h of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+a(h,o[l].key,u,i)]).data=h;for(l=0,f=YA(n(o));l<d;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Rn(+i),s):a},s.order=function(i){return arguments.length?(n=i==null?lP:typeof i=="function"?i:Rn(Array.from(i)),s):n},s.offset=function(i){return arguments.length?(r=i??bu,s):r},s}function nle(e,n){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}bu(e,n)}}function rle(e,n){if((s=e.length)>0){for(var r=0,a=e[n[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}bu(e,n)}}function ale(e,n){if(!(!((o=e.length)>0)||!((i=(s=e[n[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,d=0,u=0;l<o;++l){for(var f=e[n[l]],h=f[a][1]||0,p=f[a-1][1]||0,v=(h-p)/2,N=0;N<l;++N){var j=e[n[N]],g=j[a][1]||0,P=j[a-1][1]||0;v+=g-P}d+=h,u+=v*h}s[a-1][1]+=s[a-1][0]=r,d&&(r-=u/d)}s[a-1][1]+=s[a-1][0]=r,bu(e,n)}}function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uh(e)}var sle=["type","size","sizeType"];function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cP.apply(this,arguments)}function KR(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WR(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?KR(Object(r),!0).forEach(function(a){ile(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ile(e,n,r){return n=ole(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ole(e){var n=lle(e,"string");return uh(n)=="symbol"?n:n+""}function lle(e,n){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(uh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function cle(e,n){if(e==null)return{};var r=dle(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function dle(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var K9={symbolCircle:XA,symbolCross:Toe,symbolDiamond:Moe,symbolSquare:Roe,symbolStar:Foe,symbolTriangle:Loe,symbolWye:qoe},ule=Math.PI/180,mle=function(n){var r="symbol".concat(Cj(n));return K9[r]||XA},fle=function(n,r,a){if(r==="area")return n;switch(a){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var s=18*ule;return 1.25*n*n*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},hle=function(n,r){K9["symbol".concat(Cj(n))]=r},ZA=function(n){var r=n.type,a=r===void 0?"circle":r,s=n.size,i=s===void 0?64:s,o=n.sizeType,l=o===void 0?"area":o,d=cle(n,sle),u=WR(WR({},d),{},{type:a,size:i,sizeType:l}),f=function(){var g=mle(a),P=Voe().type(g).size(fle(i,l,a));return P()},h=u.className,p=u.cx,v=u.cy,N=zt(u,!0);return p===+p&&v===+v&&i===+i?se.createElement("path",cP({},N,{className:Wt("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};ZA.registerSymbol=hle;function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wu(e)}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dP.apply(this,arguments)}function GR(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ple(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?GR(Object(r),!0).forEach(function(a){mh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xle(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gle(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G9(a.key),a)}}function vle(e,n,r){return n&&gle(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yle(e,n,r){return n=kv(n),jle(e,W9()?Reflect.construct(n,r||[],kv(e).constructor):n.apply(e,r))}function jle(e,n){if(n&&(wu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(e)}function wle(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&uP(e,n)}function uP(e,n){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},uP(e,n)}function mh(e,n,r){return n=G9(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function G9(e){var n=Nle(e,"string");return wu(n)=="symbol"?n:n+""}function Nle(e,n){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(wu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var es=32,JA=(function(e){function n(){return xle(this,n),yle(this,n,arguments)}return wle(n,e),vle(n,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=es/2,o=es/6,l=es/3,d=a.inactive?s:a.color;if(a.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:es,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(es,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return se.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(es/8,"h").concat(es,"v").concat(es*3/4,"h").concat(-es,"z"),className:"recharts-legend-icon"});if(se.isValidElement(a.legendIcon)){var u=ple({},a);return delete u.legendIcon,se.cloneElement(a.legendIcon,u)}return se.createElement(ZA,{fill:d,cx:i,cy:i,size:es,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,d=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:es,height:es},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,N){var j=v.formatter||d,g=Wt(mh(mh({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",v.inactive));if(v.type==="none")return null;var P=Ht(v.value)?null:v.value;co(!Ht(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?u:v.color;return se.createElement("li",dP({className:g,style:h,key:"legend-item-".concat(N)},Dc(a.props,v,N)),se.createElement(rP,{width:o,height:o,viewBox:f,style:p},a.renderIcon(v)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},j?j(P,v,N):P))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);mh(JA,"displayName","Legend");mh(JA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eN,QR;function Cle(){if(QR)return eN;QR=1;var e=bj();function n(){this.__data__=new e,this.size=0}return eN=n,eN}var tN,YR;function Sle(){if(YR)return tN;YR=1;function e(n){var r=this.__data__,a=r.delete(n);return this.size=r.size,a}return tN=e,tN}var nN,XR;function Ple(){if(XR)return nN;XR=1;function e(n){return this.__data__.get(n)}return nN=e,nN}var rN,ZR;function Ele(){if(ZR)return rN;ZR=1;function e(n){return this.__data__.has(n)}return rN=e,rN}var aN,JR;function Ale(){if(JR)return aN;JR=1;var e=bj(),n=BA(),r=HA(),a=200;function s(i,o){var l=this.__data__;if(l instanceof e){var d=l.__data__;if(!n||d.length<a-1)return d.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(i,o),this.size=l.size,this}return aN=s,aN}var sN,eD;function Q9(){if(eD)return sN;eD=1;var e=bj(),n=Cle(),r=Sle(),a=Ple(),s=Ele(),i=Ale();function o(l){var d=this.__data__=new e(l);this.size=d.size}return o.prototype.clear=n,o.prototype.delete=r,o.prototype.get=a,o.prototype.has=s,o.prototype.set=i,sN=o,sN}var iN,tD;function kle(){if(tD)return iN;tD=1;var e="__lodash_hash_undefined__";function n(r){return this.__data__.set(r,e),this}return iN=n,iN}var oN,nD;function _le(){if(nD)return oN;nD=1;function e(n){return this.__data__.has(n)}return oN=e,oN}var lN,rD;function Y9(){if(rD)return lN;rD=1;var e=HA(),n=kle(),r=_le();function a(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return a.prototype.add=a.prototype.push=n,a.prototype.has=r,lN=a,lN}var cN,aD;function X9(){if(aD)return cN;aD=1;function e(n,r){for(var a=-1,s=n==null?0:n.length;++a<s;)if(r(n[a],a,n))return!0;return!1}return cN=e,cN}var dN,sD;function Z9(){if(sD)return dN;sD=1;function e(n,r){return n.has(r)}return dN=e,dN}var uN,iD;function J9(){if(iD)return uN;iD=1;var e=Y9(),n=X9(),r=Z9(),a=1,s=2;function i(o,l,d,u,f,h){var p=d&a,v=o.length,N=l.length;if(v!=N&&!(p&&N>v))return!1;var j=h.get(o),g=h.get(l);if(j&&g)return j==l&&g==o;var P=-1,C=!0,b=d&s?new e:void 0;for(h.set(o,l),h.set(l,o);++P<v;){var y=o[P],E=l[P];if(u)var S=p?u(E,y,P,l,o,h):u(y,E,P,o,l,h);if(S!==void 0){if(S)continue;C=!1;break}if(b){if(!n(l,function(k,T){if(!r(b,T)&&(y===k||f(y,k,d,u,h)))return b.push(T)})){C=!1;break}}else if(!(y===E||f(y,E,d,u,h))){C=!1;break}}return h.delete(o),h.delete(l),C}return uN=i,uN}var mN,oD;function Tle(){if(oD)return mN;oD=1;var e=_i(),n=e.Uint8Array;return mN=n,mN}var fN,lD;function Ole(){if(lD)return fN;lD=1;function e(n){var r=-1,a=Array(n.size);return n.forEach(function(s,i){a[++r]=[i,s]}),a}return fN=e,fN}var hN,cD;function ek(){if(cD)return hN;cD=1;function e(n){var r=-1,a=Array(n.size);return n.forEach(function(s){a[++r]=s}),a}return hN=e,hN}var pN,dD;function Mle(){if(dD)return pN;dD=1;var e=jp(),n=Tle(),r=VA(),a=J9(),s=Ole(),i=ek(),o=1,l=2,d="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",v="[object RegExp]",N="[object Set]",j="[object String]",g="[object Symbol]",P="[object ArrayBuffer]",C="[object DataView]",b=e?e.prototype:void 0,y=b?b.valueOf:void 0;function E(S,k,T,z,Y,F,D){switch(T){case C:if(S.byteLength!=k.byteLength||S.byteOffset!=k.byteOffset)return!1;S=S.buffer,k=k.buffer;case P:return!(S.byteLength!=k.byteLength||!F(new n(S),new n(k)));case d:case u:case p:return r(+S,+k);case f:return S.name==k.name&&S.message==k.message;case v:case j:return S==k+"";case h:var R=s;case N:var q=z&o;if(R||(R=i),S.size!=k.size&&!q)return!1;var Q=D.get(S);if(Q)return Q==k;z|=l,D.set(S,k);var K=a(R(S),R(k),z,Y,F,D);return D.delete(S),K;case g:if(y)return y.call(S)==y.call(k)}return!1}return pN=E,pN}var xN,uD;function eV(){if(uD)return xN;uD=1;function e(n,r){for(var a=-1,s=r.length,i=n.length;++a<s;)n[i+a]=r[a];return n}return xN=e,xN}var gN,mD;function Rle(){if(mD)return gN;mD=1;var e=eV(),n=Na();function r(a,s,i){var o=s(a);return n(a)?o:e(o,i(a))}return gN=r,gN}var vN,fD;function Dle(){if(fD)return vN;fD=1;function e(n,r){for(var a=-1,s=n==null?0:n.length,i=0,o=[];++a<s;){var l=n[a];r(l,a,n)&&(o[i++]=l)}return o}return vN=e,vN}var yN,hD;function Ile(){if(hD)return yN;hD=1;function e(){return[]}return yN=e,yN}var jN,pD;function $le(){if(pD)return jN;pD=1;var e=Dle(),n=Ile(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return a.call(o,l)}))}:n;return jN=i,jN}var bN,xD;function Fle(){if(xD)return bN;xD=1;function e(n,r){for(var a=-1,s=Array(n);++a<n;)s[a]=r(a);return s}return bN=e,bN}var wN,gD;function Lle(){if(gD)return wN;gD=1;var e=_o(),n=To(),r="[object Arguments]";function a(s){return n(s)&&e(s)==r}return wN=a,wN}var NN,vD;function tk(){if(vD)return NN;vD=1;var e=Lle(),n=To(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return n(o)&&a.call(o,"callee")&&!s.call(o,"callee")};return NN=i,NN}var Pf={exports:{}},CN,yD;function zle(){if(yD)return CN;yD=1;function e(){return!1}return CN=e,CN}Pf.exports;var jD;function tV(){return jD||(jD=1,(function(e,n){var r=_i(),a=zle(),s=n&&!n.nodeType&&n,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||a;e.exports=u})(Pf,Pf.exports)),Pf.exports}var SN,bD;function nk(){if(bD)return SN;bD=1;var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&n.test(a))&&a>-1&&a%1==0&&a<s}return SN=r,SN}var PN,wD;function rk(){if(wD)return PN;wD=1;var e=9007199254740991;function n(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return PN=n,PN}var EN,ND;function qle(){if(ND)return EN;ND=1;var e=_o(),n=rk(),r=To(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",v="[object Set]",N="[object String]",j="[object WeakMap]",g="[object ArrayBuffer]",P="[object DataView]",C="[object Float32Array]",b="[object Float64Array]",y="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",z="[object Uint16Array]",Y="[object Uint32Array]",F={};F[C]=F[b]=F[y]=F[E]=F[S]=F[k]=F[T]=F[z]=F[Y]=!0,F[a]=F[s]=F[g]=F[i]=F[P]=F[o]=F[l]=F[d]=F[u]=F[f]=F[h]=F[p]=F[v]=F[N]=F[j]=!1;function D(R){return r(R)&&n(R.length)&&!!F[e(R)]}return EN=D,EN}var AN,CD;function nV(){if(CD)return AN;CD=1;function e(n){return function(r){return n(r)}}return AN=e,AN}var Ef={exports:{}};Ef.exports;var SD;function Vle(){return SD||(SD=1,(function(e,n){var r=w9(),a=n&&!n.nodeType&&n,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=(function(){try{var d=s&&s.require&&s.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Ef,Ef.exports)),Ef.exports}var kN,PD;function rV(){if(PD)return kN;PD=1;var e=qle(),n=nV(),r=Vle(),a=r&&r.isTypedArray,s=a?n(a):e;return kN=s,kN}var _N,ED;function Ble(){if(ED)return _N;ED=1;var e=Fle(),n=tk(),r=Na(),a=tV(),s=nk(),i=rV(),o=Object.prototype,l=o.hasOwnProperty;function d(u,f){var h=r(u),p=!h&&n(u),v=!h&&!p&&a(u),N=!h&&!p&&!v&&i(u),j=h||p||v||N,g=j?e(u.length,String):[],P=g.length;for(var C in u)(f||l.call(u,C))&&!(j&&(C=="length"||v&&(C=="offset"||C=="parent")||N&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,P)))&&g.push(C);return g}return _N=d,_N}var TN,AD;function Hle(){if(AD)return TN;AD=1;var e=Object.prototype;function n(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return TN=n,TN}var ON,kD;function aV(){if(kD)return ON;kD=1;function e(n,r){return function(a){return n(r(a))}}return ON=e,ON}var MN,_D;function Ule(){if(_D)return MN;_D=1;var e=aV(),n=e(Object.keys,Object);return MN=n,MN}var RN,TD;function Kle(){if(TD)return RN;TD=1;var e=Hle(),n=Ule(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return n(i);var o=[];for(var l in Object(i))a.call(i,l)&&l!="constructor"&&o.push(l);return o}return RN=s,RN}var DN,OD;function Cp(){if(OD)return DN;OD=1;var e=qA(),n=rk();function r(a){return a!=null&&n(a.length)&&!e(a)}return DN=r,DN}var IN,MD;function Aj(){if(MD)return IN;MD=1;var e=Ble(),n=Kle(),r=Cp();function a(s){return r(s)?e(s):n(s)}return IN=a,IN}var $N,RD;function Wle(){if(RD)return $N;RD=1;var e=Rle(),n=$le(),r=Aj();function a(s){return e(s,r,n)}return $N=a,$N}var FN,DD;function Gle(){if(DD)return FN;DD=1;var e=Wle(),n=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,o,l,d,u,f){var h=l&n,p=e(i),v=p.length,N=e(o),j=N.length;if(v!=j&&!h)return!1;for(var g=v;g--;){var P=p[g];if(!(h?P in o:a.call(o,P)))return!1}var C=f.get(i),b=f.get(o);if(C&&b)return C==o&&b==i;var y=!0;f.set(i,o),f.set(o,i);for(var E=h;++g<v;){P=p[g];var S=i[P],k=o[P];if(d)var T=h?d(k,S,P,o,i,f):d(S,k,P,i,o,f);if(!(T===void 0?S===k||u(S,k,l,d,f):T)){y=!1;break}E||(E=P=="constructor")}if(y&&!E){var z=i.constructor,Y=o.constructor;z!=Y&&"constructor"in i&&"constructor"in o&&!(typeof z=="function"&&z instanceof z&&typeof Y=="function"&&Y instanceof Y)&&(y=!1)}return f.delete(i),f.delete(o),y}return FN=s,FN}var LN,ID;function Qle(){if(ID)return LN;ID=1;var e=Zc(),n=_i(),r=e(n,"DataView");return LN=r,LN}var zN,$D;function Yle(){if($D)return zN;$D=1;var e=Zc(),n=_i(),r=e(n,"Promise");return zN=r,zN}var qN,FD;function sV(){if(FD)return qN;FD=1;var e=Zc(),n=_i(),r=e(n,"Set");return qN=r,qN}var VN,LD;function Xle(){if(LD)return VN;LD=1;var e=Zc(),n=_i(),r=e(n,"WeakMap");return VN=r,VN}var BN,zD;function Zle(){if(zD)return BN;zD=1;var e=Qle(),n=BA(),r=Yle(),a=sV(),s=Xle(),i=_o(),o=N9(),l="[object Map]",d="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=o(e),N=o(n),j=o(r),g=o(a),P=o(s),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=p||n&&C(new n)!=l||r&&C(r.resolve())!=u||a&&C(new a)!=f||s&&C(new s)!=h)&&(C=function(b){var y=i(b),E=y==d?b.constructor:void 0,S=E?o(E):"";if(S)switch(S){case v:return p;case N:return l;case j:return u;case g:return f;case P:return h}return y}),BN=C,BN}var HN,qD;function Jle(){if(qD)return HN;qD=1;var e=Q9(),n=J9(),r=Mle(),a=Gle(),s=Zle(),i=Na(),o=tV(),l=rV(),d=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function N(j,g,P,C,b,y){var E=i(j),S=i(g),k=E?f:s(j),T=S?f:s(g);k=k==u?h:k,T=T==u?h:T;var z=k==h,Y=T==h,F=k==T;if(F&&o(j)){if(!o(g))return!1;E=!0,z=!1}if(F&&!z)return y||(y=new e),E||l(j)?n(j,g,P,C,b,y):r(j,g,k,P,C,b,y);if(!(P&d)){var D=z&&v.call(j,"__wrapped__"),R=Y&&v.call(g,"__wrapped__");if(D||R){var q=D?j.value():j,Q=R?g.value():g;return y||(y=new e),b(q,Q,P,C,y)}}return F?(y||(y=new e),a(j,g,P,C,b,y)):!1}return HN=N,HN}var UN,VD;function ak(){if(VD)return UN;VD=1;var e=Jle(),n=To();function r(a,s,i,o,l){return a===s?!0:a==null||s==null||!n(a)&&!n(s)?a!==a&&s!==s:e(a,s,i,o,r,l)}return UN=r,UN}var KN,BD;function ece(){if(BD)return KN;BD=1;var e=Q9(),n=ak(),r=1,a=2;function s(i,o,l,d){var u=l.length,f=u,h=!d;if(i==null)return!f;for(i=Object(i);u--;){var p=l[u];if(h&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<f;){p=l[u];var v=p[0],N=i[v],j=p[1];if(h&&p[2]){if(N===void 0&&!(v in i))return!1}else{var g=new e;if(d)var P=d(N,j,v,i,o,g);if(!(P===void 0?n(j,N,r|a,d,g):P))return!1}}return!0}return KN=s,KN}var WN,HD;function iV(){if(HD)return WN;HD=1;var e=Dl();function n(r){return r===r&&!e(r)}return WN=n,WN}var GN,UD;function tce(){if(UD)return GN;UD=1;var e=iV(),n=Aj();function r(a){for(var s=n(a),i=s.length;i--;){var o=s[i],l=a[o];s[i]=[o,l,e(l)]}return s}return GN=r,GN}var QN,KD;function oV(){if(KD)return QN;KD=1;function e(n,r){return function(a){return a==null?!1:a[n]===r&&(r!==void 0||n in Object(a))}}return QN=e,QN}var YN,WD;function nce(){if(WD)return YN;WD=1;var e=ece(),n=tce(),r=oV();function a(s){var i=n(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return YN=a,YN}var XN,GD;function rce(){if(GD)return XN;GD=1;function e(n,r){return n!=null&&r in Object(n)}return XN=e,XN}var ZN,QD;function ace(){if(QD)return ZN;QD=1;var e=P9(),n=tk(),r=Na(),a=nk(),s=rk(),i=Nj();function o(l,d,u){d=e(d,l);for(var f=-1,h=d.length,p=!1;++f<h;){var v=i(d[f]);if(!(p=l!=null&&u(l,v)))break;l=l[v]}return p||++f!=h?p:(h=l==null?0:l.length,!!h&&s(h)&&a(v,h)&&(r(l)||n(l)))}return ZN=o,ZN}var JN,YD;function sce(){if(YD)return JN;YD=1;var e=rce(),n=ace();function r(a,s){return a!=null&&n(a,s,e)}return JN=r,JN}var e2,XD;function ice(){if(XD)return e2;XD=1;var e=ak(),n=E9(),r=sce(),a=zA(),s=iV(),i=oV(),o=Nj(),l=1,d=2;function u(f,h){return a(f)&&s(h)?i(o(f),h):function(p){var v=n(p,f);return v===void 0&&v===h?r(p,f):e(h,v,l|d)}}return e2=u,e2}var t2,ZD;function pm(){if(ZD)return t2;ZD=1;function e(n){return n}return t2=e,t2}var n2,JD;function oce(){if(JD)return n2;JD=1;function e(n){return function(r){return r?.[n]}}return n2=e,n2}var r2,eI;function lce(){if(eI)return r2;eI=1;var e=KA();function n(r){return function(a){return e(a,r)}}return r2=n,r2}var a2,tI;function cce(){if(tI)return a2;tI=1;var e=oce(),n=lce(),r=zA(),a=Nj();function s(i){return r(i)?e(a(i)):n(i)}return a2=s,a2}var s2,nI;function Ti(){if(nI)return s2;nI=1;var e=nce(),n=ice(),r=pm(),a=Na(),s=cce();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?a(o)?n(o[0],o[1]):e(o):s(o)}return s2=i,s2}var i2,rI;function lV(){if(rI)return i2;rI=1;function e(n,r,a,s){for(var i=n.length,o=a+(s?1:-1);s?o--:++o<i;)if(r(n[o],o,n))return o;return-1}return i2=e,i2}var o2,aI;function dce(){if(aI)return o2;aI=1;function e(n){return n!==n}return o2=e,o2}var l2,sI;function uce(){if(sI)return l2;sI=1;function e(n,r,a){for(var s=a-1,i=n.length;++s<i;)if(n[s]===r)return s;return-1}return l2=e,l2}var c2,iI;function mce(){if(iI)return c2;iI=1;var e=lV(),n=dce(),r=uce();function a(s,i,o){return i===i?r(s,i,o):e(s,n,o)}return c2=a,c2}var d2,oI;function fce(){if(oI)return d2;oI=1;var e=mce();function n(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return d2=n,d2}var u2,lI;function hce(){if(lI)return u2;lI=1;function e(n,r,a){for(var s=-1,i=n==null?0:n.length;++s<i;)if(a(r,n[s]))return!0;return!1}return u2=e,u2}var m2,cI;function pce(){if(cI)return m2;cI=1;function e(){}return m2=e,m2}var f2,dI;function xce(){if(dI)return f2;dI=1;var e=sV(),n=pce(),r=ek(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:n;return f2=s,f2}var h2,uI;function gce(){if(uI)return h2;uI=1;var e=Y9(),n=fce(),r=hce(),a=Z9(),s=xce(),i=ek(),o=200;function l(d,u,f){var h=-1,p=n,v=d.length,N=!0,j=[],g=j;if(f)N=!1,p=r;else if(v>=o){var P=u?null:s(d);if(P)return i(P);N=!1,p=a,g=new e}else g=u?[]:j;e:for(;++h<v;){var C=d[h],b=u?u(C):C;if(C=f||C!==0?C:0,N&&b===b){for(var y=g.length;y--;)if(g[y]===b)continue e;u&&g.push(b),j.push(C)}else p(g,b,f)||(g!==j&&g.push(b),j.push(C))}return j}return h2=l,h2}var p2,mI;function vce(){if(mI)return p2;mI=1;var e=Ti(),n=gce();function r(a,s){return a&&a.length?n(a,e(s,2)):[]}return p2=r,p2}var yce=vce();const fI=wn(yce);function cV(e,n,r){return n===!0?fI(e,r):Ht(n)?fI(e,n):e}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nu(e)}var jce=["ref"];function hI(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yi(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?hI(Object(r),!0).forEach(function(a){kj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pI(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uV(a.key),a)}}function wce(e,n,r){return n&&pI(e.prototype,n),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nce(e,n,r){return n=_v(n),Cce(e,dV()?Reflect.construct(n,r||[],_v(e).constructor):n.apply(e,r))}function Cce(e,n){if(n&&(Nu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(e)}function Sce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_v(e)}function Pce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&mP(e,n)}function mP(e,n){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},mP(e,n)}function kj(e,n,r){return n=uV(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function uV(e){var n=Ece(e,"string");return Nu(n)=="symbol"?n:n+""}function Ece(e,n){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Nu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ace(e,n){if(e==null)return{};var r=kce(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kce(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _ce(e){return e.value}function Tce(e,n){if(se.isValidElement(e))return se.cloneElement(e,n);if(typeof e=="function")return se.createElement(e,n);n.ref;var r=Ace(n,jce);return se.createElement(JA,r)}var xI=1,ou=(function(e){function n(){var r;bce(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Nce(this,n,[].concat(s)),kj(r,"lastBoundingBox",{width:-1,height:-1}),r}return Pce(n,e),wce(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>xI||Math.abs(s.height-this.lastBoundingBox.height)>xI)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,d=s.margin,u=s.chartWidth,f=s.chartHeight,h,p;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();p={top:((f||0)-N.height)/2}}else p=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Yi(Yi({},h),p)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,d=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,h=Yi(Yi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return se.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){a.wrapperNode=v}},Tce(i,Yi(Yi({},this.props),{},{payload:cV(f,u,_ce)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Yi(Yi({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&ct(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])})(w.PureComponent);kj(ou,"displayName","Legend");kj(ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x2,gI;function Oce(){if(gI)return x2;gI=1;var e=jp(),n=tk(),r=Na(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||n(i)||!!(a&&i&&i[a])}return x2=s,x2}var g2,vI;function mV(){if(vI)return g2;vI=1;var e=eV(),n=Oce();function r(a,s,i,o,l){var d=-1,u=a.length;for(i||(i=n),l||(l=[]);++d<u;){var f=a[d];s>0&&i(f)?s>1?r(f,s-1,i,o,l):e(l,f):o||(l[l.length]=f)}return l}return g2=r,g2}var v2,yI;function Mce(){if(yI)return v2;yI=1;function e(n){return function(r,a,s){for(var i=-1,o=Object(r),l=s(r),d=l.length;d--;){var u=l[n?d:++i];if(a(o[u],u,o)===!1)break}return r}}return v2=e,v2}var y2,jI;function Rce(){if(jI)return y2;jI=1;var e=Mce(),n=e();return y2=n,y2}var j2,bI;function fV(){if(bI)return j2;bI=1;var e=Rce(),n=Aj();function r(a,s){return a&&e(a,s,n)}return j2=r,j2}var b2,wI;function Dce(){if(wI)return b2;wI=1;var e=Cp();function n(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=a?o:-1,d=Object(s);(a?l--:++l<o)&&i(d[l],l,d)!==!1;);return s}}return b2=n,b2}var w2,NI;function sk(){if(NI)return w2;NI=1;var e=fV(),n=Dce(),r=n(e);return w2=r,w2}var N2,CI;function hV(){if(CI)return N2;CI=1;var e=sk(),n=Cp();function r(a,s){var i=-1,o=n(a)?Array(a.length):[];return e(a,function(l,d,u){o[++i]=s(l,d,u)}),o}return N2=r,N2}var C2,SI;function Ice(){if(SI)return C2;SI=1;function e(n,r){var a=n.length;for(n.sort(r);a--;)n[a]=n[a].value;return n}return C2=e,C2}var S2,PI;function $ce(){if(PI)return S2;PI=1;var e=fm();function n(r,a){if(r!==a){var s=r!==void 0,i=r===null,o=r===r,l=e(r),d=a!==void 0,u=a===null,f=a===a,h=e(a);if(!u&&!h&&!l&&r>a||l&&d&&f&&!u&&!h||i&&d&&f||!s&&f||!o)return 1;if(!i&&!l&&!h&&r<a||h&&s&&o&&!i&&!l||u&&s&&o||!d&&o||!f)return-1}return 0}return S2=n,S2}var P2,EI;function Fce(){if(EI)return P2;EI=1;var e=$ce();function n(r,a,s){for(var i=-1,o=r.criteria,l=a.criteria,d=o.length,u=s.length;++i<d;){var f=e(o[i],l[i]);if(f){if(i>=u)return f;var h=s[i];return f*(h=="desc"?-1:1)}}return r.index-a.index}return P2=n,P2}var E2,AI;function Lce(){if(AI)return E2;AI=1;var e=UA(),n=KA(),r=Ti(),a=hV(),s=Ice(),i=nV(),o=Fce(),l=pm(),d=Na();function u(f,h,p){h.length?h=e(h,function(j){return d(j)?function(g){return n(g,j.length===1?j[0]:j)}:j}):h=[l];var v=-1;h=e(h,i(r));var N=a(f,function(j,g,P){var C=e(h,function(b){return b(j)});return{criteria:C,index:++v,value:j}});return s(N,function(j,g){return o(j,g,p)})}return E2=u,E2}var A2,kI;function zce(){if(kI)return A2;kI=1;function e(n,r,a){switch(a.length){case 0:return n.call(r);case 1:return n.call(r,a[0]);case 2:return n.call(r,a[0],a[1]);case 3:return n.call(r,a[0],a[1],a[2])}return n.apply(r,a)}return A2=e,A2}var k2,_I;function qce(){if(_I)return k2;_I=1;var e=zce(),n=Math.max;function r(a,s,i){return s=n(s===void 0?a.length-1:s,0),function(){for(var o=arguments,l=-1,d=n(o.length-s,0),u=Array(d);++l<d;)u[l]=o[s+l];l=-1;for(var f=Array(s+1);++l<s;)f[l]=o[l];return f[s]=i(u),e(a,this,f)}}return k2=r,k2}var _2,TI;function Vce(){if(TI)return _2;TI=1;function e(n){return function(){return n}}return _2=e,_2}var T2,OI;function pV(){if(OI)return T2;OI=1;var e=Zc(),n=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return T2=n,T2}var O2,MI;function Bce(){if(MI)return O2;MI=1;var e=Vce(),n=pV(),r=pm(),a=n?function(s,i){return n(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return O2=a,O2}var M2,RI;function Hce(){if(RI)return M2;RI=1;var e=800,n=16,r=Date.now;function a(s){var i=0,o=0;return function(){var l=r(),d=n-(l-o);if(o=l,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return M2=a,M2}var R2,DI;function Uce(){if(DI)return R2;DI=1;var e=Bce(),n=Hce(),r=n(e);return R2=r,R2}var D2,II;function Kce(){if(II)return D2;II=1;var e=pm(),n=qce(),r=Uce();function a(s,i){return r(n(s,i,e),s+"")}return D2=a,D2}var I2,$I;function _j(){if($I)return I2;$I=1;var e=VA(),n=Cp(),r=nk(),a=Dl();function s(i,o,l){if(!a(l))return!1;var d=typeof o;return(d=="number"?n(l)&&r(o,l.length):d=="string"&&o in l)?e(l[o],i):!1}return I2=s,I2}var $2,FI;function Wce(){if(FI)return $2;FI=1;var e=mV(),n=Lce(),r=Kce(),a=_j(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&a(i,o[0],o[1])?o=[]:l>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),n(i,e(o,1),[])});return $2=s,$2}var Gce=Wce();const ik=wn(Gce);function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fh(e)}function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fP.apply(this,arguments)}function Qce(e,n){return Jce(e)||Zce(e,n)||Xce(e,n)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(e,n){if(e){if(typeof e=="string")return LI(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(e,n)}}function LI(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Zce(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Jce(e){if(Array.isArray(e))return e}function zI(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function F2(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?zI(Object(r),!0).forEach(function(a){ede(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ede(e,n,r){return n=tde(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function tde(e){var n=nde(e,"string");return fh(n)=="symbol"?n:n+""}function nde(e,n){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(fh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function rde(e){return Array.isArray(e)&&yr(e[0])&&yr(e[1])?e.join(" ~ "):e}var ade=function(n){var r=n.separator,a=r===void 0?" : ":r,s=n.contentStyle,i=s===void 0?{}:s,o=n.itemStyle,l=o===void 0?{}:o,d=n.labelStyle,u=d===void 0?{}:d,f=n.payload,h=n.formatter,p=n.itemSorter,v=n.wrapperClassName,N=n.labelClassName,j=n.label,g=n.labelFormatter,P=n.accessibilityLayer,C=P===void 0?!1:P,b=function(){if(f&&f.length){var D={padding:0,margin:0},R=(p?ik(f,p):f).map(function(q,Q){if(q.type==="none")return null;var K=F2({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),U=q.formatter||h||rde,O=q.value,I=q.name,G=O,M=I;if(U&&G!=null&&M!=null){var V=U(O,I,q,Q,f);if(Array.isArray(V)){var Z=Qce(V,2);G=Z[0],M=Z[1]}else G=V}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:K},yr(M)?se.createElement("span",{className:"recharts-tooltip-item-name"},M):null,yr(M)?se.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,se.createElement("span",{className:"recharts-tooltip-item-value"},G),se.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},y=F2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=F2({margin:0},u),S=!rn(j),k=S?j:"",T=Wt("recharts-default-tooltip",v),z=Wt("recharts-tooltip-label",N);S&&g&&f!==void 0&&f!==null&&(k=g(j,f));var Y=C?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",fP({className:T,style:y},Y),se.createElement("p",{className:z,style:E},se.isValidElement(k)?k:"".concat(k)),b())};function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(e)}function rg(e,n,r){return n=sde(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function sde(e){var n=ide(e,"string");return hh(n)=="symbol"?n:n+""}function ide(e,n){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(hh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var lf="recharts-tooltip-wrapper",ode={visibility:"hidden"};function lde(e){var n=e.coordinate,r=e.translateX,a=e.translateY;return Wt(lf,rg(rg(rg(rg({},"".concat(lf,"-right"),ct(r)&&n&&ct(n.x)&&r>=n.x),"".concat(lf,"-left"),ct(r)&&n&&ct(n.x)&&r<n.x),"".concat(lf,"-bottom"),ct(a)&&n&&ct(n.y)&&a>=n.y),"".concat(lf,"-top"),ct(a)&&n&&ct(n.y)&&a<n.y))}function qI(e){var n=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,u=e.viewBoxDimension;if(i&&ct(i[a]))return i[a];var f=r[a]-l-s,h=r[a]+s;if(n[a])return o[a]?f:h;if(o[a]){var p=f,v=d[a];return p<v?Math.max(h,d[a]):Math.max(f,d[a])}var N=h+l,j=d[a]+u;return N>j?Math.max(f,d[a]):Math.max(h,d[a])}function cde(e){var n=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(n,"px, ").concat(r,"px, 0)"):"translate(".concat(n,"px, ").concat(r,"px)")}}function dde(e){var n=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,u,f,h;return o.height>0&&o.width>0&&r?(f=qI({allowEscapeViewBox:n,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),h=qI({allowEscapeViewBox:n,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=cde({translateX:f,translateY:h,useTranslate3d:l})):u=ode,{cssProperties:u,cssClasses:lde({translateX:f,translateY:h,coordinate:r})}}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cu(e)}function VI(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function BI(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?VI(Object(r),!0).forEach(function(a){pP(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ude(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mde(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gV(a.key),a)}}function fde(e,n,r){return n&&mde(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hde(e,n,r){return n=Tv(n),pde(e,xV()?Reflect.construct(n,r||[],Tv(e).constructor):n.apply(e,r))}function pde(e,n){if(n&&(Cu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(e)}function xde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(e)}function gde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&hP(e,n)}function hP(e,n){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},hP(e,n)}function pP(e,n,r){return n=gV(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function gV(e){var n=vde(e,"string");return Cu(n)=="symbol"?n:n+""}function vde(e,n){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Cu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HI=1,yde=(function(e){function n(){var r;ude(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=hde(this,n,[].concat(s)),pP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pP(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return gde(n,e),fde(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>HI||Math.abs(a.height-this.state.lastBoundingBox.height)>HI)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.children,f=s.coordinate,h=s.hasPayload,p=s.isAnimationActive,v=s.offset,N=s.position,j=s.reverseDirection,g=s.useTranslate3d,P=s.viewBox,C=s.wrapperStyle,b=dde({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:N,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:P}),y=b.cssClasses,E=b.cssProperties,S=BI(BI({transition:p&&i?"transform ".concat(l,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return se.createElement("div",{tabIndex:-1,className:y,style:S,ref:function(T){a.wrapperNode=T}},u)}}])})(w.PureComponent),jde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xm={isSsr:jde()};function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Su(e)}function UI(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function KI(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?UI(Object(r),!0).forEach(function(a){ok(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bde(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wde(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yV(a.key),a)}}function Nde(e,n,r){return n&&wde(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cde(e,n,r){return n=Ov(n),Sde(e,vV()?Reflect.construct(n,r||[],Ov(e).constructor):n.apply(e,r))}function Sde(e,n){if(n&&(Su(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pde(e)}function Pde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!e})()}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(e)}function Ede(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&xP(e,n)}function xP(e,n){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xP(e,n)}function ok(e,n,r){return n=yV(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function yV(e){var n=Ade(e,"string");return Su(n)=="symbol"?n:n+""}function Ade(e,n){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Su(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kde(e){return e.dataKey}function _de(e,n){return se.isValidElement(e)?se.cloneElement(e,n):typeof e=="function"?se.createElement(e,n):se.createElement(ade,n)}var Ts=(function(e){function n(){return bde(this,n),Cde(this,n,arguments)}return Ede(n,e),Nde(n,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.content,f=s.coordinate,h=s.filterNull,p=s.isAnimationActive,v=s.offset,N=s.payload,j=s.payloadUniqBy,g=s.position,P=s.reverseDirection,C=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,E=N??[];h&&E.length&&(E=cV(N.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),j,kde));var S=E.length>0;return se.createElement(yde,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:p,active:i,coordinate:f,hasPayload:S,offset:v,position:g,reverseDirection:P,useTranslate3d:C,viewBox:b,wrapperStyle:y},_de(u,KI(KI({},this.props),{},{payload:E})))}}])})(w.PureComponent);ok(Ts,"displayName","Tooltip");ok(Ts,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var L2,WI;function Tde(){if(WI)return L2;WI=1;var e=_i(),n=function(){return e.Date.now()};return L2=n,L2}var z2,GI;function Ode(){if(GI)return z2;GI=1;var e=/\s/;function n(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return z2=n,z2}var q2,QI;function Mde(){if(QI)return q2;QI=1;var e=Ode(),n=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(n,"")}return q2=r,q2}var V2,YI;function jV(){if(YI)return V2;YI=1;var e=Mde(),n=Dl(),r=fm(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(u){if(typeof u=="number")return u;if(r(u))return a;if(n(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=n(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=i.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):s.test(u)?a:+u}return V2=d,V2}var B2,XI;function Rde(){if(XI)return B2;XI=1;var e=Dl(),n=Tde(),r=jV(),a="Expected a function",s=Math.max,i=Math.min;function o(l,d,u){var f,h,p,v,N,j,g=0,P=!1,C=!1,b=!0;if(typeof l!="function")throw new TypeError(a);d=r(d)||0,e(u)&&(P=!!u.leading,C="maxWait"in u,p=C?s(r(u.maxWait)||0,d):p,b="trailing"in u?!!u.trailing:b);function y(R){var q=f,Q=h;return f=h=void 0,g=R,v=l.apply(Q,q),v}function E(R){return g=R,N=setTimeout(T,d),P?y(R):v}function S(R){var q=R-j,Q=R-g,K=d-q;return C?i(K,p-Q):K}function k(R){var q=R-j,Q=R-g;return j===void 0||q>=d||q<0||C&&Q>=p}function T(){var R=n();if(k(R))return z(R);N=setTimeout(T,S(R))}function z(R){return N=void 0,b&&f?y(R):(f=h=void 0,v)}function Y(){N!==void 0&&clearTimeout(N),g=0,f=j=h=N=void 0}function F(){return N===void 0?v:z(n())}function D(){var R=n(),q=k(R);if(f=arguments,h=this,j=R,q){if(N===void 0)return E(j);if(C)return clearTimeout(N),N=setTimeout(T,d),y(j)}return N===void 0&&(N=setTimeout(T,d)),v}return D.cancel=Y,D.flush=F,D}return B2=o,B2}var H2,ZI;function Dde(){if(ZI)return H2;ZI=1;var e=Rde(),n=Dl(),r="Expected a function";function a(s,i,o){var l=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return n(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),e(s,i,{leading:l,maxWait:i,trailing:d})}return H2=a,H2}var Ide=Dde();const bV=wn(Ide);function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ph(e)}function JI(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ag(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?JI(Object(r),!0).forEach(function(a){$de(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $de(e,n,r){return n=Fde(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Fde(e){var n=Lde(e,"string");return ph(n)=="symbol"?n:n+""}function Lde(e,n){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(ph(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function zde(e,n){return Hde(e)||Bde(e,n)||Vde(e,n)||qde()}function qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vde(e,n){if(e){if(typeof e=="string")return e3(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,n)}}function e3(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Bde(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hde(e){if(Array.isArray(e))return e}var t3=w.forwardRef(function(e,n){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,d=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,h=e.minHeight,p=e.maxHeight,v=e.children,N=e.debounce,j=N===void 0?0:N,g=e.id,P=e.className,C=e.onResize,b=e.style,y=b===void 0?{}:b,E=w.useRef(null),S=w.useRef();S.current=C,w.useImperativeHandle(n,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var k=w.useState({containerWidth:s.width,containerHeight:s.height}),T=zde(k,2),z=T[0],Y=T[1],F=w.useCallback(function(R,q){Y(function(Q){var K=Math.round(R),U=Math.round(q);return Q.containerWidth===K&&Q.containerHeight===U?Q:{containerWidth:K,containerHeight:U}})},[]);w.useEffect(function(){var R=function(I){var G,M=I[0].contentRect,V=M.width,Z=M.height;F(V,Z),(G=S.current)===null||G===void 0||G.call(S,V,Z)};j>0&&(R=bV(R,j,{trailing:!0,leading:!1}));var q=new ResizeObserver(R),Q=E.current.getBoundingClientRect(),K=Q.width,U=Q.height;return F(K,U),q.observe(E.current),function(){q.disconnect()}},[F,j]);var D=w.useMemo(function(){var R=z.containerWidth,q=z.containerHeight;if(R<0||q<0)return null;co(fc(o)||fc(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),co(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=fc(o)?R:o,K=fc(d)?q:d;r&&r>0&&(Q?K=Q/r:K&&(Q=K*r),p&&K>p&&(K=p)),co(Q>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,K,o,d,f,h,r);var U=!Array.isArray(v)&&lo(v.type).endsWith("Chart");return se.Children.map(v,function(O){return se.isValidElement(O)?w.cloneElement(O,ag({width:Q,height:K},U?{style:ag({height:"100%",width:"100%",maxHeight:K,maxWidth:Q},O.props.style)}:{})):O})},[r,v,d,p,h,f,z,o]);return se.createElement("div",{id:g?"".concat(g):void 0,className:Wt("recharts-responsive-container",P),style:ag(ag({},y),{},{width:o,height:d,minWidth:f,minHeight:h,maxHeight:p}),ref:E},D)}),Tj=function(n){return null};Tj.displayName="Cell";function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xh(e)}function n3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gP(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?n3(Object(r),!0).forEach(function(a){Ude(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ude(e,n,r){return n=Kde(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Kde(e){var n=Wde(e,"string");return xh(n)=="symbol"?n:n+""}function Wde(e,n){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(xh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ld={widthCache:{},cacheCount:0},Gde=2e3,Qde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r3="recharts_measurement_span";function Yde(e){var n=gP({},e);return Object.keys(n).forEach(function(r){n[r]||delete n[r]}),n}var Df=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null||xm.isSsr)return{width:0,height:0};var a=Yde(r),s=JSON.stringify({text:n,copyStyle:a});if(Ld.widthCache[s])return Ld.widthCache[s];try{var i=document.getElementById(r3);i||(i=document.createElement("span"),i.setAttribute("id",r3),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=gP(gP({},Qde),a);Object.assign(i.style,o),i.textContent="".concat(n);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return Ld.widthCache[s]=d,++Ld.cacheCount>Gde&&(Ld.cacheCount=0,Ld.widthCache={}),d}catch{return{width:0,height:0}}},Xde=function(n){return{top:n.top+window.scrollY-document.documentElement.clientTop,left:n.left+window.scrollX-document.documentElement.clientLeft}};function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gh(e)}function Mv(e,n){return tue(e)||eue(e,n)||Jde(e,n)||Zde()}function Zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(e,n){if(e){if(typeof e=="string")return a3(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(e,n)}}function a3(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function eue(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tue(e){if(Array.isArray(e))return e}function nue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s3(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aue(a.key),a)}}function rue(e,n,r){return n&&s3(e.prototype,n),r&&s3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aue(e){var n=sue(e,"string");return gh(n)=="symbol"?n:n+""}function sue(e,n){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(gh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lue=Object.keys(wV),Gd="NaN";function cue(e,n){return e*wV[n]}var sg=(function(){function e(n,r){nue(this,e),this.num=n,this.unit=r,this.num=n,this.unit=r,Number.isNaN(n)&&(this.unit=""),r!==""&&!iue.test(r)&&(this.num=NaN,this.unit=""),lue.includes(r)&&(this.num=cue(n,r),this.unit="px")}return rue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=oue.exec(r))!==null&&a!==void 0?a:[],i=Mv(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function NV(e){if(e.includes(Gd))return Gd;for(var n=e;n.includes("*")||n.includes("/");){var r,a=(r=i3.exec(n))!==null&&r!==void 0?r:[],s=Mv(a,4),i=s[1],o=s[2],l=s[3],d=sg.parse(i??""),u=sg.parse(l??""),f=o==="*"?d.multiply(u):d.divide(u);if(f.isNaN())return Gd;n=n.replace(i3,f.toString())}for(;n.includes("+")||/.-\d+(?:\.\d+)?/.test(n);){var h,p=(h=o3.exec(n))!==null&&h!==void 0?h:[],v=Mv(p,4),N=v[1],j=v[2],g=v[3],P=sg.parse(N??""),C=sg.parse(g??""),b=j==="+"?P.add(C):P.subtract(C);if(b.isNaN())return Gd;n=n.replace(o3,b.toString())}return n}var l3=/\(([^()]*)\)/;function due(e){for(var n=e;n.includes("(");){var r=l3.exec(n),a=Mv(r,2),s=a[1];n=n.replace(l3,NV(s))}return n}function uue(e){var n=e.replace(/\s+/g,"");return n=due(n),n=NV(n),n}function mue(e){try{return uue(e)}catch{return Gd}}function U2(e){var n=mue(e.slice(5,-1));return n===Gd?"":n}var fue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hue=["dx","dy","angle","className","breakAll"];function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vP.apply(this,arguments)}function c3(e,n){if(e==null)return{};var r=pue(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pue(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function d3(e,n){return yue(e)||vue(e,n)||gue(e,n)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(e,n){if(e){if(typeof e=="string")return u3(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,n)}}function u3(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function vue(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yue(e){if(Array.isArray(e))return e}var CV=/[ \f\n\r\t\v\u2028\u2029]+/,SV=function(n){var r=n.children,a=n.breakAll,s=n.style;try{var i=[];rn(r)||(a?i=r.toString().split(""):i=r.toString().split(CV));var o=i.map(function(d){return{word:d,width:Df(d,s).width}}),l=a?0:Df("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jue=function(n,r,a,s,i){var o=n.maxLines,l=n.children,d=n.style,u=n.breakAll,f=ct(o),h=l,p=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(K,U){var O=U.word,I=U.width,G=K[K.length-1];if(G&&(s==null||i||G.width+I+a<Number(s)))G.words.push(O),G.width+=I+a;else{var M={words:[O],width:I};K.push(M)}return K},[])},v=p(r),N=function(Q){return Q.reduce(function(K,U){return K.width>U.width?K:U})};if(!f)return v;for(var j="",g=function(Q){var K=h.slice(0,Q),U=SV({breakAll:u,style:d,children:K+j}).wordsWithComputedWidth,O=p(U),I=O.length>o||N(O).width>Number(s);return[I,O]},P=0,C=h.length-1,b=0,y;P<=C&&b<=h.length-1;){var E=Math.floor((P+C)/2),S=E-1,k=g(S),T=d3(k,2),z=T[0],Y=T[1],F=g(E),D=d3(F,1),R=D[0];if(!z&&!R&&(P=E+1),z&&R&&(C=E-1),!z&&R){y=Y;break}b++}return y||v},m3=function(n){var r=rn(n)?[]:n.toString().split(CV);return[{words:r}]},bue=function(n){var r=n.width,a=n.scaleToFit,s=n.children,i=n.style,o=n.breakAll,l=n.maxLines;if((r||a)&&!xm.isSsr){var d,u,f=SV({breakAll:o,children:s,style:i});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;d=h,u=p}else return m3(s);return jue({breakAll:o,children:s,maxLines:l,style:i},d,u,r,a)}return m3(s)},f3="#808080",Ic=function(n){var r=n.x,a=r===void 0?0:r,s=n.y,i=s===void 0?0:s,o=n.lineHeight,l=o===void 0?"1em":o,d=n.capHeight,u=d===void 0?"0.71em":d,f=n.scaleToFit,h=f===void 0?!1:f,p=n.textAnchor,v=p===void 0?"start":p,N=n.verticalAnchor,j=N===void 0?"end":N,g=n.fill,P=g===void 0?f3:g,C=c3(n,fue),b=w.useMemo(function(){return bue({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),y=C.dx,E=C.dy,S=C.angle,k=C.className,T=C.breakAll,z=c3(C,hue);if(!yr(a)||!yr(i))return null;var Y=a+(ct(y)?y:0),F=i+(ct(E)?E:0),D;switch(j){case"start":D=U2("calc(".concat(u,")"));break;case"middle":D=U2("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=U2("calc(".concat(b.length-1," * -").concat(l,")"));break}var R=[];if(h){var q=b[0].width,Q=C.width;R.push("scale(".concat((ct(Q)?Q/q:1)/q,")"))}return S&&R.push("rotate(".concat(S,", ").concat(Y,", ").concat(F,")")),R.length&&(z.transform=R.join(" ")),se.createElement("text",vP({},zt(z,!0),{x:Y,y:F,className:Wt("recharts-text",k),textAnchor:v,fill:P.includes("url")?f3:P}),b.map(function(K,U){var O=K.words.join(T?"":" ");return se.createElement("tspan",{x:Y,dy:U===0?D:l,key:"".concat(O,"-").concat(U)},O)}))};function jl(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function wue(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function lk(e){let n,r,a;e.length!==2?(n=jl,r=(l,d)=>jl(e(l),d),a=(l,d)=>e(l)-d):(n=e===jl||e===wue?e:Nue,r=e,a=e);function s(l,d,u=0,f=l.length){if(u<f){if(n(d,d)!==0)return f;do{const h=u+f>>>1;r(l[h],d)<0?u=h+1:f=h}while(u<f)}return u}function i(l,d,u=0,f=l.length){if(u<f){if(n(d,d)!==0)return f;do{const h=u+f>>>1;r(l[h],d)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,d,u=0,f=l.length){const h=s(l,d,u,f-1);return h>u&&a(l[h-1],d)>-a(l[h],d)?h-1:h}return{left:s,center:o,right:i}}function Nue(){return 0}function PV(e){return e===null?NaN:+e}function*Cue(e,n){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Sue=lk(jl),Sp=Sue.right;lk(PV).center;class h3 extends Map{constructor(n,r=Aue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[a,s]of n)this.set(a,s)}get(n){return super.get(p3(this,n))}has(n){return super.has(p3(this,n))}set(n,r){return super.set(Pue(this,n),r)}delete(n){return super.delete(Eue(this,n))}}function p3({_intern:e,_key:n},r){const a=n(r);return e.has(a)?e.get(a):r}function Pue({_intern:e,_key:n},r){const a=n(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Eue({_intern:e,_key:n},r){const a=n(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Aue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kue(e=jl){if(e===jl)return EV;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,r)=>{const a=e(n,r);return a||a===0?a:(e(r,r)===0)-(e(n,n)===0)}}function EV(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}const _ue=Math.sqrt(50),Tue=Math.sqrt(10),Oue=Math.sqrt(2);function Rv(e,n,r){const a=(n-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=_ue?10:i>=Tue?5:i>=Oue?2:1;let l,d,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),d=Math.round(n*u),l/u<e&&++l,d/u>n&&--d,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),d=Math.round(n/u),l*u<e&&++l,d*u>n&&--d),d<l&&.5<=r&&r<2?Rv(e,n,r*2):[l,d,u]}function yP(e,n,r){if(n=+n,e=+e,r=+r,!(r>0))return[];if(e===n)return[e];const a=n<e,[s,i,o]=a?Rv(n,e,r):Rv(e,n,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(s+u)/-o;else for(let u=0;u<l;++u)d[u]=(s+u)*o;return d}function jP(e,n,r){return n=+n,e=+e,r=+r,Rv(e,n,r)[2]}function bP(e,n,r){n=+n,e=+e,r=+r;const a=n<e,s=a?jP(n,e,r):jP(e,n,r);return(a?-1:1)*(s<0?1/-s:s)}function x3(e,n){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function g3(e,n){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function AV(e,n,r=0,a=1/0,s){if(n=Math.floor(n),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=n&&n<=a))return e;for(s=s===void 0?EV:kue(s);a>r;){if(a-r>600){const d=a-r+1,u=n-r+1,f=Math.log(d),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(d-h)/d)*(u-d/2<0?-1:1),v=Math.max(r,Math.floor(n-u*h/d+p)),N=Math.min(a,Math.floor(n+(d-u)*h/d+p));AV(e,n,v,N,s)}const i=e[n];let o=r,l=a;for(cf(e,r,n),s(e[a],i)>0&&cf(e,r,a);o<l;){for(cf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?cf(e,r,l):(++l,cf(e,l,a)),l<=n&&(r=l+1),n<=l&&(a=l-1)}return e}function cf(e,n,r){const a=e[n];e[n]=e[r],e[r]=a}function Mue(e,n,r){if(e=Float64Array.from(Cue(e)),!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return g3(e);if(n>=1)return x3(e);var a,s=(a-1)*n,i=Math.floor(s),o=x3(AV(e,i).subarray(0,i+1)),l=g3(e.subarray(i+1));return o+(l-o)*(s-i)}}function Rue(e,n,r=PV){if(!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return+r(e[0],0,e);if(n>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*n,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Due(e,n,r){e=+e,n=+n,r=(s=arguments.length)<2?(n=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((n-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function vs(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function Oo(e,n){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const wP=Symbol("implicit");function ck(){var e=new h3,n=[],r=[],a=wP;function s(i){let o=e.get(i);if(o===void 0){if(a!==wP)return a;e.set(i,o=n.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return n.slice();n=[],e=new h3;for(const o of i)e.has(o)||e.set(o,n.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return ck(n,r).unknown(a)},vs.apply(s,arguments),s}function vh(){var e=ck().unknown(void 0),n=e.domain,r=e.range,a=0,s=1,i,o,l=!1,d=0,u=0,f=.5;delete e.unknown;function h(){var p=n().length,v=s<a,N=v?s:a,j=v?a:s;i=(j-N)/Math.max(1,p-d+u*2),l&&(i=Math.floor(i)),N+=(j-N-i*(p-d))*f,o=i*(1-d),l&&(N=Math.round(N),o=Math.round(o));var g=Due(p).map(function(P){return N+i*P});return r(v?g.reverse():g)}return e.domain=function(p){return arguments.length?(n(p),h()):n()},e.range=function(p){return arguments.length?([a,s]=p,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(p){return[a,s]=p,a=+a,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(d=Math.min(1,u=+p),h()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),h()):d},e.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return vh(n(),[a,s]).round(l).paddingInner(d).paddingOuter(u).align(f)},vs.apply(h(),arguments)}function kV(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kV(n())},e}function If(){return kV(vh.apply(null,arguments).paddingInner(1))}function dk(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function _V(e,n){var r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r}function Pp(){}var yh=.7,Dv=1/yh,lu="\\s*([+-]?\\d+)\\s*",jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iue=/^#([0-9a-f]{3,8})$/,$ue=new RegExp(`^rgb\\(${lu},${lu},${lu}\\)$`),Fue=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),Lue=new RegExp(`^rgba\\(${lu},${lu},${lu},${jh}\\)$`),zue=new RegExp(`^rgba\\(${ji},${ji},${ji},${jh}\\)$`),que=new RegExp(`^hsl\\(${jh},${ji},${ji}\\)$`),Vue=new RegExp(`^hsla\\(${jh},${ji},${ji},${jh}\\)$`),v3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dk(Pp,$c,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y3,formatHex:y3,formatHex8:Bue,formatHsl:Hue,formatRgb:j3,toString:j3});function y3(){return this.rgb().formatHex()}function Bue(){return this.rgb().formatHex8()}function Hue(){return TV(this).formatHsl()}function j3(){return this.rgb().formatRgb()}function $c(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=Iue.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?b3(n):r===3?new ya(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ig(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ig(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=$ue.exec(e))?new ya(n[1],n[2],n[3],1):(n=Fue.exec(e))?new ya(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Lue.exec(e))?ig(n[1],n[2],n[3],n[4]):(n=zue.exec(e))?ig(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=que.exec(e))?C3(n[1],n[2]/100,n[3]/100,1):(n=Vue.exec(e))?C3(n[1],n[2]/100,n[3]/100,n[4]):v3.hasOwnProperty(e)?b3(v3[e]):e==="transparent"?new ya(NaN,NaN,NaN,0):null}function b3(e){return new ya(e>>16&255,e>>8&255,e&255,1)}function ig(e,n,r,a){return a<=0&&(e=n=r=NaN),new ya(e,n,r,a)}function Uue(e){return e instanceof Pp||(e=$c(e)),e?(e=e.rgb(),new ya(e.r,e.g,e.b,e.opacity)):new ya}function NP(e,n,r,a){return arguments.length===1?Uue(e):new ya(e,n,r,a??1)}function ya(e,n,r,a){this.r=+e,this.g=+n,this.b=+r,this.opacity=+a}dk(ya,NP,_V(Pp,{brighter(e){return e=e==null?Dv:Math.pow(Dv,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yh:Math.pow(yh,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ya(yc(this.r),yc(this.g),yc(this.b),Iv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w3,formatHex:w3,formatHex8:Kue,formatRgb:N3,toString:N3}));function w3(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}`}function Kue(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}${hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function N3(){const e=Iv(this.opacity);return`${e===1?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${e===1?")":`, ${e})`}`}function Iv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hc(e){return e=yc(e),(e<16?"0":"")+e.toString(16)}function C3(e,n,r,a){return a<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Fs(e,n,r,a)}function TV(e){if(e instanceof Fs)return new Fs(e.h,e.s,e.l,e.opacity);if(e instanceof Pp||(e=$c(e)),!e)return new Fs;if(e instanceof Fs)return e;e=e.rgb();var n=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(n,r,a),i=Math.max(n,r,a),o=NaN,l=i-s,d=(i+s)/2;return l?(n===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-n)/l+2:o=(n-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new Fs(o,l,d,e.opacity)}function Wue(e,n,r,a){return arguments.length===1?TV(e):new Fs(e,n,r,a??1)}function Fs(e,n,r,a){this.h=+e,this.s=+n,this.l=+r,this.opacity=+a}dk(Fs,Wue,_V(Pp,{brighter(e){return e=e==null?Dv:Math.pow(Dv,e),new Fs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yh:Math.pow(yh,e),new Fs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*n,s=2*r-a;return new ya(K2(e>=240?e-240:e+120,s,a),K2(e,s,a),K2(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Fs(S3(this.h),og(this.s),og(this.l),Iv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Iv(this.opacity);return`${e===1?"hsl(":"hsla("}${S3(this.h)}, ${og(this.s)*100}%, ${og(this.l)*100}%${e===1?")":`, ${e})`}`}}));function S3(e){return e=(e||0)%360,e<0?e+360:e}function og(e){return Math.max(0,Math.min(1,e||0))}function K2(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const uk=e=>()=>e;function Gue(e,n){return function(r){return e+r*n}}function Que(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(a){return Math.pow(e+a*n,r)}}function Yue(e){return(e=+e)==1?OV:function(n,r){return r-n?Que(n,r,e):uk(isNaN(n)?r:n)}}function OV(e,n){var r=n-e;return r?Gue(e,r):uk(isNaN(e)?n:e)}const $v=(function e(n){var r=Yue(n);function a(s,i){var o=r((s=NP(s)).r,(i=NP(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),u=OV(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=d(f),s.opacity=u(f),s+""}}return a.gamma=e,a})(1);function Xue(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,a=n.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+n[s]*i;return a}}function Zue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jue(e,n){var r=n?n.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=uo(e[o],n[o]);for(;o<r;++o)i[o]=n[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function eme(e,n){var r=new Date;return e=+e,n=+n,function(a){return r.setTime(e*(1-a)+n*a),r}}function Ds(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function tme(e,n){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(s in n)s in e?r[s]=uo(e[s],n[s]):a[s]=n[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var CP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W2=new RegExp(CP.source,"g");function nme(e){return function(){return e}}function rme(e){return function(n){return e(n)+""}}function MV(e,n){var r=CP.lastIndex=W2.lastIndex=0,a,s,i,o=-1,l=[],d=[];for(e=e+"",n=n+"";(a=CP.exec(e))&&(s=W2.exec(n));)(i=s.index)>r&&(i=n.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:Ds(a,s)})),r=W2.lastIndex;return r<n.length&&(i=n.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?rme(d[0].x):nme(n):(n=d.length,function(u){for(var f=0,h;f<n;++f)l[(h=d[f]).i]=h.x(u);return l.join("")})}function uo(e,n){var r=typeof n,a;return n==null||r==="boolean"?uk(n):(r==="number"?Ds:r==="string"?(a=$c(n))?(n=a,$v):MV:n instanceof $c?$v:n instanceof Date?eme:Zue(n)?Xue:Array.isArray(n)?Jue:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?tme:Ds)(e,n)}function mk(e,n){return e=+e,n=+n,function(r){return Math.round(e*(1-r)+n*r)}}var P3=180/Math.PI,SP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RV(e,n,r,a,s,i){var o,l,d;return(o=Math.sqrt(e*e+n*n))&&(e/=o,n/=o),(d=e*r+n*a)&&(r-=e*d,a-=n*d),(l=Math.sqrt(r*r+a*a))&&(r/=l,a/=l,d/=l),e*a<n*r&&(e=-e,n=-n,d=-d,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(n,e)*P3,skewX:Math.atan(d)*P3,scaleX:o,scaleY:l}}var lg;function ame(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?SP:RV(n.a,n.b,n.c,n.d,n.e,n.f)}function sme(e){return e==null||(lg||(lg=document.createElementNS("http://www.w3.org/2000/svg","g")),lg.setAttribute("transform",e),!(e=lg.transform.baseVal.consolidate()))?SP:(e=e.matrix,RV(e.a,e.b,e.c,e.d,e.e,e.f))}function DV(e,n,r,a){function s(u){return u.length?u.pop()+" ":""}function i(u,f,h,p,v,N){if(u!==h||f!==p){var j=v.push("translate(",null,n,null,r);N.push({i:j-4,x:Ds(u,h)},{i:j-2,x:Ds(f,p)})}else(h||p)&&v.push("translate("+h+n+p+r)}function o(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(s(h)+"rotate(",null,a)-2,x:Ds(u,f)})):f&&h.push(s(h)+"rotate("+f+a)}function l(u,f,h,p){u!==f?p.push({i:h.push(s(h)+"skewX(",null,a)-2,x:Ds(u,f)}):f&&h.push(s(h)+"skewX("+f+a)}function d(u,f,h,p,v,N){if(u!==h||f!==p){var j=v.push(s(v)+"scale(",null,",",null,")");N.push({i:j-4,x:Ds(u,h)},{i:j-2,x:Ds(f,p)})}else(h!==1||p!==1)&&v.push(s(v)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,h,p),o(u.rotate,f.rotate,h,p),l(u.skewX,f.skewX,h,p),d(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(v){for(var N=-1,j=p.length,g;++N<j;)h[(g=p[N]).i]=g.x(v);return h.join("")}}}var ime=DV(ame,"px, ","px)","deg)"),ome=DV(sme,", ",")",")"),lme=1e-12;function E3(e){return((e=Math.exp(e))+1/e)/2}function cme(e){return((e=Math.exp(e))-1/e)/2}function dme(e){return((e=Math.exp(2*e))-1)/(e+1)}const zg=(function e(n,r,a){function s(i,o){var l=i[0],d=i[1],u=i[2],f=o[0],h=o[1],p=o[2],v=f-l,N=h-d,j=v*v+N*N,g,P;if(j<lme)P=Math.log(p/u)/n,g=function(k){return[l+k*v,d+k*N,u*Math.exp(n*k*P)]};else{var C=Math.sqrt(j),b=(p*p-u*u+a*j)/(2*u*r*C),y=(p*p-u*u-a*j)/(2*p*r*C),E=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(y*y+1)-y);P=(S-E)/n,g=function(k){var T=k*P,z=E3(E),Y=u/(r*C)*(z*dme(n*T+E)-cme(E));return[l+Y*v,d+Y*N,u*z/E3(n*T+E)]}}return g.duration=P*1e3*n/Math.SQRT2,g}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,d=l*l;return e(o,l,d)},s})(Math.SQRT2,2,4);function ume(e,n){n===void 0&&(n=e,e=uo);for(var r=0,a=n.length-1,s=n[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=n[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function mme(e){return function(){return e}}function Fv(e){return+e}var A3=[0,1];function Jr(e){return e}function PP(e,n){return(n-=e=+e)?function(r){return(r-e)/n}:mme(isNaN(n)?NaN:.5)}function fme(e,n){var r;return e>n&&(r=e,e=n,n=r),function(a){return Math.max(e,Math.min(n,a))}}function hme(e,n,r){var a=e[0],s=e[1],i=n[0],o=n[1];return s<a?(a=PP(s,a),i=r(o,i)):(a=PP(a,s),i=r(i,o)),function(l){return i(a(l))}}function pme(e,n,r){var a=Math.min(e.length,n.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<a;)s[o]=PP(e[o],e[o+1]),i[o]=r(n[o],n[o+1]);return function(l){var d=Sp(e,l,1,a)-1;return i[d](s[d](l))}}function Ep(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oj(){var e=A3,n=A3,r=uo,a,s,i,o=Jr,l,d,u;function f(){var p=Math.min(e.length,n.length);return o!==Jr&&(o=fme(e[0],e[p-1])),l=p>2?pme:hme,d=u=null,h}function h(p){return p==null||isNaN(p=+p)?i:(d||(d=l(e.map(a),n,r)))(a(o(p)))}return h.invert=function(p){return o(s((u||(u=l(n,e.map(a),Ds)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Fv),f()):e.slice()},h.range=function(p){return arguments.length?(n=Array.from(p),f()):n.slice()},h.rangeRound=function(p){return n=Array.from(p),r=mk,f()},h.clamp=function(p){return arguments.length?(o=p?!0:Jr,f()):o!==Jr},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,v){return a=p,s=v,f()}}function fk(){return Oj()(Jr,Jr)}function xme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lv(e,n){if((r=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Pu(e){return e=Lv(Math.abs(e)),e?e[1]:NaN}function gme(e,n){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(n)}}function vme(e){return function(n){return n.replace(/[0-9]/g,function(r){return e[+r]})}}var yme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bh(e){if(!(n=yme.exec(e)))throw new Error("invalid format: "+e);var n;return new hk({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}bh.prototype=hk.prototype;function hk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jme(e){e:for(var n=e.length,r=1,a=-1,s;r<n;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var IV;function bme(e,n){var r=Lv(e,n);if(!r)return e+"";var a=r[0],s=r[1],i=s-(IV=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Lv(e,Math.max(0,n+i-1))[0]}function k3(e,n){var r=Lv(e,n);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const _3={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xme,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>k3(e*100,n),r:k3,s:bme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function T3(e){return e}var O3=Array.prototype.map,M3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wme(e){var n=e.grouping===void 0||e.thousands===void 0?T3:gme(O3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?T3:vme(O3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(h){h=bh(h);var p=h.fill,v=h.align,N=h.sign,j=h.symbol,g=h.zero,P=h.width,C=h.comma,b=h.precision,y=h.trim,E=h.type;E==="n"?(C=!0,E="g"):_3[E]||(b===void 0&&(b=12),y=!0,E="g"),(g||p==="0"&&v==="=")&&(g=!0,p="0",v="=");var S=j==="$"?r:j==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=j==="$"?a:/[%p]/.test(E)?o:"",T=_3[E],z=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function Y(F){var D=S,R=k,q,Q,K;if(E==="c")R=T(F)+R,F="";else{F=+F;var U=F<0||1/F<0;if(F=isNaN(F)?d:T(Math.abs(F),b),y&&(F=jme(F)),U&&+F==0&&N!=="+"&&(U=!1),D=(U?N==="("?N:l:N==="-"||N==="("?"":N)+D,R=(E==="s"?M3[8+IV/3]:"")+R+(U&&N==="("?")":""),z){for(q=-1,Q=F.length;++q<Q;)if(K=F.charCodeAt(q),48>K||K>57){R=(K===46?s+F.slice(q+1):F.slice(q))+R,F=F.slice(0,q);break}}}C&&!g&&(F=n(F,1/0));var O=D.length+F.length+R.length,I=O<P?new Array(P-O+1).join(p):"";switch(C&&g&&(F=n(I+F,I.length?P-R.length:1/0),I=""),v){case"<":F=D+F+R+I;break;case"=":F=D+I+F+R;break;case"^":F=I.slice(0,O=I.length>>1)+D+F+R+I.slice(O);break;default:F=I+D+F+R;break}return i(F)}return Y.toString=function(){return h+""},Y}function f(h,p){var v=u((h=bh(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(Pu(p)/3)))*3,j=Math.pow(10,-N),g=M3[8+N/3];return function(P){return v(j*P)+g}}return{format:u,formatPrefix:f}}var cg,pk,$V;Nme({thousands:",",grouping:[3],currency:["$",""]});function Nme(e){return cg=wme(e),pk=cg.format,$V=cg.formatPrefix,cg}function Cme(e){return Math.max(0,-Pu(Math.abs(e)))}function Sme(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pu(n)/3)))*3-Pu(Math.abs(e)))}function Pme(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Pu(n)-Pu(e))+1}function FV(e,n,r,a){var s=bP(e,n,r),i;switch(a=bh(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return a.precision==null&&!isNaN(i=Sme(s,o))&&(a.precision=i),$V(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Pme(s,Math.max(Math.abs(e),Math.abs(n))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Cme(s))&&(a.precision=i-(a.type==="%")*2);break}}return pk(a)}function Il(e){var n=e.domain;return e.ticks=function(r){var a=n();return yP(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=n();return FV(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=n(),s=0,i=a.length-1,o=a[s],l=a[i],d,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=jP(o,l,r),u===d)return a[s]=o,a[i]=l,n(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return e},e}function zv(){var e=fk();return e.copy=function(){return Ep(e,zv())},vs.apply(e,arguments),Il(e)}function LV(e){var n;function r(a){return a==null||isNaN(a=+a)?n:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Fv),r):e.slice()},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return LV(e).unknown(n)},e=arguments.length?Array.from(e,Fv):[0,1],Il(r)}function zV(e,n){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=n.floor(s),e[a]=n.ceil(i),e}function R3(e){return Math.log(e)}function D3(e){return Math.exp(e)}function Eme(e){return-Math.log(-e)}function Ame(e){return-Math.exp(-e)}function kme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _me(e){return e===10?kme:e===Math.E?Math.exp:n=>Math.pow(e,n)}function Tme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function I3(e){return(n,r)=>-e(-n,r)}function xk(e){const n=e(R3,D3),r=n.domain;let a=10,s,i;function o(){return s=Tme(a),i=_me(a),r()[0]<0?(s=I3(s),i=I3(i),e(Eme,Ame)):e(R3,D3),n}return n.base=function(l){return arguments.length?(a=+l,o()):a},n.domain=function(l){return arguments.length?(r(l),o()):r()},n.ticks=l=>{const d=r();let u=d[0],f=d[d.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=s(u),v=s(f),N,j;const g=l==null?10:+l;let P=[];if(!(a%1)&&v-p<g){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(N=1;N<a;++N)if(j=p<0?N/i(-p):N*i(p),!(j<u)){if(j>f)break;P.push(j)}}else for(;p<=v;++p)for(N=a-1;N>=1;--N)if(j=p>0?N/i(-p):N*i(p),!(j<u)){if(j>f)break;P.push(j)}P.length*2<g&&(P=yP(u,f,g))}else P=yP(p,v,Math.min(v-p,g)).map(i);return h?P.reverse():P},n.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=bh(d)).precision==null&&(d.trim=!0),d=pk(d)),l===1/0)return d;const u=Math.max(1,a*l/n.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=u?d(f):""}},n.nice=()=>r(zV(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),n}function qV(){const e=xk(Oj()).domain([1,10]);return e.copy=()=>Ep(e,qV()).base(e.base()),vs.apply(e,arguments),e}function $3(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function F3(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function gk(e){var n=1,r=e($3(n),F3(n));return r.constant=function(a){return arguments.length?e($3(n=+a),F3(n)):n},Il(r)}function VV(){var e=gk(Oj());return e.copy=function(){return Ep(e,VV()).constant(e.constant())},vs.apply(e,arguments)}function L3(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Ome(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mme(e){return e<0?-e*e:e*e}function vk(e){var n=e(Jr,Jr),r=1;function a(){return r===1?e(Jr,Jr):r===.5?e(Ome,Mme):e(L3(r),L3(1/r))}return n.exponent=function(s){return arguments.length?(r=+s,a()):r},Il(n)}function yk(){var e=vk(Oj());return e.copy=function(){return Ep(e,yk()).exponent(e.exponent())},vs.apply(e,arguments),e}function Rme(){return yk.apply(null,arguments).exponent(.5)}function z3(e){return Math.sign(e)*e*e}function Dme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BV(){var e=fk(),n=[0,1],r=!1,a;function s(i){var o=Dme(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(z3(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((n=Array.from(i,Fv)).map(z3)),s):n.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return BV(e.domain(),n).round(r).clamp(e.clamp()).unknown(a)},vs.apply(s,arguments),Il(s)}function HV(){var e=[],n=[],r=[],a;function s(){var o=0,l=Math.max(1,n.length);for(r=new Array(l-1);++o<l;)r[o-1]=Rue(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:n[Sp(r,o)]}return i.invertExtent=function(o){var l=n.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jl),s()},i.range=function(o){return arguments.length?(n=Array.from(o),s()):n.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return HV().domain(e).range(n).unknown(a)},vs.apply(i,arguments)}function UV(){var e=0,n=1,r=1,a=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[Sp(a,d,0,r)]:i}function l(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*n-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,n]=d,e=+e,n=+n,l()):[e,n]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var u=s.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],n]:[a[u-1],a[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return UV().domain([e,n]).range(s).unknown(i)},vs.apply(Il(o),arguments)}function KV(){var e=[.5],n=[0,1],r,a=1;function s(i){return i!=null&&i<=i?n[Sp(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,n.length-1),s):e.slice()},s.range=function(i){return arguments.length?(n=Array.from(i),a=Math.min(e.length,n.length-1),s):n.slice()},s.invertExtent=function(i){var o=n.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return KV().domain(e).range(n).unknown(r)},vs.apply(s,arguments)}const G2=new Date,Q2=new Date;function jr(e,n,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),n(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(n(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),n(i,l),e(i);while(u<i&&i<o);return d},s.filter=i=>jr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;n(o,-1),!i(o););else for(;--l>=0;)for(;n(o,1),!i(o););}),r&&(s.count=(i,o)=>(G2.setTime(+i),Q2.setTime(+o),e(G2),e(Q2),Math.floor(r(G2,Q2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const qv=jr(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);qv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jr(n=>{n.setTime(Math.floor(n/e)*e)},(n,r)=>{n.setTime(+n+r*e)},(n,r)=>(r-n)/e):qv);qv.range;const so=1e3,os=so*60,io=os*60,jo=io*24,jk=jo*7,q3=jo*30,Y2=jo*365,pc=jr(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*so)},(e,n)=>(n-e)/so,e=>e.getUTCSeconds());pc.range;const bk=jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so)},(e,n)=>{e.setTime(+e+n*os)},(e,n)=>(n-e)/os,e=>e.getMinutes());bk.range;const wk=jr(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*os)},(e,n)=>(n-e)/os,e=>e.getUTCMinutes());wk.range;const Nk=jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so-e.getMinutes()*os)},(e,n)=>{e.setTime(+e+n*io)},(e,n)=>(n-e)/io,e=>e.getHours());Nk.range;const Ck=jr(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*io)},(e,n)=>(n-e)/io,e=>e.getUTCHours());Ck.range;const Ap=jr(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*os)/jo,e=>e.getDate()-1);Ap.range;const Mj=jr(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/jo,e=>e.getUTCDate()-1);Mj.range;const WV=jr(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/jo,e=>Math.floor(e/jo));WV.range;function Jc(e){return jr(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,r)=>{n.setDate(n.getDate()+r*7)},(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*os)/jk)}const Rj=Jc(0),Vv=Jc(1),Ime=Jc(2),$me=Jc(3),Eu=Jc(4),Fme=Jc(5),Lme=Jc(6);Rj.range;Vv.range;Ime.range;$me.range;Eu.range;Fme.range;Lme.range;function ed(e){return jr(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r*7)},(n,r)=>(r-n)/jk)}const Dj=ed(0),Bv=ed(1),zme=ed(2),qme=ed(3),Au=ed(4),Vme=ed(5),Bme=ed(6);Dj.range;Bv.range;zme.range;qme.range;Au.range;Vme.range;Bme.range;const Sk=jr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sk.range;const Pk=jr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pk.range;const bo=jr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jr(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r*e)});bo.range;const wo=jr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jr(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r*e)});wo.range;function GV(e,n,r,a,s,i){const o=[[pc,1,so],[pc,5,5*so],[pc,15,15*so],[pc,30,30*so],[i,1,os],[i,5,5*os],[i,15,15*os],[i,30,30*os],[s,1,io],[s,3,3*io],[s,6,6*io],[s,12,12*io],[a,1,jo],[a,2,2*jo],[r,1,jk],[n,1,q3],[n,3,3*q3],[e,1,Y2]];function l(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:d(u,f,h),N=v?v.range(u,+f+1):[];return p?N.reverse():N}function d(u,f,h){const p=Math.abs(f-u)/h,v=lk(([,,g])=>g).right(o,p);if(v===o.length)return e.every(bP(u/Y2,f/Y2,h));if(v===0)return qv.every(Math.max(bP(u,f,h),1));const[N,j]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return N.every(j)}return[l,d]}const[Hme,Ume]=GV(wo,Pk,Dj,WV,Ck,wk),[Kme,Wme]=GV(bo,Sk,Rj,Ap,Nk,bk);function X2(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Z2(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function df(e,n,r){return{y:e,m:n,d:r,H:0,M:0,S:0,L:0}}function Gme(e){var n=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,u=uf(s),f=mf(s),h=uf(i),p=mf(i),v=uf(o),N=mf(o),j=uf(l),g=mf(l),P=uf(d),C=mf(d),b={a:U,A:O,b:I,B:G,c:null,d:W3,e:W3,f:gfe,g:Efe,G:kfe,H:hfe,I:pfe,j:xfe,L:QV,m:vfe,M:yfe,p:M,q:V,Q:Y3,s:X3,S:jfe,u:bfe,U:wfe,V:Nfe,w:Cfe,W:Sfe,x:null,X:null,y:Pfe,Y:Afe,Z:_fe,"%":Q3},y={a:Z,A:re,b:le,B:ye,c:null,d:G3,e:G3,f:Rfe,g:Hfe,G:Kfe,H:Tfe,I:Ofe,j:Mfe,L:XV,m:Dfe,M:Ife,p:he,q:pe,Q:Y3,s:X3,S:$fe,u:Ffe,U:Lfe,V:zfe,w:qfe,W:Vfe,x:null,X:null,y:Bfe,Y:Ufe,Z:Wfe,"%":Q3},E={a:Y,A:F,b:D,B:R,c:q,d:U3,e:U3,f:dfe,g:H3,G:B3,H:K3,I:K3,j:ife,L:cfe,m:sfe,M:ofe,p:z,q:afe,Q:mfe,s:ffe,S:lfe,u:Jme,U:efe,V:tfe,w:Zme,W:nfe,x:Q,X:K,y:H3,Y:B3,Z:rfe,"%":ufe};b.x=S(r,b),b.X=S(a,b),b.c=S(n,b),y.x=S(r,y),y.X=S(a,y),y.c=S(n,y);function S(L,ae){return function(me){var W=[],Se=-1,$e=0,tt=L.length,ft,_t,xn;for(me instanceof Date||(me=new Date(+me));++Se<tt;)L.charCodeAt(Se)===37&&(W.push(L.slice($e,Se)),(_t=V3[ft=L.charAt(++Se)])!=null?ft=L.charAt(++Se):_t=ft==="e"?" ":"0",(xn=ae[ft])&&(ft=xn(me,_t)),W.push(ft),$e=Se+1);return W.push(L.slice($e,Se)),W.join("")}}function k(L,ae){return function(me){var W=df(1900,void 0,1),Se=T(W,L,me+="",0),$e,tt;if(Se!=me.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ae&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?($e=Z2(df(W.y,0,1)),tt=$e.getUTCDay(),$e=tt>4||tt===0?Bv.ceil($e):Bv($e),$e=Mj.offset($e,(W.V-1)*7),W.y=$e.getUTCFullYear(),W.m=$e.getUTCMonth(),W.d=$e.getUTCDate()+(W.w+6)%7):($e=X2(df(W.y,0,1)),tt=$e.getDay(),$e=tt>4||tt===0?Vv.ceil($e):Vv($e),$e=Ap.offset($e,(W.V-1)*7),W.y=$e.getFullYear(),W.m=$e.getMonth(),W.d=$e.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),tt="Z"in W?Z2(df(W.y,0,1)).getUTCDay():X2(df(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(tt+5)%7:W.w+W.U*7-(tt+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Z2(W)):X2(W)}}function T(L,ae,me,W){for(var Se=0,$e=ae.length,tt=me.length,ft,_t;Se<$e;){if(W>=tt)return-1;if(ft=ae.charCodeAt(Se++),ft===37){if(ft=ae.charAt(Se++),_t=E[ft in V3?ae.charAt(Se++):ft],!_t||(W=_t(L,me,W))<0)return-1}else if(ft!=me.charCodeAt(W++))return-1}return W}function z(L,ae,me){var W=u.exec(ae.slice(me));return W?(L.p=f.get(W[0].toLowerCase()),me+W[0].length):-1}function Y(L,ae,me){var W=v.exec(ae.slice(me));return W?(L.w=N.get(W[0].toLowerCase()),me+W[0].length):-1}function F(L,ae,me){var W=h.exec(ae.slice(me));return W?(L.w=p.get(W[0].toLowerCase()),me+W[0].length):-1}function D(L,ae,me){var W=P.exec(ae.slice(me));return W?(L.m=C.get(W[0].toLowerCase()),me+W[0].length):-1}function R(L,ae,me){var W=j.exec(ae.slice(me));return W?(L.m=g.get(W[0].toLowerCase()),me+W[0].length):-1}function q(L,ae,me){return T(L,n,ae,me)}function Q(L,ae,me){return T(L,r,ae,me)}function K(L,ae,me){return T(L,a,ae,me)}function U(L){return o[L.getDay()]}function O(L){return i[L.getDay()]}function I(L){return d[L.getMonth()]}function G(L){return l[L.getMonth()]}function M(L){return s[+(L.getHours()>=12)]}function V(L){return 1+~~(L.getMonth()/3)}function Z(L){return o[L.getUTCDay()]}function re(L){return i[L.getUTCDay()]}function le(L){return d[L.getUTCMonth()]}function ye(L){return l[L.getUTCMonth()]}function he(L){return s[+(L.getUTCHours()>=12)]}function pe(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var ae=S(L+="",b);return ae.toString=function(){return L},ae},parse:function(L){var ae=k(L+="",!1);return ae.toString=function(){return L},ae},utcFormat:function(L){var ae=S(L+="",y);return ae.toString=function(){return L},ae},utcParse:function(L){var ae=k(L+="",!0);return ae.toString=function(){return L},ae}}}var V3={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Qme=/^%/,Yme=/[\\^$*+?|[\]().{}]/g;function mn(e,n,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(n)+s:s)}function Xme(e){return e.replace(Yme,"\\$&")}function uf(e){return new RegExp("^(?:"+e.map(Xme).join("|")+")","i")}function mf(e){return new Map(e.map((n,r)=>[n.toLowerCase(),r]))}function Zme(e,n,r){var a=kr.exec(n.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Jme(e,n,r){var a=kr.exec(n.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function efe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function tfe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function nfe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function B3(e,n,r){var a=kr.exec(n.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function H3(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function rfe(e,n,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function afe(e,n,r){var a=kr.exec(n.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function sfe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function U3(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function ife(e,n,r){var a=kr.exec(n.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function K3(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function ofe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function lfe(e,n,r){var a=kr.exec(n.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function cfe(e,n,r){var a=kr.exec(n.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function dfe(e,n,r){var a=kr.exec(n.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function ufe(e,n,r){var a=Qme.exec(n.slice(r,r+1));return a?r+a[0].length:-1}function mfe(e,n,r){var a=kr.exec(n.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function ffe(e,n,r){var a=kr.exec(n.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function W3(e,n){return mn(e.getDate(),n,2)}function hfe(e,n){return mn(e.getHours(),n,2)}function pfe(e,n){return mn(e.getHours()%12||12,n,2)}function xfe(e,n){return mn(1+Ap.count(bo(e),e),n,3)}function QV(e,n){return mn(e.getMilliseconds(),n,3)}function gfe(e,n){return QV(e,n)+"000"}function vfe(e,n){return mn(e.getMonth()+1,n,2)}function yfe(e,n){return mn(e.getMinutes(),n,2)}function jfe(e,n){return mn(e.getSeconds(),n,2)}function bfe(e){var n=e.getDay();return n===0?7:n}function wfe(e,n){return mn(Rj.count(bo(e)-1,e),n,2)}function YV(e){var n=e.getDay();return n>=4||n===0?Eu(e):Eu.ceil(e)}function Nfe(e,n){return e=YV(e),mn(Eu.count(bo(e),e)+(bo(e).getDay()===4),n,2)}function Cfe(e){return e.getDay()}function Sfe(e,n){return mn(Vv.count(bo(e)-1,e),n,2)}function Pfe(e,n){return mn(e.getFullYear()%100,n,2)}function Efe(e,n){return e=YV(e),mn(e.getFullYear()%100,n,2)}function Afe(e,n){return mn(e.getFullYear()%1e4,n,4)}function kfe(e,n){var r=e.getDay();return e=r>=4||r===0?Eu(e):Eu.ceil(e),mn(e.getFullYear()%1e4,n,4)}function _fe(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+mn(n/60|0,"0",2)+mn(n%60,"0",2)}function G3(e,n){return mn(e.getUTCDate(),n,2)}function Tfe(e,n){return mn(e.getUTCHours(),n,2)}function Ofe(e,n){return mn(e.getUTCHours()%12||12,n,2)}function Mfe(e,n){return mn(1+Mj.count(wo(e),e),n,3)}function XV(e,n){return mn(e.getUTCMilliseconds(),n,3)}function Rfe(e,n){return XV(e,n)+"000"}function Dfe(e,n){return mn(e.getUTCMonth()+1,n,2)}function Ife(e,n){return mn(e.getUTCMinutes(),n,2)}function $fe(e,n){return mn(e.getUTCSeconds(),n,2)}function Ffe(e){var n=e.getUTCDay();return n===0?7:n}function Lfe(e,n){return mn(Dj.count(wo(e)-1,e),n,2)}function ZV(e){var n=e.getUTCDay();return n>=4||n===0?Au(e):Au.ceil(e)}function zfe(e,n){return e=ZV(e),mn(Au.count(wo(e),e)+(wo(e).getUTCDay()===4),n,2)}function qfe(e){return e.getUTCDay()}function Vfe(e,n){return mn(Bv.count(wo(e)-1,e),n,2)}function Bfe(e,n){return mn(e.getUTCFullYear()%100,n,2)}function Hfe(e,n){return e=ZV(e),mn(e.getUTCFullYear()%100,n,2)}function Ufe(e,n){return mn(e.getUTCFullYear()%1e4,n,4)}function Kfe(e,n){var r=e.getUTCDay();return e=r>=4||r===0?Au(e):Au.ceil(e),mn(e.getUTCFullYear()%1e4,n,4)}function Wfe(){return"+0000"}function Q3(){return"%"}function Y3(e){return+e}function X3(e){return Math.floor(+e/1e3)}var zd,JV,e7;Gfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gfe(e){return zd=Gme(e),JV=zd.format,zd.parse,e7=zd.utcFormat,zd.utcParse,zd}function Qfe(e){return new Date(e)}function Yfe(e){return e instanceof Date?+e:+new Date(+e)}function Ek(e,n,r,a,s,i,o,l,d,u){var f=fk(),h=f.invert,p=f.domain,v=u(".%L"),N=u(":%S"),j=u("%I:%M"),g=u("%I %p"),P=u("%a %d"),C=u("%b %d"),b=u("%B"),y=u("%Y");function E(S){return(d(S)<S?v:l(S)<S?N:o(S)<S?j:i(S)<S?g:a(S)<S?s(S)<S?P:C:r(S)<S?b:y)(S)}return f.invert=function(S){return new Date(h(S))},f.domain=function(S){return arguments.length?p(Array.from(S,Yfe)):p().map(Qfe)},f.ticks=function(S){var k=p();return e(k[0],k[k.length-1],S??10)},f.tickFormat=function(S,k){return k==null?E:u(k)},f.nice=function(S){var k=p();return(!S||typeof S.range!="function")&&(S=n(k[0],k[k.length-1],S??10)),S?p(zV(k,S)):f},f.copy=function(){return Ep(f,Ek(e,n,r,a,s,i,o,l,d,u))},f}function Xfe(){return vs.apply(Ek(Kme,Wme,bo,Sk,Rj,Ap,Nk,bk,pc,JV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zfe(){return vs.apply(Ek(Hme,Ume,wo,Pk,Dj,Mj,Ck,wk,pc,e7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ij(){var e=0,n=1,r,a,s,i,o=Jr,l=!1,d;function u(h){return h==null||isNaN(h=+h)?d:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,n]=h,r=i(e=+e),a=i(n=+n),s=r===a?0:1/(a-r),u):[e,n]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var v,N;return arguments.length?([v,N]=p,o=h(v,N),u):[o(0),o(1)]}}return u.range=f(uo),u.rangeRound=f(mk),u.unknown=function(h){return arguments.length?(d=h,u):d},function(h){return i=h,r=h(e),a=h(n),s=r===a?0:1/(a-r),u}}function $l(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function t7(){var e=Il(Ij()(Jr));return e.copy=function(){return $l(e,t7())},Oo.apply(e,arguments)}function n7(){var e=xk(Ij()).domain([1,10]);return e.copy=function(){return $l(e,n7()).base(e.base())},Oo.apply(e,arguments)}function r7(){var e=gk(Ij());return e.copy=function(){return $l(e,r7()).constant(e.constant())},Oo.apply(e,arguments)}function Ak(){var e=vk(Ij());return e.copy=function(){return $l(e,Ak()).exponent(e.exponent())},Oo.apply(e,arguments)}function Jfe(){return Ak.apply(null,arguments).exponent(.5)}function a7(){var e=[],n=Jr;function r(a){if(a!=null&&!isNaN(a=+a))return n((Sp(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(jl),r},r.interpolator=function(a){return arguments.length?(n=a,r):n},r.range=function(){return e.map((a,s)=>n(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Mue(e,i/a))},r.copy=function(){return a7(n).domain(e)},Oo.apply(r,arguments)}function $j(){var e=0,n=.5,r=1,a=1,s,i,o,l,d,u=Jr,f,h=!1,p;function v(j){return isNaN(j=+j)?p:(j=.5+((j=+f(j))-i)*(a*j<a*i?l:d),u(h?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,n,r]=j,s=f(e=+e),i=f(n=+n),o=f(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),a=i<s?-1:1,v):[e,n,r]},v.clamp=function(j){return arguments.length?(h=!!j,v):h},v.interpolator=function(j){return arguments.length?(u=j,v):u};function N(j){return function(g){var P,C,b;return arguments.length?([P,C,b]=g,u=ume(j,[P,C,b]),v):[u(0),u(.5),u(1)]}}return v.range=N(uo),v.rangeRound=N(mk),v.unknown=function(j){return arguments.length?(p=j,v):p},function(j){return f=j,s=j(e),i=j(n),o=j(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),a=i<s?-1:1,v}}function s7(){var e=Il($j()(Jr));return e.copy=function(){return $l(e,s7())},Oo.apply(e,arguments)}function i7(){var e=xk($j()).domain([.1,1,10]);return e.copy=function(){return $l(e,i7()).base(e.base())},Oo.apply(e,arguments)}function o7(){var e=gk($j());return e.copy=function(){return $l(e,o7()).constant(e.constant())},Oo.apply(e,arguments)}function kk(){var e=vk($j());return e.copy=function(){return $l(e,kk()).exponent(e.exponent())},Oo.apply(e,arguments)}function ehe(){return kk.apply(null,arguments).exponent(.5)}const Z3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vh,scaleDiverging:s7,scaleDivergingLog:i7,scaleDivergingPow:kk,scaleDivergingSqrt:ehe,scaleDivergingSymlog:o7,scaleIdentity:LV,scaleImplicit:wP,scaleLinear:zv,scaleLog:qV,scaleOrdinal:ck,scalePoint:If,scalePow:yk,scaleQuantile:HV,scaleQuantize:UV,scaleRadial:BV,scaleSequential:t7,scaleSequentialLog:n7,scaleSequentialPow:Ak,scaleSequentialQuantile:a7,scaleSequentialSqrt:Jfe,scaleSequentialSymlog:r7,scaleSqrt:Rme,scaleSymlog:VV,scaleThreshold:KV,scaleTime:Xfe,scaleUtc:Zfe,tickFormat:FV},Symbol.toStringTag,{value:"Module"}));var J2,J3;function Fj(){if(J3)return J2;J3=1;var e=fm();function n(r,a,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],d=a(l);if(d!=null&&(u===void 0?d===d&&!e(d):s(d,u)))var u=d,f=l}return f}return J2=n,J2}var eC,e5;function l7(){if(e5)return eC;e5=1;function e(n,r){return n>r}return eC=e,eC}var tC,t5;function the(){if(t5)return tC;t5=1;var e=Fj(),n=l7(),r=pm();function a(s){return s&&s.length?e(s,r,n):void 0}return tC=a,tC}var nhe=the();const Lj=wn(nhe);var nC,n5;function c7(){if(n5)return nC;n5=1;function e(n,r){return n<r}return nC=e,nC}var rC,r5;function rhe(){if(r5)return rC;r5=1;var e=Fj(),n=c7(),r=pm();function a(s){return s&&s.length?e(s,r,n):void 0}return rC=a,rC}var ahe=rhe();const zj=wn(ahe);var aC,a5;function she(){if(a5)return aC;a5=1;var e=UA(),n=Ti(),r=hV(),a=Na();function s(i,o){var l=a(i)?e:r;return l(i,n(o,3))}return aC=s,aC}var sC,s5;function ihe(){if(s5)return sC;s5=1;var e=mV(),n=she();function r(a,s){return e(n(a,s),1)}return sC=r,sC}var ohe=ihe();const lhe=wn(ohe);var iC,i5;function che(){if(i5)return iC;i5=1;var e=ak();function n(r,a){return e(r,a)}return iC=n,iC}var dhe=che();const qj=wn(dhe);var gm=1e9,uhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tk,Hn=!0,gs="[DecimalError] ",jc=gs+"Invalid argument: ",_k=gs+"Exponent out of range: ",vm=Math.floor,oc=Math.pow,mhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ra,Sr=1e7,qn=7,d7=9007199254740991,Hv=vm(d7/qn),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var n,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,n=0,r=a<s?a:s;n<r;++n)if(i.d[n]!==e.d[n])return i.d[n]>e.d[n]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,n=e.d.length-1,r=(n-e.e)*qn;if(n=e.d[n],n)for(;n%10==0;n/=10)r--;return r<0?0:r};vt.dividedBy=vt.div=function(e){return mo(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var n=this,r=n.constructor;return _n(mo(n,new r(e),0,1),r.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return dr(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var n,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ra))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Ra)?new a(0):(Hn=!1,n=mo(wh(r,i),wh(e,i),i),Hn=!0,_n(n,s))};vt.minus=vt.sub=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?f7(n,e):u7(n,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var n,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(gs+"NaN");return r.s?(Hn=!1,n=mo(r,e,0,1).times(e),Hn=!0,r.minus(n)):_n(new a(r),s)};vt.naturalExponential=vt.exp=function(){return m7(this)};vt.naturalLogarithm=vt.ln=function(){return wh(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?u7(n,e):f7(n,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var n,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jc+e);if(n=dr(s)+1,a=s.d.length-1,r=a*qn+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&n>r?n:r};vt.squareRoot=vt.sqrt=function(){var e,n,r,a,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(gs+"NaN")}for(e=dr(l),Hn=!1,s=Math.sqrt(+l),s==0||s==1/0?(n=gi(l.d),(n.length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=vm((e+1)/2)-(e<0||e%2),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),a=new d(n)):a=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=a,a=i.plus(mo(l,i,o+2)).times(.5),gi(i.d).slice(0,o)===(n=gi(a.d)).slice(0,o)){if(n=n.slice(o-3,o+1),s==o&&n=="4999"){if(_n(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(n!="9999")break;o+=4}return Hn=!0,_n(a,r)};vt.times=vt.mul=function(e){var n,r,a,s,i,o,l,d,u,f=this,h=f.constructor,p=f.d,v=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,d=p.length,u=v.length,d<u&&(i=p,p=v,v=i,o=d,d=u,u=o),i=[],o=d+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(n=0,s=d+a;s>a;)l=i[s]+v[a]*p[s-a-1]+n,i[s--]=l%Sr|0,n=l/Sr|0;i[s]=(i[s]+n)%Sr|0}for(;!i[--o];)i.pop();return n?++r:i.shift(),e.d=i,e.e=r,Hn?_n(e,h.precision):e};vt.toDecimalPlaces=vt.todp=function(e,n){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Pi(e,0,gm),n===void 0?n=a.rounding:Pi(n,0,8),_n(r,e+dr(r)+1,n))};vt.toExponential=function(e,n){var r,a=this,s=a.constructor;return e===void 0?r=Fc(a,!0):(Pi(e,0,gm),n===void 0?n=s.rounding:Pi(n,0,8),a=_n(new s(a),e+1,n),r=Fc(a,!0,e+1)),r};vt.toFixed=function(e,n){var r,a,s=this,i=s.constructor;return e===void 0?Fc(s):(Pi(e,0,gm),n===void 0?n=i.rounding:Pi(n,0,8),a=_n(new i(s),e+dr(s)+1,n),r=Fc(a.abs(),!1,e+dr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};vt.toInteger=vt.toint=function(){var e=this,n=e.constructor;return _n(new n(e),dr(e)+1,n.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var n,r,a,s,i,o,l=this,d=l.constructor,u=12,f=+(e=new d(e));if(!e.s)return new d(Ra);if(l=new d(l),!l.s){if(e.s<1)throw Error(gs+"Infinity");return l}if(l.eq(Ra))return l;if(a=d.precision,e.eq(Ra))return _n(l,a);if(n=e.e,r=e.d.length-1,o=n>=r,i=l.s,o){if((r=f<0?-f:f)<=d7){for(s=new d(Ra),n=Math.ceil(a/qn+4),Hn=!1;r%2&&(s=s.times(l),l5(s.d,n)),r=vm(r/2),r!==0;)l=l.times(l),l5(l.d,n);return Hn=!0,e.s<0?new d(Ra).div(s):_n(s,a)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(n,r)]&1?-1:1,l.s=1,Hn=!1,s=e.times(wh(l,a+u)),Hn=!0,s=m7(s),s.s=i,s};vt.toPrecision=function(e,n){var r,a,s=this,i=s.constructor;return e===void 0?(r=dr(s),a=Fc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Pi(e,1,gm),n===void 0?n=i.rounding:Pi(n,0,8),s=_n(new i(s),e,n),r=dr(s),a=Fc(s,e<=r||r<=i.toExpNeg,e)),a};vt.toSignificantDigits=vt.tosd=function(e,n){var r=this,a=r.constructor;return e===void 0?(e=a.precision,n=a.rounding):(Pi(e,1,gm),n===void 0?n=a.rounding:Pi(n,0,8)),_n(new a(r),e,n)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,n=dr(e),r=e.constructor;return Fc(e,n<=r.toExpNeg||n>=r.toExpPos)};function u7(e,n){var r,a,s,i,o,l,d,u,f=e.constructor,h=f.precision;if(!e.s||!n.s)return n.s||(n=new f(e)),Hn?_n(n,h):n;if(d=e.d,u=n.d,o=e.e,s=n.e,d=d.slice(),i=o-s,i){for(i<0?(a=d,i=-i,l=u.length):(a=u,s=o,l=d.length),o=Math.ceil(h/qn),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,a=u,u=d,d=a),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/Sr|0,d[i]%=Sr;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return n.d=d,n.e=s,Hn?_n(n,h):n}function Pi(e,n,r){if(e!==~~e||e<n||e>r)throw Error(jc+e)}function gi(e){var n,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,n=1;n<s;n++)a=e[n]+"",r=qn-a.length,r&&(i+=fl(r)),i+=a;o=e[n],a=o+"",r=qn-a.length,r&&(i+=fl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var mo=(function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%Sr|0,o=i/Sr|0;return o&&a.unshift(o),a}function n(a,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=s[l]){d=a[l]>s[l]?1:-1;break}return d}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Sr+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,d,u,f,h,p,v,N,j,g,P,C,b,y,E,S,k,T,z=a.constructor,Y=a.s==s.s?1:-1,F=a.d,D=s.d;if(!a.s)return new z(a);if(!s.s)throw Error(gs+"Division by zero");for(d=a.e-s.e,k=D.length,E=F.length,v=new z(Y),N=v.d=[],u=0;D[u]==(F[u]||0);)++u;if(D[u]>(F[u]||0)&&--d,i==null?C=i=z.precision:o?C=i+(dr(a)-dr(s))+1:C=i,C<0)return new z(0);if(C=C/qn+2|0,u=0,k==1)for(f=0,D=D[0],C++;(u<E||f)&&C--;u++)b=f*Sr+(F[u]||0),N[u]=b/D|0,f=b%D|0;else{for(f=Sr/(D[0]+1)|0,f>1&&(D=e(D,f),F=e(F,f),k=D.length,E=F.length),y=k,j=F.slice(0,k),g=j.length;g<k;)j[g++]=0;T=D.slice(),T.unshift(0),S=D[0],D[1]>=Sr/2&&++S;do f=0,l=n(D,j,k,g),l<0?(P=j[0],k!=g&&(P=P*Sr+(j[1]||0)),f=P/S|0,f>1?(f>=Sr&&(f=Sr-1),h=e(D,f),p=h.length,g=j.length,l=n(h,j,p,g),l==1&&(f--,r(h,k<p?T:D,p))):(f==0&&(l=f=1),h=D.slice()),p=h.length,p<g&&h.unshift(0),r(j,h,g),l==-1&&(g=j.length,l=n(D,j,k,g),l<1&&(f++,r(j,k<g?T:D,g))),g=j.length):l===0&&(f++,j=[0]),N[u++]=f,l&&j[0]?j[g++]=F[y]||0:(j=[F[y]],g=1);while((y++<E||j[0]!==void 0)&&C--)}return N[0]||N.shift(),v.e=d,_n(v,o?i+dr(v)+1:i)}})();function m7(e,n){var r,a,s,i,o,l,d=0,u=0,f=e.constructor,h=f.precision;if(dr(e)>16)throw Error(_k+dr(e));if(!e.s)return new f(Ra);for(Hn=!1,l=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(oc(2,u))/Math.LN10*2+5|0,l+=a,r=s=i=new f(Ra),f.precision=l;;){if(s=_n(s.times(e),l),r=r.times(++d),o=i.plus(mo(s,r,l)),gi(o.d).slice(0,l)===gi(i.d).slice(0,l)){for(;u--;)i=_n(i.times(i),l);return f.precision=h,n==null?(Hn=!0,_n(i,h)):i}i=o}}function dr(e){for(var n=e.e*qn,r=e.d[0];r>=10;r/=10)n++;return n}function oC(e,n,r){if(n>e.LN10.sd())throw Hn=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return _n(new e(e.LN10),n)}function fl(e){for(var n="";e--;)n+="0";return n}function wh(e,n){var r,a,s,i,o,l,d,u,f,h=1,p=10,v=e,N=v.d,j=v.constructor,g=j.precision;if(v.s<1)throw Error(gs+(v.s?"NaN":"-Infinity"));if(v.eq(Ra))return new j(0);if(n==null?(Hn=!1,u=g):u=n,v.eq(10))return n==null&&(Hn=!0),oC(j,u);if(u+=p,j.precision=u,r=gi(N),a=r.charAt(0),i=dr(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=gi(v.d),a=r.charAt(0),h++;i=dr(v),a>1?(v=new j("0."+r),i++):v=new j(a+"."+r.slice(1))}else return d=oC(j,u+2,g).times(i+""),v=wh(new j(a+"."+r.slice(1)),u-p).plus(d),j.precision=g,n==null?(Hn=!0,_n(v,g)):v;for(l=o=v=mo(v.minus(Ra),v.plus(Ra),u),f=_n(v.times(v),u),s=3;;){if(o=_n(o.times(f),u),d=l.plus(mo(o,new j(s),u)),gi(d.d).slice(0,u)===gi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(oC(j,u+2,g).times(i+""))),l=mo(l,new j(h),u),j.precision=g,n==null?(Hn=!0,_n(l,g)):l;l=d,s+=2}}function o5(e,n){var r,a,s;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(a=n.search(/e/i))>0?(r<0&&(r=a),r+=+n.slice(a+1),n=n.substring(0,a)):r<0&&(r=n.length),a=0;n.charCodeAt(a)===48;)++a;for(s=n.length;n.charCodeAt(s-1)===48;)--s;if(n=n.slice(a,s),n){if(s-=a,r=r-a-1,e.e=vm(r/qn),e.d=[],a=(r+1)%qn,r<0&&(a+=qn),a<s){for(a&&e.d.push(+n.slice(0,a)),s-=qn;a<s;)e.d.push(+n.slice(a,a+=qn));n=n.slice(a),a=qn-n.length}else a-=s;for(;a--;)n+="0";if(e.d.push(+n),Hn&&(e.e>Hv||e.e<-Hv))throw Error(_k+r)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,n,r){var a,s,i,o,l,d,u,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=n-o,a<0)a+=qn,s=n,u=h[f=0];else{if(f=Math.ceil((a+1)/qn),i=h.length,f>=i)return e;for(u=i=h[f],o=1;i>=10;i/=10)o++;a%=qn,s=a-qn+o}if(r!==void 0&&(i=oc(10,o-s-1),l=u/i%10|0,d=n<0||h[f+1]!==void 0||u%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(a>0?s>0?u/oc(10,o-s):0:h[f-1])%10&1||r==(e.s<0?8:7))),n<1||!h[0])return d?(i=dr(e),h.length=1,n=n-i-1,h[0]=oc(10,(qn-n%qn)%qn),e.e=vm(-n/qn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=oc(10,qn-a),h[f]=s>0?(u/oc(10,o-s)%oc(10,s)|0)*i:0),d)for(;;)if(f==0){(h[0]+=i)==Sr&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=Sr)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Hn&&(e.e>Hv||e.e<-Hv))throw Error(_k+dr(e));return e}function f7(e,n){var r,a,s,i,o,l,d,u,f,h,p=e.constructor,v=p.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new p(e),Hn?_n(n,v):n;if(d=e.d,h=n.d,a=n.e,u=e.e,d=d.slice(),o=u-a,o){for(f=o<0,f?(r=d,o=-o,l=h.length):(r=h,a=u,l=d.length),s=Math.max(Math.ceil(v/qn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=h.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(d[s]!=h[s]){f=d[s]<h[s];break}o=0}for(f&&(r=d,d=h,h=r,n.s=-n.s),l=d.length,s=h.length-l;s>0;--s)d[l++]=0;for(s=h.length;s>o;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=Sr-1;--d[i],d[s]+=Sr}d[s]-=h[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(n.d=d,n.e=a,Hn?_n(n,v):n):new p(0)}function Fc(e,n,r){var a,s=dr(e),i=gi(e.d),o=i.length;return n?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+fl(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+fl(-s-1)+i,r&&(a=r-o)>0&&(i+=fl(a))):s>=o?(i+=fl(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+fl(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=fl(a))),e.s<0?"-"+i:i}function l5(e,n){if(e.length>n)return e.length=n,!0}function h7(e){var n,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return o5(o,i.toString())}else if(typeof i!="string")throw Error(jc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,mhe.test(i))o5(o,i);else throw Error(jc+i)}if(s.prototype=vt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=h7,s.config=s.set=fhe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)e.hasOwnProperty(r=a[n++])||(e[r]=this[r]);return s.config(e),s}function fhe(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var n,r,a,s=["precision",1,gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<s.length;n+=3)if((a=e[r=s[n]])!==void 0)if(vm(a)===a&&a>=s[n+1]&&a<=s[n+2])this[r]=a;else throw Error(jc+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(jc+r+": "+a);return this}var Tk=h7(uhe);Ra=new Tk(1);const An=Tk;function hhe(e){return vhe(e)||ghe(e)||xhe(e)||phe()}function phe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(e,n){if(e){if(typeof e=="string")return EP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(e,n)}}function ghe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vhe(e){if(Array.isArray(e))return EP(e)}function EP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var yhe=function(n){return n},p7={},x7=function(n){return n===p7},c5=function(n){return function r(){return arguments.length===0||arguments.length===1&&x7(arguments.length<=0?void 0:arguments[0])?r:n.apply(void 0,arguments)}},jhe=function e(n,r){return n===1?r:c5(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==p7}).length;return o>=n?r.apply(void 0,s):e(n-o,c5(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var f=s.map(function(h){return x7(h)?d.shift():h});return r.apply(void 0,hhe(f).concat(d))}))})},Vj=function(n){return jhe(n.length,n)},AP=function(n,r){for(var a=[],s=n;s<r;++s)a[s-n]=s;return a},bhe=Vj(function(e,n){return Array.isArray(n)?n.map(e):Object.keys(n).map(function(r){return n[r]}).map(e)}),whe=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!r.length)return yhe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},kP=function(n){return Array.isArray(n)?n.reverse():n.split("").reverse.join("")},g7=function(n){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,d){return l===r[d]})||(r=i,a=n.apply(void 0,i)),a}};function Nhe(e){var n;return e===0?n=1:n=Math.floor(new An(e).abs().log(10).toNumber())+1,n}function Che(e,n,r){for(var a=new An(e),s=0,i=[];a.lt(n)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var She=Vj(function(e,n,r){var a=+e,s=+n;return a+r*(s-a)}),Phe=Vj(function(e,n,r){var a=n-+e;return a=a||1/0,(r-e)/a}),Ehe=Vj(function(e,n,r){var a=n-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Bj={rangeStep:Che,getDigitCount:Nhe,interpolateNumber:She,uninterpolateNumber:Phe,uninterpolateTruncation:Ehe};function _P(e){return _he(e)||khe(e)||v7(e)||Ahe()}function Ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _he(e){if(Array.isArray(e))return TP(e)}function Nh(e,n){return Mhe(e)||Ohe(e,n)||v7(e,n)||The()}function The(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(e,n){if(e){if(typeof e=="string")return TP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TP(e,n)}}function TP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Ohe(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Mhe(e){if(Array.isArray(e))return e}function y7(e){var n=Nh(e,2),r=n[0],a=n[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function j7(e,n,r){if(e.lte(0))return new An(0);var a=Bj.getDigitCount(e.toNumber()),s=new An(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new An(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return n?d:new An(Math.ceil(d))}function Rhe(e,n,r){var a=1,s=new An(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new An(10).pow(Bj.getDigitCount(e)-1),s=new An(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new An(Math.floor(e)))}else e===0?s=new An(Math.floor((n-1)/2)):r||(s=new An(Math.floor(e)));var o=Math.floor((n-1)/2),l=whe(bhe(function(d){return s.add(new An(d-o).mul(a)).toNumber()}),AP);return l(0,n)}function b7(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var i=j7(new An(n).sub(e).div(r-1),a,s),o;e<=0&&n>=0?o=new An(0):(o=new An(e).add(n).div(2),o=o.sub(new An(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),d=Math.ceil(new An(n).sub(o).div(i).toNumber()),u=l+d+1;return u>r?b7(e,n,r,a,s+1):(u<r&&(d=n>0?d+(r-u):d,l=n>0?l:l+(r-u)),{step:i,tickMin:o.sub(new An(l).mul(i)),tickMax:o.add(new An(d).mul(i))})}function Dhe(e){var n=Nh(e,2),r=n[0],a=n[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=y7([r,a]),d=Nh(l,2),u=d[0],f=d[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(_P(AP(0,s-1).map(function(){return 1/0}))):[].concat(_P(AP(0,s-1).map(function(){return-1/0})),[f]);return r>a?kP(h):h}if(u===f)return Rhe(u,s,i);var p=b7(u,f,o,i),v=p.step,N=p.tickMin,j=p.tickMax,g=Bj.rangeStep(N,j.add(new An(.1).mul(v)),v);return r>a?kP(g):g}function Ihe(e,n){var r=Nh(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=y7([a,s]),l=Nh(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[a,s];if(d===u)return[d];var f=Math.max(n,2),h=j7(new An(u).sub(d).div(f-1),i,0),p=[].concat(_P(Bj.rangeStep(new An(d),new An(u).sub(new An(.99).mul(h)),h)),[u]);return a>s?kP(p):p}var $he=g7(Dhe),Fhe=g7(Ihe),Lhe="Invariant failed";function Lc(e,n){throw new Error(Lhe)}var zhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ku(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uv.apply(this,arguments)}function qhe(e,n){return Uhe(e)||Hhe(e,n)||Bhe(e,n)||Vhe()}function Vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(e,n){if(e){if(typeof e=="string")return d5(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d5(e,n)}}function d5(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Hhe(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Uhe(e){if(Array.isArray(e))return e}function Khe(e,n){if(e==null)return{};var r=Whe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Whe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ghe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Qhe(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,C7(a.key),a)}}function Yhe(e,n,r){return n&&Qhe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xhe(e,n,r){return n=Kv(n),Zhe(e,w7()?Reflect.construct(n,r||[],Kv(e).constructor):n.apply(e,r))}function Zhe(e,n){if(n&&(ku(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jhe(e)}function Jhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(e)}function epe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&OP(e,n)}function OP(e,n){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},OP(e,n)}function N7(e,n,r){return n=C7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function C7(e){var n=tpe(e,"string");return ku(n)=="symbol"?n:n+""}function tpe(e,n){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(ku(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hj=(function(e){function n(){return Ghe(this,n),Xhe(this,n,arguments)}return epe(n,e),Yhe(n,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,d=a.data,u=a.dataPointFormatter,f=a.xAxis,h=a.yAxis,p=Khe(a,zhe),v=zt(p,!1);this.props.direction==="x"&&f.type!=="number"&&Lc();var N=d.map(function(j){var g=u(j,l),P=g.x,C=g.y,b=g.value,y=g.errorVal;if(!y)return null;var E=[],S,k;if(Array.isArray(y)){var T=qhe(y,2);S=T[0],k=T[1]}else S=k=y;if(i==="vertical"){var z=f.scale,Y=C+s,F=Y+o,D=Y-o,R=z(b-S),q=z(b+k);E.push({x1:q,y1:F,x2:q,y2:D}),E.push({x1:R,y1:Y,x2:q,y2:Y}),E.push({x1:R,y1:F,x2:R,y2:D})}else if(i==="horizontal"){var Q=h.scale,K=P+s,U=K-o,O=K+o,I=Q(b-S),G=Q(b+k);E.push({x1:U,y1:G,x2:O,y2:G}),E.push({x1:K,y1:I,x2:K,y2:G}),E.push({x1:U,y1:I,x2:O,y2:I})}return se.createElement(Sn,Uv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},v),E.map(function(M){return se.createElement("line",Uv({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return se.createElement(Sn,{className:"recharts-errorBars"},N)}}])})(se.Component);N7(Hj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});N7(Hj,"displayName","ErrorBar");function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ch(e)}function u5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rc(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?u5(Object(r),!0).forEach(function(a){npe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function npe(e,n,r){return n=rpe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function rpe(e){var n=ape(e,"string");return Ch(n)=="symbol"?n:n+""}function ape(e,n){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ch(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var S7=function(n){var r=n.children,a=n.formattedGraphicalItems,s=n.legendWidth,i=n.legendContent,o=Ta(r,ou);if(!o)return null;var l=ou.defaultProps,d=l!==void 0?rc(rc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(a||[]).reduce(function(f,h){var p=h.item,v=h.props,N=v.sectors||v.data||[];return f.concat(N.map(function(j){return{type:o.props.iconType||p.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):u=(a||[]).map(function(f){var h=f.item,p=h.type.defaultProps,v=p!==void 0?rc(rc({},p),h.props):{},N=v.dataKey,j=v.name,g=v.legendType,P=v.hide;return{inactive:P,dataKey:N,type:d.iconType||g||"square",color:Ok(h),value:j||N,payload:v}}),rc(rc(rc({},d),ou.getWithHeight(o,s)),{},{payload:u,item:o})};function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sh(e)}function m5(e){return lpe(e)||ope(e)||ipe(e)||spe()}function spe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e,n){if(e){if(typeof e=="string")return MP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(e,n)}}function ope(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lpe(e){if(Array.isArray(e))return MP(e)}function MP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function f5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?f5(Object(r),!0).forEach(function(a){cu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cu(e,n,r){return n=cpe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function cpe(e){var n=dpe(e,"string");return Sh(n)=="symbol"?n:n+""}function dpe(e,n){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Sh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Br(e,n,r){return rn(e)||rn(n)?r:yr(n)?Fa(e,n,r):Ht(n)?n(e):r}function $f(e,n,r,a){var s=lhe(e,function(l){return Br(l,n)});if(r==="number"){var i=s.filter(function(l){return ct(l)||parseFloat(l)});return i.length?[zj(i),Lj(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!rn(l)}):s;return o.map(function(l){return yr(l)||l instanceof Date?l:""})}var upe=function(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,p=u>=l-1?s[0].coordinate:s[u+1].coordinate,v=void 0;if(Xr(h-f)!==Xr(p-h)){var N=[];if(Xr(p-h)===Xr(d[1]-d[0])){v=p;var j=h+d[1]-d[0];N[0]=Math.min(j,(j+f)/2),N[1]=Math.max(j,(j+f)/2)}else{v=f;var g=p+d[1]-d[0];N[0]=Math.min(h,(g+h)/2),N[1]=Math.max(h,(g+h)/2)}var P=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(n>P[0]&&n<=P[1]||n>=N[0]&&n<=N[1]){o=s[u].index;break}}else{var C=Math.min(f,p),b=Math.max(f,p);if(n>(C+h)/2&&n<=(b+h)/2){o=s[u].index;break}}}else for(var y=0;y<l;y++)if(y===0&&n<=(a[y].coordinate+a[y+1].coordinate)/2||y>0&&y<l-1&&n>(a[y].coordinate+a[y-1].coordinate)/2&&n<=(a[y].coordinate+a[y+1].coordinate)/2||y===l-1&&n>(a[y].coordinate+a[y-1].coordinate)/2){o=a[y].index;break}return o},Ok=function(n){var r,a=n,s=a.type.displayName,i=(r=n.type)!==null&&r!==void 0&&r.defaultProps?Zn(Zn({},n.type.defaultProps),n.props):n.props,o=i.stroke,l=i.fill,d;switch(s){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},mpe=function(n){var r=n.barSize,a=n.totalSize,s=n.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var f=i[l[d]].stackGroups,h=Object.keys(f),p=0,v=h.length;p<v;p++){var N=f[h[p]],j=N.items,g=N.cateAxisId,P=j.filter(function(k){return lo(k.type).indexOf("Bar")>=0});if(P&&P.length){var C=P[0].type.defaultProps,b=C!==void 0?Zn(Zn({},C),P[0].props):P[0].props,y=b.barSize,E=b[g];o[E]||(o[E]=[]);var S=rn(y)?r:y;o[E].push({item:P[0],stackList:P.slice(1),barSize:rn(S)?void 0:Zr(S,a,0)})}}return o},fpe=function(n){var r=n.barGap,a=n.barCategoryGap,s=n.bandSize,i=n.sizeList,o=i===void 0?[]:i,l=n.maxBarSize,d=o.length;if(d<1)return null;var u=Zr(r,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=s/d,N=o.reduce(function(y,E){return y+E.barSize||0},0);N+=(d-1)*u,N>=s&&(N-=(d-1)*u,u=0),N>=s&&v>0&&(p=!0,v*=.9,N=d*v);var j=(s-N)/2>>0,g={offset:j-u,size:0};f=o.reduce(function(y,E){var S={item:E.item,position:{offset:g.offset+g.size+u,size:p?v:E.barSize}},k=[].concat(m5(y),[S]);return g=k[k.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){k.push({item:T,position:g})}),k},h)}else{var P=Zr(a,s,0,!0);s-2*P-(d-1)*u<=0&&(u=0);var C=(s-2*P-(d-1)*u)/d;C>1&&(C>>=0);var b=l===+l?Math.min(C,l):C;f=o.reduce(function(y,E,S){var k=[].concat(m5(y),[{item:E.item,position:{offset:P+(C+u)*S+(C-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){k.push({item:T,position:k[k.length-1].position})}),k},h)}return f},hpe=function(n,r,a,s){var i=a.children,o=a.width,l=a.margin,d=o-(l.left||0)-(l.right||0),u=S7({children:i,legendWidth:d});if(u){var f=s||{},h=f.width,p=f.height,v=u.align,N=u.verticalAlign,j=u.layout;if((j==="vertical"||j==="horizontal"&&N==="middle")&&v!=="center"&&ct(n[v]))return Zn(Zn({},n),{},cu({},v,n[v]+(h||0)));if((j==="horizontal"||j==="vertical"&&v==="center")&&N!=="middle"&&ct(n[N]))return Zn(Zn({},n),{},cu({},N,n[N]+(p||0)))}return n},ppe=function(n,r,a){return rn(r)?!0:n==="horizontal"?r==="yAxis":n==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},P7=function(n,r,a,s,i){var o=r.props.children,l=cs(o,Hj).filter(function(u){return ppe(s,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return n.reduce(function(u,f){var h=Br(f,a);if(rn(h))return u;var p=Array.isArray(h)?[zj(h),Lj(h)]:[h,h],v=d.reduce(function(N,j){var g=Br(f,j,0),P=p[0]-Math.abs(Array.isArray(g)?g[0]:g),C=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(P,N[0]),Math.max(C,N[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},xpe=function(n,r,a,s,i){var o=r.map(function(l){return P7(n,l,a,i,s)}).filter(function(l){return!rn(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},E7=function(n,r,a,s,i){var o=r.map(function(d){var u=d.props.dataKey;return a==="number"&&u&&P7(n,d,u,s)||$f(n,u,a,i)});if(a==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,d.push(u[f]));return d},[])},A7=function(n,r){return n==="horizontal"&&r==="xAxis"||n==="vertical"&&r==="yAxis"||n==="centric"&&r==="angleAxis"||n==="radial"&&r==="radiusAxis"},xc=function(n,r,a){if(!n)return null;var s=n.scale,i=n.duplicateDomain,o=n.type,l=n.range,d=n.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/d:0;if(u=n.axisType==="angleAxis"&&l?.length>=2?Xr(l[0]-l[1])*2*u:u,r&&(n.ticks||n.niceTicks)){var f=(n.ticks||n.niceTicks).map(function(h){var p=i?i.indexOf(h):h;return{coordinate:s(p)+u,value:h,offset:u}});return f.filter(function(h){return!wp(h.coordinate)})}return n.isCategorical&&n.categoricalDomain?n.categoricalDomain.map(function(h,p){return{coordinate:s(h)+u,value:h,index:p,offset:u}}):s.ticks&&!a?s.ticks(n.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,p){return{coordinate:s(h)+u,value:i?i[h]:h,index:p,offset:u}})},lC=new WeakMap,dg=function(n,r){if(typeof r!="function")return n;lC.has(n)||lC.set(n,new WeakMap);var a=lC.get(n);if(a.has(r))return a.get(r);var s=function(){n.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},k7=function(n,r,a){var s=n.scale,i=n.type,o=n.layout,l=n.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:vh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:zv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:If(),realScaleType:"point"}:i==="category"?{scale:vh(),realScaleType:"band"}:{scale:zv(),realScaleType:"linear"};if(bp(s)){var d="scale".concat(Cj(s));return{scale:(Z3[d]||If)(),realScaleType:Z3[d]?d:"point"}}return Ht(s)?{scale:s}:{scale:If(),realScaleType:"point"}},h5=1e-4,_7=function(n){var r=n.domain();if(!(!r||r.length<=2)){var a=r.length,s=n.range(),i=Math.min(s[0],s[1])-h5,o=Math.max(s[0],s[1])+h5,l=n(r[0]),d=n(r[a-1]);(l<i||l>o||d<i||d>o)&&n.domain([r[0],r[a-1]])}},gpe=function(n,r){if(!n)return null;for(var a=0,s=n.length;a<s;a++)if(n[a].item===r)return n[a].position;return null},vpe=function(n,r){if(!r||r.length!==2||!ct(r[0])||!ct(r[1]))return n;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[n[0],n[1]];return(!ct(n[0])||n[0]<a)&&(i[0]=a),(!ct(n[1])||n[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},ype=function(n){var r=n.length;if(!(r<=0))for(var a=0,s=n[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var d=wp(n[l][a][1])?n[l][a][0]:n[l][a][1];d>=0?(n[l][a][0]=i,n[l][a][1]=i+d,i=n[l][a][1]):(n[l][a][0]=o,n[l][a][1]=o+d,o=n[l][a][1])}},jpe=function(n){var r=n.length;if(!(r<=0))for(var a=0,s=n[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=wp(n[o][a][1])?n[o][a][0]:n[o][a][1];l>=0?(n[o][a][0]=i,n[o][a][1]=i+l,i=n[o][a][1]):(n[o][a][0]=0,n[o][a][1]=0)}},bpe={sign:ype,expand:nle,none:bu,silhouette:rle,wiggle:ale,positive:jpe},wpe=function(n,r,a){var s=r.map(function(l){return l.props.dataKey}),i=bpe[a],o=tle().keys(s).value(function(l,d){return+Br(l,d,0)}).order(lP).offset(i);return o(n)},Npe=function(n,r,a,s,i,o){if(!n)return null;var l=o?r.reverse():r,d={},u=l.reduce(function(h,p){var v,N=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Zn(Zn({},p.type.defaultProps),p.props):p.props,j=N.stackId,g=N.hide;if(g)return h;var P=N[a],C=h[P]||{hasStack:!1,stackGroups:{}};if(yr(j)){var b=C.stackGroups[j]||{numericAxisId:a,cateAxisId:s,items:[]};b.items.push(p),C.hasStack=!0,C.stackGroups[j]=b}else C.stackGroups[Np("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[p]};return Zn(Zn({},h),{},cu({},P,C))},d),f={};return Object.keys(u).reduce(function(h,p){var v=u[p];if(v.hasStack){var N={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(j,g){var P=v.stackGroups[g];return Zn(Zn({},j),{},cu({},g,{numericAxisId:a,cateAxisId:s,items:P.items,stackedData:wpe(n,P.items,i)}))},N)}return Zn(Zn({},h),{},cu({},p,v))},f)},T7=function(n,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=n.domain();if(!u.length)return null;var f=$he(u,i,l);return n.domain([zj(f),Lj(f)]),{niceTicks:f}}if(i&&s==="number"){var h=n.domain(),p=Fhe(h,i,l);return{niceTicks:p}}return null},p5=function(n){var r=n.axis,a=n.ticks,s=n.offset,i=n.bandSize,o=n.entry,l=n.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var d=Br(o,r.dataKey,r.domain[l]);return rn(d)?null:r.scale(d)-i/2+s},Cpe=function(n){var r=n.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},Spe=function(n,r){var a,s=(a=n.type)!==null&&a!==void 0&&a.defaultProps?Zn(Zn({},n.type.defaultProps),n.props):n.props,i=s.stackId;if(yr(i)){var o=r[i];if(o){var l=o.items.indexOf(n);return l>=0?o.stackedData[l]:null}}return null},Ppe=function(n){return n.reduce(function(r,a){return[zj(a.concat([r[0]]).filter(ct)),Lj(a.concat([r[1]]).filter(ct))]},[1/0,-1/0])},O7=function(n,r,a){return Object.keys(n).reduce(function(s,i){var o=n[i],l=o.stackedData,d=l.reduce(function(u,f){var h=Ppe(f.slice(r,a+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},x5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RP=function(n,r,a){if(Ht(n))return n(r,a);if(!Array.isArray(n))return r;var s=[];if(ct(n[0]))s[0]=a?n[0]:Math.min(n[0],r[0]);else if(x5.test(n[0])){var i=+x5.exec(n[0])[1];s[0]=r[0]-i}else Ht(n[0])?s[0]=n[0](r[0]):s[0]=r[0];if(ct(n[1]))s[1]=a?n[1]:Math.max(n[1],r[1]);else if(g5.test(n[1])){var o=+g5.exec(n[1])[1];s[1]=r[1]+o}else Ht(n[1])?s[1]=n[1](r[1]):s[1]=r[1];return s},Wv=function(n,r,a){if(n&&n.scale&&n.scale.bandwidth){var s=n.scale.bandwidth();if(!a||s>0)return s}if(n&&r&&r.length>=2){for(var i=ik(r,function(h){return h.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},v5=function(n,r,a){return!n||!n.length||qj(n,Fa(a,"type.defaultProps.domain"))?r:n},M7=function(n,r){var a=n.type.defaultProps?Zn(Zn({},n.type.defaultProps),n.props):n.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,d=a.tooltipType,u=a.chartType,f=a.hide;return Zn(Zn({},zt(n,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Ok(n),value:Br(r,s),type:d,payload:r,chartType:u,hide:f})};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ph(e)}function y5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ji(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?y5(Object(r),!0).forEach(function(a){R7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function R7(e,n,r){return n=Epe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Epe(e){var n=Ape(e,"string");return Ph(n)=="symbol"?n:n+""}function Ape(e,n){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ph(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function kpe(e,n){return Mpe(e)||Ope(e,n)||Tpe(e,n)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(e,n){if(e){if(typeof e=="string")return j5(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j5(e,n)}}function j5(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Ope(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mpe(e){if(Array.isArray(e))return e}var Gv=Math.PI/180,Rpe=function(n){return n*180/Math.PI},Dn=function(n,r,a,s){return{x:n+Math.cos(-Gv*s)*a,y:r+Math.sin(-Gv*s)*a}},D7=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(n-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Dpe=function(n,r,a,s,i){var o=n.width,l=n.height,d=n.startAngle,u=n.endAngle,f=Zr(n.cx,o,o/2),h=Zr(n.cy,l,l/2),p=D7(o,l,a),v=Zr(n.innerRadius,p,0),N=Zr(n.outerRadius,p,p*.8),j=Object.keys(r);return j.reduce(function(g,P){var C=r[P],b=C.domain,y=C.reversed,E;if(rn(C.range))s==="angleAxis"?E=[d,u]:s==="radiusAxis"&&(E=[v,N]),y&&(E=[E[1],E[0]]);else{E=C.range;var S=E,k=kpe(S,2);d=k[0],u=k[1]}var T=k7(C,i),z=T.realScaleType,Y=T.scale;Y.domain(b).range(E),_7(Y);var F=T7(Y,Ji(Ji({},C),{},{realScaleType:z})),D=Ji(Ji(Ji({},C),F),{},{range:E,radius:N,realScaleType:z,scale:Y,cx:f,cy:h,innerRadius:v,outerRadius:N,startAngle:d,endAngle:u});return Ji(Ji({},g),{},R7({},P,D))},{})},Ipe=function(n,r){var a=n.x,s=n.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},$pe=function(n,r){var a=n.x,s=n.y,i=r.cx,o=r.cy,l=Ipe({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var d=(a-i)/l,u=Math.acos(d);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Rpe(u),angleInRadian:u}},Fpe=function(n){var r=n.startAngle,a=n.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},Lpe=function(n,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return n+l*360},b5=function(n,r){var a=n.x,s=n.y,i=$pe({x:a,y:s},r),o=i.radius,l=i.angle,d=r.innerRadius,u=r.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var f=Fpe(r),h=f.startAngle,p=f.endAngle,v=l,N;if(h<=p){for(;v>p;)v-=360;for(;v<h;)v+=360;N=v>=h&&v<=p}else{for(;v>h;)v-=360;for(;v<p;)v+=360;N=v>=p&&v<=h}return N?Ji(Ji({},r),{},{radius:o,angle:Lpe(v,r)}):null},I7=function(n){return!w.isValidElement(n)&&!Ht(n)&&typeof n!="boolean"?n.className:""};function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Eh(e)}var zpe=["offset"];function qpe(e){return Upe(e)||Hpe(e)||Bpe(e)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e,n){if(e){if(typeof e=="string")return DP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(e,n)}}function Hpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Upe(e){if(Array.isArray(e))return DP(e)}function DP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Kpe(e,n){if(e==null)return{};var r=Wpe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Wpe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function w5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?w5(Object(r),!0).forEach(function(a){Gpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gpe(e,n,r){return n=Qpe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Qpe(e){var n=Ype(e,"string");return Eh(n)=="symbol"?n:n+""}function Ype(e,n){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Eh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ah.apply(this,arguments)}var Xpe=function(n){var r=n.value,a=n.formatter,s=rn(n.children)?r:n.children;return Ht(a)?a(s):s},Zpe=function(n,r){var a=Xr(r-n),s=Math.min(Math.abs(r-n),360);return a*s},Jpe=function(n,r,a){var s=n.position,i=n.viewBox,o=n.offset,l=n.className,d=i,u=d.cx,f=d.cy,h=d.innerRadius,p=d.outerRadius,v=d.startAngle,N=d.endAngle,j=d.clockWise,g=(h+p)/2,P=Zpe(v,N),C=P>=0?1:-1,b,y;s==="insideStart"?(b=v+C*o,y=j):s==="insideEnd"?(b=N-C*o,y=!j):s==="end"&&(b=N+C*o,y=j),y=P<=0?y:!y;var E=Dn(u,f,g,b),S=Dn(u,f,g,b+(y?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),T=rn(n.id)?Np("recharts-radial-line-"):n.id;return se.createElement("text",Ah({},a,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:T,d:k})),se.createElement("textPath",{xlinkHref:"#".concat(T)},r))},exe=function(n){var r=n.viewBox,a=n.offset,s=n.position,i=r,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,f=i.startAngle,h=i.endAngle,p=(f+h)/2;if(s==="outside"){var v=Dn(o,l,u+a,p),N=v.x,j=v.y;return{x:N,y:j,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(d+u)/2,P=Dn(o,l,g,p),C=P.x,b=P.y;return{x:C,y:b,textAnchor:"middle",verticalAnchor:"middle"}},txe=function(n){var r=n.viewBox,a=n.parentViewBox,s=n.offset,i=n.position,o=r,l=o.x,d=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*s,v=h>0?"end":"start",N=h>0?"start":"end",j=u>=0?1:-1,g=j*s,P=j>0?"end":"start",C=j>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:d-h*s,textAnchor:"middle",verticalAnchor:v};return pr(pr({},b),a?{height:Math.max(d-a.y,0),width:u}:{})}if(i==="bottom"){var y={x:l+u/2,y:d+f+p,textAnchor:"middle",verticalAnchor:N};return pr(pr({},y),a?{height:Math.max(a.y+a.height-(d+f),0),width:u}:{})}if(i==="left"){var E={x:l-g,y:d+f/2,textAnchor:P,verticalAnchor:"middle"};return pr(pr({},E),a?{width:Math.max(E.x-a.x,0),height:f}:{})}if(i==="right"){var S={x:l+u+g,y:d+f/2,textAnchor:C,verticalAnchor:"middle"};return pr(pr({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:f}:{})}var k=a?{width:u,height:f}:{};return i==="insideLeft"?pr({x:l+g,y:d+f/2,textAnchor:C,verticalAnchor:"middle"},k):i==="insideRight"?pr({x:l+u-g,y:d+f/2,textAnchor:P,verticalAnchor:"middle"},k):i==="insideTop"?pr({x:l+u/2,y:d+p,textAnchor:"middle",verticalAnchor:N},k):i==="insideBottom"?pr({x:l+u/2,y:d+f-p,textAnchor:"middle",verticalAnchor:v},k):i==="insideTopLeft"?pr({x:l+g,y:d+p,textAnchor:C,verticalAnchor:N},k):i==="insideTopRight"?pr({x:l+u-g,y:d+p,textAnchor:P,verticalAnchor:N},k):i==="insideBottomLeft"?pr({x:l+g,y:d+f-p,textAnchor:C,verticalAnchor:v},k):i==="insideBottomRight"?pr({x:l+u-g,y:d+f-p,textAnchor:P,verticalAnchor:v},k):hm(i)&&(ct(i.x)||fc(i.x))&&(ct(i.y)||fc(i.y))?pr({x:l+Zr(i.x,u),y:d+Zr(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):pr({x:l+u/2,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},nxe=function(n){return"cx"in n&&ct(n.cx)};function Pr(e){var n=e.offset,r=n===void 0?5:n,a=Kpe(e,zpe),s=pr({offset:r},a),i=s.viewBox,o=s.position,l=s.value,d=s.children,u=s.content,f=s.className,h=f===void 0?"":f,p=s.textBreakAll;if(!i||rn(l)&&rn(d)&&!w.isValidElement(u)&&!Ht(u))return null;if(w.isValidElement(u))return w.cloneElement(u,s);var v;if(Ht(u)){if(v=w.createElement(u,s),w.isValidElement(v))return v}else v=Xpe(s);var N=nxe(i),j=zt(s,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Jpe(s,v,j);var g=N?exe(s):txe(s);return se.createElement(Ic,Ah({className:Wt("recharts-label",h)},j,g,{breakAll:p}),v)}Pr.displayName="Label";var $7=function(n){var r=n.cx,a=n.cy,s=n.angle,i=n.startAngle,o=n.endAngle,l=n.r,d=n.radius,u=n.innerRadius,f=n.outerRadius,h=n.x,p=n.y,v=n.top,N=n.left,j=n.width,g=n.height,P=n.clockWise,C=n.labelViewBox;if(C)return C;if(ct(j)&&ct(g)){if(ct(h)&&ct(p))return{x:h,y:p,width:j,height:g};if(ct(v)&&ct(N))return{x:v,y:N,width:j,height:g}}return ct(h)&&ct(p)?{x:h,y:p,width:0,height:0}:ct(r)&&ct(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||d||l||0,clockWise:P}:n.viewBox?n.viewBox:{}},rxe=function(n,r){return n?n===!0?se.createElement(Pr,{key:"label-implicit",viewBox:r}):yr(n)?se.createElement(Pr,{key:"label-implicit",viewBox:r,value:n}):w.isValidElement(n)?n.type===Pr?w.cloneElement(n,{key:"label-implicit",viewBox:r}):se.createElement(Pr,{key:"label-implicit",content:n,viewBox:r}):Ht(n)?se.createElement(Pr,{key:"label-implicit",content:n,viewBox:r}):hm(n)?se.createElement(Pr,Ah({viewBox:r},n,{key:"label-implicit"})):null:null},axe=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&a&&!n.label)return null;var s=n.children,i=$7(n),o=cs(s,Pr).map(function(d,u){return w.cloneElement(d,{viewBox:r||i,key:"label-".concat(u)})});if(!a)return o;var l=rxe(n.label,r||i);return[l].concat(qpe(o))};Pr.parseViewBox=$7;Pr.renderCallByParent=axe;var cC,N5;function sxe(){if(N5)return cC;N5=1;function e(n){var r=n==null?0:n.length;return r?n[r-1]:void 0}return cC=e,cC}var ixe=sxe();const oxe=wn(ixe);function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kh(e)}var lxe=["valueAccessor"],cxe=["data","dataKey","clockWise","id","textBreakAll"];function dxe(e){return hxe(e)||fxe(e)||mxe(e)||uxe()}function uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(e,n){if(e){if(typeof e=="string")return IP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,n)}}function fxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hxe(e){if(Array.isArray(e))return IP(e)}function IP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qv.apply(this,arguments)}function C5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function S5(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?C5(Object(r),!0).forEach(function(a){pxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pxe(e,n,r){return n=xxe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function xxe(e){var n=gxe(e,"string");return kh(n)=="symbol"?n:n+""}function gxe(e,n){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(kh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function P5(e,n){if(e==null)return{};var r=vxe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function vxe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var yxe=function(n){return Array.isArray(n.value)?oxe(n.value):n.value};function bl(e){var n=e.valueAccessor,r=n===void 0?yxe:n,a=P5(e,lxe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,d=a.textBreakAll,u=P5(a,cxe);return!s||!s.length?null:se.createElement(Sn,{className:"recharts-label-list"},s.map(function(f,h){var p=rn(i)?r(f,h):Br(f&&f.payload,i),v=rn(l)?{}:{id:"".concat(l,"-").concat(h)};return se.createElement(Pr,Qv({},zt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:d,viewBox:Pr.parseViewBox(rn(o)?f:S5(S5({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}bl.displayName="LabelList";function jxe(e,n){return e?e===!0?se.createElement(bl,{key:"labelList-implicit",data:n}):se.isValidElement(e)||Ht(e)?se.createElement(bl,{key:"labelList-implicit",data:n,content:e}):hm(e)?se.createElement(bl,Qv({data:n},e,{key:"labelList-implicit"})):null:null}function bxe(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=cs(a,bl).map(function(o,l){return w.cloneElement(o,{data:n,key:"labelList-".concat(l)})});if(!r)return s;var i=jxe(e.label,n);return[i].concat(dxe(s))}bl.renderCallByParent=bxe;function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_h(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$P.apply(this,arguments)}function E5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A5(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?E5(Object(r),!0).forEach(function(a){wxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wxe(e,n,r){return n=Nxe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Nxe(e){var n=Cxe(e,"string");return _h(n)=="symbol"?n:n+""}function Cxe(e,n){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(_h(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Sxe=function(n,r){var a=Xr(r-n),s=Math.min(Math.abs(r-n),359.999);return a*s},ug=function(n){var r=n.cx,a=n.cy,s=n.radius,i=n.angle,o=n.sign,l=n.isExternal,d=n.cornerRadius,u=n.cornerIsExternal,f=d*(l?1:-1)+s,h=Math.asin(d/f)/Gv,p=u?i:i+o*h,v=Dn(r,a,f,p),N=Dn(r,a,s,p),j=u?i-o*h:i,g=Dn(r,a,f*Math.cos(h*Gv),j);return{center:v,circleTangency:N,lineTangency:g,theta:h}},F7=function(n){var r=n.cx,a=n.cy,s=n.innerRadius,i=n.outerRadius,o=n.startAngle,l=n.endAngle,d=Sxe(o,l),u=o+d,f=Dn(r,a,i,o),h=Dn(r,a,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var v=Dn(r,a,s,o),N=Dn(r,a,s,u);p+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(r,",").concat(a," Z");return p},Pxe=function(n){var r=n.cx,a=n.cy,s=n.innerRadius,i=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=Xr(f-u),p=ug({cx:r,cy:a,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:d}),v=p.circleTangency,N=p.lineTangency,j=p.theta,g=ug({cx:r,cy:a,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:d}),P=g.circleTangency,C=g.lineTangency,b=g.theta,y=d?Math.abs(u-f):Math.abs(u-f)-j-b;if(y<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):F7({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var E="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var S=ug({cx:r,cy:a,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),k=S.circleTangency,T=S.lineTangency,z=S.theta,Y=ug({cx:r,cy:a,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),F=Y.circleTangency,D=Y.lineTangency,R=Y.theta,q=d?Math.abs(u-f):Math.abs(u-f)-z-R;if(q<0&&o===0)return"".concat(E,"L").concat(r,",").concat(a,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(a,"Z");return E},Exe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L7=function(n){var r=A5(A5({},Exe),n),a=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,p=r.className;if(o<i||f===h)return null;var v=Wt("recharts-sector",p),N=o-i,j=Zr(l,N,0,!0),g;return j>0&&Math.abs(f-h)<360?g=Pxe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,N/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:f,endAngle:h}):g=F7({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),se.createElement("path",$P({},zt(r,!0),{className:v,d:g,role:"img"}))};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Th(e)}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},FP.apply(this,arguments)}function k5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _5(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?k5(Object(r),!0).forEach(function(a){Axe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Axe(e,n,r){return n=kxe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kxe(e){var n=_xe(e,"string");return Th(n)=="symbol"?n:n+""}function _xe(e,n){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Th(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var T5={curveBasisClosed:Hoe,curveBasisOpen:Uoe,curveBasis:Boe,curveBumpX:koe,curveBumpY:_oe,curveLinearClosed:Koe,curveLinear:Pj,curveMonotoneX:Woe,curveMonotoneY:Goe,curveNatural:Qoe,curveStep:Yoe,curveStepAfter:Zoe,curveStepBefore:Xoe},mg=function(n){return n.x===+n.x&&n.y===+n.y},ff=function(n){return n.x},hf=function(n){return n.y},Txe=function(n,r){if(Ht(n))return n;var a="curve".concat(Cj(n));return(a==="curveMonotone"||a==="curveBump")&&r?T5["".concat(a).concat(r==="vertical"?"Y":"X")]:T5[a]||Pj},Oxe=function(n){var r=n.type,a=r===void 0?"linear":r,s=n.points,i=s===void 0?[]:s,o=n.baseLine,l=n.layout,d=n.connectNulls,u=d===void 0?!1:d,f=Txe(a,l),h=u?i.filter(function(j){return mg(j)}):i,p;if(Array.isArray(o)){var v=u?o.filter(function(j){return mg(j)}):o,N=h.map(function(j,g){return _5(_5({},j),{},{base:v[g]})});return l==="vertical"?p=ng().y(hf).x1(ff).x0(function(j){return j.base.x}):p=ng().x(ff).y1(hf).y0(function(j){return j.base.y}),p.defined(mg).curve(f),p(N)}return l==="vertical"&&ct(o)?p=ng().y(hf).x1(ff).x0(o):ct(o)?p=ng().x(ff).y1(hf).y0(o):p=D9().x(ff).y(hf),p.defined(mg).curve(f),p(h)},LP=function(n){var r=n.className,a=n.points,s=n.path,i=n.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?Oxe(n):s;return se.createElement("path",FP({},zt(n,!1),Nv(n),{className:Wt("recharts-curve",r),d:o,ref:i}))},dC={exports:{}},uC,O5;function Mxe(){if(O5)return uC;O5=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uC=e,uC}var mC,M5;function Rxe(){if(M5)return mC;M5=1;var e=Mxe();function n(){}function r(){}return r.resetWarningCache=n,mC=function(){function a(o,l,d,u,f,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:n};return i.PropTypes=i,i},mC}var R5;function Dxe(){return R5||(R5=1,dC.exports=Rxe()()),dC.exports}var Ixe=Dxe();const yn=wn(Ixe);var $xe=Object.getOwnPropertyNames,Fxe=Object.getOwnPropertySymbols,Lxe=Object.prototype.hasOwnProperty;function D5(e,n){return function(a,s,i){return e(a,s,i)&&n(a,s,i)}}function fg(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function I5(e){return $xe(e).concat(Fxe(e))}var zxe=Object.hasOwn||(function(e,n){return Lxe.call(e,n)});function td(e,n){return e===n||!e&&!n&&e!==e&&n!==n}var qxe="__v",Vxe="__o",Bxe="_owner",$5=Object.getOwnPropertyDescriptor,F5=Object.keys;function Hxe(e,n,r){var a=e.length;if(n.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],n[a],a,a,e,n,r))return!1;return!0}function Uxe(e,n){return td(e.getTime(),n.getTime())}function Kxe(e,n){return e.name===n.name&&e.message===n.message&&e.cause===n.cause&&e.stack===n.stack}function Wxe(e,n){return e===n}function L5(e,n,r){var a=e.size;if(a!==n.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,d=0;(o=i.next())&&!o.done;){for(var u=n.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(s[h]){h++;continue}var p=o.value,v=l.value;if(r.equals(p[0],v[0],d,h,e,n,r)&&r.equals(p[1],v[1],p[0],v[0],e,n,r)){f=s[h]=!0;break}h++}if(!f)return!1;d++}return!0}var Gxe=td;function Qxe(e,n,r){var a=F5(e),s=a.length;if(F5(n).length!==s)return!1;for(;s-- >0;)if(!z7(e,n,r,a[s]))return!1;return!0}function pf(e,n,r){var a=I5(e),s=a.length;if(I5(n).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!z7(e,n,r,i)||(o=$5(e,i),l=$5(n,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Yxe(e,n){return td(e.valueOf(),n.valueOf())}function Xxe(e,n){return e.source===n.source&&e.flags===n.flags}function z5(e,n,r){var a=e.size;if(a!==n.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var d=n.values(),u=!1,f=0;(l=d.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,n,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function Zxe(e,n){var r=e.length;if(n.length!==r)return!1;for(;r-- >0;)if(e[r]!==n[r])return!1;return!0}function Jxe(e,n){return e.hostname===n.hostname&&e.pathname===n.pathname&&e.protocol===n.protocol&&e.port===n.port&&e.hash===n.hash&&e.username===n.username&&e.password===n.password}function z7(e,n,r,a){return(a===Bxe||a===Vxe||a===qxe)&&(e.$$typeof||n.$$typeof)?!0:zxe(n,a)&&r.equals(e[a],n[a],a,a,e,n,r)}var ege="[object Arguments]",tge="[object Boolean]",nge="[object Date]",rge="[object Error]",age="[object Map]",sge="[object Number]",ige="[object Object]",oge="[object RegExp]",lge="[object Set]",cge="[object String]",dge="[object URL]",uge=Array.isArray,q5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,V5=Object.assign,mge=Object.prototype.toString.call.bind(Object.prototype.toString);function fge(e){var n=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(N,j,g){if(N===j)return!0;if(N==null||j==null)return!1;var P=typeof N;if(P!==typeof j)return!1;if(P!=="object")return P==="number"?o(N,j,g):P==="function"?s(N,j,g):!1;var C=N.constructor;if(C!==j.constructor)return!1;if(C===Object)return l(N,j,g);if(uge(N))return n(N,j,g);if(q5!=null&&q5(N))return h(N,j,g);if(C===Date)return r(N,j,g);if(C===RegExp)return u(N,j,g);if(C===Map)return i(N,j,g);if(C===Set)return f(N,j,g);var b=mge(N);return b===nge?r(N,j,g):b===oge?u(N,j,g):b===age?i(N,j,g):b===lge?f(N,j,g):b===ige?typeof N.then!="function"&&typeof j.then!="function"&&l(N,j,g):b===dge?p(N,j,g):b===rge?a(N,j,g):b===ege?l(N,j,g):b===tge||b===sge||b===cge?d(N,j,g):!1}}function hge(e){var n=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?pf:Hxe,areDatesEqual:Uxe,areErrorsEqual:Kxe,areFunctionsEqual:Wxe,areMapsEqual:a?D5(L5,pf):L5,areNumbersEqual:Gxe,areObjectsEqual:a?pf:Qxe,arePrimitiveWrappersEqual:Yxe,areRegExpsEqual:Xxe,areSetsEqual:a?D5(z5,pf):z5,areTypedArraysEqual:a?pf:Zxe,areUrlsEqual:Jxe};if(r&&(s=V5({},s,r(s))),n){var i=fg(s.areArraysEqual),o=fg(s.areMapsEqual),l=fg(s.areObjectsEqual),d=fg(s.areSetsEqual);s=V5({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return s}function pge(e){return function(n,r,a,s,i,o,l){return e(n,r,l)}}function xge(e){var n=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,u){var f=a(),h=f.cache,p=h===void 0?n?new WeakMap:void 0:h,v=f.meta;return r(d,u,{cache:p,equals:s,meta:v,strict:i})};if(n)return function(d,u){return r(d,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,u){return r(d,u,o)}}var gge=Fl();Fl({strict:!0});Fl({circular:!0});Fl({circular:!0,strict:!0});Fl({createInternalComparator:function(){return td}});Fl({strict:!0,createInternalComparator:function(){return td}});Fl({circular:!0,createInternalComparator:function(){return td}});Fl({circular:!0,createInternalComparator:function(){return td},strict:!0});function Fl(e){e===void 0&&(e={});var n=e.circular,r=n===void 0?!1:n,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=hge(e),d=fge(l),u=a?a(d):pge(d);return xge({circular:r,comparator:d,createState:s,equals:u,strict:o})}function vge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function B5(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>n?(e(i),r=-1):vge(s)};requestAnimationFrame(a)}function zP(e){"@babel/helpers - typeof";return zP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zP(e)}function yge(e){return Nge(e)||wge(e)||bge(e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(e,n){if(e){if(typeof e=="string")return H5(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(e,n)}}function H5(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function wge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nge(e){if(Array.isArray(e))return e}function Cge(){var e={},n=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=yge(o),d=l[0],u=l.slice(1);if(typeof d=="number"){B5(s.bind(null,u),d);return}s(d),B5(s.bind(null,u));return}zP(i)==="object"&&(e=i,n(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return n=i,function(){n=function(){return null}}}}}function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Oh(e)}function U5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function K5(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?U5(Object(r),!0).forEach(function(a){q7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function q7(e,n,r){return n=Sge(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Sge(e){var n=Pge(e,"string");return Oh(n)==="symbol"?n:String(n)}function Pge(e,n){if(Oh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Oh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ege=function(n,r){return[Object.keys(n),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},Age=function(n){return n},kge=function(n){return n.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ff=function(n,r){return Object.keys(r).reduce(function(a,s){return K5(K5({},a),{},q7({},s,n(s,r[s])))},{})},W5=function(n,r,a){return n.map(function(s){return"".concat(kge(s)," ").concat(r,"ms ").concat(a)}).join(",")};function _ge(e,n){return Mge(e)||Oge(e,n)||V7(e,n)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mge(e){if(Array.isArray(e))return e}function Rge(e){return $ge(e)||Ige(e)||V7(e)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(e,n){if(e){if(typeof e=="string")return qP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,n)}}function Ige(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ge(e){if(Array.isArray(e))return qP(e)}function qP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var Yv=1e-4,B7=function(n,r){return[0,3*n,3*r-6*n,3*n-3*r+1]},H7=function(n,r){return n.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},G5=function(n,r){return function(a){var s=B7(n,r);return H7(s,a)}},Fge=function(n,r){return function(a){var s=B7(n,r),i=[].concat(Rge(s.map(function(o,l){return o*l}).slice(1)),[0]);return H7(i,a)}},Q5=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=_ge(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var h=G5(s,o),p=G5(i,l),v=Fge(s,o),N=function(P){return P>1?1:P<0?0:P},j=function(P){for(var C=P>1?1:P,b=C,y=0;y<8;++y){var E=h(b)-C,S=v(b);if(Math.abs(E-C)<Yv||S<Yv)return p(b);b=N(b-E/S)}return p(b)};return j.isStepper=!1,j},Lge=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.stiff,a=r===void 0?100:r,s=n.damping,i=s===void 0?8:s,o=n.dt,l=o===void 0?17:o,d=function(f,h,p){var v=-(f-h)*a,N=p*i,j=p+(v-N)*l/1e3,g=p*l/1e3+f;return Math.abs(g-h)<Yv&&Math.abs(j)<Yv?[h,0]:[g,j]};return d.isStepper=!0,d.dt=l,d},zge=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Q5(s);case"spring":return Lge();default:if(s.split("(")[0]==="cubic-bezier")return Q5(s)}return typeof s=="function"?s:null};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mh(e)}function Y5(e){return Bge(e)||Vge(e)||U7(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bge(e){if(Array.isArray(e))return BP(e)}function X5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?X5(Object(r),!0).forEach(function(a){VP(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VP(e,n,r){return n=Hge(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Hge(e){var n=Uge(e,"string");return Mh(n)==="symbol"?n:String(n)}function Uge(e,n){if(Mh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Mh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Kge(e,n){return Qge(e)||Gge(e,n)||U7(e,n)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(e,n){if(e){if(typeof e=="string")return BP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,n)}}function BP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Gge(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qge(e){if(Array.isArray(e))return e}var Xv=function(n,r,a){return n+(r-n)*a},HP=function(n){var r=n.from,a=n.to;return r!==a},Yge=function e(n,r,a){var s=Ff(function(i,o){if(HP(o)){var l=n(o.from,o.to,o.velocity),d=Kge(l,2),u=d[0],f=d[1];return Rr(Rr({},o),{},{from:u,velocity:f})}return o},r);return a<1?Ff(function(i,o){return HP(o)?Rr(Rr({},o),{},{velocity:Xv(o.velocity,s[i].velocity,a),from:Xv(o.from,s[i].from,a)}):o},r):e(n,s,a-1)};const Xge=(function(e,n,r,a,s){var i=Ege(e,n),o=i.reduce(function(g,P){return Rr(Rr({},g),{},VP({},P,[e[P],n[P]]))},{}),l=i.reduce(function(g,P){return Rr(Rr({},g),{},VP({},P,{from:e[P],velocity:0,to:n[P]}))},{}),d=-1,u,f,h=function(){return null},p=function(){return Ff(function(P,C){return C.from},l)},v=function(){return!Object.values(l).filter(HP).length},N=function(P){u||(u=P);var C=P-u,b=C/r.dt;l=Yge(r,l,b),s(Rr(Rr(Rr({},e),n),p())),u=P,v()||(d=requestAnimationFrame(h))},j=function(P){f||(f=P);var C=(P-f)/a,b=Ff(function(E,S){return Xv.apply(void 0,Y5(S).concat([r(C)]))},o);if(s(Rr(Rr(Rr({},e),n),b)),C<1)d=requestAnimationFrame(h);else{var y=Ff(function(E,S){return Xv.apply(void 0,Y5(S).concat([r(1)]))},o);s(Rr(Rr(Rr({},e),n),y))}};return h=r.isStepper?N:j,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_u(e)}var Zge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jge(e,n){if(e==null)return{};var r=eve(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function eve(e,n){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fC(e){return ave(e)||rve(e)||nve(e)||tve()}function tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(e,n){if(e){if(typeof e=="string")return UP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(e,n)}}function rve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ave(e){if(Array.isArray(e))return UP(e)}function UP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Z5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ks(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Z5(Object(r),!0).forEach(function(a){Af(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Af(e,n,r){return n=K7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function sve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ive(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,K7(a.key),a)}}function ove(e,n,r){return n&&ive(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K7(e){var n=lve(e,"string");return _u(n)==="symbol"?n:String(n)}function lve(e,n){if(_u(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(_u(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function cve(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&KP(e,n)}function KP(e,n){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KP(e,n)}function dve(e){var n=uve();return function(){var a=Zv(e),s;if(n){var i=Zv(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return WP(this,s)}}function WP(e,n){if(n&&(_u(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GP(e)}function GP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}var No=(function(e){cve(r,e);var n=dve(r);function r(a,s){var i;sve(this,r),i=n.call(this,a,s);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(GP(i)),i.changeStyle=i.changeStyle.bind(GP(i)),!l||v<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),WP(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof p=="function")return i.state={style:u},WP(i);i.state={style:d?Af({},d,u):u}}else i.state={style:{}};return i}return ove(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,f=i.to,h=i.from,p=this.state.style;if(l){if(!o){var v={style:d?Af({},d,f):f};this.state&&p&&(d&&p[d]!==f||!d&&p!==f)&&this.setState(v);return}if(!(gge(s.to,f)&&s.canBegin&&s.isActive)){var N=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=N||u?h:s.to;if(this.state&&p){var g={style:d?Af({},d,j):j};(d&&p[d]!==j||!d&&p!==j)&&this.setState(g)}this.runAnimation(ks(ks({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,d=s.duration,u=s.easing,f=s.begin,h=s.onAnimationEnd,p=s.onAnimationStart,v=Xge(o,l,zge(u),d,this.changeStyle),N=function(){i.stopJSAnimation=v()};this.manager.start([p,f,N,d,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,d=s.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,v=function(j,g,P){if(P===0)return j;var C=g.duration,b=g.easing,y=b===void 0?"ease":b,E=g.style,S=g.properties,k=g.onAnimationEnd,T=P>0?o[P-1]:g,z=S||Object.keys(E);if(typeof y=="function"||y==="spring")return[].concat(fC(j),[i.runJSAnimation.bind(i,{from:T.style,to:E,duration:C,easing:y}),C]);var Y=W5(z,C,y),F=ks(ks(ks({},T.style),E),{},{transition:Y});return[].concat(fC(j),[F,C,k]).filter(Age)};return this.manager.start([d].concat(fC(o.reduce(v,[f,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Cge());var i=s.begin,o=s.duration,l=s.attributeName,d=s.to,u=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,p=s.steps,v=s.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var j=l?Af({},l,d):d,g=W5(Object.keys(j),o,u);N.start([f,i,ks(ks({},j),{},{transition:g}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=Jge(s,Zge),u=w.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var h=function(v){var N=v.props,j=N.style,g=j===void 0?{}:j,P=N.className,C=w.cloneElement(v,ks(ks({},d),{},{style:ks(ks({},g),f),className:P}));return C};return u===1?h(w.Children.only(i)):se.createElement("div",null,w.Children.map(i,function(p){return h(p)}))}}]),r})(w.PureComponent);No.displayName="Animate";No.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};No.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rh(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jv.apply(this,arguments)}function mve(e,n){return xve(e)||pve(e,n)||hve(e,n)||fve()}function fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(e,n){if(e){if(typeof e=="string")return J5(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J5(e,n)}}function J5(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function pve(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xve(e){if(Array.isArray(e))return e}function e$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function t$(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?e$(Object(r),!0).forEach(function(a){gve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gve(e,n,r){return n=vve(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function vve(e){var n=yve(e,"string");return Rh(n)=="symbol"?n:n+""}function yve(e,n){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Rh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var n$=function(n,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,d=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>o?o:i[p];f="M".concat(n,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(n+d*h[0],",").concat(r)),f+="L ".concat(n+a-d*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(n+a,",").concat(r+l*h[1])),f+="L ".concat(n+a,",").concat(r+s-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(n+a-d*h[2],",").concat(r+s)),f+="L ".concat(n+d*h[3],",").concat(r+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(n,",").concat(r+s-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);f="M ".concat(n,",").concat(r+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(n+d*N,",").concat(r,`
            L `).concat(n+a-d*N,",").concat(r,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(n+a,",").concat(r+l*N,`
            L `).concat(n+a,",").concat(r+s-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(n+a-d*N,",").concat(r+s,`
            L `).concat(n+d*N,",").concat(r+s,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(n,",").concat(r+s-l*N," Z")}else f="M ".concat(n,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},jve=function(n,r){if(!n||!r)return!1;var a=n.x,s=n.y,i=r.x,o=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),h=Math.min(o,o+d),p=Math.max(o,o+d);return a>=u&&a<=f&&s>=h&&s<=p}return!1},bve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mk=function(n){var r=t$(t$({},bve),n),a=w.useRef(),s=w.useState(-1),i=mve(s,2),o=i[0],l=i[1];w.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var y=a.current.getTotalLength();y&&l(y)}catch{}},[]);var d=r.x,u=r.y,f=r.width,h=r.height,p=r.radius,v=r.className,N=r.animationEasing,j=r.animationDuration,g=r.animationBegin,P=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var b=Wt("recharts-rectangle",v);return C?se.createElement(No,{canBegin:o>0,from:{width:f,height:h,x:d,y:u},to:{width:f,height:h,x:d,y:u},duration:j,animationEasing:N,isActive:C},function(y){var E=y.width,S=y.height,k=y.x,T=y.y;return se.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:j,isActive:P,easing:N},se.createElement("path",Jv({},zt(r,!0),{className:b,d:n$(k,T,E,S,p),ref:a})))}):se.createElement("path",Jv({},zt(r,!0),{className:b,d:n$(d,u,f,h,p)}))},wve=["points","className","baseLinePoints","connectNulls"];function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qd.apply(this,arguments)}function Nve(e,n){if(e==null)return{};var r=Cve(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cve(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function r$(e){return Ave(e)||Eve(e)||Pve(e)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(e,n){if(e){if(typeof e=="string")return QP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(e,n)}}function Eve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ave(e){if(Array.isArray(e))return QP(e)}function QP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var a$=function(n){return n&&n.x===+n.x&&n.y===+n.y},kve=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return n.forEach(function(a){a$(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),a$(n[0])&&r[r.length-1].push(n[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Lf=function(n,r){var a=kve(n);r&&(a=[a.reduce(function(i,o){return[].concat(r$(i),r$(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,d){return"".concat(o).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},_ve=function(n,r,a){var s=Lf(n,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Lf(r.reverse(),a).slice(1))},Tve=function(n){var r=n.points,a=n.className,s=n.baseLinePoints,i=n.connectNulls,o=Nve(n,wve);if(!r||!r.length)return null;var l=Wt("recharts-polygon",a);if(s&&s.length){var d=o.stroke&&o.stroke!=="none",u=_ve(r,s,i);return se.createElement("g",{className:l},se.createElement("path",Qd({},zt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?se.createElement("path",Qd({},zt(o,!0),{fill:"none",d:Lf(r,i)})):null,d?se.createElement("path",Qd({},zt(o,!0),{fill:"none",d:Lf(s,i)})):null)}var f=Lf(r,i);return se.createElement("path",Qd({},zt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},YP.apply(this,arguments)}var Rk=function(n){var r=n.cx,a=n.cy,s=n.r,i=n.className,o=Wt("recharts-dot",i);return r===+r&&a===+a&&s===+s?se.createElement("circle",YP({},zt(n,!1),Nv(n),{className:o,cx:r,cy:a,r:s})):null};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dh(e)}var Ove=["x","y","top","left","width","height","className"];function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},XP.apply(this,arguments)}function s$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mve(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?s$(Object(r),!0).forEach(function(a){Rve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rve(e,n,r){return n=Dve(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Dve(e){var n=Ive(e,"string");return Dh(n)=="symbol"?n:n+""}function Ive(e,n){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Dh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function $ve(e,n){if(e==null)return{};var r=Fve(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Fve(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Lve=function(n,r,a,s,i,o){return"M".concat(n,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},zve=function(n){var r=n.x,a=r===void 0?0:r,s=n.y,i=s===void 0?0:s,o=n.top,l=o===void 0?0:o,d=n.left,u=d===void 0?0:d,f=n.width,h=f===void 0?0:f,p=n.height,v=p===void 0?0:p,N=n.className,j=$ve(n,Ove),g=Mve({x:a,y:i,top:l,left:u,width:h,height:v},j);return!ct(a)||!ct(i)||!ct(h)||!ct(v)||!ct(l)||!ct(u)?null:se.createElement("path",XP({},zt(g,!0),{className:Wt("recharts-cross",N),d:Lve(a,i,h,v,l,u)}))},hC,i$;function qve(){if(i$)return hC;i$=1;var e=Fj(),n=l7(),r=Ti();function a(s,i){return s&&s.length?e(s,r(i,2),n):void 0}return hC=a,hC}var Vve=qve();const Bve=wn(Vve);var pC,o$;function Hve(){if(o$)return pC;o$=1;var e=Fj(),n=Ti(),r=c7();function a(s,i){return s&&s.length?e(s,n(i,2),r):void 0}return pC=a,pC}var Uve=Hve();const Kve=wn(Uve);var Wve=["cx","cy","angle","ticks","axisLine"],Gve=["ticks","tick","angle","tickFormatter","stroke"];function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tu(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zf.apply(this,arguments)}function l$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ac(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?l$(Object(r),!0).forEach(function(a){Uj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function c$(e,n){if(e==null)return{};var r=Qve(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Qve(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G7(a.key),a)}}function Xve(e,n,r){return n&&d$(e.prototype,n),r&&d$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zve(e,n,r){return n=ey(n),Jve(e,W7()?Reflect.construct(n,r||[],ey(e).constructor):n.apply(e,r))}function Jve(e,n){if(n&&(Tu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eye(e)}function eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function tye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ZP(e,n)}function ZP(e,n){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZP(e,n)}function Uj(e,n,r){return n=G7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function G7(e){var n=nye(e,"string");return Tu(n)=="symbol"?n:n+""}function nye(e,n){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Tu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kj=(function(e){function n(){return Yve(this,n),Zve(this,n,arguments)}return tye(n,e),Xve(n,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,d=i.cy;return Dn(l,d,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,d=Bve(l,function(f){return f.coordinate||0}),u=Kve(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,d=a.axisLine,u=c$(a,Wve),f=l.reduce(function(N,j){return[Math.min(N[0],j.coordinate),Math.max(N[1],j.coordinate)]},[1/0,-1/0]),h=Dn(s,i,f[0],o),p=Dn(s,i,f[1],o),v=ac(ac(ac({},zt(u,!1)),{},{fill:"none"},zt(d,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return se.createElement("line",zf({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,d=s.tickFormatter,u=s.stroke,f=c$(s,Gve),h=this.getTickTextAnchor(),p=zt(f,!1),v=zt(o,!1),N=i.map(function(j,g){var P=a.getTickValueCoord(j),C=ac(ac(ac(ac({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(P.x,", ").concat(P.y,")")},p),{},{stroke:"none",fill:u},v),{},{index:g},P),{},{payload:j});return se.createElement(Sn,zf({className:Wt("recharts-polar-radius-axis-tick",I7(o)),key:"tick-".concat(j.coordinate)},Dc(a.props,j,g)),n.renderTickItem(o,C,d?d(j.value,g):j.value))});return se.createElement(Sn,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:se.createElement(Sn,{className:Wt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return se.isValidElement(a)?o=se.cloneElement(a,s):Ht(a)?o=a(s):o=se.createElement(Ic,zf({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(w.PureComponent);Uj(Kj,"displayName","PolarRadiusAxis");Uj(Kj,"axisType","radiusAxis");Uj(Kj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ou(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uc.apply(this,arguments)}function u$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sc(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?u$(Object(r),!0).forEach(function(a){Wj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y7(a.key),a)}}function aye(e,n,r){return n&&m$(e.prototype,n),r&&m$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sye(e,n,r){return n=ty(n),iye(e,Q7()?Reflect.construct(n,r||[],ty(e).constructor):n.apply(e,r))}function iye(e,n){if(n&&(Ou(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(e)}function oye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function lye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&JP(e,n)}function JP(e,n){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JP(e,n)}function Wj(e,n,r){return n=Y7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Y7(e){var n=cye(e,"string");return Ou(n)=="symbol"?n:n+""}function cye(e,n){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ou(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dye=Math.PI/180,f$=1e-5,Gj=(function(e){function n(){return rye(this,n),sye(this,n,arguments)}return lye(n,e),aye(n,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,d=s.orientation,u=s.tickSize,f=u||8,h=Dn(i,o,l,a.coordinate),p=Dn(i,o,l+(d==="inner"?-1:1)*f,a.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*dye),o;return i>f$?o=s==="outer"?"start":"end":i<-f$?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,d=a.axisLineType,u=sc(sc({},zt(this.props,!1)),{},{fill:"none"},zt(l,!1));if(d==="circle")return se.createElement(Rk,uc({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(p){return Dn(s,i,o,p.coordinate)});return se.createElement(Tve,uc({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,d=s.tickFormatter,u=s.stroke,f=zt(this.props,!1),h=zt(o,!1),p=sc(sc({},f),{},{fill:"none"},zt(l,!1)),v=i.map(function(N,j){var g=a.getTickLineCoord(N),P=a.getTickTextAnchor(N),C=sc(sc(sc({textAnchor:P},f),{},{stroke:"none",fill:u},h),{},{index:j,payload:N,x:g.x2,y:g.y2});return se.createElement(Sn,uc({className:Wt("recharts-polar-angle-axis-tick",I7(o)),key:"tick-".concat(N.coordinate)},Dc(a.props,N,j)),l&&se.createElement("line",uc({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&n.renderTickItem(o,C,d?d(N.value,j):N.value))});return se.createElement(Sn,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:se.createElement(Sn,{className:Wt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return se.isValidElement(a)?o=se.cloneElement(a,s):Ht(a)?o=a(s):o=se.createElement(Ic,uc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(w.PureComponent);Wj(Gj,"displayName","PolarAngleAxis");Wj(Gj,"axisType","angleAxis");Wj(Gj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xC,h$;function uye(){if(h$)return xC;h$=1;var e=aV(),n=e(Object.getPrototypeOf,Object);return xC=n,xC}var gC,p$;function mye(){if(p$)return gC;p$=1;var e=_o(),n=uye(),r=To(),a="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,d=o.call(Object);function u(f){if(!r(f)||e(f)!=a)return!1;var h=n(f);if(h===null)return!0;var p=l.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==d}return gC=u,gC}var fye=mye();const hye=wn(fye);var vC,x$;function pye(){if(x$)return vC;x$=1;var e=_o(),n=To(),r="[object Boolean]";function a(s){return s===!0||s===!1||n(s)&&e(s)==r}return vC=a,vC}var xye=pye();const gye=wn(xye);function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ih(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ny.apply(this,arguments)}function vye(e,n){return wye(e)||bye(e,n)||jye(e,n)||yye()}function yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(e,n){if(e){if(typeof e=="string")return g$(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g$(e,n)}}function g$(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function bye(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wye(e){if(Array.isArray(e))return e}function v$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function y$(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?v$(Object(r),!0).forEach(function(a){Nye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nye(e,n,r){return n=Cye(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Cye(e){var n=Sye(e,"string");return Ih(n)=="symbol"?n:n+""}function Sye(e,n){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ih(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var j$=function(n,r,a,s,i){var o=a-s,l;return l="M ".concat(n,",").concat(r),l+="L ".concat(n+a,",").concat(r),l+="L ".concat(n+a-o/2,",").concat(r+i),l+="L ".concat(n+a-o/2-s,",").concat(r+i),l+="L ".concat(n,",").concat(r," Z"),l},Pye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eye=function(n){var r=y$(y$({},Pye),n),a=w.useRef(),s=w.useState(-1),i=vye(s,2),o=i[0],l=i[1];w.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var b=a.current.getTotalLength();b&&l(b)}catch{}},[]);var d=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,p=r.height,v=r.className,N=r.animationEasing,j=r.animationDuration,g=r.animationBegin,P=r.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var C=Wt("recharts-trapezoid",v);return P?se.createElement(No,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:d,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:d,y:u},duration:j,animationEasing:N,isActive:P},function(b){var y=b.upperWidth,E=b.lowerWidth,S=b.height,k=b.x,T=b.y;return se.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:j,easing:N},se.createElement("path",ny({},zt(r,!0),{className:C,d:j$(k,T,y,E,S),ref:a})))}):se.createElement("g",null,se.createElement("path",ny({},zt(r,!0),{className:C,d:j$(d,u,f,h,p)})))},Aye=["option","shapeType","propTransformer","activeClassName","isActive"];function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$h(e)}function kye(e,n){if(e==null)return{};var r=_ye(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _ye(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function b$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ry(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?b$(Object(r),!0).forEach(function(a){Tye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tye(e,n,r){return n=Oye(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Oye(e){var n=Mye(e,"string");return $h(n)=="symbol"?n:n+""}function Mye(e,n){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if($h(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Rye(e,n){return ry(ry({},n),e)}function Dye(e,n){return e==="symbols"}function w$(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return se.createElement(Mk,r);case"trapezoid":return se.createElement(Eye,r);case"sector":return se.createElement(L7,r);case"symbols":if(Dye(n))return se.createElement(ZA,r);break;default:return null}}function Iye(e){return w.isValidElement(e)?e.props:e}function X7(e){var n=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?Rye:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,d=kye(e,Aye),u;if(w.isValidElement(n))u=w.cloneElement(n,ry(ry({},d),Iye(n)));else if(Ht(n))u=n(d);else if(hye(n)&&!gye(n)){var f=s(n,d);u=se.createElement(w$,{shapeType:r,elementProps:f})}else{var h=d;u=se.createElement(w$,{shapeType:r,elementProps:h})}return l?se.createElement(Sn,{className:o},u):u}function Qj(e,n){return n!=null&&"trapezoids"in e.props}function Yj(e,n){return n!=null&&"sectors"in e.props}function Fh(e,n){return n!=null&&"points"in e.props}function $ye(e,n){var r,a,s=e.x===(n==null||(r=n.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===n.x,i=e.y===(n==null||(a=n.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===n.y;return s&&i}function Fye(e,n){var r=e.endAngle===n.endAngle,a=e.startAngle===n.startAngle;return r&&a}function Lye(e,n){var r=e.x===n.x,a=e.y===n.y,s=e.z===n.z;return r&&a&&s}function zye(e,n){var r;return Qj(e,n)?r=$ye:Yj(e,n)?r=Fye:Fh(e,n)&&(r=Lye),r}function qye(e,n){var r;return Qj(e,n)?r="trapezoids":Yj(e,n)?r="sectors":Fh(e,n)&&(r="points"),r}function Vye(e,n){if(Qj(e,n)){var r;return(r=n.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yj(e,n)){var a;return(a=n.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Fh(e,n)?n.payload:{}}function Bye(e){var n=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=qye(r,n),i=Vye(r,n),o=a.filter(function(d,u){var f=qj(i,d),h=r.props[s].filter(function(N){var j=zye(r,n);return j(N,n)}),p=r.props[s].indexOf(h[h.length-1]),v=u===p;return f&&v}),l=a.indexOf(o[o.length-1]);return l}var qg;function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mu(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yd.apply(this,arguments)}function N$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?N$(Object(r),!0).forEach(function(a){ns(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function C$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,J7(a.key),a)}}function Uye(e,n,r){return n&&C$(e.prototype,n),r&&C$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kye(e,n,r){return n=ay(n),Wye(e,Z7()?Reflect.construct(n,r||[],ay(e).constructor):n.apply(e,r))}function Wye(e,n){if(n&&(Mu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gye(e)}function Gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function Qye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&eE(e,n)}function eE(e,n){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},eE(e,n)}function ns(e,n,r){return n=J7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function J7(e){var n=Yye(e,"string");return Mu(n)=="symbol"?n:n+""}function Yye(e,n){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Mu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mo=(function(e){function n(r){var a;return Hye(this,n),a=Kye(this,n,[r]),ns(a,"pieRef",null),ns(a,"sectorRefs",[]),ns(a,"id",Np("recharts-pie-")),ns(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ht(s)&&s()}),ns(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ht(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return Qye(n,e),Uye(n,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,d=i.dataKey,u=i.valueKey,f=zt(this.props,!1),h=zt(o,!1),p=zt(l,!1),v=o&&o.offsetRadius||20,N=a.map(function(j,g){var P=(j.startAngle+j.endAngle)/2,C=Dn(j.cx,j.cy,j.outerRadius+v,P),b=Mn(Mn(Mn(Mn({},f),j),{},{stroke:"none"},h),{},{index:g,textAnchor:n.getTextAnchor(C.x,j.cx)},C),y=Mn(Mn(Mn(Mn({},f),j),{},{fill:"none",stroke:j.fill},p),{},{index:g,points:[Dn(j.cx,j.cy,j.outerRadius,P),C]}),E=d;return rn(d)&&rn(u)?E="value":rn(d)&&(E=u),se.createElement(Sn,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(g)},l&&n.renderLabelLineItem(l,y,"line"),n.renderLabelItem(o,b,Br(j,E)))});return se.createElement(Sn,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,d=i.inactiveShape;return a.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&a.length!==1)return null;var h=s.isActiveIndex(f),p=d&&s.hasActiveIndex()?d:null,v=h?o:p,N=Mn(Mn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return se.createElement(Sn,Yd({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Dc(s.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),se.createElement(X7,Yd({option:v,isActive:h,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,h=this.state,p=h.prevSectors,v=h.prevIsAnimationActive;return se.createElement(No,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var j=N.t,g=[],P=i&&i[0],C=P.startAngle;return i.forEach(function(b,y){var E=p&&p[y],S=y>0?Fa(b,"paddingAngle",0):0;if(E){var k=ml(E.endAngle-E.startAngle,b.endAngle-b.startAngle),T=Mn(Mn({},b),{},{startAngle:C+S,endAngle:C+k(j)+S});g.push(T),C=T.endAngle}else{var z=b.endAngle,Y=b.startAngle,F=ml(0,z-Y),D=F(j),R=Mn(Mn({},b),{},{startAngle:C+S,endAngle:C+D+S});g.push(R),C=R.endAngle}}),se.createElement(Sn,null,a.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!qj(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,d=s.label,u=s.cx,f=s.cy,h=s.innerRadius,p=s.outerRadius,v=s.isAnimationActive,N=this.state.isAnimationFinished;if(i||!o||!o.length||!ct(u)||!ct(f)||!ct(h)||!ct(p))return null;var j=Wt("recharts-pie",l);return se.createElement(Sn,{tabIndex:this.props.rootTabIndex,className:j,ref:function(P){a.pieRef=P}},this.renderSectors(),d&&this.renderLabels(o),Pr.renderCallByParent(this.props,null,!1),(!v||N)&&bl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(se.isValidElement(a))return se.cloneElement(a,s);if(Ht(a))return a(s);var o=Wt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return se.createElement(LP,Yd({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(se.isValidElement(a))return se.cloneElement(a,s);var o=i;if(Ht(a)&&(o=a(s),se.isValidElement(o)))return o;var l=Wt("recharts-pie-label-text",typeof a!="boolean"&&!Ht(a)?a.className:"");return se.createElement(Ic,Yd({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(w.PureComponent);qg=Mo;ns(Mo,"displayName","Pie");ns(Mo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ns(Mo,"parseDeltaAngle",function(e,n){var r=Xr(n-e),a=Math.min(Math.abs(n-e),360);return r*a});ns(Mo,"getRealPieData",function(e){var n=e.data,r=e.children,a=zt(e,!1),s=cs(r,Tj);return n&&n.length?n.map(function(i,o){return Mn(Mn(Mn({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Mn(Mn({},a),i.props)}):[]});ns(Mo,"parseCoordinateOfPie",function(e,n){var r=n.top,a=n.left,s=n.width,i=n.height,o=D7(s,i),l=a+Zr(e.cx,s,s/2),d=r+Zr(e.cy,i,i/2),u=Zr(e.innerRadius,o,0),f=Zr(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:d,innerRadius:u,outerRadius:f,maxRadius:h}});ns(Mo,"getComposedData",function(e){var n=e.item,r=e.offset,a=n.type.defaultProps!==void 0?Mn(Mn({},n.type.defaultProps),n.props):n.props,s=qg.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,d=a.paddingAngle,u=a.dataKey,f=a.nameKey,h=a.valueKey,p=a.tooltipType,v=Math.abs(a.minAngle),N=qg.parseCoordinateOfPie(a,r),j=qg.parseDeltaAngle(o,l),g=Math.abs(j),P=u;rn(u)&&rn(h)?(co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):rn(u)&&(co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=h);var C=s.filter(function(T){return Br(T,P,0)!==0}).length,b=(g>=360?C:C-1)*d,y=g-C*v-b,E=s.reduce(function(T,z){var Y=Br(z,P,0);return T+(ct(Y)?Y:0)},0),S;if(E>0){var k;S=s.map(function(T,z){var Y=Br(T,P,0),F=Br(T,f,z),D=(ct(Y)?Y:0)/E,R;z?R=k.endAngle+Xr(j)*d*(Y!==0?1:0):R=o;var q=R+Xr(j)*((Y!==0?v:0)+D*y),Q=(R+q)/2,K=(N.innerRadius+N.outerRadius)/2,U=[{name:F,value:Y,payload:T,dataKey:P,type:p}],O=Dn(N.cx,N.cy,K,Q);return k=Mn(Mn(Mn({percent:D,cornerRadius:i,name:F,tooltipPayload:U,midAngle:Q,middleRadius:K,tooltipPosition:O},T),N),{},{value:Br(T,P),startAngle:R,endAngle:q,payload:T,paddingAngle:Xr(j)*d}),k})}return Mn(Mn({},N),{},{sectors:S,data:s})});var yC,S$;function Xye(){if(S$)return yC;S$=1;var e=Math.ceil,n=Math.max;function r(a,s,i,o){for(var l=-1,d=n(e((s-a)/(i||1)),0),u=Array(d);d--;)u[o?d:++l]=a,a+=i;return u}return yC=r,yC}var jC,P$;function eB(){if(P$)return jC;P$=1;var e=jV(),n=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===n||s===-n){var i=s<0?-1:1;return i*r}return s===s?s:0}return jC=a,jC}var bC,E$;function Zye(){if(E$)return bC;E$=1;var e=Xye(),n=_j(),r=eB();function a(s){return function(i,o,l){return l&&typeof l!="number"&&n(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return bC=a,bC}var wC,A$;function Jye(){if(A$)return wC;A$=1;var e=Zye(),n=e();return wC=n,wC}var eje=Jye();const sy=wn(eje);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lh(e)}function k$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _$(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?k$(Object(r),!0).forEach(function(a){tB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tB(e,n,r){return n=tje(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function tje(e){var n=nje(e,"string");return Lh(n)=="symbol"?n:n+""}function nje(e,n){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Lh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var rje=["Webkit","Moz","O","ms"],aje=function(n,r){var a=n.replace(/(\w)/,function(i){return i.toUpperCase()}),s=rje.reduce(function(i,o){return _$(_$({},i),{},tB({},o+a,r))},{});return s[n]=r,s};function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ru(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iy.apply(this,arguments)}function T$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NC(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?T$(Object(r),!0).forEach(function(a){_a(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sje(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function O$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rB(a.key),a)}}function ije(e,n,r){return n&&O$(e.prototype,n),r&&O$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oje(e,n,r){return n=oy(n),lje(e,nB()?Reflect.construct(n,r||[],oy(e).constructor):n.apply(e,r))}function lje(e,n){if(n&&(Ru(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cje(e)}function cje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function dje(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&tE(e,n)}function tE(e,n){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tE(e,n)}function _a(e,n,r){return n=rB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function rB(e){var n=uje(e,"string");return Ru(n)=="symbol"?n:n+""}function uje(e,n){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ru(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mje=function(n){var r=n.data,a=n.startIndex,s=n.endIndex,i=n.x,o=n.width,l=n.travellerWidth;if(!r||!r.length)return{};var d=r.length,u=If().domain(sy(0,d)).range([i,i+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:f}},M$=function(n){return n.changedTouches&&!!n.changedTouches.length},Du=(function(e){function n(r){var a;return sje(this,n),a=oje(this,n,[r]),_a(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),_a(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),_a(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),_a(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),_a(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),_a(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),_a(a,"handleSlideDragStart",function(s){var i=M$(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return dje(n,e),ije(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,f=u.length-1,h=Math.min(s,i),p=Math.max(s,i),v=n.getIndexInRange(o,h),N=n.getIndexInRange(o,p);return{startIndex:v-v%d,endIndex:N===f?f:N-N%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,d=Br(i[a],l,a);return Ht(o)?o(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,d=this.props,u=d.x,f=d.width,h=d.travellerWidth,p=d.startIndex,v=d.endIndex,N=d.onChange,j=a.pageX-i;j>0?j=Math.min(j,u+f-h-l,u+f-h-o):j<0&&(j=Math.max(j,u-o,u-l));var g=this.getIndex({startX:o+j,endX:l+j});(g.startIndex!==p||g.endIndex!==v)&&N&&N(g),this.setState({startX:o+j,endX:l+j,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=M$(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,d=s.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,v=f.travellerWidth,N=f.onChange,j=f.gap,g=f.data,P={startX:this.state.startX,endX:this.state.endX},C=a.pageX-i;C>0?C=Math.min(C,h+p-v-u):C<0&&(C=Math.max(C,h-u)),P[o]=u+C;var b=this.getIndex(P),y=b.startIndex,E=b.endIndex,S=function(){var T=g.length-1;return o==="startX"&&(l>d?y%j===0:E%j===0)||l<d&&E===T||o==="endX"&&(l>d?E%j===0:y%j===0)||l>d&&E===T};this.setState(_a(_a({},o,u+C),"brushMoveStartX",a.pageX),function(){N&&S()&&N(b)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,f=this.state[s],h=l.indexOf(f);if(h!==-1){var p=h+a;if(!(p===-1||p>=l.length)){var v=l[p];s==="startX"&&v>=u||s==="endX"&&v<=d||this.setState(_a({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.fill,u=a.stroke;return se.createElement("rect",{stroke:u,fill:d,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.data,u=a.children,f=a.padding,h=w.Children.only(u);return h?se.cloneElement(h,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,d=this.props,u=d.y,f=d.travellerWidth,h=d.height,p=d.traveller,v=d.ariaLabel,N=d.data,j=d.startIndex,g=d.endIndex,P=Math.max(a,this.props.x),C=NC(NC({},zt(this.props,!1)),{},{x:P,y:u,width:f,height:h}),b=v||"Min value: ".concat((i=N[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=N[g])===null||o===void 0?void 0:o.name);return se.createElement(Sn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(p,C))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,f=Math.min(a,s)+u,h=Math.max(Math.abs(s-a)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,d=a.travellerWidth,u=a.stroke,f=this.state,h=f.startX,p=f.endX,v=5,N={pointerEvents:"none",fill:u};return se.createElement(Sn,{className:"recharts-brush-texts"},se.createElement(Ic,iy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-v,y:o+l/2},N),this.getTextOfTick(s)),se.createElement(Ic,iy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+d+v,y:o+l/2},N),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,d=a.y,u=a.width,f=a.height,h=a.alwaysShowText,p=this.state,v=p.startX,N=p.endX,j=p.isTextActive,g=p.isSlideMoving,P=p.isTravellerMoving,C=p.isTravellerFocused;if(!s||!s.length||!ct(l)||!ct(d)||!ct(u)||!ct(f)||u<=0||f<=0)return null;var b=Wt("recharts-brush",i),y=se.Children.count(o)===1,E=aje("userSelect","none");return se.createElement(Sn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(v,N),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(N,"endX"),(j||g||P||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,d=a.stroke,u=Math.floor(i+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:s,y:i,width:o,height:l,fill:d,stroke:"none"}),se.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return se.isValidElement(a)?i=se.cloneElement(a,s):Ht(a)?i=a(s):i=n.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,d=a.travellerWidth,u=a.updateId,f=a.startIndex,h=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return NC({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?mje({data:i,width:o,x:l,travellerWidth:d,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([l,l+o-d]);var p=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);a[d]>s?l=d:o=d}return s>=a[l]?l:o}}])})(w.PureComponent);_a(Du,"displayName","Brush");_a(Du,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CC,R$;function fje(){if(R$)return CC;R$=1;var e=sk();function n(r,a){var s;return e(r,function(i,o,l){return s=a(i,o,l),!s}),!!s}return CC=n,CC}var SC,D$;function hje(){if(D$)return SC;D$=1;var e=X9(),n=Ti(),r=fje(),a=Na(),s=_j();function i(o,l,d){var u=a(o)?e:r;return d&&s(o,l,d)&&(l=void 0),u(o,n(l,3))}return SC=i,SC}var pje=hje();const xje=wn(pje);var bi=function(n,r){var a=n.alwaysShow,s=n.ifOverflow;return a&&(s="extendDomain"),s===r},PC,I$;function gje(){if(I$)return PC;I$=1;var e=pV();function n(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return PC=n,PC}var EC,$$;function vje(){if($$)return EC;$$=1;var e=gje(),n=fV(),r=Ti();function a(s,i){var o={};return i=r(i,3),n(s,function(l,d,u){e(o,d,i(l,d,u))}),o}return EC=a,EC}var yje=vje();const jje=wn(yje);var AC,F$;function bje(){if(F$)return AC;F$=1;function e(n,r){for(var a=-1,s=n==null?0:n.length;++a<s;)if(!r(n[a],a,n))return!1;return!0}return AC=e,AC}var kC,L$;function wje(){if(L$)return kC;L$=1;var e=sk();function n(r,a){var s=!0;return e(r,function(i,o,l){return s=!!a(i,o,l),s}),s}return kC=n,kC}var _C,z$;function Nje(){if(z$)return _C;z$=1;var e=bje(),n=wje(),r=Ti(),a=Na(),s=_j();function i(o,l,d){var u=a(o)?e:n;return d&&s(o,l,d)&&(l=void 0),u(o,r(l,3))}return _C=i,_C}var Cje=Nje();const Sje=wn(Cje);var Pje=["x","y"];function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zh(e)}function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nE.apply(this,arguments)}function q$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xf(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?q$(Object(r),!0).forEach(function(a){Eje(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eje(e,n,r){return n=Aje(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Aje(e){var n=kje(e,"string");return zh(n)=="symbol"?n:n+""}function kje(e,n){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(zh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _je(e,n){if(e==null)return{};var r=Tje(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Tje(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Oje(e,n){var r=e.x,a=e.y,s=_je(e,Pje),i="".concat(r),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),u="".concat(n.height||s.height),f=parseInt(u,10),h="".concat(n.width||s.width),p=parseInt(h,10);return xf(xf(xf(xf(xf({},n),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:f,width:p,name:n.name,radius:n.radius})}function V$(e){return se.createElement(X7,nE({shapeType:"rectangle",propTransformer:Oje,activeClassName:"recharts-active-bar"},e))}var Mje=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof n=="number")return n;var i=typeof a=="number";return i?n(a,s):(i||Lc(),r)}},Rje=["value","background"],aB;function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iu(e)}function Dje(e,n){if(e==null)return{};var r=Ije(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ije(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ly.apply(this,arguments)}function B$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?B$(Object(r),!0).forEach(function(a){xl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $je(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function H$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iB(a.key),a)}}function Fje(e,n,r){return n&&H$(e.prototype,n),r&&H$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lje(e,n,r){return n=cy(n),zje(e,sB()?Reflect.construct(n,r||[],cy(e).constructor):n.apply(e,r))}function zje(e,n){if(n&&(Iu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qje(e)}function qje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function Vje(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&rE(e,n)}function rE(e,n){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rE(e,n)}function xl(e,n,r){return n=iB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function iB(e){var n=Bje(e,"string");return Iu(n)=="symbol"?n:n+""}function Bje(e,n){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Iu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nd=(function(e){function n(){var r;$je(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Lje(this,n,[].concat(s)),xl(r,"state",{isAnimationFinished:!1}),xl(r,"id",Np("recharts-bar-")),xl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Vje(n,e),Fje(n,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,f=zt(this.props,!1);return a&&a.map(function(h,p){var v=p===d,N=v?u:o,j=lr(lr(lr({},f),h),{},{isActive:v,option:N,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return se.createElement(Sn,ly({className:"recharts-bar-rectangle"},Dc(s.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),se.createElement(V$,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,f=s.animationEasing,h=s.animationId,p=this.state.prevData;return se.createElement(No,{begin:d,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var N=v.t,j=i.map(function(g,P){var C=p&&p[P];if(C){var b=ml(C.x,g.x),y=ml(C.y,g.y),E=ml(C.width,g.width),S=ml(C.height,g.height);return lr(lr({},g),{},{x:b(N),y:y(N),width:E(N),height:S(N)})}if(o==="horizontal"){var k=ml(0,g.height),T=k(N);return lr(lr({},g),{},{y:g.y+g.height-T,height:T})}var z=ml(0,g.width),Y=z(N);return lr(lr({},g),{},{width:Y})});return se.createElement(Sn,null,a.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!qj(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,d=zt(this.props.background,!1);return i.map(function(u,f){u.value;var h=u.background,p=Dje(u,Rje);if(!h)return null;var v=lr(lr(lr(lr(lr({},p),{},{fill:"#eee"},h),d),Dc(a.props,u,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return se.createElement(V$,ly({key:"background-bar-".concat(f),option:a.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,f=i.children,h=cs(f,Hj);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,v=function(g,P){var C=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:C,errorVal:Br(g,P)}},N={clipPath:a?"url(#clipPath-".concat(s,")"):null};return se.createElement(Sn,N,h.map(function(j){return se.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,d=a.yAxis,u=a.left,f=a.top,h=a.width,p=a.height,v=a.isAnimationActive,N=a.background,j=a.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,P=Wt("recharts-bar",o),C=l&&l.allowDataOverflow,b=d&&d.allowDataOverflow,y=C||b,E=rn(j)?this.id:j;return se.createElement(Sn,{className:P},C||b?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(E)},se.createElement("rect",{x:C?u:u-h/2,y:b?f:f-p/2,width:C?h:h*2,height:b?p:p*2}))):null,se.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(E,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,E),(!v||g)&&bl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(w.PureComponent);aB=nd;xl(nd,"displayName","Bar");xl(nd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xl(nd,"getComposedData",function(e){var n=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,v=gpe(a,r);if(!v)return null;var N=n.layout,j=r.type.defaultProps,g=j!==void 0?lr(lr({},j),r.props):r.props,P=g.dataKey,C=g.children,b=g.minPointSize,y=N==="horizontal"?o:i,E=u?y.scale.domain():null,S=Cpe({numericAxis:y}),k=cs(C,Tj),T=h.map(function(z,Y){var F,D,R,q,Q,K;u?F=vpe(u[f+Y],E):(F=Br(z,P),Array.isArray(F)||(F=[S,F]));var U=Mje(b,aB.defaultProps.minPointSize)(F[1],Y);if(N==="horizontal"){var O,I=[o.scale(F[0]),o.scale(F[1])],G=I[0],M=I[1];D=p5({axis:i,ticks:l,bandSize:s,offset:v.offset,entry:z,index:Y}),R=(O=M??G)!==null&&O!==void 0?O:void 0,q=v.size;var V=G-M;if(Q=Number.isNaN(V)?0:V,K={x:D,y:o.y,width:q,height:o.height},Math.abs(U)>0&&Math.abs(Q)<Math.abs(U)){var Z=Xr(Q||U)*(Math.abs(U)-Math.abs(Q));R-=Z,Q+=Z}}else{var re=[i.scale(F[0]),i.scale(F[1])],le=re[0],ye=re[1];if(D=le,R=p5({axis:o,ticks:d,bandSize:s,offset:v.offset,entry:z,index:Y}),q=ye-le,Q=v.size,K={x:i.x,y:R,width:i.width,height:Q},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var he=Xr(q||U)*(Math.abs(U)-Math.abs(q));q+=he}}return lr(lr(lr({},z),{},{x:D,y:R,width:q,height:Q,value:u?F:F[1],payload:z,background:K},k&&k[Y]&&k[Y].props),{},{tooltipPayload:[M7(r,z)],tooltipPosition:{x:D+q/2,y:R+Q/2}})});return lr({data:T,layout:N},p)});function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qh(e)}function Hje(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U$(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oB(a.key),a)}}function Uje(e,n,r){return n&&U$(e.prototype,n),r&&U$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Os(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?K$(Object(r),!0).forEach(function(a){Xj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xj(e,n,r){return n=oB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function oB(e){var n=Kje(e,"string");return qh(n)=="symbol"?n:n+""}function Kje(e,n){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(qh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Wje=function(n,r,a,s,i){var o=n.width,l=n.height,d=n.layout,u=n.children,f=Object.keys(r),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},p=!!Ta(u,nd);return f.reduce(function(v,N){var j=r[N],g=j.orientation,P=j.domain,C=j.padding,b=C===void 0?{}:C,y=j.mirror,E=j.reversed,S="".concat(g).concat(y?"Mirror":""),k,T,z,Y,F;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var D=P[1]-P[0],R=1/0,q=j.categoricalDomain.sort();if(q.forEach(function(re,le){le>0&&(R=Math.min((re||0)-(q[le-1]||0),R))}),Number.isFinite(R)){var Q=R/D,K=j.layout==="vertical"?a.height:a.width;if(j.padding==="gap"&&(k=Q*K/2),j.padding==="no-gap"){var U=Zr(n.barCategoryGap,Q*K),O=Q*K/2;k=O-U-(O-U)/K*U}}}s==="xAxis"?T=[a.left+(b.left||0)+(k||0),a.left+a.width-(b.right||0)-(k||0)]:s==="yAxis"?T=d==="horizontal"?[a.top+a.height-(b.bottom||0),a.top+(b.top||0)]:[a.top+(b.top||0)+(k||0),a.top+a.height-(b.bottom||0)-(k||0)]:T=j.range,E&&(T=[T[1],T[0]]);var I=k7(j,i,p),G=I.scale,M=I.realScaleType;G.domain(P).range(T),_7(G);var V=T7(G,Os(Os({},j),{},{realScaleType:M}));s==="xAxis"?(F=g==="top"&&!y||g==="bottom"&&y,z=a.left,Y=h[S]-F*j.height):s==="yAxis"&&(F=g==="left"&&!y||g==="right"&&y,z=h[S]-F*j.width,Y=a.top);var Z=Os(Os(Os({},j),V),{},{realScaleType:M,x:z,y:Y,scale:G,width:s==="xAxis"?a.width:j.width,height:s==="yAxis"?a.height:j.height});return Z.bandSize=Wv(Z,V),!j.hide&&s==="xAxis"?h[S]+=(F?-1:1)*Z.height:j.hide||(h[S]+=(F?-1:1)*Z.width),Os(Os({},v),{},Xj({},N,Z))},{})},lB=function(n,r){var a=n.x,s=n.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},Gje=function(n){var r=n.x1,a=n.y1,s=n.x2,i=n.y2;return lB({x:r,y:a},{x:s,y:i})},cB=(function(){function e(n){Hje(this,e),this.scale=n}return Uje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Xj(cB,"EPS",1e-4);var Dk=function(n){var r=Object.keys(n).reduce(function(a,s){return Os(Os({},a),{},Xj({},s,cB.create(n[s])))},{});return Os(Os({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return jje(s,function(d,u){return r[u].apply(d,{bandAware:o,position:l})})},isInRange:function(s){return Sje(s,function(i,o){return r[o].isInRange(i)})}})};function Qje(e){return(e%180+180)%180}var Yje=function(n){var r=n.width,a=n.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Qje(s),o=i*Math.PI/180,l=Math.atan(a/r),d=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(d)},TC,W$;function Xje(){if(W$)return TC;W$=1;var e=Ti(),n=Cp(),r=Aj();function a(s){return function(i,o,l){var d=Object(i);if(!n(i)){var u=e(o,3);i=r(i),o=function(h){return u(d[h],h,d)}}var f=s(i,o,l);return f>-1?d[u?i[f]:f]:void 0}}return TC=a,TC}var OC,G$;function Zje(){if(G$)return OC;G$=1;var e=eB();function n(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return OC=n,OC}var MC,Q$;function Jje(){if(Q$)return MC;Q$=1;var e=lV(),n=Ti(),r=Zje(),a=Math.max;function s(i,o,l){var d=i==null?0:i.length;if(!d)return-1;var u=l==null?0:r(l);return u<0&&(u=a(d+u,0)),e(i,n(o,3),u)}return MC=s,MC}var RC,Y$;function e0e(){if(Y$)return RC;Y$=1;var e=Xje(),n=Jje(),r=e(n);return RC=r,RC}e0e();var t0e=C9();const n0e=wn(t0e);var r0e=n0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dB=w.createContext(void 0),uB=w.createContext(void 0),mB=w.createContext(void 0),a0e=w.createContext({}),fB=w.createContext(void 0),hB=w.createContext(0),pB=w.createContext(0),X$=function(n){var r=n.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=n.clipPathId,l=n.children,d=n.width,u=n.height,f=r0e(i);return se.createElement(dB.Provider,{value:a},se.createElement(uB.Provider,{value:s},se.createElement(a0e.Provider,{value:i},se.createElement(mB.Provider,{value:f},se.createElement(fB.Provider,{value:o},se.createElement(hB.Provider,{value:u},se.createElement(pB.Provider,{value:d},l)))))))},s0e=function(){return w.useContext(fB)},xB=function(n){var r=w.useContext(dB);r==null&&Lc();var a=r[n];return a==null&&Lc(),a},gB=function(n){var r=w.useContext(uB);r==null&&Lc();var a=r[n];return a==null&&Lc(),a},i0e=function(){var n=w.useContext(mB);return n},vB=function(){return w.useContext(pB)},yB=function(){return w.useContext(hB)};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$u(e)}function o0e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l0e(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bB(a.key),a)}}function c0e(e,n,r){return n&&l0e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d0e(e,n,r){return n=dy(n),u0e(e,jB()?Reflect.construct(n,r||[],dy(e).constructor):n.apply(e,r))}function u0e(e,n){if(n&&($u(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m0e(e)}function m0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jB=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function f0e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&aE(e,n)}function aE(e,n){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},aE(e,n)}function Z$(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function J$(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Z$(Object(r),!0).forEach(function(a){Ik(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ik(e,n,r){return n=bB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function bB(e){var n=h0e(e,"string");return $u(n)=="symbol"?n:n+""}function h0e(e,n){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if($u(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function p0e(e,n){return y0e(e)||v0e(e,n)||g0e(e,n)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(e,n){if(e){if(typeof e=="string")return eF(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eF(e,n)}}function eF(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function v0e(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y0e(e){if(Array.isArray(e))return e}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sE.apply(this,arguments)}var j0e=function(n,r){var a;return se.isValidElement(n)?a=se.cloneElement(n,r):Ht(n)?a=n(r):a=se.createElement("line",sE({},r,{className:"recharts-reference-line-line"})),a},b0e=function(n,r,a,s,i,o,l,d,u){var f=i.x,h=i.y,p=i.width,v=i.height;if(a){var N=u.y,j=n.y.apply(N,{position:o});if(bi(u,"discard")&&!n.y.isInRange(j))return null;var g=[{x:f+p,y:j},{x:f,y:j}];return d==="left"?g.reverse():g}if(r){var P=u.x,C=n.x.apply(P,{position:o});if(bi(u,"discard")&&!n.x.isInRange(C))return null;var b=[{x:C,y:h+v},{x:C,y:h}];return l==="top"?b.reverse():b}if(s){var y=u.segment,E=y.map(function(S){return n.apply(S,{position:o})});return bi(u,"discard")&&xje(E,function(S){return!n.isInRange(S)})?null:E}return null};function w0e(e){var n=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,u=s0e(),f=xB(s),h=gB(i),p=i0e();if(!u||!p)return null;co(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Dk({x:f.scale,y:h.scale}),N=yr(n),j=yr(r),g=a&&a.length===2,P=b0e(v,N,j,g,p,e.position,f.orientation,h.orientation,e);if(!P)return null;var C=p0e(P,2),b=C[0],y=b.x,E=b.y,S=C[1],k=S.x,T=S.y,z=bi(e,"hidden")?"url(#".concat(u,")"):void 0,Y=J$(J$({clipPath:z},zt(e,!0)),{},{x1:y,y1:E,x2:k,y2:T});return se.createElement(Sn,{className:Wt("recharts-reference-line",l)},j0e(o,Y),Pr.renderCallByParent(e,Gje({x1:y,y1:E,x2:k,y2:T})))}var $k=(function(e){function n(){return o0e(this,n),d0e(this,n,arguments)}return f0e(n,e),c0e(n,[{key:"render",value:function(){return se.createElement(w0e,this.props)}}])})(se.Component);Ik($k,"displayName","ReferenceLine");Ik($k,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iE.apply(this,arguments)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fu(e)}function tF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nF(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?tF(Object(r),!0).forEach(function(a){Zj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function N0e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function C0e(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NB(a.key),a)}}function S0e(e,n,r){return n&&C0e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P0e(e,n,r){return n=uy(n),E0e(e,wB()?Reflect.construct(n,r||[],uy(e).constructor):n.apply(e,r))}function E0e(e,n){if(n&&(Fu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0e(e)}function A0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wB=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function k0e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&oE(e,n)}function oE(e,n){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},oE(e,n)}function Zj(e,n,r){return n=NB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function NB(e){var n=_0e(e,"string");return Fu(n)=="symbol"?n:n+""}function _0e(e,n){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Fu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var T0e=function(n){var r=n.x,a=n.y,s=n.xAxis,i=n.yAxis,o=Dk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return bi(n,"discard")&&!o.isInRange(l)?null:l},Jj=(function(e){function n(){return N0e(this,n),P0e(this,n,arguments)}return k0e(n,e),S0e(n,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,d=a.clipPathId,u=yr(s),f=yr(i);if(co(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=T0e(this.props);if(!h)return null;var p=h.x,v=h.y,N=this.props,j=N.shape,g=N.className,P=bi(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=nF(nF({clipPath:P},zt(this.props,!0)),{},{cx:p,cy:v});return se.createElement(Sn,{className:Wt("recharts-reference-dot",g)},n.renderDot(j,C),Pr.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])})(se.Component);Zj(Jj,"displayName","ReferenceDot");Zj(Jj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zj(Jj,"renderDot",function(e,n){var r;return se.isValidElement(e)?r=se.cloneElement(e,n):Ht(e)?r=e(n):r=se.createElement(Rk,iE({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"})),r});function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lE.apply(this,arguments)}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lu(e)}function rF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function aF(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?rF(Object(r),!0).forEach(function(a){e0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function O0e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function M0e(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,SB(a.key),a)}}function R0e(e,n,r){return n&&M0e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D0e(e,n,r){return n=my(n),I0e(e,CB()?Reflect.construct(n,r||[],my(e).constructor):n.apply(e,r))}function I0e(e,n){if(n&&(Lu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0e(e)}function $0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CB=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function F0e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&cE(e,n)}function cE(e,n){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cE(e,n)}function e0(e,n,r){return n=SB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function SB(e){var n=L0e(e,"string");return Lu(n)=="symbol"?n:n+""}function L0e(e,n){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Lu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z0e=function(n,r,a,s,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var p=Dk({x:f.scale,y:h.scale}),v={x:n?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:a?p.y.apply(d,{position:"start"}):p.y.rangeMin},N={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(u,{position:"end"}):p.y.rangeMax};return bi(i,"discard")&&(!p.isInRange(v)||!p.isInRange(N))?null:lB(v,N)},t0=(function(e){function n(){return O0e(this,n),D0e(this,n,arguments)}return F0e(n,e),R0e(n,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,d=a.className,u=a.alwaysShow,f=a.clipPathId;co(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=yr(s),p=yr(i),v=yr(o),N=yr(l),j=this.props.shape;if(!h&&!p&&!v&&!N&&!j)return null;var g=z0e(h,p,v,N,this.props);if(!g&&!j)return null;var P=bi(this.props,"hidden")?"url(#".concat(f,")"):void 0;return se.createElement(Sn,{className:Wt("recharts-reference-area",d)},n.renderRect(j,aF(aF({clipPath:P},zt(this.props,!0)),g)),Pr.renderCallByParent(this.props,g))}}])})(se.Component);e0(t0,"displayName","ReferenceArea");e0(t0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});e0(t0,"renderRect",function(e,n){var r;return se.isValidElement(e)?r=se.cloneElement(e,n):Ht(e)?r=e(n):r=se.createElement(Mk,lE({},n,{className:"recharts-reference-area-rect"})),r});function PB(e,n,r){if(n<1)return[];if(n===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=n)a.push(e[s]);return a}function q0e(e,n,r){var a={width:e.width+n.width,height:e.height+n.height};return Yje(a,r)}function V0e(e,n,r){var a=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return n===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function fy(e,n,r,a,s){if(e*n<e*a||e*n>e*s)return!1;var i=r();return e*(n-e*i/2-a)>=0&&e*(n+e*i/2-s)<=0}function B0e(e,n){return PB(e,n+1)}function H0e(e,n,r,a,s){for(var i=(a||[]).slice(),o=n.start,l=n.end,d=0,u=1,f=o,h=function(){var N=a?.[d];if(N===void 0)return{v:PB(a,u)};var j=d,g,P=function(){return g===void 0&&(g=r(N,j)),g},C=N.coordinate,b=d===0||fy(e,C,P,f,l);b||(d=0,f=o,u+=1),b&&(f=C+e*(P()/2+s),d+=u)},p;u<=i.length;)if(p=h(),p)return p.v;return[]}function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vh(e)}function sF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?sF(Object(r),!0).forEach(function(a){U0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function U0e(e,n,r){return n=K0e(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function K0e(e){var n=W0e(e,"string");return Vh(n)=="symbol"?n:n+""}function W0e(e,n){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Vh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function G0e(e,n,r,a,s){for(var i=(a||[]).slice(),o=i.length,l=n.start,d=n.end,u=function(p){var v=i[p],N,j=function(){return N===void 0&&(N=r(v,p)),N};if(p===o-1){var g=e*(v.coordinate+e*j()/2-d);i[p]=v=Vr(Vr({},v),{},{tickCoord:g>0?v.coordinate-g*e:v.coordinate})}else i[p]=v=Vr(Vr({},v),{},{tickCoord:v.coordinate});var P=fy(e,v.tickCoord,j,l,d);P&&(d=v.tickCoord-e*(j()/2+s),i[p]=Vr(Vr({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function Q0e(e,n,r,a,s,i){var o=(a||[]).slice(),l=o.length,d=n.start,u=n.end;if(i){var f=a[l-1],h=r(f,l-1),p=e*(f.coordinate+e*h/2-u);o[l-1]=f=Vr(Vr({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var v=fy(e,f.tickCoord,function(){return h},d,u);v&&(u=f.tickCoord-e*(h/2+s),o[l-1]=Vr(Vr({},f),{},{isShow:!0}))}for(var N=i?l-1:l,j=function(C){var b=o[C],y,E=function(){return y===void 0&&(y=r(b,C)),y};if(C===0){var S=e*(b.coordinate-e*E()/2-d);o[C]=b=Vr(Vr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[C]=b=Vr(Vr({},b),{},{tickCoord:b.coordinate});var k=fy(e,b.tickCoord,E,d,u);k&&(d=b.tickCoord+e*(E()/2+s),o[C]=Vr(Vr({},b),{},{isShow:!0}))},g=0;g<N;g++)j(g);return o}function Y0e(e,n,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,u=e.tickFormatter,f=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if(ct(d)||xm.isSsr)return B0e(s,typeof d=="number"&&ct(d)?d:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",N=f&&v==="width"?Df(f,{fontSize:n,letterSpacing:r}):{width:0,height:0},j=function(b,y){var E=Ht(u)?u(b.value,y):b.value;return v==="width"?q0e(Df(E,{fontSize:n,letterSpacing:r}),N,h):Df(E,{fontSize:n,letterSpacing:r})[v]},g=s.length>=2?Xr(s[1].coordinate-s[0].coordinate):1,P=V0e(i,g,v);return d==="equidistantPreserveStart"?H0e(g,P,j,s,o):(d==="preserveStart"||d==="preserveStartEnd"?p=Q0e(g,P,j,s,o,d==="preserveStartEnd"):p=G0e(g,P,j,s,o),p.filter(function(C){return C.isShow}))}var X0e=["viewBox"],Z0e=["viewBox"],J0e=["ticks"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zu(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xd.apply(this,arguments)}function iF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?iF(Object(r),!0).forEach(function(a){Fk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function DC(e,n){if(e==null)return{};var r=ebe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ebe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function tbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oF(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AB(a.key),a)}}function nbe(e,n,r){return n&&oF(e.prototype,n),r&&oF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rbe(e,n,r){return n=hy(n),abe(e,EB()?Reflect.construct(n,r||[],hy(e).constructor):n.apply(e,r))}function abe(e,n){if(n&&(zu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(e)}function sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function ibe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&dE(e,n)}function dE(e,n){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dE(e,n)}function Fk(e,n,r){return n=AB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function AB(e){var n=obe(e,"string");return zu(n)=="symbol"?n:n+""}function obe(e,n){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(zu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n0=(function(e){function n(r){var a;return tbe(this,n),a=rbe(this,n,[r]),a.state={fontSize:"",letterSpacing:""},a}return ibe(n,e),nbe(n,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=DC(a,X0e),l=this.props,d=l.viewBox,u=DC(l,Z0e);return!iu(i,d)||!iu(o,u)||!iu(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,d=s.height,u=s.orientation,f=s.tickSize,h=s.mirror,p=s.tickMargin,v,N,j,g,P,C,b=h?-1:1,y=a.tickSize||f,E=ct(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":v=N=a.coordinate,g=o+ +!h*d,j=g-b*y,C=j-b*p,P=E;break;case"left":j=g=a.coordinate,N=i+ +!h*l,v=N-b*y,P=v-b*p,C=E;break;case"right":j=g=a.coordinate,N=i+ +h*l,v=N+b*y,P=v+b*p,C=E;break;default:v=N=a.coordinate,g=o+ +h*d,j=g+b*y,C=j+b*p,P=E;break}return{line:{x1:v,y1:j,x2:N,y2:g},tick:{x:P,y:C}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.orientation,u=a.mirror,f=a.axisLine,h=Gr(Gr(Gr({},zt(this.props,!1)),zt(f,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var p=+(d==="top"&&!u||d==="bottom"&&u);h=Gr(Gr({},h),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var v=+(d==="left"&&!u||d==="right"&&u);h=Gr(Gr({},h),{},{x1:s+v*o,y1:i,x2:s+v*o,y2:i+l})}return se.createElement("line",Xd({},h,{className:Wt("recharts-cartesian-axis-line",Fa(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,p=l.unit,v=Y0e(Gr(Gr({},this.props),{},{ticks:a}),s,i),N=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),g=zt(this.props,!1),P=zt(f,!1),C=Gr(Gr({},g),{},{fill:"none"},zt(d,!1)),b=v.map(function(y,E){var S=o.getTickLineCoord(y),k=S.line,T=S.tick,z=Gr(Gr(Gr(Gr({textAnchor:N,verticalAnchor:j},g),{},{stroke:"none",fill:u},P),T),{},{index:E,payload:y,visibleTicksCount:v.length,tickFormatter:h});return se.createElement(Sn,Xd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Dc(o.props,y,E)),d&&se.createElement("line",Xd({},C,k,{className:Wt("recharts-cartesian-axis-tick-line",Fa(d,"className"))})),f&&n.renderTickItem(f,z,"".concat(Ht(h)?h(y.value,E):y.value).concat(p||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,d=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var h=this.props,p=h.ticks,v=DC(h,J0e),N=p;return Ht(d)&&(N=p&&p.length>0?d(this.props):d(v)),o<=0||l<=0||!N||!N.length?null:se.createElement(Sn,{className:Wt("recharts-cartesian-axis",u),ref:function(g){a.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),Pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return se.isValidElement(a)?o=se.cloneElement(a,s):Ht(a)?o=a(s):o=se.createElement(Ic,Xd({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(w.Component);Fk(n0,"displayName","CartesianAxis");Fk(n0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qu(e)}function lbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cbe(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TB(a.key),a)}}function dbe(e,n,r){return n&&cbe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ube(e,n,r){return n=py(n),mbe(e,kB()?Reflect.construct(n,r||[],py(e).constructor):n.apply(e,r))}function mbe(e,n){if(n&&(qu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fbe(e)}function fbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function hbe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&uE(e,n)}function uE(e,n){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},uE(e,n)}function _B(e,n,r){return n=TB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function TB(e){var n=pbe(e,"string");return qu(n)=="symbol"?n:n+""}function pbe(e,n){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mE.apply(this,arguments)}function xbe(e){var n=e.xAxisId,r=vB(),a=yB(),s=xB(n);return s==null?null:se.createElement(n0,mE({},s,{className:Wt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return xc(o,!0)}}))}var r0=(function(e){function n(){return lbe(this,n),ube(this,n,arguments)}return hbe(n,e),dbe(n,[{key:"render",value:function(){return se.createElement(xbe,this.props)}}])})(se.Component);_B(r0,"displayName","XAxis");_B(r0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vu(e)}function gbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vbe(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,RB(a.key),a)}}function ybe(e,n,r){return n&&vbe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jbe(e,n,r){return n=xy(n),bbe(e,OB()?Reflect.construct(n,r||[],xy(e).constructor):n.apply(e,r))}function bbe(e,n){if(n&&(Vu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wbe(e)}function wbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function Nbe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&fE(e,n)}function fE(e,n){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fE(e,n)}function MB(e,n,r){return n=RB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function RB(e){var n=Cbe(e,"string");return Vu(n)=="symbol"?n:n+""}function Cbe(e,n){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Vu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hE.apply(this,arguments)}var Sbe=function(n){var r=n.yAxisId,a=vB(),s=yB(),i=gB(r);return i==null?null:se.createElement(n0,hE({},i,{className:Wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return xc(l,!0)}}))},a0=(function(e){function n(){return gbe(this,n),jbe(this,n,arguments)}return Nbe(n,e),ybe(n,[{key:"render",value:function(){return se.createElement(Sbe,this.props)}}])})(se.Component);MB(a0,"displayName","YAxis");MB(a0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lF(e){return kbe(e)||Abe(e)||Ebe(e)||Pbe()}function Pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(e,n){if(e){if(typeof e=="string")return pE(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(e,n)}}function Abe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kbe(e){if(Array.isArray(e))return pE(e)}function pE(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var xE=function(n,r,a,s,i){var o=cs(n,$k),l=cs(n,Jj),d=[].concat(lF(o),lF(l)),u=cs(n,t0),f="".concat(s,"Id"),h=s[0],p=r;if(d.length&&(p=d.reduce(function(j,g){if(g.props[f]===a&&bi(g.props,"extendDomain")&&ct(g.props[h])){var P=g.props[h];return[Math.min(j[0],P),Math.max(j[1],P)]}return j},p)),u.length){var v="".concat(h,"1"),N="".concat(h,"2");p=u.reduce(function(j,g){if(g.props[f]===a&&bi(g.props,"extendDomain")&&ct(g.props[v])&&ct(g.props[N])){var P=g.props[v],C=g.props[N];return[Math.min(j[0],P,C),Math.max(j[1],P,C)]}return j},p)}return i&&i.length&&(p=i.reduce(function(j,g){return ct(g)?[Math.min(j[0],g),Math.max(j[1],g)]:j},p)),p},IC={exports:{}},cF;function _be(){return cF||(cF=1,(function(e){var n=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function i(d,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new s(f,h||d,p),N=r?r+u:u;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],v]:d._events[N].push(v):(d._events[N]=v,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new a:delete d._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)n.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,N=new Array(v);p<v;p++)N[p]=h[p].fn;return N},l.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,p,v,N){var j=r?r+u:u;if(!this._events[j])return!1;var g=this._events[j],P=arguments.length,C,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),P){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,h),!0;case 4:return g.fn.call(g.context,f,h,p),!0;case 5:return g.fn.call(g.context,f,h,p,v),!0;case 6:return g.fn.call(g.context,f,h,p,v,N),!0}for(b=1,C=new Array(P-1);b<P;b++)C[b-1]=arguments[b];g.fn.apply(g.context,C)}else{var y=g.length,E;for(b=0;b<y;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),P){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,f);break;case 3:g[b].fn.call(g[b].context,f,h);break;case 4:g[b].fn.call(g[b].context,f,h,p);break;default:if(!C)for(E=1,C=new Array(P-1);E<P;E++)C[E-1]=arguments[E];g[b].fn.apply(g[b].context,C)}}return!0},l.prototype.on=function(u,f,h){return i(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return i(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,p){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var N=this._events[v];if(N.fn)N.fn===f&&(!p||N.once)&&(!h||N.context===h)&&o(this,v);else{for(var j=0,g=[],P=N.length;j<P;j++)(N[j].fn!==f||p&&!N[j].once||h&&N[j].context!==h)&&g.push(N[j]);g.length?this._events[v]=g.length===1?g[0]:g:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(IC)),IC.exports}var Tbe=_be();const Obe=wn(Tbe);var $C=new Obe,FC="recharts.syncMouseEvents";function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bh(e)}function Mbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Rbe(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DB(a.key),a)}}function Dbe(e,n,r){return n&&Rbe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LC(e,n,r){return n=DB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function DB(e){var n=Ibe(e,"string");return Bh(n)=="symbol"?n:n+""}function Ibe(e,n){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Bh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $be=(function(){function e(){Mbe(this,e),LC(this,"activeIndex",0),LC(this,"coordinateList",[]),LC(this,"layout","horizontal")}return Dbe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,d=r.layout,u=d===void 0?null:d,f=r.offset,h=f===void 0?null:f,p=r.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,d=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+d+u,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function Fbe(e,n,r){if(r==="number"&&n===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&ct(a)&&ct(s))return!0}return!1}function Lbe(e,n,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?n.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:n.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function IB(e){var n=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=Dn(n,r,a,s),l=Dn(n,r,a,i);return{points:[o,l],cx:n,cy:r,radius:a,startAngle:s,endAngle:i}}function zbe(e,n,r){var a,s,i,o;if(e==="horizontal")a=n.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=n.y,o=s,a=r.left,i=r.left+r.width;else if(n.cx!=null&&n.cy!=null)if(e==="centric"){var l=n.cx,d=n.cy,u=n.innerRadius,f=n.outerRadius,h=n.angle,p=Dn(l,d,u,h),v=Dn(l,d,f,h);a=p.x,s=p.y,i=v.x,o=v.y}else return IB(n);return[{x:a,y:s},{x:i,y:o}]}function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hh(e)}function dF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hg(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?dF(Object(r),!0).forEach(function(a){qbe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qbe(e,n,r){return n=Vbe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Vbe(e){var n=Bbe(e,"string");return Hh(n)=="symbol"?n:n+""}function Bbe(e,n){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Hh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Hbe(e){var n,r,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,v=(n=a.props.cursor)!==null&&n!==void 0?n:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var N,j=LP;if(p==="ScatterChart")N=o,j=zve;else if(p==="BarChart")N=Lbe(h,o,d,f),j=Mk;else if(h==="radial"){var g=IB(o),P=g.cx,C=g.cy,b=g.radius,y=g.startAngle,E=g.endAngle;N={cx:P,cy:C,startAngle:y,endAngle:E,innerRadius:b,outerRadius:b},j=L7}else N={points:zbe(h,o,d)},j=LP;var S=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},d),N),zt(v,!1)),{},{payload:l,payloadIndex:u,className:Wt("recharts-tooltip-cursor",v.className)});return w.isValidElement(v)?w.cloneElement(v,S):w.createElement(j,S)}var Ube=["item"],Kbe=["children","className","width","height","style","compact","title","desc"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bu(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zd.apply(this,arguments)}function uF(e,n){return Qbe(e)||Gbe(e,n)||FB(e,n)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gbe(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==n);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qbe(e){if(Array.isArray(e))return e}function mF(e,n){if(e==null)return{};var r=Ybe(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ybe(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Xbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zbe(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LB(a.key),a)}}function Jbe(e,n,r){return n&&Zbe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,n,r){return n=gy(n),t1e(e,$B()?Reflect.construct(n,r||[],gy(e).constructor):n.apply(e,r))}function t1e(e,n){if(n&&(Bu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n1e(e)}function n1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function r1e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&gE(e,n)}function gE(e,n){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gE(e,n)}function Hu(e){return i1e(e)||s1e(e)||FB(e)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FB(e,n){if(e){if(typeof e=="string")return vE(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(e,n)}}function s1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i1e(e){if(Array.isArray(e))return vE(e)}function vE(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function fF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ie(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fF(Object(r),!0).forEach(function(a){It(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function It(e,n,r){return n=LB(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function LB(e){var n=o1e(e,"string");return Bu(n)=="symbol"?n:n+""}function o1e(e,n){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Bu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var l1e={xAxis:["bottom","top"],yAxis:["left","right"]},c1e={width:"100%",height:"100%"},zB={x:0,y:0};function pg(e){return e}var d1e=function(n,r){return r==="horizontal"?n.x:r==="vertical"?n.y:r==="centric"?n.angle:n.radius},u1e=function(n,r,a,s){var i=r.find(function(f){return f&&f.index===a});if(i){if(n==="horizontal")return{x:i.coordinate,y:s.y};if(n==="vertical")return{x:s.x,y:i.coordinate};if(n==="centric"){var o=i.coordinate,l=s.radius;return Ie(Ie(Ie({},s),Dn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=s.angle;return Ie(Ie(Ie({},s),Dn(s.cx,s.cy,d,u)),{},{angle:u,radius:d})}return zB},s0=function(n,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(a??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(Hu(l),Hu(u)):l},[]);return o.length>0?o:n&&n.length&&ct(s)&&ct(i)?n.slice(s,i+1):[]};function qB(e){return e==="number"?[0,"auto"]:void 0}var yE=function(n,r,a,s){var i=n.graphicalItems,o=n.tooltipAxis,l=s0(r,n);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(d,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&n.dataStartIndex+n.dataEndIndex!==0&&n.dataEndIndex-n.dataStartIndex>=a&&(h=h.slice(n.dataStartIndex,n.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?l:h;p=JS(v,o.dataKey,s)}else p=h&&h[a]||l[a];return p?[].concat(Hu(d),[M7(u,p)]):d},[])},hF=function(n,r,a,s){var i=s||{x:n.chartX,y:n.chartY},o=d1e(i,a),l=n.orderedTooltipTicks,d=n.tooltipAxis,u=n.tooltipTicks,f=upe(o,l,u,d);if(f>=0&&u){var h=u[f]&&u[f].value,p=yE(n,r,f,h),v=u1e(a,l,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:v}}return null},m1e=function(n,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=n.layout,h=n.children,p=n.stackOffset,v=A7(f,i);return a.reduce(function(N,j){var g,P=j.type.defaultProps!==void 0?Ie(Ie({},j.type.defaultProps),j.props):j.props,C=P.type,b=P.dataKey,y=P.allowDataOverflow,E=P.allowDuplicatedCategory,S=P.scale,k=P.ticks,T=P.includeHidden,z=P[o];if(N[z])return N;var Y=s0(n.data,{graphicalItems:s.filter(function(V){var Z,re=o in V.props?V.props[o]:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z[o];return re===z}),dataStartIndex:d,dataEndIndex:u}),F=Y.length,D,R,q;Fbe(P.domain,y,C)&&(D=RP(P.domain,null,y),v&&(C==="number"||S!=="auto")&&(q=$f(Y,b,"category")));var Q=qB(C);if(!D||D.length===0){var K,U=(K=P.domain)!==null&&K!==void 0?K:Q;if(b){if(D=$f(Y,b,C),C==="category"&&v){var O=eoe(D);E&&O?(R=D,D=sy(0,F)):E||(D=v5(U,D,j).reduce(function(V,Z){return V.indexOf(Z)>=0?V:[].concat(Hu(V),[Z])},[]))}else if(C==="category")E?D=D.filter(function(V){return V!==""&&!rn(V)}):D=v5(U,D,j).reduce(function(V,Z){return V.indexOf(Z)>=0||Z===""||rn(Z)?V:[].concat(Hu(V),[Z])},[]);else if(C==="number"){var I=xpe(Y,s.filter(function(V){var Z,re,le=o in V.props?V.props[o]:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z[o],ye="hide"in V.props?V.props.hide:(re=V.type.defaultProps)===null||re===void 0?void 0:re.hide;return le===z&&(T||!ye)}),b,i,f);I&&(D=I)}v&&(C==="number"||S!=="auto")&&(q=$f(Y,b,"category"))}else v?D=sy(0,F):l&&l[z]&&l[z].hasStack&&C==="number"?D=p==="expand"?[0,1]:O7(l[z].stackGroups,d,u):D=E7(Y,s.filter(function(V){var Z=o in V.props?V.props[o]:V.type.defaultProps[o],re="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return Z===z&&(T||!re)}),C,f,!0);if(C==="number")D=xE(h,D,z,i,k),U&&(D=RP(U,D,y));else if(C==="category"&&U){var G=U,M=D.every(function(V){return G.indexOf(V)>=0});M&&(D=G)}}return Ie(Ie({},N),{},It({},z,Ie(Ie({},P),{},{axisType:i,domain:D,categoricalDomain:q,duplicateDomain:R,originalDomain:(g=P.domain)!==null&&g!==void 0?g:Q,isCategorical:v,layout:f})))},{})},f1e=function(n,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=n.layout,h=n.children,p=s0(n.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:u}),v=p.length,N=A7(f,i),j=-1;return a.reduce(function(g,P){var C=P.type.defaultProps!==void 0?Ie(Ie({},P.type.defaultProps),P.props):P.props,b=C[o],y=qB("number");if(!g[b]){j++;var E;return N?E=sy(0,v):l&&l[b]&&l[b].hasStack?(E=O7(l[b].stackGroups,d,u),E=xE(h,E,b,i)):(E=RP(y,E7(p,a.filter(function(S){var k,T,z=o in S.props?S.props[o]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[o],Y="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return z===b&&!Y}),"number",f),s.defaultProps.allowDataOverflow),E=xE(h,E,b,i)),Ie(Ie({},g),{},It({},b,Ie(Ie({axisType:i},s.defaultProps),{},{hide:!0,orientation:Fa(l1e,"".concat(i,".").concat(j%2),null),domain:E,originalDomain:y,isCategorical:N,layout:f})))}return g},{})},h1e=function(n,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=n.children,h="".concat(s,"Id"),p=cs(f,i),v={};return p&&p.length?v=m1e(n,{axes:p,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(v=f1e(n,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),v},p1e=function(n){var r=Hd(n),a=xc(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:ik(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Wv(r,a)}},pF=function(n){var r=n.children,a=n.defaultShowTooltip,s=Ta(r,Du),i=0,o=0;return n.data&&n.data.length!==0&&(o=n.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},x1e=function(n){return!n||!n.length?!1:n.some(function(r){var a=lo(r&&r.type);return a&&a.indexOf("Bar")>=0})},xF=function(n){return n==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:n==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:n==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},g1e=function(n,r){var a=n.props,s=n.graphicalItems,i=n.xAxisMap,o=i===void 0?{}:i,l=n.yAxisMap,d=l===void 0?{}:l,u=a.width,f=a.height,h=a.children,p=a.margin||{},v=Ta(h,Du),N=Ta(h,ou),j=Object.keys(d).reduce(function(E,S){var k=d[S],T=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},E),{},It({},T,E[T]+k.width)):E},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(E,S){var k=o[S],T=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},E),{},It({},T,Fa(E,"".concat(T))+k.height)):E},{top:p.top||0,bottom:p.bottom||0}),P=Ie(Ie({},g),j),C=P.bottom;v&&(P.bottom+=v.props.height||Du.defaultProps.height),N&&r&&(P=hpe(P,s,a,r));var b=u-P.left-P.right,y=f-P.top-P.bottom;return Ie(Ie({brushBottom:C},P),{},{width:Math.max(b,0),height:Math.max(y,0)})},v1e=function(n,r){if(r==="xAxis")return n[r].width;if(r==="yAxis")return n[r].height},VB=function(n){var r=n.chartName,a=n.GraphicalChild,s=n.defaultTooltipEventType,i=s===void 0?"axis":s,o=n.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=n.axisComponents,u=n.legendContent,f=n.formatAxisMap,h=n.defaultProps,p=function(P,C){var b=C.graphicalItems,y=C.stackGroups,E=C.offset,S=C.updateId,k=C.dataStartIndex,T=C.dataEndIndex,z=P.barSize,Y=P.layout,F=P.barGap,D=P.barCategoryGap,R=P.maxBarSize,q=xF(Y),Q=q.numericAxisName,K=q.cateAxisName,U=x1e(b),O=[];return b.forEach(function(I,G){var M=s0(P.data,{graphicalItems:[I],dataStartIndex:k,dataEndIndex:T}),V=I.type.defaultProps!==void 0?Ie(Ie({},I.type.defaultProps),I.props):I.props,Z=V.dataKey,re=V.maxBarSize,le=V["".concat(Q,"Id")],ye=V["".concat(K,"Id")],he={},pe=d.reduce(function(gn,oe){var ge=C["".concat(oe.axisType,"Map")],ke=V["".concat(oe.axisType,"Id")];ge&&ge[ke]||oe.axisType==="zAxis"||Lc();var Xe=ge[ke];return Ie(Ie({},gn),{},It(It({},oe.axisType,Xe),"".concat(oe.axisType,"Ticks"),xc(Xe)))},he),L=pe[K],ae=pe["".concat(K,"Ticks")],me=y&&y[le]&&y[le].hasStack&&Spe(I,y[le].stackGroups),W=lo(I.type).indexOf("Bar")>=0,Se=Wv(L,ae),$e=[],tt=U&&mpe({barSize:z,stackGroups:y,totalSize:v1e(pe,K)});if(W){var ft,_t,xn=rn(re)?R:re,Pe=(ft=(_t=Wv(L,ae,!0))!==null&&_t!==void 0?_t:xn)!==null&&ft!==void 0?ft:0;$e=fpe({barGap:F,barCategoryGap:D,bandSize:Pe!==Se?Pe:Se,sizeList:tt[ye],maxBarSize:xn}),Pe!==Se&&($e=$e.map(function(gn){return Ie(Ie({},gn),{},{position:Ie(Ie({},gn.position),{},{offset:gn.position.offset-Pe/2})})}))}var kt=I&&I.type&&I.type.getComposedData;kt&&O.push({props:Ie(Ie({},kt(Ie(Ie({},pe),{},{displayedData:M,props:P,dataKey:Z,item:I,bandSize:Se,barPosition:$e,offset:E,stackedData:me,layout:Y,dataStartIndex:k,dataEndIndex:T}))),{},It(It(It({key:I.key||"item-".concat(G)},Q,pe[Q]),K,pe[K]),"animationId",S)),childIndex:uoe(I,P.children),item:I})}),O},v=function(P,C){var b=P.props,y=P.dataStartIndex,E=P.dataEndIndex,S=P.updateId;if(!TR({props:b}))return null;var k=b.children,T=b.layout,z=b.stackOffset,Y=b.data,F=b.reverseStackOrder,D=xF(T),R=D.numericAxisName,q=D.cateAxisName,Q=cs(k,a),K=Npe(Y,Q,"".concat(R,"Id"),"".concat(q,"Id"),z,F),U=d.reduce(function(V,Z){var re="".concat(Z.axisType,"Map");return Ie(Ie({},V),{},It({},re,h1e(b,Ie(Ie({},Z),{},{graphicalItems:Q,stackGroups:Z.axisType===R&&K,dataStartIndex:y,dataEndIndex:E}))))},{}),O=g1e(Ie(Ie({},U),{},{props:b,graphicalItems:Q}),C?.legendBBox);Object.keys(U).forEach(function(V){U[V]=f(b,U[V],O,V.replace("Map",""),r)});var I=U["".concat(q,"Map")],G=p1e(I),M=p(b,Ie(Ie({},U),{},{dataStartIndex:y,dataEndIndex:E,updateId:S,graphicalItems:Q,stackGroups:K,offset:O}));return Ie(Ie({formattedGraphicalItems:M,graphicalItems:Q,offset:O,stackGroups:K},G),U)},N=(function(g){function P(C){var b,y,E;return Xbe(this,P),E=e1e(this,P,[C]),It(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),It(E,"accessibilityManager",new $be),It(E,"handleLegendBBoxUpdate",function(S){if(S){var k=E.state,T=k.dataStartIndex,z=k.dataEndIndex,Y=k.updateId;E.setState(Ie({legendBBox:S},v({props:E.props,dataStartIndex:T,dataEndIndex:z,updateId:Y},Ie(Ie({},E.state),{},{legendBBox:S}))))}}),It(E,"handleReceiveSyncEvent",function(S,k,T){if(E.props.syncId===S){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(k)}}),It(E,"handleBrushChange",function(S){var k=S.startIndex,T=S.endIndex;if(k!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var z=E.state.updateId;E.setState(function(){return Ie({dataStartIndex:k,dataEndIndex:T},v({props:E.props,dataStartIndex:k,dataEndIndex:T,updateId:z},E.state))}),E.triggerSyncEvent({dataStartIndex:k,dataEndIndex:T})}}),It(E,"handleMouseEnter",function(S){var k=E.getMouseInfo(S);if(k){var T=Ie(Ie({},k),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var z=E.props.onMouseEnter;Ht(z)&&z(T,S)}}),It(E,"triggeredAfterMouseMove",function(S){var k=E.getMouseInfo(S),T=k?Ie(Ie({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var z=E.props.onMouseMove;Ht(z)&&z(T,S)}),It(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),It(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),It(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),It(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var T=E.props.onMouseLeave;Ht(T)&&T(k,S)}),It(E,"handleOuterEvent",function(S){var k=doe(S),T=Fa(E.props,"".concat(k));if(k&&Ht(T)){var z,Y;/.*touch.*/i.test(k)?Y=E.getMouseInfo(S.changedTouches[0]):Y=E.getMouseInfo(S),T((z=Y)!==null&&z!==void 0?z:{},S)}}),It(E,"handleClick",function(S){var k=E.getMouseInfo(S);if(k){var T=Ie(Ie({},k),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var z=E.props.onClick;Ht(z)&&z(T,S)}}),It(E,"handleMouseDown",function(S){var k=E.props.onMouseDown;if(Ht(k)){var T=E.getMouseInfo(S);k(T,S)}}),It(E,"handleMouseUp",function(S){var k=E.props.onMouseUp;if(Ht(k)){var T=E.getMouseInfo(S);k(T,S)}}),It(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),It(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),It(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),It(E,"handleDoubleClick",function(S){var k=E.props.onDoubleClick;if(Ht(k)){var T=E.getMouseInfo(S);k(T,S)}}),It(E,"handleContextMenu",function(S){var k=E.props.onContextMenu;if(Ht(k)){var T=E.getMouseInfo(S);k(T,S)}}),It(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&$C.emit(FC,E.props.syncId,S,E.eventEmitterSymbol)}),It(E,"applySyncEvent",function(S){var k=E.props,T=k.layout,z=k.syncMethod,Y=E.state.updateId,F=S.dataStartIndex,D=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(Ie({dataStartIndex:F,dataEndIndex:D},v({props:E.props,dataStartIndex:F,dataEndIndex:D,updateId:Y},E.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,q=S.chartY,Q=S.activeTooltipIndex,K=E.state,U=K.offset,O=K.tooltipTicks;if(!U)return;if(typeof z=="function")Q=z(O,S);else if(z==="value"){Q=-1;for(var I=0;I<O.length;I++)if(O[I].value===S.activeLabel){Q=I;break}}var G=Ie(Ie({},U),{},{x:U.left,y:U.top}),M=Math.min(R,G.x+G.width),V=Math.min(q,G.y+G.height),Z=O[Q]&&O[Q].value,re=yE(E.state,E.props.data,Q),le=O[Q]?{x:T==="horizontal"?O[Q].coordinate:M,y:T==="horizontal"?V:O[Q].coordinate}:zB;E.setState(Ie(Ie({},S),{},{activeLabel:Z,activeCoordinate:le,activePayload:re,activeTooltipIndex:Q}))}else E.setState(S)}),It(E,"renderCursor",function(S){var k,T=E.state,z=T.isTooltipActive,Y=T.activeCoordinate,F=T.activePayload,D=T.offset,R=T.activeTooltipIndex,q=T.tooltipAxisBandSize,Q=E.getTooltipEventType(),K=(k=S.props.active)!==null&&k!==void 0?k:z,U=E.props.layout,O=S.key||"_recharts-cursor";return se.createElement(Hbe,{key:O,activeCoordinate:Y,activePayload:F,activeTooltipIndex:R,chartName:r,element:S,isActive:K,layout:U,offset:D,tooltipAxisBandSize:q,tooltipEventType:Q})}),It(E,"renderPolarAxis",function(S,k,T){var z=Fa(S,"type.axisType"),Y=Fa(E.state,"".concat(z,"Map")),F=S.type.defaultProps,D=F!==void 0?Ie(Ie({},F),S.props):S.props,R=Y&&Y[D["".concat(z,"Id")]];return w.cloneElement(S,Ie(Ie({},R),{},{className:Wt(z,R.className),key:S.key||"".concat(k,"-").concat(T),ticks:xc(R,!0)}))}),It(E,"renderPolarGrid",function(S){var k=S.props,T=k.radialLines,z=k.polarAngles,Y=k.polarRadius,F=E.state,D=F.radiusAxisMap,R=F.angleAxisMap,q=Hd(D),Q=Hd(R),K=Q.cx,U=Q.cy,O=Q.innerRadius,I=Q.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(z)?z:xc(Q,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(Y)?Y:xc(q,!0).map(function(G){return G.coordinate}),cx:K,cy:U,innerRadius:O,outerRadius:I,key:S.key||"polar-grid",radialLines:T})}),It(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,k=E.props,T=k.children,z=k.width,Y=k.height,F=E.props.margin||{},D=z-(F.left||0)-(F.right||0),R=S7({children:T,formattedGraphicalItems:S,legendWidth:D,legendContent:u});if(!R)return null;var q=R.item,Q=mF(R,Ube);return w.cloneElement(q,Ie(Ie({},Q),{},{chartWidth:z,chartHeight:Y,margin:F,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),It(E,"renderTooltip",function(){var S,k=E.props,T=k.children,z=k.accessibilityLayer,Y=Ta(T,Ts);if(!Y)return null;var F=E.state,D=F.isTooltipActive,R=F.activeCoordinate,q=F.activePayload,Q=F.activeLabel,K=F.offset,U=(S=Y.props.active)!==null&&S!==void 0?S:D;return w.cloneElement(Y,{viewBox:Ie(Ie({},K),{},{x:K.left,y:K.top}),active:U,label:Q,payload:U?q:[],coordinate:R,accessibilityLayer:z})}),It(E,"renderBrush",function(S){var k=E.props,T=k.margin,z=k.data,Y=E.state,F=Y.offset,D=Y.dataStartIndex,R=Y.dataEndIndex,q=Y.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:dg(E.handleBrushChange,S.props.onChange),data:z,x:ct(S.props.x)?S.props.x:F.left,y:ct(S.props.y)?S.props.y:F.top+F.height+F.brushBottom-(T.bottom||0),width:ct(S.props.width)?S.props.width:F.width,startIndex:D,endIndex:R,updateId:"brush-".concat(q)})}),It(E,"renderReferenceElement",function(S,k,T){if(!S)return null;var z=E,Y=z.clipPathId,F=E.state,D=F.xAxisMap,R=F.yAxisMap,q=F.offset,Q=S.type.defaultProps||{},K=S.props,U=K.xAxisId,O=U===void 0?Q.xAxisId:U,I=K.yAxisId,G=I===void 0?Q.yAxisId:I;return w.cloneElement(S,{key:S.key||"".concat(k,"-").concat(T),xAxis:D[O],yAxis:R[G],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:Y})}),It(E,"renderActivePoints",function(S){var k=S.item,T=S.activePoint,z=S.basePoint,Y=S.childIndex,F=S.isRange,D=[],R=k.props.key,q=k.item.type.defaultProps!==void 0?Ie(Ie({},k.item.type.defaultProps),k.item.props):k.item.props,Q=q.activeDot,K=q.dataKey,U=Ie(Ie({index:Y,dataKey:K,cx:T.x,cy:T.y,r:4,fill:Ok(k.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},zt(Q,!1)),Nv(Q));return D.push(P.renderActiveDot(Q,U,"".concat(R,"-activePoint-").concat(Y))),z?D.push(P.renderActiveDot(Q,Ie(Ie({},U),{},{cx:z.x,cy:z.y}),"".concat(R,"-basePoint-").concat(Y))):F&&D.push(null),D}),It(E,"renderGraphicChild",function(S,k,T){var z=E.filterFormatItem(S,k,T);if(!z)return null;var Y=E.getTooltipEventType(),F=E.state,D=F.isTooltipActive,R=F.tooltipAxis,q=F.activeTooltipIndex,Q=F.activeLabel,K=E.props.children,U=Ta(K,Ts),O=z.props,I=O.points,G=O.isRange,M=O.baseLine,V=z.item.type.defaultProps!==void 0?Ie(Ie({},z.item.type.defaultProps),z.item.props):z.item.props,Z=V.activeDot,re=V.hide,le=V.activeBar,ye=V.activeShape,he=!!(!re&&D&&U&&(Z||le||ye)),pe={};Y!=="axis"&&U&&U.props.trigger==="click"?pe={onClick:dg(E.handleItemMouseEnter,S.props.onClick)}:Y!=="axis"&&(pe={onMouseLeave:dg(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:dg(E.handleItemMouseEnter,S.props.onMouseEnter)});var L=w.cloneElement(S,Ie(Ie({},z.props),pe));function ae(oe){return typeof R.dataKey=="function"?R.dataKey(oe.payload):null}if(he)if(q>=0){var me,W;if(R.dataKey&&!R.allowDuplicatedCategory){var Se=typeof R.dataKey=="function"?ae:"payload.".concat(R.dataKey.toString());me=JS(I,Se,Q),W=G&&M&&JS(M,Se,Q)}else me=I?.[q],W=G&&M&&M[q];if(ye||le){var $e=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[w.cloneElement(S,Ie(Ie(Ie({},z.props),pe),{},{activeIndex:$e})),null,null]}if(!rn(me))return[L].concat(Hu(E.renderActivePoints({item:z,activePoint:me,basePoint:W,childIndex:q,isRange:G})))}else{var tt,ft=(tt=E.getItemByXY(E.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:L},_t=ft.graphicalItem,xn=_t.item,Pe=xn===void 0?S:xn,kt=_t.childIndex,gn=Ie(Ie(Ie({},z.props),pe),{},{activeIndex:kt});return[w.cloneElement(Pe,gn),null,null]}return G?[L,null,null]:[L,null]}),It(E,"renderCustomized",function(S,k,T){return w.cloneElement(S,Ie(Ie({key:"recharts-customized-".concat(T)},E.props),E.state))}),It(E,"renderMap",{CartesianGrid:{handler:pg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:pg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:pg},YAxis:{handler:pg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=C.id)!==null&&b!==void 0?b:Np("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=bV(E.triggeredAfterMouseMove,(y=C.throttleDelay)!==null&&y!==void 0?y:1e3/60),E.state={},E}return r1e(P,g),Jbe(P,[{key:"componentDidMount",value:function(){var b,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,y=b.children,E=b.data,S=b.height,k=b.layout,T=Ta(y,Ts);if(T){var z=T.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var Y=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,F=yE(this.state,E,z,Y),D=this.state.tooltipTicks[z].coordinate,R=(this.state.offset.top+S)/2,q=k==="horizontal",Q=q?{x:D,y:R}:{y:D,x:R},K=this.state.formattedGraphicalItems.find(function(O){var I=O.item;return I.type.name==="Scatter"});K&&(Q=Ie(Ie({},Q),K.props.points[z].tooltipPosition),F=K.props.points[z].tooltipPayload);var U={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:Y,activePayload:F,activeCoordinate:Q};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){tP([Ta(b.children,Ts)],[Ta(this.props.children,Ts)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ta(this.props.children,Ts);if(b&&typeof b.props.shared=="boolean"){var y=b.props.shared?"axis":"item";return l.indexOf(y)>=0?y:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var y=this.container,E=y.getBoundingClientRect(),S=Xde(E),k={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},T=E.width/y.offsetWidth||1,z=this.inRange(k.chartX,k.chartY,T);if(!z)return null;var Y=this.state,F=Y.xAxisMap,D=Y.yAxisMap,R=this.getTooltipEventType(),q=hF(this.state,this.props.data,this.props.layout,z);if(R!=="axis"&&F&&D){var Q=Hd(F).scale,K=Hd(D).scale,U=Q&&Q.invert?Q.invert(k.chartX):null,O=K&&K.invert?K.invert(k.chartY):null;return Ie(Ie({},k),{},{xValue:U,yValue:O},q)}return q?Ie(Ie({},k),q):null}},{key:"inRange",value:function(b,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=b/E,T=y/E;if(S==="horizontal"||S==="vertical"){var z=this.state.offset,Y=k>=z.left&&k<=z.left+z.width&&T>=z.top&&T<=z.top+z.height;return Y?{x:k,y:T}:null}var F=this.state,D=F.angleAxisMap,R=F.radiusAxisMap;if(D&&R){var q=Hd(D);return b5({x:k,y:T},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,y=this.getTooltipEventType(),E=Ta(b,Ts),S={};E&&y==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Nv(this.props,this.handleOuterEvent);return Ie(Ie({},k),S)}},{key:"addListener",value:function(){$C.on(FC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$C.removeListener(FC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,y,E){for(var S=this.state.formattedGraphicalItems,k=0,T=S.length;k<T;k++){var z=S[k];if(z.item===b||z.props.key===b.key||y===lo(z.item.type)&&E===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,y=this.state.offset,E=y.left,S=y.top,k=y.height,T=y.width;return se.createElement("defs",null,se.createElement("clipPath",{id:b},se.createElement("rect",{x:E,y:S,height:k,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(y,E){var S=uF(E,2),k=S[0],T=S[1];return Ie(Ie({},y),{},It({},k,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(y,E){var S=uF(E,2),k=S[0],T=S[1];return Ie(Ie({},y),{},It({},k,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[b])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(b){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[b])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(b){var y=this.state,E=y.formattedGraphicalItems,S=y.activeItem;if(E&&E.length)for(var k=0,T=E.length;k<T;k++){var z=E[k],Y=z.props,F=z.item,D=F.type.defaultProps!==void 0?Ie(Ie({},F.type.defaultProps),F.props):F.props,R=lo(F.type);if(R==="Bar"){var q=(Y.data||[]).find(function(O){return jve(b,O)});if(q)return{graphicalItem:z,payload:q}}else if(R==="RadialBar"){var Q=(Y.data||[]).find(function(O){return b5(b,O)});if(Q)return{graphicalItem:z,payload:Q}}else if(Qj(z,S)||Yj(z,S)||Fh(z,S)){var K=Bye({graphicalItem:z,activeTooltipItem:S,itemData:D.data}),U=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:Ie(Ie({},z),{},{childIndex:U}),payload:Fh(z,S)?D.data[K]:z.props.data[K]}}}return null}},{key:"render",value:function(){var b=this;if(!TR(this))return null;var y=this.props,E=y.children,S=y.className,k=y.width,T=y.height,z=y.style,Y=y.compact,F=y.title,D=y.desc,R=mF(y,Kbe),q=zt(R,!1);if(Y)return se.createElement(X$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(rP,Zd({},q,{width:k,height:T,title:F,desc:D}),this.renderClipPath(),MR(E,this.renderMap)));if(this.props.accessibilityLayer){var Q,K;q.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,q.role=(K=this.props.role)!==null&&K!==void 0?K:"application",q.onKeyDown=function(O){b.accessibilityManager.keyboardEvent(O)},q.onFocus=function(){b.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return se.createElement(X$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Zd({className:Wt("recharts-wrapper",S),style:Ie({position:"relative",cursor:"default",width:k,height:T},z)},U,{ref:function(I){b.container=I}}),se.createElement(rP,Zd({},q,{width:k,height:T,title:F,desc:D,style:c1e}),this.renderClipPath(),MR(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);It(N,"displayName",r),It(N,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),It(N,"getDerivedStateFromProps",function(g,P){var C=g.dataKey,b=g.data,y=g.children,E=g.width,S=g.height,k=g.layout,T=g.stackOffset,z=g.margin,Y=P.dataStartIndex,F=P.dataEndIndex;if(P.updateId===void 0){var D=pF(g);return Ie(Ie(Ie({},D),{},{updateId:0},v(Ie(Ie({props:g},D),{},{updateId:0}),P)),{},{prevDataKey:C,prevData:b,prevWidth:E,prevHeight:S,prevLayout:k,prevStackOffset:T,prevMargin:z,prevChildren:y})}if(C!==P.prevDataKey||b!==P.prevData||E!==P.prevWidth||S!==P.prevHeight||k!==P.prevLayout||T!==P.prevStackOffset||!iu(z,P.prevMargin)){var R=pF(g),q={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},Q=Ie(Ie({},hF(P,b,k)),{},{updateId:P.updateId+1}),K=Ie(Ie(Ie({},R),q),Q);return Ie(Ie(Ie({},K),v(Ie({props:g},K),P)),{},{prevDataKey:C,prevData:b,prevWidth:E,prevHeight:S,prevLayout:k,prevStackOffset:T,prevMargin:z,prevChildren:y})}if(!tP(y,P.prevChildren)){var U,O,I,G,M=Ta(y,Du),V=M&&(U=(O=M.props)===null||O===void 0?void 0:O.startIndex)!==null&&U!==void 0?U:Y,Z=M&&(I=(G=M.props)===null||G===void 0?void 0:G.endIndex)!==null&&I!==void 0?I:F,re=V!==Y||Z!==F,le=!rn(b),ye=le&&!re?P.updateId:P.updateId+1;return Ie(Ie({updateId:ye},v(Ie(Ie({props:g},P),{},{updateId:ye,dataStartIndex:V,dataEndIndex:Z}),P)),{},{prevChildren:y,dataStartIndex:V,dataEndIndex:Z})}return null}),It(N,"renderActiveDot",function(g,P,C){var b;return w.isValidElement(g)?b=w.cloneElement(g,P):Ht(g)?b=g(P):b=se.createElement(Rk,P),se.createElement(Sn,{className:"recharts-active-dot",key:C},b)});var j=w.forwardRef(function(P,C){return se.createElement(N,Zd({},P,{ref:C}))});return j.displayName=N.displayName,j},y1e=VB({chartName:"BarChart",GraphicalChild:nd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:r0},{axisType:"yAxis",AxisComp:a0}],formatAxisMap:Wje}),j1e=VB({chartName:"PieChart",GraphicalChild:Mo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gj},{axisType:"radiusAxis",AxisComp:Kj}],formatAxisMap:Dpe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function xg({title:e,value:n,change:r,icon:a,variant:s="default"}){const i=r!==void 0&&r>=0;return t.jsx(ee,{className:s==="primary"?"bg-primary text-primary-foreground":"",children:t.jsxs(te,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s==="primary"?"bg-primary-foreground/20":"bg-primary/10"}`,children:a}),r!==void 0&&t.jsxs("div",{className:`flex items-center gap-1 text-sm ${i?s==="primary"?"text-primary-foreground":"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[i?t.jsx(AZ,{className:"h-4 w-4"}):t.jsx(EZ,{className:"h-4 w-4"}),Math.abs(r),"%"]})]}),t.jsx("p",{className:`text-sm mb-1 ${s==="primary"?"text-primary-foreground/80":"text-muted-foreground"}`,children:e}),t.jsx("p",{className:"text-2xl font-bold",children:n})]})})}const gF=[{id:"lead",label:"Leads",color:"bg-sky-600 dark:bg-sky-500"},{id:"contact",label:"Contato",color:"bg-primary"},{id:"proposal",label:"Proposta",color:"bg-violet-600 dark:bg-violet-500"},{id:"negotiation",label:"Negociao",color:"bg-amber-600 dark:bg-amber-500"},{id:"closed",label:"Fechado",color:"bg-emerald-600 dark:bg-emerald-500"}];function b1e(){const e=[],n=new Date;for(let r=-6;r<=6;r++){const a=new Date(n.getFullYear(),n.getMonth()+r,1),s=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`,i=a.toLocaleDateString("pt-BR",{month:"long",year:"numeric"});e.push({value:s,label:i.charAt(0).toUpperCase()+i.slice(1)})}return e}function vF(){const e=new Date,n=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`,[r,a]=w.useState(n),s=b1e(),{data:i=[]}=Ve({queryKey:["/api/clients"]}),{data:o=[]}=Ve({queryKey:["/api/financial"]}),{data:l,isLoading:d}=Ve({queryKey:["/api/dashboard/billing-pace",r],queryFn:async()=>{const y=await fetch(`/api/dashboard/billing-pace?month=${r}`);if(!y.ok)throw new Error("Failed to fetch billing pace");return y.json()}}),u=i.filter(y=>y.status==="active").length,f=i.filter(y=>y.pipelineStage==="proposal"||y.pipelineStage==="negotiation").length,h=o.filter(y=>y.type==="receivable"&&y.status==="pending").reduce((y,E)=>y+Number(E.value||0),0),p=i.slice(0,5),v=gF.map(y=>({...y,count:i.filter(E=>E.pipelineStage===y.id).length})),N=i.reduce((y,E)=>{const S=E.state||"Outros";return y[S]=(y[S]||0)+1,y},{}),j=Object.entries(N).map(([y,E])=>({state:y,count:E})).sort((y,E)=>E.count-y.count).slice(0,8),g=i.reduce((y,E)=>{const S=E.segment||"Sem segmento";return y[S]=(y[S]||0)+1,y},{}),P=Object.entries(g).map(([y,E])=>({name:y,value:E})).sort((y,E)=>E.value-y.value).slice(0,5),C=["hsl(var(--primary))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"],b=[{class:"A",percentage:80,clients:Math.round(i.length*.2)},{class:"B",percentage:15,clients:Math.round(i.length*.3)},{class:"C",percentage:5,clients:Math.round(i.length*.5)}];return t.jsx(Ot,{title:"Dashboard",subtitle:"Viso geral da sua operao",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(xg,{title:"Clientes Ativos",value:String(u),change:12,icon:t.jsx(hn,{className:"h-5 w-5 text-primary"})}),t.jsx(xg,{title:"Propostas em Aberto",value:String(f),change:8,icon:t.jsx(wi,{className:"h-5 w-5 text-primary-foreground"}),variant:"primary"}),t.jsx(xg,{title:"A Receber",value:Vt(h),change:-5,icon:t.jsx(ba,{className:"h-5 w-5 text-primary"})}),t.jsx(xg,{title:"Taxa de Converso",value:"32%",change:15,icon:t.jsx(pn,{className:"h-5 w-5 text-primary"})})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[t.jsxs(ee,{className:"md:col-span-2 lg:col-span-2",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 sm:gap-4 pb-4",children:[t.jsx(ue,{className:"text-base sm:text-lg",children:"Clientes Recentes"}),t.jsx(H,{variant:"ghost",size:"sm",asChild:!0,children:t.jsxs(it,{href:"/clientes",children:["Ver todos",t.jsx(po,{className:"h-4 w-4 ml-1"})]})})]}),t.jsx(te,{children:p.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(hn,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum cliente cadastrado"}),t.jsx(H,{asChild:!0,children:t.jsxs(it,{href:"/clientes",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar cliente"]})})]}):t.jsx("div",{className:"space-y-3",children:p.map(y=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 rounded-lg bg-muted/50 hover-elevate",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium truncate","data-testid":`text-client-name-${y.id}`,children:y.name}),t.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[y.segment||"Sem segmento"," - ",y.city,"/",y.state]})]}),t.jsx(Ee,{variant:"secondary",children:gF.find(E=>E.id===y.pipelineStage)?.label||"Lead"})]},y.id))})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 sm:gap-4 pb-4",children:[t.jsx(ue,{className:"text-base sm:text-lg",children:"Pipeline de Vendas"}),t.jsx(H,{variant:"ghost",size:"sm",asChild:!0,children:t.jsx(it,{href:"/pipeline",children:t.jsx(po,{className:"h-4 w-4"})})})]}),t.jsxs(te,{children:[t.jsx("div",{className:"space-y-3",children:v.map(y=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${y.color}`}),t.jsx("span",{className:"flex-1 text-sm",children:y.label}),t.jsx("span",{className:"text-sm font-medium",children:y.count})]},y.id))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total no funil"}),t.jsx("span",{className:"font-semibold",children:i.length})]})})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[t.jsxs(ee,{children:[t.jsx(de,{className:"flex flex-row items-center justify-between gap-2 sm:gap-4 pb-4",children:t.jsx(ue,{className:"text-base sm:text-lg",children:"Aes Rpidas"})}),t.jsx(te,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[t.jsx(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:t.jsxs(it,{href:"/clientes",children:[t.jsx(hn,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Novo Cliente"})]})}),t.jsx(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:t.jsxs(it,{href:"/calculadora-frete",children:[t.jsx(ba,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Calcular Frete"})]})}),t.jsx(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:t.jsxs(it,{href:"/checklist",children:[t.jsx(wi,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Novo Checklist"})]})}),t.jsx(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:t.jsxs(it,{href:"/financeiro",children:[t.jsx(pn,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Financeiro"})]})})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4 pb-4",children:[t.jsxs(ue,{className:"text-base sm:text-lg flex items-center gap-2",children:[t.jsx(Dr,{className:"h-5 w-5"}),"Ritmo de Faturamento"]}),t.jsxs(Oe,{value:r,onValueChange:a,children:[t.jsx(_e,{className:"w-full sm:w-[180px]","data-testid":"select-billing-month",children:t.jsx(Me,{placeholder:"Selecione o ms"})}),t.jsx(Te,{children:s.map(y=>t.jsx(ne,{value:y.value,children:y.label},y.value))})]})]}),t.jsxs(te,{children:[d?t.jsxs("div",{className:"space-y-2",children:[t.jsx(va,{className:"h-8 w-full"}),t.jsx(va,{className:"h-8 w-full"}),t.jsx(va,{className:"h-8 w-full"})]}):l?.data&&l.data.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{className:"min-w-[150px]",children:"Operacao"}),t.jsx(nt,{className:"text-right",children:"Media 3M"}),t.jsx(nt,{className:"text-right",children:"Ano Ant."}),t.jsx(nt,{className:"text-right",children:"Atual"}),t.jsx(nt,{className:"text-right",children:"Ritmo"}),t.jsx(nt,{className:"text-right",children:"Meta"})]})}),t.jsx(aa,{children:l.data.map(y=>t.jsxs(bn,{"data-testid":`row-billing-pace-${y.operationId}`,children:[t.jsxs(et,{className:"font-medium",children:[t.jsx("div",{className:"truncate max-w-[150px]",title:y.operationName,children:y.operationName}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",title:y.clientName,children:y.clientName})]}),t.jsx(et,{className:"text-right text-sm",children:Vt(y.avg3Months)}),t.jsx(et,{className:"text-right text-sm",children:Vt(y.prevYearSameMonth)}),t.jsx(et,{className:"text-right text-sm font-medium",children:Vt(y.currentMonth)}),t.jsx(et,{className:"text-right text-sm",children:t.jsx("span",{className:y.ritmo>=y.goal&&y.goal>0?"text-emerald-600 dark:text-emerald-400":"",children:Vt(y.ritmo)})}),t.jsx(et,{className:"text-right text-sm",children:y.goal>0?Vt(y.goal):"-"})]},y.operationId))})]})}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"Nenhuma operacao cadastrada"}),t.jsx("p",{className:"text-sm mt-1",children:"Cadastre operaes nos clientes para acompanhar o ritmo de faturamento"})]}),l&&l.data.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t text-xs text-muted-foreground",children:["Ritmo calculado ate o dia ",l.ritmoCalculatedUntilDay," de ",l.daysInMonth," dias"]})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-base sm:text-lg flex items-center gap-2",children:[t.jsx(us,{className:"h-5 w-5"}),"Clientes por Estado"]}),t.jsx(rt,{className:"text-xs sm:text-sm",children:"Distribuio geografica dos clientes"})]}),t.jsx(te,{children:j.length>0?t.jsx(t3,{width:"100%",height:250,children:t.jsxs(y1e,{data:j,layout:"vertical",children:[t.jsx(r0,{type:"number"}),t.jsx(a0,{dataKey:"state",type:"category",width:40}),t.jsx(Ts,{formatter:y=>[`${y} cliente(s)`,"Quantidade"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),t.jsx(nd,{dataKey:"count",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})}):t.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground",children:"Nenhum dado disponivel"})})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Cc,{className:"h-5 w-5"}),"Clientes por Segmento"]}),t.jsx(rt,{children:"Distribuio por segmento de mercado"})]}),t.jsx(te,{children:P.length>0?t.jsx(t3,{width:"100%",height:250,children:t.jsxs(j1e,{children:[t.jsx(Mo,{data:P,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,dataKey:"value",label:({name:y,percent:E})=>`${y} (${(E*100).toFixed(0)}%)`,children:P.map((y,E)=>t.jsx(Tj,{fill:C[E%C.length]},`cell-${E}`))}),t.jsx(Ts,{formatter:y=>[`${y} cliente(s)`,"Quantidade"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}})]})}):t.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground",children:"Nenhum dado disponivel"})})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-lg",children:"Curva ABC - Analise de Clientes"}),t.jsx(rt,{children:"Classificacao dos clientes por importancia no faturamento"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:b.map(y=>t.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[t.jsxs("div",{className:`text-3xl font-bold mb-2 ${y.class==="A"?"text-emerald-600 dark:text-emerald-400":y.class==="B"?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`,children:["Classe ",y.class]}),t.jsxs("div",{className:"text-2xl font-semibold",children:[y.percentage,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"do faturamento"}),t.jsxs("div",{className:"mt-2 pt-2 border-t",children:[t.jsx("span",{className:"text-lg font-medium",children:y.clients}),t.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"clientes"})]})]},y.class))}),t.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:"A Curva ABC classifica clientes conforme a regra de Pareto: 20% dos clientes (Classe A) representam 80% do faturamento."})]})]})]})})}const St=w.forwardRef(({className:e,...n},r)=>t.jsx("textarea",{className:Fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));St.displayName="Textarea";var zC="rovingFocusGroup.onEntryFocus",w1e={bubbles:!1,cancelable:!0},i0="RovingFocusGroup",[jE,BB,N1e]=tp(i0),[C1e,ym]=sr(i0,[N1e]),[S1e,P1e]=C1e(i0),HB=w.forwardRef((e,n)=>t.jsx(jE.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(jE.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(E1e,{...e,ref:n})})}));HB.displayName=i0;var E1e=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,p=w.useRef(null),v=qt(n,p),N=Xc(i),[j=null,g]=sa({prop:o,defaultProp:l,onChange:d}),[P,C]=w.useState(!1),b=Bn(u),y=BB(r),E=w.useRef(!1),[S,k]=w.useState(0);return w.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(zC,b),()=>T.removeEventListener(zC,b)},[b]),t.jsx(S1e,{scope:r,orientation:a,dir:N,loop:s,currentTabStopId:j,onItemFocus:w.useCallback(T=>g(T),[g]),onItemShiftTab:w.useCallback(()=>C(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>k(T=>T-1),[]),children:t.jsx(ot.div,{tabIndex:P||S===0?-1:0,"data-orientation":a,...h,ref:v,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{E.current=!0}),onFocus:He(e.onFocus,T=>{const z=!E.current;if(T.target===T.currentTarget&&z&&!P){const Y=new CustomEvent(zC,w1e);if(T.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const F=y().filter(K=>K.focusable),D=F.find(K=>K.active),R=F.find(K=>K.id===j),Q=[D,R,...F].filter(Boolean).map(K=>K.ref.current);WB(Q,f)}}E.current=!1}),onBlur:He(e.onBlur,()=>C(!1))})})}),UB="RovingFocusGroupItem",KB=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,...o}=e,l=cr(),d=i||l,u=P1e(UB,r),f=u.currentTabStopId===d,h=BB(r),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return w.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),t.jsx(jE.ItemSlot,{scope:r,id:d,focusable:a,active:s,children:t.jsx(ot.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:n,onMouseDown:He(e.onMouseDown,N=>{a?u.onItemFocus(d):N.preventDefault()}),onFocus:He(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:He(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){u.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const j=_1e(N,u.orientation,u.dir);if(j!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let P=h().filter(C=>C.focusable).map(C=>C.ref.current);if(j==="last")P.reverse();else if(j==="prev"||j==="next"){j==="prev"&&P.reverse();const C=P.indexOf(N.currentTarget);P=u.loop?T1e(P,C+1):P.slice(C+1)}setTimeout(()=>WB(P))}})})})});KB.displayName=UB;var A1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k1e(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _1e(e,n,r){const a=k1e(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return A1e[a]}function WB(e,n=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:n}),document.activeElement!==r))return}function T1e(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var Lk=HB,zk=KB,bE=["Enter"," "],O1e=["ArrowDown","PageUp","Home"],GB=["ArrowUp","PageDown","End"],M1e=[...O1e,...GB],R1e={ltr:[...bE,"ArrowRight"],rtl:[...bE,"ArrowLeft"]},D1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kp="Menu",[Uh,I1e,$1e]=tp(kp),[rd,QB]=sr(kp,[$1e,Ol,ym]),o0=Ol(),YB=ym(),[F1e,ad]=rd(kp),[L1e,_p]=rd(kp),XB=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=o0(n),[d,u]=w.useState(null),f=w.useRef(!1),h=Bn(i),p=Xc(s);return w.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),t.jsx(Qy,{...l,children:t.jsx(F1e,{scope:n,open:r,onOpenChange:h,content:d,onContentChange:u,children:t.jsx(L1e,{scope:n,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:o,children:a})})})};XB.displayName=kp;var z1e="MenuAnchor",qk=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,s=o0(r);return t.jsx(dp,{...s,...a,ref:n})});qk.displayName=z1e;var Vk="MenuPortal",[q1e,ZB]=rd(Vk,{forceMount:void 0}),JB=e=>{const{__scopeMenu:n,forceMount:r,children:a,container:s}=e,i=ad(Vk,n);return t.jsx(q1e,{scope:n,forceMount:r,children:t.jsx(ur,{present:r||i.open,children:t.jsx(am,{asChild:!0,container:s,children:a})})})};JB.displayName=Vk;var ds="MenuContent",[V1e,Bk]=rd(ds),eH=w.forwardRef((e,n)=>{const r=ZB(ds,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=ad(ds,e.__scopeMenu),o=_p(ds,e.__scopeMenu);return t.jsx(Uh.Provider,{scope:e.__scopeMenu,children:t.jsx(ur,{present:a||i.open,children:t.jsx(Uh.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(B1e,{...s,ref:n}):t.jsx(H1e,{...s,ref:n})})})})}),B1e=w.forwardRef((e,n)=>{const r=ad(ds,e.__scopeMenu),a=w.useRef(null),s=qt(n,a);return w.useEffect(()=>{const i=a.current;if(i)return lj(i)},[]),t.jsx(Hk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),H1e=w.forwardRef((e,n)=>{const r=ad(ds,e.__scopeMenu);return t.jsx(Hk,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),U1e=wl("MenuContent.ScrollLock"),Hk=w.forwardRef((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:v,disableOutsideScroll:N,...j}=e,g=ad(ds,r),P=_p(ds,r),C=o0(r),b=YB(r),y=I1e(r),[E,S]=w.useState(null),k=w.useRef(null),T=qt(n,k,g.onContentChange),z=w.useRef(0),Y=w.useRef(""),F=w.useRef(0),D=w.useRef(null),R=w.useRef("right"),q=w.useRef(0),Q=N?hp:w.Fragment,K=N?{as:U1e,allowPinchZoom:!0}:void 0,U=I=>{const G=Y.current+I,M=y().filter(he=>!he.disabled),V=document.activeElement,Z=M.find(he=>he.ref.current===V)?.textValue,re=M.map(he=>he.textValue),le=rwe(re,G,Z),ye=M.find(he=>he.textValue===le)?.ref.current;(function he(pe){Y.current=pe,window.clearTimeout(z.current),pe!==""&&(z.current=window.setTimeout(()=>he(""),1e3))})(G),ye&&setTimeout(()=>ye.focus())};w.useEffect(()=>()=>window.clearTimeout(z.current),[]),oj();const O=w.useCallback(I=>R.current===D.current?.side&&swe(I,D.current?.area),[]);return t.jsx(V1e,{scope:r,searchRef:Y,onItemEnter:w.useCallback(I=>{O(I)&&I.preventDefault()},[O]),onItemLeave:w.useCallback(I=>{O(I)||(k.current?.focus(),S(null))},[O]),onTriggerLeave:w.useCallback(I=>{O(I)&&I.preventDefault()},[O]),pointerGraceTimerRef:F,onPointerGraceIntentChange:w.useCallback(I=>{D.current=I},[]),children:t.jsx(Q,{...K,children:t.jsx(fp,{asChild:!0,trapped:s,onMountAutoFocus:He(i,I=>{I.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:v,children:t.jsx(Lk,{asChild:!0,...b,dir:P.dir,orientation:"vertical",loop:a,currentTabStopId:E,onCurrentTabStopIdChange:S,onEntryFocus:He(d,I=>{P.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Yy,{role:"menu","aria-orientation":"vertical","data-state":xH(g.open),"data-radix-menu-content":"",dir:P.dir,...C,...j,ref:T,style:{outline:"none",...j.style},onKeyDown:He(j.onKeyDown,I=>{const M=I.target.closest("[data-radix-menu-content]")===I.currentTarget,V=I.ctrlKey||I.altKey||I.metaKey,Z=I.key.length===1;M&&(I.key==="Tab"&&I.preventDefault(),!V&&Z&&U(I.key));const re=k.current;if(I.target!==re||!M1e.includes(I.key))return;I.preventDefault();const ye=y().filter(he=>!he.disabled).map(he=>he.ref.current);GB.includes(I.key)&&ye.reverse(),twe(ye)}),onBlur:He(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(z.current),Y.current="")}),onPointerMove:He(e.onPointerMove,Kh(I=>{const G=I.target,M=q.current!==I.clientX;if(I.currentTarget.contains(G)&&M){const V=I.clientX>q.current?"right":"left";R.current=V,q.current=I.clientX}}))})})})})})})});eH.displayName=ds;var K1e="MenuGroup",Uk=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(ot.div,{role:"group",...a,ref:n})});Uk.displayName=K1e;var W1e="MenuLabel",tH=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(ot.div,{...a,ref:n})});tH.displayName=W1e;var vy="MenuItem",yF="menu.itemSelect",l0=w.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=w.useRef(null),o=_p(vy,e.__scopeMenu),l=Bk(vy,e.__scopeMenu),d=qt(n,i),u=w.useRef(!1),f=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent(yF,{bubbles:!0,cancelable:!0});h.addEventListener(yF,v=>a?.(v),{once:!0}),HE(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return t.jsx(nH,{...s,ref:d,disabled:r,onClick:He(e.onClick,f),onPointerDown:h=>{e.onPointerDown?.(h),u.current=!0},onPointerUp:He(e.onPointerUp,h=>{u.current||h.currentTarget?.click()}),onKeyDown:He(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||bE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});l0.displayName=vy;var nH=w.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,o=Bk(vy,r),l=YB(r),d=w.useRef(null),u=qt(n,d),[f,h]=w.useState(!1),[p,v]=w.useState("");return w.useEffect(()=>{const N=d.current;N&&v((N.textContent??"").trim())},[i.children]),t.jsx(Uh.ItemSlot,{scope:r,disabled:a,textValue:s??p,children:t.jsx(zk,{asChild:!0,...l,focusable:!a,children:t.jsx(ot.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:u,onPointerMove:He(e.onPointerMove,Kh(N=>{a?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,Kh(N=>o.onItemLeave(N))),onFocus:He(e.onFocus,()=>h(!0)),onBlur:He(e.onBlur,()=>h(!1))})})})}),G1e="MenuCheckboxItem",rH=w.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return t.jsx(lH,{scope:e.__scopeMenu,checked:r,children:t.jsx(l0,{role:"menuitemcheckbox","aria-checked":yy(r)?"mixed":r,...s,ref:n,"data-state":Wk(r),onSelect:He(s.onSelect,()=>a?.(yy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rH.displayName=G1e;var aH="MenuRadioGroup",[Q1e,Y1e]=rd(aH,{value:void 0,onValueChange:()=>{}}),sH=w.forwardRef((e,n)=>{const{value:r,onValueChange:a,...s}=e,i=Bn(a);return t.jsx(Q1e,{scope:e.__scopeMenu,value:r,onValueChange:i,children:t.jsx(Uk,{...s,ref:n})})});sH.displayName=aH;var iH="MenuRadioItem",oH=w.forwardRef((e,n)=>{const{value:r,...a}=e,s=Y1e(iH,e.__scopeMenu),i=r===s.value;return t.jsx(lH,{scope:e.__scopeMenu,checked:i,children:t.jsx(l0,{role:"menuitemradio","aria-checked":i,...a,ref:n,"data-state":Wk(i),onSelect:He(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});oH.displayName=iH;var Kk="MenuItemIndicator",[lH,X1e]=rd(Kk,{checked:!1}),cH=w.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=X1e(Kk,r);return t.jsx(ur,{present:a||yy(i.checked)||i.checked===!0,children:t.jsx(ot.span,{...s,ref:n,"data-state":Wk(i.checked)})})});cH.displayName=Kk;var Z1e="MenuSeparator",dH=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});dH.displayName=Z1e;var J1e="MenuArrow",uH=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,s=o0(r);return t.jsx(Xy,{...s,...a,ref:n})});uH.displayName=J1e;var ewe="MenuSub",[oRe,mH]=rd(ewe),kf="MenuSubTrigger",fH=w.forwardRef((e,n)=>{const r=ad(kf,e.__scopeMenu),a=_p(kf,e.__scopeMenu),s=mH(kf,e.__scopeMenu),i=Bk(kf,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),d(null)}},[l,d]),t.jsx(qk,{asChild:!0,...u,children:t.jsx(nH,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":xH(r.open),...e,ref:ho(n,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,Kh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:He(e.onPointerLeave,Kh(h=>{f();const p=r.content?.getBoundingClientRect();if(p){const v=r.content?.dataset.side,N=v==="right",j=N?-5:5,g=p[N?"left":"right"],P=p[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+j,y:h.clientY},{x:g,y:p.top},{x:P,y:p.top},{x:P,y:p.bottom},{x:g,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,h=>{const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||R1e[a.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});fH.displayName=kf;var hH="MenuSubContent",pH=w.forwardRef((e,n)=>{const r=ZB(ds,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=ad(ds,e.__scopeMenu),o=_p(ds,e.__scopeMenu),l=mH(hH,e.__scopeMenu),d=w.useRef(null),u=qt(n,d);return t.jsx(Uh.Provider,{scope:e.__scopeMenu,children:t.jsx(ur,{present:a||i.open,children:t.jsx(Uh.Slot,{scope:e.__scopeMenu,children:t.jsx(Hk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:He(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),p=D1e[o.dir].includes(f.key);h&&p&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});pH.displayName=hH;function xH(e){return e?"open":"closed"}function yy(e){return e==="indeterminate"}function Wk(e){return yy(e)?"indeterminate":e?"checked":"unchecked"}function twe(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function nwe(e,n){return e.map((r,a)=>e[(n+a)%e.length])}function rwe(e,n,r){const s=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let o=nwe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function awe(e,n){const{x:r,y:a}=e;let s=!1;for(let i=0,o=n.length-1;i<n.length;o=i++){const l=n[i].x,d=n[i].y,u=n[o].x,f=n[o].y;d>a!=f>a&&r<(u-l)*(a-d)/(f-d)+l&&(s=!s)}return s}function swe(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return awe(r,n)}function Kh(e){return n=>n.pointerType==="mouse"?e(n):void 0}var iwe=XB,owe=qk,lwe=JB,cwe=eH,dwe=Uk,uwe=tH,mwe=l0,fwe=rH,hwe=sH,pwe=oH,xwe=cH,gwe=dH,vwe=uH,ywe=fH,jwe=pH,Gk="DropdownMenu",[bwe]=sr(Gk,[QB]),da=QB(),[wwe,gH]=bwe(Gk),vH=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=da(n),u=w.useRef(null),[f=!1,h]=sa({prop:s,defaultProp:i,onChange:o});return t.jsx(wwe,{scope:n,triggerId:cr(),triggerRef:u,contentId:cr(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),modal:l,children:t.jsx(iwe,{...d,open:f,onOpenChange:h,dir:a,modal:l,children:r})})};vH.displayName=Gk;var yH="DropdownMenuTrigger",jH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=gH(yH,r),o=da(r);return t.jsx(owe,{asChild:!0,...o,children:t.jsx(ot.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:ho(n,i.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jH.displayName=yH;var Nwe="DropdownMenuPortal",bH=e=>{const{__scopeDropdownMenu:n,...r}=e,a=da(n);return t.jsx(lwe,{...a,...r})};bH.displayName=Nwe;var wH="DropdownMenuContent",NH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=gH(wH,r),i=da(r),o=w.useRef(!1);return t.jsx(cwe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:n,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{o.current||s.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NH.displayName=wH;var Cwe="DropdownMenuGroup",Swe=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(dwe,{...s,...a,ref:n})});Swe.displayName=Cwe;var Pwe="DropdownMenuLabel",CH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(uwe,{...s,...a,ref:n})});CH.displayName=Pwe;var Ewe="DropdownMenuItem",SH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(mwe,{...s,...a,ref:n})});SH.displayName=Ewe;var Awe="DropdownMenuCheckboxItem",PH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(fwe,{...s,...a,ref:n})});PH.displayName=Awe;var kwe="DropdownMenuRadioGroup",_we=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(hwe,{...s,...a,ref:n})});_we.displayName=kwe;var Twe="DropdownMenuRadioItem",EH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(pwe,{...s,...a,ref:n})});EH.displayName=Twe;var Owe="DropdownMenuItemIndicator",AH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(xwe,{...s,...a,ref:n})});AH.displayName=Owe;var Mwe="DropdownMenuSeparator",kH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(gwe,{...s,...a,ref:n})});kH.displayName=Mwe;var Rwe="DropdownMenuArrow",Dwe=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(vwe,{...s,...a,ref:n})});Dwe.displayName=Rwe;var Iwe="DropdownMenuSubTrigger",_H=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(ywe,{...s,...a,ref:n})});_H.displayName=Iwe;var $we="DropdownMenuSubContent",TH=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=da(r);return t.jsx(jwe,{...s,...a,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TH.displayName=$we;var Fwe=vH,Lwe=jH,zwe=bH,OH=NH,MH=CH,RH=SH,DH=PH,IH=EH,$H=AH,FH=kH,LH=_H,zH=TH;const qH=Fwe,VH=Lwe,qwe=w.forwardRef(({className:e,inset:n,children:r,...a},s)=>t.jsxs(LH,{ref:s,className:Fe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...a,children:[r,t.jsx(po,{className:"ml-auto"})]}));qwe.displayName=LH.displayName;const Vwe=w.forwardRef(({className:e,...n},r)=>t.jsx(zH,{ref:r,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n}));Vwe.displayName=zH.displayName;const Qk=w.forwardRef(({className:e,sideOffset:n=4,...r},a)=>t.jsx(zwe,{children:t.jsx(OH,{ref:a,sideOffset:n,className:Fe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Qk.displayName=OH.displayName;const jy=w.forwardRef(({className:e,inset:n,...r},a)=>t.jsx(RH,{ref:a,className:Fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...r}));jy.displayName=RH.displayName;const Bwe=w.forwardRef(({className:e,children:n,checked:r,...a},s)=>t.jsxs(DH,{ref:s,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx($H,{children:t.jsx(ta,{className:"h-4 w-4"})})}),n]}));Bwe.displayName=DH.displayName;const Hwe=w.forwardRef(({className:e,children:n,...r},a)=>t.jsxs(IH,{ref:a,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx($H,{children:t.jsx(c8,{className:"h-2 w-2 fill-current"})})}),n]}));Hwe.displayName=IH.displayName;const Uwe=w.forwardRef(({className:e,inset:n,...r},a)=>t.jsx(MH,{ref:a,className:Fe("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...r}));Uwe.displayName=MH.displayName;const Kwe=w.forwardRef(({className:e,...n},r)=>t.jsx(FH,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",e),...n}));Kwe.displayName=FH.displayName;const Wwe=De.object({name:De.string().min(1,"Nome  obrigatrio"),tradeName:De.string().optional(),cnpj:De.string().optional(),email:De.string().email("Email invlido").optional().or(De.literal("")),phone:De.string().optional(),address:De.string().optional(),city:De.string().optional(),state:De.string().optional(),segment:De.string().optional(),tipoEmpresa:De.string().optional(),vendedor:De.string().optional(),status:De.string().optional(),pipelineStage:De.string().optional(),contactName:De.string().optional(),contactPhone:De.string().optional(),contactEmail:De.string().email("Email invlido").optional().or(De.literal("")),estimatedValue:De.string().optional(),notes:De.string().optional()}),Gwe=["Transportadora","Operador Logstico","Indstria","Varejo","E-commerce","Armazenagem","Distribuidor","Outro"],qC=[{value:"prospect",label:"Prospecto"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"}],jF=[{value:"lead",label:"Lead"},{value:"contact",label:"Contato"},{value:"proposal",label:"Proposta"},{value:"negotiation",label:"Negociao"},{value:"closed",label:"Fechado"}];function Qwe(e){switch(e){case"active":return"default";case"prospect":return"secondary";case"inactive":return"outline";default:return"secondary"}}function Ywe(){const[e,n]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState(!1),[o,l]=w.useState(null),{toast:d}=At(),{data:u=[],isLoading:f}=Ve({queryKey:["/api/clients"]}),h=hs({resolver:ps(Wwe),defaultValues:{name:"",tradeName:"",cnpj:"",email:"",phone:"",address:"",city:"",state:"",segment:"",tipoEmpresa:"",vendedor:"",status:"prospect",pipelineStage:"lead",contactName:"",contactPhone:"",contactEmail:"",estimatedValue:"",notes:""}}),p=Ae({mutationFn:async b=>{const y={...b,companyId:1,estimatedValue:b.estimatedValue||void 0};return Ne("POST","/api/clients",y)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),i(!1),h.reset(),d({title:"Cliente criado com sucesso!"})},onError:()=>{d({title:"Erro ao criar cliente",variant:"destructive"})}}),v=Ae({mutationFn:async b=>{if(o)return Ne("PATCH",`/api/clients/${o.id}`,b)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),i(!1),l(null),h.reset(),d({title:"Cliente atualizado com sucesso!"})},onError:()=>{d({title:"Erro ao atualizar cliente",variant:"destructive"})}}),N=Ae({mutationFn:async b=>Ne("DELETE",`/api/clients/${b}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),d({title:"Cliente excludo com sucesso!"})},onError:()=>{d({title:"Erro ao excluir cliente",variant:"destructive"})}}),j=b=>{l(b),h.reset({name:b.name,tradeName:b.tradeName||"",cnpj:b.cnpj||"",email:b.email||"",phone:b.phone||"",address:b.address||"",city:b.city||"",state:b.state||"",segment:b.segment||"",tipoEmpresa:b.tipoEmpresa||"",vendedor:b.vendedor||"",status:b.status||"prospect",pipelineStage:b.pipelineStage||"lead",contactName:b.contactName||"",contactPhone:b.contactPhone||"",contactEmail:b.contactEmail||"",estimatedValue:b.estimatedValue?.toString()||"",notes:b.notes||""}),i(!0)},g=()=>{i(!1),l(null),h.reset()},P=b=>{o?v.mutate(b):p.mutate(b)},C=u.filter(b=>{const y=b.name.toLowerCase().includes(e.toLowerCase())||b.email?.toLowerCase().includes(e.toLowerCase())||b.cnpj?.includes(e),E=r==="all"||b.status===r;return y&&E});return t.jsx(Ot,{title:"Clientes",subtitle:"Gerencie sua base de clientes",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto",children:[t.jsxs("div",{className:"relative w-full sm:w-80",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar por nome, email ou CNPJ...",value:e,onChange:b=>n(b.target.value),className:"pl-9","data-testid":"input-search-clients"})]}),t.jsxs(Oe,{value:r,onValueChange:a,children:[t.jsxs(_e,{className:"w-full sm:w-40","data-testid":"select-status-filter",children:[t.jsx(sm,{className:"h-4 w-4 mr-2"}),t.jsx(Me,{placeholder:"Status"})]}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todos"}),qC.map(b=>t.jsx(ne,{value:b.value,children:b.label},b.value))]})]})]}),t.jsxs(bt,{open:s,onOpenChange:i,children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-client",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:o?"Editar Cliente":"Novo Cliente"}),t.jsx(tn,{children:o?"Atualize as informaes do cliente":"Preencha os dados para cadastrar um novo cliente"})]}),t.jsx(xs,{...h,children:t.jsxs("form",{onSubmit:h.handleSubmit(P),className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Qe,{control:h.control,name:"name",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Razo Social *"}),t.jsx(Ye,{children:t.jsx(J,{...b,"data-testid":"input-client-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"tradeName",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome Fantasia"}),t.jsx(Ye,{children:t.jsx(J,{...b,"data-testid":"input-client-trade-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"cnpj",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ye,{children:t.jsx(dm,{value:b.value||"",onChange:b.onChange,label:"CPF/CNPJ","data-testid":"input-client-cnpj"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"segment",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Segmento"}),t.jsxs(Oe,{onValueChange:b.onChange,value:b.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-segment",children:t.jsx(Me,{placeholder:"Selecione"})})}),t.jsx(Te,{children:Gwe.map(y=>t.jsx(ne,{value:y,children:y},y))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"vendedor",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Vendedor"}),t.jsx(Ye,{children:t.jsx(J,{...b,placeholder:"Responsvel comercial","data-testid":"input-client-vendedor"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"email",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",...b,"data-testid":"input-client-email"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"phone",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Telefone"}),t.jsx(Ye,{children:t.jsx(J,{...b,placeholder:"(00) 00000-0000","data-testid":"input-client-phone"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"city",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Cidade"}),t.jsx(Ye,{children:t.jsx(J,{...b,"data-testid":"input-client-city"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"state",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Estado"}),t.jsxs(Oe,{onValueChange:b.onChange,value:b.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-state",children:t.jsx(Me,{placeholder:"UF"})})}),t.jsx(Te,{children:is.map(y=>t.jsxs(ne,{value:y.uf,children:[y.uf," - ",y.name]},y.uf))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"status",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Status"}),t.jsxs(Oe,{onValueChange:b.onChange,value:b.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-status",children:t.jsx(Me,{placeholder:"Status"})})}),t.jsx(Te,{children:qC.map(y=>t.jsx(ne,{value:y.value,children:y.label},y.value))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"pipelineStage",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Etapa do Pipeline"}),t.jsxs(Oe,{onValueChange:b.onChange,value:b.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-pipeline",children:t.jsx(Me,{placeholder:"Etapa"})})}),t.jsx(Te,{children:jF.map(y=>t.jsx(ne,{value:y.value,children:y.label},y.value))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"estimatedValue",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Valor Estimado (R$)"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",step:"0.01",...b,"data-testid":"input-client-value"})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-4",children:"Contato Principal"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(Qe,{control:h.control,name:"contactName",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome"}),t.jsx(Ye,{children:t.jsx(J,{...b,"data-testid":"input-contact-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"contactPhone",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Telefone"}),t.jsx(Ye,{children:t.jsx(J,{...b,"data-testid":"input-contact-phone"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"contactEmail",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",...b,"data-testid":"input-contact-email"})}),t.jsx(Ze,{})]})})]})]}),t.jsx(Qe,{control:h.control,name:"notes",render:({field:b})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Observaes"}),t.jsx(Ye,{children:t.jsx(St,{...b,rows:3,"data-testid":"textarea-client-notes"})}),t.jsx(Ze,{})]})}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:g,children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:p.isPending||v.isPending,"data-testid":"button-save-client",children:p.isPending||v.isPending?"Salvando...":o?"Atualizar":"Cadastrar"})]})]})})]})]})]}),t.jsx(ee,{children:t.jsx(te,{className:"p-0",children:f?t.jsx("div",{className:"p-8 text-center",children:t.jsxs("div",{className:"animate-pulse space-y-3",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto"}),t.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"})]})}):C.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(nn,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),t.jsx("h3",{className:"font-medium mb-1",children:"Nenhum cliente encontrado"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e||r!=="all"?"Tente ajustar os filtros de busca":"Comece adicionando seu primeiro cliente"}),!e&&r==="all"&&t.jsxs(H,{onClick:()=>i(!0),children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar cliente"]})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Nome"}),t.jsx(nt,{children:"Segmento"}),t.jsx(nt,{children:"Cidade/UF"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{children:"Etapa"}),t.jsx(nt,{className:"text-right",children:"Valor Est."}),t.jsx(nt,{className:"w-12"})]})}),t.jsx(aa,{children:C.map(b=>t.jsxs(bn,{"data-testid":`row-client-${b.id}`,children:[t.jsx(et,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:b.name}),b.email&&t.jsx("p",{className:"text-sm text-muted-foreground",children:b.email})]})}),t.jsx(et,{children:b.segment||"-"}),t.jsx(et,{children:b.city&&b.state?`${b.city}/${b.state}`:"-"}),t.jsx(et,{children:t.jsx(Ee,{variant:Qwe(b.status||""),children:qC.find(y=>y.value===b.status)?.label||"Prospecto"})}),t.jsx(et,{children:jF.find(y=>y.value===b.pipelineStage)?.label||"Lead"}),t.jsx(et,{className:"text-right",children:b.estimatedValue?Vt(Number(b.estimatedValue)):"-"}),t.jsx(et,{children:t.jsxs(qH,{children:[t.jsx(VH,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"icon","data-testid":`button-menu-client-${b.id}`,children:t.jsx($Z,{className:"h-4 w-4"})})}),t.jsxs(Qk,{align:"end",children:[t.jsxs(jy,{onClick:()=>j(b),children:[t.jsx(er,{className:"h-4 w-4 mr-2"}),"Editar"]}),t.jsxs(jy,{className:"text-destructive",onClick:()=>N.mutate(b.id),children:[t.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},b.id))})]})})})})]})})}function Xwe(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var Yk="ScrollArea",[BH]=sr(Yk),[Zwe,ys]=BH(Yk),HH=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,d]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(null),[v,N]=w.useState(null),[j,g]=w.useState(null),[P,C]=w.useState(0),[b,y]=w.useState(0),[E,S]=w.useState(!1),[k,T]=w.useState(!1),z=qt(n,F=>d(F)),Y=Xc(s);return t.jsx(Zwe,{scope:r,type:a,dir:Y,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:v,onScrollbarXChange:N,scrollbarXEnabled:E,onScrollbarXEnabledChange:S,scrollbarY:j,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:C,onCornerHeightChange:y,children:t.jsx(ot.div,{dir:Y,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});HH.displayName=Yk;var UH="ScrollAreaViewport",KH=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:a,nonce:s,...i}=e,o=ys(UH,r),l=w.useRef(null),d=qt(n,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),t.jsx(ot.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});KH.displayName=UH;var Oi="ScrollAreaScrollbar",Xk=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,s=ys(Oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?t.jsx(Jwe,{...a,ref:n,forceMount:r}):s.type==="scroll"?t.jsx(eNe,{...a,ref:n,forceMount:r}):s.type==="auto"?t.jsx(WH,{...a,ref:n,forceMount:r}):s.type==="always"?t.jsx(Zk,{...a,ref:n}):null});Xk.displayName=Oi;var Jwe=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,s=ys(Oi,e.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),t.jsx(ur,{present:r||i,children:t.jsx(WH,{"data-state":i?"visible":"hidden",...a,ref:n})})}),eNe=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,s=ys(Oi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=d0(()=>d("SCROLL_END"),100),[l,d]=Xwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,d]),w.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const v=u[f];h!==v&&(d("SCROLL"),o()),h=v};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,d,o]),t.jsx(ur,{present:r||l!=="hidden",children:t.jsx(Zk,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:He(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),WH=w.forwardRef((e,n)=>{const r=ys(Oi,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=w.useState(!1),l=e.orientation==="horizontal",d=d0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return Uu(r.viewport,d),Uu(r.content,d),t.jsx(ur,{present:a||i,children:t.jsx(Zk,{"data-state":i?"visible":"hidden",...s,ref:n})})}),Zk=w.forwardRef((e,n)=>{const{orientation:r="vertical",...a}=e,s=ys(Oi,e.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[l,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZH(l.viewport,l.content),f={...a,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,v){return iNe(p,o.current,l,v)}return r==="horizontal"?t.jsx(tNe,{...f,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=bF(p,l,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?t.jsx(nNe,{...f,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=bF(p,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),tNe=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...s}=e,i=ys(Oi,e.__scopeScrollArea),[o,l]=w.useState(),d=w.useRef(null),u=qt(n,d,i.onScrollbarXChange);return w.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(QH,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":c0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),eU(p,h)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:wy(o.paddingLeft),paddingEnd:wy(o.paddingRight)}})}})}),nNe=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...s}=e,i=ys(Oi,e.__scopeScrollArea),[o,l]=w.useState(),d=w.useRef(null),u=qt(n,d,i.onScrollbarYChange);return w.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(QH,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":c0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),eU(p,h)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:wy(o.paddingTop),paddingEnd:wy(o.paddingBottom)}})}})}),[rNe,GH]=BH(Oi),QH=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=e,v=ys(Oi,r),[N,j]=w.useState(null),g=qt(n,z=>j(z)),P=w.useRef(null),C=w.useRef(""),b=v.viewport,y=a.content-a.viewport,E=Bn(f),S=Bn(d),k=d0(h,10);function T(z){if(P.current){const Y=z.clientX-P.current.left,F=z.clientY-P.current.top;u({x:Y,y:F})}}return w.useEffect(()=>{const z=Y=>{const F=Y.target;N?.contains(F)&&E(Y,y)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[b,N,y,E]),w.useEffect(S,[a,S]),Uu(N,k),Uu(v.content,k),t.jsx(rNe,{scope:r,scrollbar:N,hasThumb:s,onThumbChange:Bn(i),onThumbPointerUp:Bn(o),onThumbPositionChange:S,onThumbPointerDown:Bn(l),children:t.jsx(ot.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:He(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),P.current=N.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),T(z))}),onPointerMove:He(e.onPointerMove,T),onPointerUp:He(e.onPointerUp,z=>{const Y=z.target;Y.hasPointerCapture(z.pointerId)&&Y.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=C.current,v.viewport&&(v.viewport.style.scrollBehavior=""),P.current=null})})})}),by="ScrollAreaThumb",YH=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,s=GH(by,e.__scopeScrollArea);return t.jsx(ur,{present:r||s.hasThumb,children:t.jsx(aNe,{ref:n,...a})})}),aNe=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:a,...s}=e,i=ys(by,r),o=GH(by,r),{onThumbPositionChange:l}=o,d=qt(n,h=>o.onThumbChange(h)),u=w.useRef(void 0),f=d0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(f(),!u.current){const v=oNe(h,l);u.current=v,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,f,l]),t.jsx(ot.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:He(e.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),N=h.clientX-v.left,j=h.clientY-v.top;o.onThumbPointerDown({x:N,y:j})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});YH.displayName=by;var Jk="ScrollAreaCorner",XH=w.forwardRef((e,n)=>{const r=ys(Jk,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?t.jsx(sNe,{...e,ref:n}):null});XH.displayName=Jk;var sNe=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,...a}=e,s=ys(Jk,r),[i,o]=w.useState(0),[l,d]=w.useState(0),u=!!(i&&l);return Uu(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),d(f)}),Uu(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),o(f)}),u?t.jsx(ot.div,{...a,ref:n,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wy(e){return e?parseInt(e,10):0}function ZH(e,n){const r=e/n;return isNaN(r)?0:r}function c0(e){const n=ZH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*n;return Math.max(a,18)}function iNe(e,n,r,a="ltr"){const s=c0(r),i=s/2,o=n||i,l=s-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=a==="ltr"?[0,f]:[f*-1,0];return JH([d,u],h)(e)}function bF(e,n,r="ltr"){const a=c0(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=n.scrollbar.size-s,o=n.content-n.viewport,l=i-a,d=r==="ltr"?[0,o]:[o*-1,0],u=US(e,d);return JH([0,o],[0,l])(u)}function JH(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(r-e[0])}}function eU(e,n){return e>0&&e<n}var oNe=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&n(),r=i,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function d0(e,n){const r=Bn(e),a=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),w.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,n)},[r,n])}function Uu(e,n){const r=Bn(n);ar(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var tU=HH,lNe=KH,cNe=XH;const zc=w.forwardRef(({className:e,children:n,...r},a)=>t.jsxs(tU,{ref:a,className:Fe("relative overflow-hidden",e),...r,children:[t.jsx(lNe,{className:"h-full w-full rounded-[inherit]",children:n}),t.jsx(e_,{}),t.jsx(cNe,{})]}));zc.displayName=tU.displayName;const e_=w.forwardRef(({className:e,orientation:n="vertical",...r},a)=>t.jsx(Xk,{ref:a,orientation:n,className:Fe("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:t.jsx(YH,{className:"relative flex-1 rounded-full bg-border"})}));e_.displayName=Xk.displayName;const gf=[{id:"lead",label:"Leads",color:"bg-sky-600 dark:bg-sky-500",description:"Novos contatos",isPending:!1},{id:"contact",label:"Contato",color:"bg-primary",description:"Em primeiro contato",isPending:!1},{id:"proposal",label:"Proposta",color:"bg-violet-600 dark:bg-violet-500",description:"Aguardando aprovacao",isPending:!0},{id:"negotiation",label:"Negociao",color:"bg-amber-600 dark:bg-amber-500",description:"Em negociao",isPending:!0},{id:"closed",label:"Fechado",color:"bg-emerald-600 dark:bg-emerald-500",description:"Cliente conquistado",isPending:!1}];function dNe(){const[e,n]=w.useState(null),{toast:r}=At(),{data:a=[],isLoading:s}=Ve({queryKey:["/api/clients"]}),i=Ae({mutationFn:async({id:g,stage:P})=>Ne("PATCH",`/api/clients/${g}`,{pipelineStage:P}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),n(null),r({title:"Cliente movido com sucesso!"})},onError:()=>{r({title:"Erro ao mover cliente",variant:"destructive"})}}),o=(g,P)=>{g.pipelineStage!==P&&n({client:g,newStage:P})},l=()=>{e&&i.mutate({id:e.client.id,stage:e.newStage})},d=g=>a.filter(P=>P.pipelineStage===g),u=g=>g.reduce((P,C)=>P+Number(C.estimatedValue||0),0),f=()=>{const g=gf.filter(P=>P.isPending).map(P=>P.id);return a.filter(P=>g.includes(P.pipelineStage||"")).reduce((P,C)=>P+Number(C.estimatedValue||0),0)},p=a.filter(g=>g.metaValor&&Number(g.metaValor)>0).reduce((g,P)=>g+Number(P.metaValor||0),0),v=a.reduce((g,P)=>g+Number(P.estimatedValue||0),0),N=p>0?p-v:0,j=f();return t.jsxs(Ot,{title:"Pipeline de Vendas",subtitle:"Acompanhe o funil de vendas",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:t.jsx(ba,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor Total Pipeline"}),t.jsx("p",{className:"text-lg font-bold",children:Vt(v)})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-amber-500/10",children:t.jsx(Ai,{className:"h-5 w-5 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando Aprovacao"}),t.jsx("p",{className:"text-lg font-bold text-amber-500",children:Vt(j)})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-blue-500/10",children:t.jsx(Dr,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Meta Total"}),t.jsx("p",{className:"text-lg font-bold text-blue-500",children:p>0?Vt(p):"Sem metas"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-md ${p===0?"bg-muted":N>0?"bg-red-500/10":"bg-green-500/10"}`,children:t.jsx(pn,{className:`h-5 w-5 ${p===0?"text-muted-foreground":N>0?"text-red-500":"text-green-500"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Falta para Meta"}),t.jsx("p",{className:`text-lg font-bold ${p===0?"text-muted-foreground":N>0?"text-red-500":"text-green-500"}`,children:p===0?"Defina metas":N>0?Vt(N):"Atingida!"})]})]})})})]}),t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium text-foreground",children:a.length})," clientes no funil"]})}),t.jsx(H,{asChild:!0,children:t.jsxs(it,{href:"/clientes",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})})]}),t.jsxs(zc,{className:"w-full",children:[t.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"max-content"},children:gf.map(g=>{const P=d(g.id),C=u(P);return t.jsx("div",{className:"flex-shrink-0 w-72","data-testid":`pipeline-column-${g.id}`,children:t.jsxs(ee,{className:"h-full",children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),t.jsx(ue,{className:"text-base",children:g.label})]}),t.jsx(Ee,{variant:"secondary",children:P.length})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:g.description}),C>0&&t.jsx("p",{className:"text-sm font-medium text-primary",children:Vt(C)})]}),t.jsx(te,{className:"space-y-2 min-h-[400px]",children:s?t.jsx("div",{className:"space-y-2",children:[1,2].map(b=>t.jsx("div",{className:"h-24 bg-muted animate-pulse rounded-md"},b))}):P.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx(nn,{className:"h-8 w-8 text-muted-foreground/30 mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum cliente"})]}):P.map(b=>t.jsx(ee,{className:"cursor-pointer hover-elevate","data-testid":`pipeline-card-${b.id}`,children:t.jsxs(te,{className:"p-3",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(GZ,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0 mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",children:b.name}),t.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[t.jsx(nn,{className:"h-3 w-3"}),t.jsx("span",{className:"truncate",children:b.segment||"Sem segmento"})]}),b.contactName&&t.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[t.jsx(ko,{className:"h-3 w-3"}),t.jsx("span",{className:"truncate",children:b.contactName})]}),b.estimatedValue&&t.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[t.jsx(ba,{className:"h-3 w-3 text-primary"}),t.jsx("span",{className:"text-xs font-medium text-primary",children:Vt(Number(b.estimatedValue))})]})]})]}),t.jsx("div",{className:"mt-3 flex gap-1",children:t.jsxs(Oe,{value:b.pipelineStage||"lead",onValueChange:y=>o(b,y),children:[t.jsx(_e,{className:"h-7 text-xs",children:t.jsx(Me,{})}),t.jsx(Te,{children:gf.map(y=>t.jsx(ne,{value:y.id,children:y.label},y.id))})]})})]})},b.id))})]})},g.id)})}),t.jsx(e_,{orientation:"horizontal"})]})]}),t.jsx(bt,{open:!!e,onOpenChange:()=>n(null),children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Mover Cliente"}),t.jsx(tn,{children:"Confirmar a mudana de etapa do cliente?"})]}),e&&t.jsxs("div",{className:"py-4",children:[t.jsxs("p",{className:"text-sm mb-4",children:[t.jsx("span",{className:"font-medium",children:e.client.name})," ser movido para:"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ee,{variant:"secondary",children:gf.find(g=>g.id===e.client.pipelineStage)?.label}),t.jsx(po,{className:"h-4 w-4 text-muted-foreground"}),t.jsx(Ee,{children:gf.find(g=>g.id===e.newStage)?.label})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>n(null),children:"Cancelar"}),t.jsx(H,{onClick:l,disabled:i.isPending,children:i.isPending?"Movendo...":"Confirmar"})]})]})})]})}var nU="AlertDialog",[uNe]=sr(nU,[Dq]),Ro=Dq(),rU=e=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return t.jsx(fj,{...a,...r,modal:!0})};rU.displayName=nU;var mNe="AlertDialogTrigger",fNe=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,s=Ro(r);return t.jsx(Xq,{...s,...a,ref:n})});fNe.displayName=mNe;var hNe="AlertDialogPortal",aU=e=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return t.jsx(hj,{...a,...r})};aU.displayName=hNe;var pNe="AlertDialogOverlay",sU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,s=Ro(r);return t.jsx(um,{...s,...a,ref:n})});sU.displayName=pNe;var du="AlertDialogContent",[xNe,gNe]=uNe(du),vNe=ML("AlertDialogContent"),iU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=Ro(r),o=w.useRef(null),l=qt(n,o),d=w.useRef(null);return t.jsx(ise,{contentName:du,titleName:oU,docsSlug:"alert-dialog",children:t.jsx(xNe,{scope:r,cancelRef:d,children:t.jsxs(mm,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:He(s.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[t.jsx(vNe,{children:a}),t.jsx(jNe,{contentRef:o})]})})})});iU.displayName=du;var oU="AlertDialogTitle",lU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,s=Ro(r);return t.jsx(xp,{...s,...a,ref:n})});lU.displayName=oU;var cU="AlertDialogDescription",dU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,s=Ro(r);return t.jsx(gp,{...s,...a,ref:n})});dU.displayName=cU;var yNe="AlertDialogAction",uU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,s=Ro(r);return t.jsx(pj,{...s,...a,ref:n})});uU.displayName=yNe;var mU="AlertDialogCancel",fU=w.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=gNe(mU,r),i=Ro(r),o=qt(n,s);return t.jsx(pj,{...i,...a,ref:o})});fU.displayName=mU;var jNe=({contentRef:e})=>{const n=`\`${du}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${du}\` by passing a \`${cU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${du}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},bNe=rU,wNe=aU,hU=sU,pU=iU,xU=uU,gU=fU,vU=lU,yU=dU;const NNe=bNe,CNe=wNe,jU=w.forwardRef(({className:e,...n},r)=>t.jsx(hU,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));jU.displayName=hU.displayName;const bU=w.forwardRef(({className:e,...n},r)=>t.jsxs(CNe,{children:[t.jsx(jU,{}),t.jsx(pU,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));bU.displayName=pU.displayName;const wU=({className:e,...n})=>t.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",e),...n});wU.displayName="AlertDialogHeader";const NU=({className:e,...n})=>t.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});NU.displayName="AlertDialogFooter";const CU=w.forwardRef(({className:e,...n},r)=>t.jsx(vU,{ref:r,className:Fe("text-lg font-semibold",e),...n}));CU.displayName=vU.displayName;const SU=w.forwardRef(({className:e,...n},r)=>t.jsx(yU,{ref:r,className:Fe("text-sm text-muted-foreground",e),...n}));SU.displayName=yU.displayName;const PU=w.forwardRef(({className:e,...n},r)=>t.jsx(xU,{ref:r,className:Fe(mA(),e),...n}));PU.displayName=xU.displayName;const EU=w.forwardRef(({className:e,...n},r)=>t.jsx(gU,{ref:r,className:Fe(mA({variant:"outline"}),"mt-2 sm:mt-0",e),...n}));EU.displayName=gU.displayName;const SNe=De.object({name:De.string().optional(),originCity:De.string().min(1,"Cidade de origem  obrigatria"),originState:De.string().min(1,"Estado de origem  obrigatrio"),destinationCity:De.string().min(1,"Cidade de destino  obrigatria"),destinationState:De.string().min(1,"Estado de destino  obrigatrio"),distanceKm:De.string().min(1,"Distncia  obrigatria"),tollPerAxle:De.string().optional(),routeDate:De.string().optional(),itinerary:De.string().optional()});function PNe(){const[e,n]=w.useState(!1),[r,a]=w.useState(null),[s,i]=w.useState(null),[o,l]=w.useState(""),[d,u]=w.useState([]),[f,h]=w.useState([]),[p,v]=w.useState(!1),[N,j]=w.useState(!1),{toast:g}=At(),P=async I=>{if(!I)return[];try{const G=await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${I}/municipios?orderBy=nome`);return G.ok?await G.json():[]}catch{return[]}},C=hs({resolver:ps(SNe),defaultValues:{name:"",originCity:"",originState:"",destinationCity:"",destinationState:"",distanceKm:"",tollPerAxle:"0",routeDate:"",itinerary:""}}),{data:b=[],isLoading:y}=Ve({queryKey:["/api/saved-routes"]}),E=Ae({mutationFn:async I=>Ne("POST","/api/saved-routes",I),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/saved-routes"]}),n(!1),C.reset(),g({title:"Rota criada com sucesso!"})},onError:()=>{g({title:"Erro ao criar rota",variant:"destructive"})}}),S=Ae({mutationFn:async({id:I,data:G})=>Ne("PATCH",`/api/saved-routes/${I}`,G),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/saved-routes"]}),n(!1),a(null),C.reset(),g({title:"Rota atualizada com sucesso!"})},onError:()=>{g({title:"Erro ao atualizar rota",variant:"destructive"})}}),k=Ae({mutationFn:async I=>Ne("DELETE",`/api/saved-routes/${I}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/saved-routes"]}),i(null),g({title:"Rota excluda com sucesso!"})},onError:()=>{g({title:"Erro ao excluir rota",variant:"destructive"})}}),T=async I=>{if(I){if(a(I),C.reset({name:I.name,originCity:I.originCity,originState:I.originState,destinationCity:I.destinationCity,destinationState:I.destinationState,distanceKm:I.distanceKm,tollPerAxle:I.tollPerAxle||"0",routeDate:I.routeDate?new Date(I.routeDate).toISOString().split("T")[0]:"",itinerary:I.itinerary||""}),I.originState){v(!0);const G=await P(I.originState);u(G),v(!1)}if(I.destinationState){j(!0);const G=await P(I.destinationState);h(G),j(!1)}}else a(null),u([]),h([]),C.reset();n(!0)},z=async I=>{C.setValue("originState",I),C.setValue("originCity",""),v(!0);const G=await P(I);u(G),v(!1)},Y=async I=>{C.setValue("destinationState",I),C.setValue("destinationCity",""),j(!0);const G=await P(I);h(G),j(!1)},F=I=>{const G=`${I.originCity}/${I.originState} - ${I.destinationCity}/${I.destinationState}`,M={...I,name:G,routeDate:I.routeDate?new Date(I.routeDate).toISOString():null};r?S.mutate({id:r.id,data:M}):E.mutate(M)},D=C.watch("originCity"),R=C.watch("originState"),q=C.watch("destinationCity"),Q=C.watch("destinationState"),K=D&&q?`${D}/${R} - ${q}/${Q}`:"",U=b.filter(I=>{const G=o.toLowerCase();return I.name.toLowerCase().includes(G)||I.originCity.toLowerCase().includes(G)||I.destinationCity.toLowerCase().includes(G)}),O=I=>!I||I==="0"?"-":`R$ ${parseFloat(I).toFixed(2).replace(".",",")}`;return t.jsxs(Ot,{title:"Rotas Salvas",subtitle:"Gerencie rotas para reutilizar em cotaes de frete",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:t.jsx(kS,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Rotas"}),t.jsx("p",{className:"text-2xl font-bold",children:b.length})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-emerald-500/10",children:t.jsx(Ac,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Rotas Ativas"}),t.jsx("p",{className:"text-2xl font-bold",children:b.filter(I=>I.isActive).length})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-blue-500/10",children:t.jsx(Nl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Economia Estimada"}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Evite cobranas da API"})]})]})})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 space-y-0 pb-4",children:[t.jsx(ue,{className:"text-lg",children:"Rotas Cadastradas"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar rotas...",value:o,onChange:I=>l(I.target.value),className:"pl-9 w-64","data-testid":"input-search-routes"})]}),t.jsxs(H,{onClick:()=>T(),"data-testid":"button-new-route",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Rota"]})]})]}),t.jsx(te,{children:y?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):U.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(kS,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:o?"Nenhuma rota encontrada":"Nenhuma rota cadastrada"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:!o&&"Cadastre rotas para reutilizar os dados de KM e pedgio em novas cotaes"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{className:"w-16",children:"N"}),t.jsx(nt,{children:"Nome da Rota"}),t.jsx(nt,{className:"text-right",children:"Distncia (KM)"}),t.jsx(nt,{className:"text-right",children:"Pedgio Por Rota (R$)"}),t.jsx(nt,{children:"Data"}),t.jsx(nt,{className:"w-24",children:"Aes"})]})}),t.jsx(aa,{children:U.map(I=>t.jsxs(bn,{"data-testid":`row-route-${I.id}`,children:[t.jsx(et,{className:"font-medium text-muted-foreground",children:I.routeNumber?.toString().padStart(3,"0")||"-"}),t.jsx(et,{className:"font-medium",children:I.name}),t.jsxs(et,{className:"text-right",children:[parseFloat(I.distanceKm).toLocaleString("pt-BR")," km"]}),t.jsx(et,{className:"text-right",children:O(I.tollPerAxle)}),t.jsx(et,{children:I.routeDate?new Date(I.routeDate).toLocaleDateString("pt-BR"):"-"}),t.jsx(et,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>T(I),"data-testid":`button-edit-${I.id}`,children:[t.jsx(er,{className:"h-4 w-4 mr-1"}),"Editar"]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>i(I),className:"text-destructive","data-testid":`button-delete-${I.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},I.id))})]})})})]})]}),t.jsx(bt,{open:e,onOpenChange:n,children:t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:r?"Editar Rota":"Nova Rota"}),t.jsx(tn,{children:"Cadastre uma rota com os dados de distncia e pedgio para reutilizar em cotaes"})]}),t.jsx(xs,{...C,children:t.jsxs("form",{onSubmit:C.handleSubmit(F),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Origem"}),t.jsx(Qe,{control:C.control,name:"originState",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Estado"}),t.jsxs(Oe,{onValueChange:z,value:I.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-origin-state",children:t.jsx(Me,{placeholder:"Selecione o estado"})})}),t.jsx(Te,{children:is.map(G=>t.jsxs(ne,{value:G.uf,children:[G.uf," - ",G.name]},G.uf))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:C.control,name:"originCity",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Cidade"}),t.jsxs(Oe,{onValueChange:I.onChange,value:I.value,disabled:!C.watch("originState")||p,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-origin-city",children:t.jsx(Me,{placeholder:p?"Carregando...":"Selecione a cidade"})})}),t.jsx(Te,{children:d.map(G=>t.jsx(ne,{value:G.nome,children:G.nome},G.id))})]}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Destino"}),t.jsx(Qe,{control:C.control,name:"destinationState",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Estado"}),t.jsxs(Oe,{onValueChange:Y,value:I.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-destination-state",children:t.jsx(Me,{placeholder:"Selecione o estado"})})}),t.jsx(Te,{children:is.map(G=>t.jsxs(ne,{value:G.uf,children:[G.uf," - ",G.name]},G.uf))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:C.control,name:"destinationCity",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Cidade"}),t.jsxs(Oe,{onValueChange:I.onChange,value:I.value,disabled:!C.watch("destinationState")||N,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-destination-city",children:t.jsx(Me,{placeholder:N?"Carregando...":"Selecione a cidade"})})}),t.jsx(Te,{children:f.map(G=>t.jsx(ne,{value:G.nome,children:G.nome},G.id))})]}),t.jsx(Ze,{})]})})]})]}),t.jsxs("div",{children:[t.jsx(Ge,{children:"Nome da Rota (gerado automaticamente)"}),t.jsx(J,{value:K,disabled:!0,placeholder:"Selecione as cidades de origem e destino",className:"mt-2 bg-muted","data-testid":"input-route-name"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsx(Qe,{control:C.control,name:"distanceKm",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Distncia (KM)"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",step:"0.01",placeholder:"0.00",...I,"data-testid":"input-distance"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:C.control,name:"tollPerAxle",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Pedgio Por Eixo (R$)"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",step:"0.01",placeholder:"0.00",...I,"data-testid":"input-toll"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:C.control,name:"routeDate",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Data"}),t.jsx(Ye,{children:t.jsx(J,{type:"date",...I,"data-testid":"input-route-date"})}),t.jsx(Ze,{})]})})]}),t.jsx("div",{className:"border rounded-md p-4 bg-muted/30",children:t.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ac,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Mapa do percurso"}),t.jsx("p",{className:"text-xs mt-1",children:"(Disponvel aps integrao com QualP)"})]})})}),t.jsx(Qe,{control:C.control,name:"itinerary",render:({field:I})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Itinerrio (cidades e estados intermedirios)"}),t.jsx(Ye,{children:t.jsx(St,{placeholder:"Ex: Ponta Grossa/PR, Registro/SP, Juqui/SP...",className:"resize-none",rows:3,...I,"data-testid":"input-itinerary"})})]})}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:E.isPending||S.isPending,"data-testid":"button-save-route",children:E.isPending||S.isPending?"Salvando...":"Salvar"})]})]})})]})}),t.jsx(NNe,{open:!!s,onOpenChange:()=>i(null),children:t.jsxs(bU,{children:[t.jsxs(wU,{children:[t.jsx(CU,{children:"Excluir Rota"}),t.jsxs(SU,{children:['Tem certeza que deseja excluir a rota "',s?.name,'"? Esta ao no pode ser desfeita.']})]}),t.jsxs(NU,{children:[t.jsx(EU,{children:"Cancelar"}),t.jsx(PU,{onClick:()=>s&&k.mutate(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:k.isPending?"Excluindo...":"Excluir"})]})]})})]})}var t_="Progress",n_=100,[ENe]=sr(t_),[ANe,kNe]=ENe(t_),AU=w.forwardRef((e,n)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=_Ne,...o}=e;(s||s===0)&&!wF(s)&&console.error(TNe(`${s}`,"Progress"));const l=wF(s)?s:n_;a!==null&&!NF(a,l)&&console.error(ONe(`${a}`,"Progress"));const d=NF(a,l)?a:null,u=Ny(d)?i(d,l):void 0;return t.jsx(ANe,{scope:r,value:d,max:l,children:t.jsx(ot.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ny(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":TU(d,l),"data-value":d??void 0,"data-max":l,...o,ref:n})})});AU.displayName=t_;var kU="ProgressIndicator",_U=w.forwardRef((e,n)=>{const{__scopeProgress:r,...a}=e,s=kNe(kU,r);return t.jsx(ot.div,{"data-state":TU(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:n})});_U.displayName=kU;function _Ne(e,n){return`${Math.round(e/n*100)}%`}function TU(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function Ny(e){return typeof e=="number"}function wF(e){return Ny(e)&&!isNaN(e)&&e>0}function NF(e,n){return Ny(e)&&!isNaN(e)&&e<=n&&e>=0}function TNe(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${n_}\`.`}function ONe(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${n_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OU=AU,MNe=_U;const Ku=w.forwardRef(({className:e,value:n,...r},a)=>t.jsx(OU,{ref:a,className:Fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:t.jsx(MNe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));Ku.displayName=OU.displayName;var r_="Tabs",[RNe]=sr(r_,[ym]),MU=ym(),[DNe,a_]=RNe(r_),RU=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,f=Xc(l),[h,p]=sa({prop:a,onChange:s,defaultProp:i});return t.jsx(DNe,{scope:r,baseId:cr(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:d,children:t.jsx(ot.div,{dir:f,"data-orientation":o,...u,ref:n})})});RU.displayName=r_;var DU="TabsList",IU=w.forwardRef((e,n)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=a_(DU,r),o=MU(r);return t.jsx(Lk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(ot.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:n})})});IU.displayName=DU;var $U="TabsTrigger",FU=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,o=a_($U,r),l=MU(r),d=qU(o.baseId,a),u=VU(o.baseId,a),f=a===o.value;return t.jsx(zk,{asChild:!0,...l,focusable:!s,active:f,children:t.jsx(ot.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:n,onMouseDown:He(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:He(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:He(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(a)})})})});FU.displayName=$U;var LU="TabsContent",zU=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...o}=e,l=a_(LU,r),d=qU(l.baseId,a),u=VU(l.baseId,a),f=a===l.value,h=w.useRef(f);return w.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(ur,{present:s||f,children:({present:p})=>t.jsx(ot.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:u,tabIndex:0,...o,ref:n,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});zU.displayName=LU;function qU(e,n){return`${e}-trigger-${n}`}function VU(e,n){return`${e}-content-${n}`}var INe=RU,BU=IU,HU=FU,UU=zU;const js=INe,qa=w.forwardRef(({className:e,...n},r)=>t.jsx(BU,{ref:r,className:Fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));qa.displayName=BU.displayName;const Jt=w.forwardRef(({className:e,...n},r)=>t.jsx(HU,{ref:r,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...n}));Jt.displayName=HU.displayName;const en=w.forwardRef(({className:e,...n},r)=>t.jsx(UU,{ref:r,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));en.displayName=UU.displayName;const gg=[{id:"perfil",label:"Perfil do Cliente",icon:nn,group:"capa"},{id:"comercial",label:"Comercial",icon:rp,group:"areas"},{id:"direo",label:"Direo",icon:Dr,group:"areas"},{id:"qualidade",label:"Qualidade",icon:GE,group:"areas"},{id:"planejamento",label:"Planejamento",icon:Po,group:"areas"},{id:"financeiro",label:"Financeiro",icon:ba,group:"areas"},{id:"transporte",label:"Op. Transporte",icon:Nl,group:"operaes"},{id:"distribuio",label:"Op. Distribuio",icon:Er,group:"operaes"},{id:"armazenagem",label:"Op. Armazenagem",icon:eA,group:"operaes"},{id:"grisco",label:"GRISCO",icon:fJ,group:"areas"},{id:"ti",label:"T.I",icon:DZ,group:"areas"},{id:"compras",label:"Compras",icon:Er,group:"areas"},{id:"contbil",label:"Contbil/Fiscal",icon:Xt,group:"areas"},{id:"rh",label:"RH",icon:hn,group:"areas"},{id:"motoristas",label:"Motoristas",icon:Nl,group:"areas"},{id:"marketing",label:"Marketing",icon:us,group:"areas"},{id:"jurdico",label:"Jurdico",icon:KZ,group:"areas"},{id:"anexos",label:"Anexos",icon:Xt,group:"areas"},{id:"teste",label:"Cliente em Teste",icon:d8,group:"final"},{id:"onboarding",label:"Boas Vindas",icon:oJ,group:"final"},{id:"relacionamento",label:"Relacionamento",icon:ip,group:"final"}],VC={comercial:[{id:"com1",question:"Cronograma de cadastro e homologao definido?"},{id:"com2",question:"Base de negociao estabelecida?"},{id:"com3",question:"CRM/Grupo negociador configurado?"},{id:"com4",question:"Funil de vendas atualizado?"},{id:"com5",question:"Check List RFI enviado?"},{id:"com6",question:"Rotas e volumetrias recebidas?"},{id:"com7",question:"Proposta comercial/tcnica enviada?"}],direcao:[{id:"dir1",question:"Anlise de perfil realizada?"},{id:"dir2",question:"Cliente atende pr-requisitos?"},{id:"dir3",question:"Segmento compatvel com atuao?"},{id:"dir4",question:"Valor agregado da mercadoria adequado?"},{id:"dir5",question:"Regularidade e frequncia definidas?"}],qualidade:[{id:"qual1",question:"Certificaes necessrias identificadas?"},{id:"qual2",question:"Licenas obrigatrias verificadas?"},{id:"qual3",question:"Requisitos de qualidade documentados?"},{id:"qual4",question:"Procedimentos de auditoria definidos?"}],planejamento:[{id:"plan1",question:"Anlise de rotas/volumetria - Transporte?"},{id:"plan2",question:"Anlise de rotas/volumetria - Distribuio?"},{id:"plan3",question:"Anlise de posio pallets/m - Armazenagem?"},{id:"plan4",question:"Proposta tcnica elaborada?"},{id:"plan5",question:"Tabela de frete calculada?"}],financeiro:[{id:"fin1",question:"Prazos de pagamento definidos?"},{id:"fin2",question:"Forma de pagamento acordada?"},{id:"fin3",question:"Portais de pagamento configurados?"},{id:"fin4",question:"Anlise de crdito realizada?"},{id:"fin5",question:"Dados bancrios atualizados?"},{id:"fin6",question:"CNPJ pagador de cada operao definido?"}],transporte:[{id:"trans1",question:"Atendimento operacional estruturado?"},{id:"trans2",question:"UF de origem definidas?"},{id:"trans3",question:"UF de destino definidas?"},{id:"trans4",question:"Emisso de CT-e configurada?"},{id:"trans5",question:"MDF-e configurado?"},{id:"trans6",question:"Liberao de cargas definida?"}],distribuio:[{id:"dist1",question:"Roteiros definidos?"},{id:"dist2",question:"Atendimento de distribuio estruturado?"},{id:"dist3",question:"Emisso de CT-e configurada?"},{id:"dist4",question:"Particularidades do CT-e documentadas?"},{id:"dist5",question:"Tabela de frete vlida?"}],armazenagem:[{id:"arm1",question:"Atendimento de armazenagem estruturado?"},{id:"arm2",question:"Posies de pallets definidas?"},{id:"arm3",question:"Picking & Packing configurado?"},{id:"arm4",question:"FEFO/FIFO implementado?"},{id:"arm5",question:"Cross Docking estruturado?"},{id:"arm6",question:"Mo de obra dimensionada?"}],grisco:[{id:"gri1",question:"Anlise de risco realizada?"},{id:"gri2",question:"Seguro contratado?"},{id:"gri3",question:"Gerenciadora definida?"},{id:"gri4",question:"Aplice de seguro atualizada?"},{id:"gri5",question:"Procedimentos de segurana documentados?"}],ti:[{id:"ti1",question:"Integraes identificadas?"},{id:"ti2",question:"EDIs configurados?"},{id:"ti3",question:"Automatizaes implementadas?"},{id:"ti4",question:"Tecnologia com o cliente definida?"},{id:"ti5",question:"Sistemas integrados?"}],compras:[{id:"comp1",question:"Suprimentos identificados?"},{id:"comp2",question:"Acessrios necessrios listados?"},{id:"comp3",question:"Investimentos aprovados?"},{id:"comp4",question:"Fornecedores homologados?"}],contbil:[{id:"cont1",question:"Regime tributrio definido?"},{id:"cont2",question:"Anlise de impostos por estado?"},{id:"cont3",question:"CND atualizada?"},{id:"cont4",question:"Legislao especfica verificada?"},{id:"cont5",question:"Obrigaes fiscais mapeadas?"}],rh:[{id:"rh1",question:"Jornada de trabalho definida?"},{id:"rh2",question:"Qualificao de pessoas identificada?"},{id:"rh3",question:"Ficha de funcionrios atualizada?"},{id:"rh4",question:"Treinamentos necessrios?"},{id:"rh5",question:"Escala de trabalho definida?"}],motoristas:[{id:"mot1",question:"Cadastro de motoristas atualizado?"},{id:"mot2",question:"CNH vlida e categorizada?"},{id:"mot3",question:"Exames mdicos em dia?"},{id:"mot4",question:"Curso MOPP realizado (se aplicvel)?"},{id:"mot5",question:"Ficha de conduta atualizada?"},{id:"mot6",question:"Treinamento de direo defensiva?"},{id:"mot7",question:"Consulta de multas e pontuao?"}],marketing:[{id:"mkt1",question:"Estratgia de divulgao definida?"},{id:"mkt2",question:"Material institucional preparado?"},{id:"mkt3",question:"Apresentao comercial atualizada?"},{id:"mkt4",question:"Cases de sucesso documentados?"},{id:"mkt5",question:"Redes sociais configuradas?"},{id:"mkt6",question:"Site/Landing page do cliente?"},{id:"mkt7",question:"Comunicao visual alinhada?"}],jurdico:[{id:"jur1",question:"Anlise de contrato realizada?"},{id:"jur2",question:"Validade do contrato verificada?"},{id:"jur3",question:"Clusulas especficas documentadas?"},{id:"jur4",question:"Responsabilidades definidas?"}],teste:[{id:"test1",question:"Check List da operao em teste?"},{id:"test2",question:"Indicadores de teste definidos?"},{id:"test3",question:"Anlise Teste x Proposta realizada?"},{id:"test4",question:"Resultado do teste documentado?"}],onboarding:[{id:"onb1",question:"Processo de boas vindas executado?"},{id:"onb2",question:"Apresentao interna do cliente realizada?"},{id:"onb3",question:"Aes de marketing definidas?"},{id:"onb4",question:"E-mail marketing enviado?"},{id:"onb5",question:"Brindes enviados?"}],relacionamento:[{id:"rel1",question:"Contatos do cliente atualizados?"},{id:"rel2",question:"Dirio do cliente configurado?"},{id:"rel3",question:"Calendrio de validades configurado?"},{id:"rel4",question:"Indicadores que o cliente quer receber definidos?"},{id:"rel5",question:"Portais e senhas documentados?"}]},$Ne=["Cadastro/Homologao","BID","Cotao","Projetos","Spot - Dirias"],FNe=[{id:"contratos",label:"Contratos",icon:Xt},{id:"tabelas",label:"Tabelas",icon:Xt},{id:"licenas",label:"Licenas",icon:Xt},{id:"cnd",label:"CND",icon:Xt},{id:"certificaes",label:"Certificaes",icon:GE}];function LNe(){const[e,n]=w.useState("perfil"),[r,a]=w.useState(null),{toast:s}=At(),[i,o]=w.useState(""),[l,d]=w.useState(""),[u,f]=w.useState([]),[h,p]=w.useState(""),[v,N]=w.useState(""),[j,g]=w.useState(""),[P,C]=w.useState(""),[b,y]=w.useState(""),[E,S]=w.useState(""),[k,T]=w.useState(""),[z,Y]=w.useState(""),[F,D]=w.useState(""),[R,q]=w.useState(""),[Q,K]=w.useState(""),[U,O]=w.useState(""),[I,G]=w.useState(""),[M,V]=w.useState(""),[Z,re]=w.useState(!1),[le,ye]=w.useState(!1),[he,pe]=w.useState(!1),[L,ae]=w.useState(""),[me,W]=w.useState(""),[Se,$e]=w.useState([]),[tt,ft]=w.useState(""),[_t,xn]=w.useState(""),[Pe,kt]=w.useState(""),[gn,oe]=w.useState(""),[ge,ke]=w.useState([]),[Xe,Ue]=w.useState([]),[Le,at]=w.useState([]),[Bt,Qt]=w.useState({}),[dn,Va]=w.useState({}),{data:ua=[]}=Ve({queryKey:["/api/clients"]}),[br,Ba]=w.useState(null);w.useEffect(()=>{if(br){const xe=ua.find(Re=>Re.id===br);xe&&(o(xe.name||""),d(xe.cnpj||""),G(xe.email||""),S(`${xe.city||""}, ${xe.state||""}`),T(xe.segment||""))}},[br,ua]);const ti=(xe,Re)=>{Va(st=>({...st,[xe]:{...st[xe],checked:Re,notes:st[xe]?.notes||""}}))},Ri=(xe,Re)=>{Va(st=>({...st,[xe]:{...st[xe],notes:Re,checked:st[xe]?.checked||!1}}))},ni={responsavelNome:"",responsavelEmail:"",dataRecebimento:"",dataRetorno:"",isPerfil:null,parecer:"",documentosAtualizados:!1,prestadorNome:"",prestadorTelefone:"",prestadorEmail:"",prestadorAniversario:"",prestadorCargo:"",clienteNome:"",clienteTelefone:"",clienteEmail:"",clienteAniversario:"",clienteCargo:"",aprovadoPrestador:!1,aprovadoPrestadorData:"",aprovadoPrestadorPor:"",aprovadoCliente:!1,aprovadoClienteData:"",aprovadoClientePor:""},In=(xe,Re,st)=>{Qt(xt=>({...xt,[xe]:{...ni,...xt[xe],[Re]:st}}))},zl=xe=>{const Re=VC[xe]||[];if(Re.length===0)return 0;const st=Re.filter(xt=>dn[xt.id]?.checked).length;return Math.round(st/Re.length*100)},bs=()=>{const xe=Object.values(VC).flat();if(xe.length===0)return 0;const Re=xe.filter(st=>dn[st.id]?.checked).length;return Math.round(Re/xe.length*100)},ri=()=>{ke([...ge,{nome:"",celular:"",email:"",setor:"",aniversario:"",funcao:""}])},ws=(xe,Re,st)=>{const xt=[...ge];xt[xe]={...xt[xe],[Re]:st},ke(xt)},sd=xe=>{ke(ge.filter((Re,st)=>st!==xe))},id=()=>{Ue([...Xe,{portal:"",link:"",login:"",observacao:""}])},Di=(xe,Re,st)=>{const xt=[...Xe];xt[xe]={...xt[xe],[Re]:st},Ue(xt)},od=xe=>{Ue(Xe.filter((Re,st)=>st!==xe))},ql=xe=>{at([...Le,{categoria:xe,nome:"",descrio:"",dataValidade:"",emailsNotificao:[],sectionKey:""}])},ai=(xe,Re,st)=>{const xt=[...Le];xt[xe]={...xt[xe],[Re]:st},at(xt)},Ii=xe=>{at(Le.filter((Re,st)=>st!==xe))},$i=Ae({mutationFn:async()=>{const xe={name:i||`Check List ${new Date().toLocaleDateString("pt-BR")}`,clientId:br,segment:k,status:bs()===100?"completed":"in_progress",clienteNome:i,clienteCnpj:l,documentosEmpresa:u,focalPointNome:h,focalPointEmail:v,focalPointCelular:j,focalPointRegiao:P,historia:b,localizacao:E,segmentoDetalhado:k,produto:z,nmeros:F,noticias:R,site:Q,linkedIn:U,emailComercial:I,contatoComercial:M,abrangenciaNacional:Z,abrangenciaRegional:le,abrangenciaInternacional:he,marketShare:L,posicaoMercado:me,oportunidades:Se,pipelineSegmento:tt,pipelineProduto:_t,pipelineVolume:Pe,pipelineTarget:gn?parseFloat(gn):null,contatosCliente:ge,portaisSenhas:Xe,anexos:Le};return r?Ne("PATCH",`/api/checklists/${r}`,xe):Ne("POST","/api/checklists",xe)},onSuccess:async xe=>{if(!r&&xe)try{const Re=await xe.json();Re?.id&&a(Re.id)}catch{}Ce.invalidateQueries({queryKey:["/api/checklists"]}),s({title:"Check List salvo com sucesso!"})},onError:()=>{s({title:"Erro ao salvar Check List",variant:"destructive"})}}),Fi=()=>{a(null),o(""),d(""),f([]),p(""),N(""),g(""),C(""),y(""),S(""),T(""),Y(""),D(""),q(""),K(""),O(""),G(""),V(""),re(!1),ye(!1),pe(!1),ae(""),W(""),$e([]),ft(""),xn(""),kt(""),oe(""),ke([]),Ue([]),at([]),Qt({}),Va({}),Ba(null),s({title:"Check List reiniciado"})},$o=bs(),Ha=gg.find(xe=>xe.id===e),Li=VC[e]||[],Fo=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs(js,{defaultValue:"dados",className:"w-full",children:[t.jsxs(qa,{className:"grid w-full grid-cols-5",children:[t.jsx(Jt,{value:"dados","data-testid":"tab-dados",children:"Dados"}),t.jsx(Jt,{value:"historia","data-testid":"tab-historia",children:"Histria"}),t.jsx(Jt,{value:"mercado","data-testid":"tab-mercado",children:"Mercado"}),t.jsx(Jt,{value:"contatos","data-testid":"tab-contatos",children:"Contatos"}),t.jsx(Jt,{value:"portais","data-testid":"tab-portais",children:"Portais"})]}),t.jsxs(en,{value:"dados",className:"space-y-4 mt-4",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(nn,{className:"h-4 w-4"}),"Dados do Cliente"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Selecionar Cliente Existente"}),t.jsxs(Oe,{value:br?.toString()||"",onValueChange:xe=>Ba(xe?parseInt(xe):null),children:[t.jsx(_e,{"data-testid":"select-client",children:t.jsx(Me,{placeholder:"Selecione um cliente..."})}),t.jsx(Te,{children:ua.map(xe=>t.jsx(ne,{value:xe.id.toString(),children:xe.name},xe.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do Cliente"}),t.jsx(J,{value:i,onChange:xe=>o(xe.target.value),placeholder:"Razao Social","data-testid":"input-cliente-nome"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx(dm,{value:l,onChange:d,label:"Documento Principal (Matriz)","data-testid":"input-cliente-cnpj"})})]}),u.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(B,{className:"text-sm font-medium",children:"Documentos Adicionais (Filiais / Grupo)"}),u.map((xe,Re)=>t.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx(Ee,{variant:"outline",className:"text-xs",children:xe.categoria==="matriz"?"Matriz":xe.categoria==="filial"?"Filial":"Grupo"}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>f(u.filter((st,xt)=>xt!==Re)),"data-testid":`btn-remove-doc-${Re}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[t.jsxs(Oe,{value:xe.tipo,onValueChange:st=>{const xt=[...u];xt[Re]={...xt[Re],tipo:st},f(xt)},children:[t.jsx(_e,{"data-testid":`select-tipo-doc-${Re}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"cnpj",children:"CNPJ"}),t.jsx(ne,{value:"cpf",children:"CPF"})]})]}),t.jsx(J,{value:xe.nmero,onChange:st=>{const xt=[...u];xt[Re]={...xt[Re],nmero:st.target.value},f(xt)},placeholder:xe.tipo==="cnpj"?"00.000.000/0000-00":"000.000.000-00","data-testid":`input-doc-nmero-${Re}`}),t.jsxs(Oe,{value:xe.categoria,onValueChange:st=>{const xt=[...u];xt[Re]={...xt[Re],categoria:st},f(xt)},children:[t.jsx(_e,{"data-testid":`select-categoria-${Re}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"filial",children:"Filial"}),t.jsx(ne,{value:"grupo",children:"Grupo"}),t.jsx(ne,{value:"matriz",children:"Matriz"})]})]})]}),t.jsx(J,{value:xe.razaoSocial,onChange:st=>{const xt=[...u];xt[Re]={...xt[Re],razaoSocial:st.target.value},f(xt)},placeholder:"Razao Social","data-testid":`input-razao-social-${Re}`})]},Re))]}),t.jsxs(H,{variant:"outline",onClick:()=>f([...u,{tipo:"cnpj",nmero:"",categoria:"filial",razaoSocial:""}]),"data-testid":"btn-add-documento",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar CNPJ/CPF (Filial ou Grupo)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(ko,{className:"h-4 w-4"}),"Focal Point Comercial"]}),t.jsx(rt,{children:"Responsvel comercial interno"})]}),t.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome"}),t.jsx(J,{value:h,onChange:xe=>p(xe.target.value),"data-testid":"input-focal-nome"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"E-mail"}),t.jsx(J,{type:"email",value:v,onChange:xe=>N(xe.target.value),"data-testid":"input-focal-email"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Celular"}),t.jsx(J,{value:j,onChange:xe=>g(xe.target.value),"data-testid":"input-focal-celular"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Regio"}),t.jsx(J,{value:P,onChange:xe=>C(xe.target.value),"data-testid":"input-focal-regiao"})]})]})]})]}),t.jsxs(en,{value:"historia",className:"space-y-4 mt-4",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(QZ,{className:"h-4 w-4"}),"Histria e Perfil da Empresa"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Histria da Empresa"}),t.jsx(St,{value:b,onChange:xe=>y(xe.target.value),placeholder:"Quando a empresa nasceu, trajetria, marcos importantes...",rows:4,"data-testid":"input-historia"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Localizao/Onde est"}),t.jsx(St,{value:E,onChange:xe=>S(xe.target.value),placeholder:"Matriz, filiais, centros de distribuio...",rows:3,"data-testid":"input-localizacao"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Segmento"}),t.jsx(St,{value:k,onChange:xe=>T(xe.target.value),placeholder:"Segmento de atuao detalhado...",rows:3,"data-testid":"input-segmento"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Produto"}),t.jsx(St,{value:z,onChange:xe=>Y(xe.target.value),placeholder:"Produtos comercializados...",rows:3,"data-testid":"input-produto"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nmeros"}),t.jsx(St,{value:F,onChange:xe=>D(xe.target.value),placeholder:"Faturamento, funcionrios, volume...",rows:3,"data-testid":"input-nmeros"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Notcias"}),t.jsx(St,{value:R,onChange:xe=>q(xe.target.value),placeholder:"Notcias recentes sobre a empresa...",rows:3,"data-testid":"input-noticias"})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(PS,{className:"h-4 w-4"}),"Abrangncia"]})}),t.jsxs(te,{className:"flex flex-wrap gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"nacional",checked:Z,onCheckedChange:xe=>re(xe),"data-testid":"check-nacional"}),t.jsx(B,{htmlFor:"nacional",children:"Nacional"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"regional",checked:le,onCheckedChange:xe=>ye(xe),"data-testid":"check-regional"}),t.jsx(B,{htmlFor:"regional",children:"Regional"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"internacional",checked:he,onCheckedChange:xe=>pe(xe),"data-testid":"check-internacional"}),t.jsx(B,{htmlFor:"internacional",children:"Internacional"})]})]})]})]}),t.jsxs(en,{value:"mercado",className:"space-y-4 mt-4",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(pn,{className:"h-4 w-4"}),"Market Share"]})}),t.jsx(te,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Posio de Mercado"}),t.jsx(St,{value:me,onChange:xe=>W(xe.target.value),placeholder:"Posio no mercado, ranking...",rows:3,"data-testid":"input-posicao"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Market Share"}),t.jsx(St,{value:L,onChange:xe=>ae(xe.target.value),placeholder:"Participao de mercado...",rows:3,"data-testid":"input-marketshare"})]})]})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(Dr,{className:"h-4 w-4"}),"Oportunidades"]})}),t.jsx(te,{children:t.jsx("div",{className:"flex flex-wrap gap-3",children:$Ne.map(xe=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`op-${xe}`,checked:Se.includes(xe),onCheckedChange:Re=>{$e(Re?[...Se,xe]:Se.filter(st=>st!==xe))},"data-testid":`check-op-${xe}`}),t.jsx(B,{htmlFor:`op-${xe}`,children:xe})]},xe))})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(us,{className:"h-4 w-4"}),"Pipeline Overview"]})}),t.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Segmento"}),t.jsx(J,{value:tt,onChange:xe=>ft(xe.target.value),"data-testid":"input-pipeline-segmento"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Produto Predominante"}),t.jsx(J,{value:_t,onChange:xe=>xn(xe.target.value),"data-testid":"input-pipeline-produto"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Volume Carga/Ms"}),t.jsx(J,{value:Pe,onChange:xe=>kt(xe.target.value),"data-testid":"input-pipeline-volume"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Target Mdio R$"}),t.jsx(J,{type:"number",value:gn,onChange:xe=>oe(xe.target.value),"data-testid":"input-pipeline-target"})]})]})]})]}),t.jsxs(en,{value:"contatos",className:"space-y-4 mt-4",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(JZ,{className:"h-4 w-4"}),"Links e Contatos Comerciais"]})}),t.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(PS,{className:"h-3 w-3"})," Site"]}),t.jsx(J,{value:Q,onChange:xe=>K(xe.target.value),placeholder:"https://...","data-testid":"input-site"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(eJ,{className:"h-3 w-3"})," LinkedIn"]}),t.jsx(J,{value:U,onChange:xe=>O(xe.target.value),placeholder:"https://linkedin.com/...","data-testid":"input-linkedin"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-3 w-3"})," E-mail Comercial"]}),t.jsx(J,{type:"email",value:I,onChange:xe=>G(xe.target.value),"data-testid":"input-email-comercial"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Contato Comercial"}),t.jsx(St,{value:M,onChange:xe=>V(xe.target.value),placeholder:"Nome, telefone, cargo...",rows:2,"data-testid":"input-contato-comercial"})]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4",children:[t.jsx("div",{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(hn,{className:"h-4 w-4"}),"Contatos do Cliente por Setor"]})}),t.jsxs(H,{size:"sm",variant:"outline",onClick:ri,"data-testid":"button-add-contato",children:[t.jsx(ut,{className:"h-4 w-4 mr-1"})," Adicionar"]})]}),t.jsxs(te,{className:"space-y-4",children:[ge.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum contato adicionado"}),ge.map((xe,Re)=>t.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-sm font-medium",children:["Contato ",Re+1]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>sd(Re),"data-testid":`button-remove-contato-${Re}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[t.jsx(J,{placeholder:"Nome",value:xe.nome,onChange:st=>ws(Re,"nome",st.target.value)}),t.jsx(J,{placeholder:"Celular",value:xe.celular,onChange:st=>ws(Re,"celular",st.target.value)}),t.jsx(J,{placeholder:"E-mail",value:xe.email,onChange:st=>ws(Re,"email",st.target.value)}),t.jsx(J,{placeholder:"Setor",value:xe.setor,onChange:st=>ws(Re,"setor",st.target.value)}),t.jsx(J,{placeholder:"Aniversrio",value:xe.aniversario,onChange:st=>ws(Re,"aniversario",st.target.value)}),t.jsx(J,{placeholder:"Funo",value:xe.funcao,onChange:st=>ws(Re,"funo",st.target.value)})]})]},Re))]})]})]}),t.jsx(en,{value:"portais",className:"space-y-4 mt-4",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4",children:[t.jsx("div",{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(ES,{className:"h-4 w-4"}),"Portais e Senhas"]})}),t.jsxs(H,{size:"sm",variant:"outline",onClick:id,"data-testid":"button-add-portal",children:[t.jsx(ut,{className:"h-4 w-4 mr-1"})," Adicionar"]})]}),t.jsxs(te,{className:"space-y-4",children:[Xe.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum portal adicionado"}),Xe.map((xe,Re)=>t.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-sm font-medium",children:["Portal ",Re+1]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>od(Re),"data-testid":`button-remove-portal-${Re}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(J,{placeholder:"Nome do Portal",value:xe.portal,onChange:st=>Di(Re,"portal",st.target.value)}),t.jsx(J,{placeholder:"Link",value:xe.link,onChange:st=>Di(Re,"link",st.target.value)}),t.jsx(J,{placeholder:"Login/Usurio",value:xe.login,onChange:st=>Di(Re,"login",st.target.value)}),t.jsx(J,{placeholder:"Observao",value:xe.observacao,onChange:st=>Di(Re,"observao",st.target.value)})]})]},Re))]})]})})]})}),Vl=()=>{const xe=xt=>{if(!xt)return null;const ir=new Date,on=new Date(xt).getTime()-ir.getTime();return Math.ceil(on/(1e3*60*60*24))},Re=xt=>{const ir=xe(xt);return ir===null?null:ir<0?t.jsx(Ee,{variant:"destructive",children:"Vencido"}):ir<=15?t.jsxs(Ee,{variant:"destructive",children:["Vence em ",ir," dias"]}):ir<=30?t.jsxs(Ee,{variant:"secondary",children:["Vence em ",ir," dias"]}):t.jsxs(Ee,{variant:"outline",children:[ir," dias"]})},st=ge.filter(xt=>xt.email).map(xt=>xt.email);return t.jsx("div",{className:"space-y-6",children:t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(Xt,{className:"h-4 w-4"}),"Documentos e Anexos"]}),t.jsx(rt,{children:"Gerencie contratos, tabelas, licenas e certificaes com datas de validade. Os responsveis sero notificados 15 dias antes do vencimento."})]}),t.jsx(te,{className:"space-y-6",children:FNe.map(xt=>{const ir=Le.filter(_r=>_r.categoria===xt.id);return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[t.jsx(xt.icon,{className:"h-4 w-4"}),xt.label]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ql(xt.id),"data-testid":`button-add-anexo-${xt.id}`,children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),ir.length===0?t.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:"Nenhum documento cadastrado"}):t.jsx("div",{className:"space-y-3",children:Le.map((_r,on)=>_r.categoria!==xt.id?null:t.jsxs(ee,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-sm",children:_r.nome||"Novo documento"}),Re(_r.dataValidade)]})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>Ii(on),"data-testid":`button-remove-anexo-${on}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome do Documento"}),t.jsx(J,{value:_r.nome,onChange:$n=>ai(on,"nome",$n.target.value),placeholder:"Ex: Contrato de Prestao de Servios","data-testid":`input-anexo-nome-${on}`})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Data de Validade"}),t.jsx(J,{type:"date",value:_r.dataValidade,onChange:$n=>ai(on,"dataValidade",$n.target.value),"data-testid":`input-anexo-validade-${on}`})]})]}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Descrio"}),t.jsx(J,{value:_r.descrio,onChange:$n=>ai(on,"descrio",$n.target.value),placeholder:"Detalhes do documento...","data-testid":`input-anexo-descrio-${on}`})]}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsx(B,{className:"text-xs",children:"rea Relacionada"}),t.jsxs(Oe,{value:_r.sectionKey,onValueChange:$n=>ai(on,"sectionKey",$n),children:[t.jsx(_e,{"data-testid":`select-anexo-area-${on}`,children:t.jsx(Me,{placeholder:"Selecione a rea..."})}),t.jsx(Te,{children:gg.filter($n=>$n.group==="areas"||$n.group==="operaes").map($n=>t.jsx(ne,{value:$n.id,children:$n.label},$n.id))})]})]}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Emails para Notificao (separados por vrgula)"}),t.jsx(J,{value:_r.emailsNotificao.join(", "),onChange:$n=>ai(on,"emailsNotificao",$n.target.value.split(",").map(si=>si.trim()).filter(Boolean)),placeholder:"email1@empresa.com, email2@empresa.com","data-testid":`input-anexo-emails-${on}`}),st.length>0&&t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Contatos disponveis: ",st.join(", ")]})]})]},on))}),t.jsx(kn,{className:"my-4"})]},xt.id)})})]})})},jm=()=>{const xe=Bt[e]||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(nn,{className:"h-4 w-4"}),"Prestador de Servio (Cliente MCG)"]}),t.jsx(rt,{children:"Contato interno responsavel por esta area"})]}),t.jsxs(te,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome"}),t.jsx(J,{value:xe.prestadorNome||"",onChange:Re=>In(e,"prestadorNome",Re.target.value),placeholder:"Nome do responsavel","data-testid":"input-prestador-nome"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Cargo/Funcao"}),t.jsx(J,{value:xe.prestadorCargo||"",onChange:Re=>In(e,"prestadorCargo",Re.target.value),placeholder:"Ex: Gerente Comercial","data-testid":"input-prestador-cargo"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Telefone"}),t.jsx(J,{value:xe.prestadorTelefone||"",onChange:Re=>In(e,"prestadorTelefone",Re.target.value),placeholder:"(00) 00000-0000","data-testid":"input-prestador-telefone"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Aniversario"}),t.jsx(J,{value:xe.prestadorAniversario||"",onChange:Re=>In(e,"prestadorAniversario",Re.target.value),placeholder:"DD/MM","data-testid":"input-prestador-aniversario"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"E-mail"}),t.jsx(J,{type:"email",value:xe.prestadorEmail||"",onChange:Re=>In(e,"prestadorEmail",Re.target.value),placeholder:"email@empresa.com","data-testid":"input-prestador-email"})]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(hn,{className:"h-4 w-4"}),"Cliente (a ser atendido)"]}),t.jsx(rt,{children:"Contato do cliente correspondente a esta area"})]}),t.jsxs(te,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome"}),t.jsx(J,{value:xe.clienteNome||"",onChange:Re=>In(e,"clienteNome",Re.target.value),placeholder:"Nome do contato","data-testid":"input-cliente-contato-nome"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Cargo/Funcao"}),t.jsx(J,{value:xe.clienteCargo||"",onChange:Re=>In(e,"clienteCargo",Re.target.value),placeholder:"Ex: Coord. Compras","data-testid":"input-cliente-cargo"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Telefone"}),t.jsx(J,{value:xe.clienteTelefone||"",onChange:Re=>In(e,"clienteTelefone",Re.target.value),placeholder:"(00) 00000-0000","data-testid":"input-cliente-telefone"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Aniversario"}),t.jsx(J,{value:xe.clienteAniversario||"",onChange:Re=>In(e,"clienteAniversario",Re.target.value),placeholder:"DD/MM","data-testid":"input-cliente-aniversario"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"E-mail"}),t.jsx(J,{type:"email",value:xe.clienteEmail||"",onChange:Re=>In(e,"clienteEmail",Re.target.value),placeholder:"email@cliente.com","data-testid":"input-cliente-email"})]})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(Hy,{className:"h-4 w-4"}),"Parecer e Validacao"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Recebimento"}),t.jsx(J,{type:"date",value:xe.dataRecebimento||"",onChange:Re=>In(e,"dataRecebimento",Re.target.value),"data-testid":"input-data-recebimento"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Retorno"}),t.jsx(J,{type:"date",value:xe.dataRetorno||"",onChange:Re=>In(e,"dataRetorno",Re.target.value),"data-testid":"input-data-retorno"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"E Perfil?"}),t.jsxs(Oe,{value:xe.isPerfil===!0?"sim":xe.isPerfil===!1?"nao":"",onValueChange:Re=>In(e,"isPerfil",Re==="sim"?!0:Re==="nao"?!1:null),children:[t.jsx(_e,{"data-testid":"select-is-perfil",children:t.jsx(Me,{placeholder:"Selecione..."})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"sim",children:"Sim"}),t.jsx(ne,{value:"nao",children:"Nao"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Documentos Atualizados?"}),t.jsxs("div",{className:"flex items-center gap-2 h-9",children:[t.jsx(fn,{id:"docs-atualizados",checked:xe.documentosAtualizados||!1,onCheckedChange:Re=>In(e,"documentosAtualizados",Re),"data-testid":"check-docs-atualizados"}),t.jsx(B,{htmlFor:"docs-atualizados",children:"Sim"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Parecer da Area sobre o Cliente"}),t.jsx(St,{value:xe.parecer||"",onChange:Re=>In(e,"parecer",Re.target.value),placeholder:"Parecer detalhado sobre o cliente...",rows:3,"data-testid":"input-parecer"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[t.jsx("div",{className:"p-4 rounded-lg border bg-muted/30",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fn,{id:"aprovado-prestador",checked:xe.aprovadoPrestador||!1,onCheckedChange:Re=>{In(e,"aprovadoPrestador",Re),Re&&In(e,"aprovadoPrestadorData",new Date().toISOString())},"data-testid":"check-aprovado-prestador"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(B,{htmlFor:"aprovado-prestador",className:"font-medium cursor-pointer",children:"Check-in Prestador"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Confirmo que li e aprovo as informaes desta area"}),xe.aprovadoPrestador&&xe.aprovadoPrestadorData&&t.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Aprovado em ",new Date(xe.aprovadoPrestadorData).toLocaleDateString("pt-BR")]})]})]})}),t.jsx("div",{className:"p-4 rounded-lg border bg-muted/30",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fn,{id:"aprovado-cliente",checked:xe.aprovadoCliente||!1,onCheckedChange:Re=>{In(e,"aprovadoCliente",Re),Re&&In(e,"aprovadoClienteData",new Date().toISOString())},"data-testid":"check-aprovado-cliente"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(B,{htmlFor:"aprovado-cliente",className:"font-medium cursor-pointer",children:"Check-in Cliente"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Cliente confirma que leu e aprova as informaes"}),xe.aprovadoCliente&&xe.aprovadoClienteData&&t.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Aprovado em ",new Date(xe.aprovadoClienteData).toLocaleDateString("pt-BR")]})]})]})})]})]})]}),e==="teste"&&t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(wi,{className:"h-4 w-4"}),"Painel de Validacao - Aprovacao das Areas"]}),t.jsx(rt,{children:"Viso geral das aprovacoes de cada area. Todas as areas devem estar aprovadas para liberar o teste."})]}),t.jsx(te,{children:(()=>{const Re=gg.filter(on=>on.group==="areas"||on.group==="operaes"),st=Re.length,xt=Re.filter(on=>Bt[on.id]?.aprovadoPrestador).length,ir=Re.filter(on=>Bt[on.id]?.aprovadoCliente).length,_r=xt===st&&ir===st;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30 text-center",children:[t.jsxs("p",{className:"text-2xl font-bold",children:[xt,"/",st]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Prestador Aprovou"})]}),t.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30 text-center",children:[t.jsxs("p",{className:"text-2xl font-bold",children:[ir,"/",st]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente Aprovou"})]})]}),_r?t.jsx("div",{className:"p-4 rounded-lg bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700",children:t.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400",children:[t.jsx(Ar,{className:"h-5 w-5"}),t.jsx("span",{className:"font-medium",children:"Todas as areas aprovadas! Cliente liberado para teste."})]})}):t.jsx("div",{className:"p-4 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700",children:t.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 dark:text-yellow-400",children:[t.jsx(Ai,{className:"h-5 w-5"}),t.jsx("span",{className:"font-medium",children:"Aguardando aprovacao de todas as areas para liberar teste."})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mt-4",children:Re.map(on=>{const $n=Bt[on.id]||{},si=$n.aprovadoPrestador,Lo=$n.aprovadoCliente,bm=on.icon;return t.jsxs("div",{className:`p-3 rounded-lg border ${si&&Lo?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":"bg-muted/30"}`,"data-testid":`validacao-${on.id}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(bm,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:on.label})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:si?"default":"secondary",className:"text-xs",children:si?"Prestador OK":"Prestador Pendente"}),t.jsx(Ee,{variant:Lo?"default":"secondary",className:"text-xs",children:Lo?"Cliente OK":"Cliente Pendente"})]})]},on.id)})})]})})()})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-base",children:["Checklist - ",Ha?.label]}),t.jsxs(rt,{children:[Li.length," itens para verificar"]})]}),t.jsx(te,{className:"space-y-4",children:Li.map((Re,st)=>t.jsx("div",{className:"p-4 rounded-lg border bg-card","data-testid":`question-${Re.id}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(fn,{id:Re.id,checked:dn[Re.id]?.checked||!1,onCheckedChange:xt=>ti(Re.id,xt),className:"mt-1","data-testid":`checkbox-${Re.id}`}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs(B,{htmlFor:Re.id,className:"text-sm font-medium cursor-pointer",children:[st+1,". ",Re.question]}),t.jsx(St,{placeholder:"Observaes...",value:dn[Re.id]?.notes||"",onChange:xt=>Ri(Re.id,xt.target.value),className:"text-sm",rows:2,"data-testid":`notes-${Re.id}`})]})]})},Re.id))})]})]})};return t.jsx(Ot,{title:"Check List",subtitle:"Diagnstico completo do cliente",children:t.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(wi,{className:"h-4 w-4"}),"Sees"]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(Ku,{value:$o,className:"flex-1"}),t.jsxs("span",{className:"text-xs font-medium",children:[$o,"%"]})]})]}),t.jsx(te,{className:"p-0",children:t.jsx(zc,{className:"h-[calc(100vh-320px)]",children:t.jsx("div",{className:"p-2 space-y-1",children:gg.map(xe=>{const Re=zl(xe.id),st=e===xe.id,xt=xe.id==="perfil";return t.jsxs("button",{onClick:()=>n(xe.id),className:`w-full flex items-center gap-3 p-3 rounded-md text-left transition-colors ${st?"bg-primary text-primary-foreground":"hover-elevate"}`,"data-testid":`section-${xe.id}`,children:[t.jsx(xe.icon,{className:"h-4 w-4 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:xe.label}),!xt&&t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ku,{value:Re,className:"h-1 flex-1"}),t.jsxs("span",{className:"text-xs",children:[Re,"%"]})]})]})]},xe.id)})})})})]})}),t.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-start justify-between gap-4",children:[t.jsx("div",{className:"space-y-1",children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[Ha&&t.jsx(Ha.icon,{className:"h-5 w-5"}),Ha?.label]})}),t.jsxs(Ee,{variant:$o===100?"default":"secondary",children:[$o,"% completo"]})]}),t.jsx(te,{children:e==="perfil"?Fo():e==="anexos"?Vl():jm()})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(H,{variant:"outline",onClick:Fi,"data-testid":"button-reset-checklist",children:[t.jsx(to,{className:"h-4 w-4 mr-2"}),"Reiniciar"]}),t.jsxs(H,{onClick:()=>$i.mutate(),disabled:$i.isPending,"data-testid":"button-save-checklist",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),$i.isPending?"Salvando...":"Salvar Check List"]}),t.jsxs(H,{variant:"outline","data-testid":"button-export-checklist",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]})]})]})})}function s_({children:e,title:n,subtitle:r}){return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs("header",{className:"h-16 flex items-center justify-between gap-4 px-4 md:px-6 border-b border-border bg-background sticky top-0 z-40",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(it,{href:"/",children:t.jsx(H,{variant:"ghost",size:"icon","data-testid":"button-back-home",children:t.jsx(ia,{className:"h-5 w-5"})})}),t.jsx(it,{href:"/",children:t.jsx("div",{className:"flex items-center gap-2 cursor-pointer",children:t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-auto"})})})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold","data-testid":"text-page-title",children:n}),r&&t.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:r})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ja,{}),t.jsx(it,{href:"/login",children:t.jsx(H,{variant:"outline",size:"sm","data-testid":"button-login",children:"Entrar"})})]})]}),t.jsx("main",{className:"p-4 md:p-6 bg-background",children:e})]})}const zNe={AC:["Rio Branco","Cruzeiro do Sul","Sena Madureira","Tarauac","Feij","Brasileia","Senador Guiomard","Plcido de Castro","Xapuri","Epitaciolndia"],AL:["Macei","Arapiraca","Rio Largo","Palmeira dos ndios","Unio dos Palmares","Penedo","So Miguel dos Campos","Coruripe","Delmiro Gouveia","Marechal Deodoro"],AP:["Macap","Santana","Laranjal do Jari","Oiapoque","Mazago","Porto Grande","Tartarugalzinho","Pedra Branca do Amapari","Vitria do Jari","Caloene"],AM:["Manaus","Parintins","Itacoatiara","Manacapuru","Coari","Tef","Tabatinga","Maus","Manicor","Humait"],BA:["Salvador","Feira de Santana","Vitria da Conquista","Camaari","Itabuna","Juazeiro","Lauro de Freitas","Ilhus","Jequi","Teixeira de Freitas","Barreiras","Alagoinhas","Porto Seguro","Simes Filho","Paulo Afonso","Eunpolis","Santo Antnio de Jesus","Valena","Candeias","Lus Eduardo Magalhes"],CE:["Fortaleza","Caucaia","Juazeiro do Norte","Maracana","Sobral","Crato","Itapipoca","Maranguape","Iguatu","Quixad","Pacatuba","Aquiraz","Russas","Canind","Tiangu"],DF:["Braslia","Ceilndia","Taguatinga","Samambaia","Plano Piloto","Planaltina","guas Claras","Recanto das Emas","Gama","Guar","Santa Maria","Sobradinho","So Sebastio"],ES:["Vitria","Vila Velha","Serra","Cariacica","Cachoeiro de Itapemirim","Linhares","So Mateus","Colatina","Guarapari","Aracruz","Viana","Nova Vencia","Barra de So Francisco","So Gabriel da Palha"],GO:["Goinia","Aparecida de Goinia","Anpolis","Rio Verde","Luzinia","guas Lindas de Gois","Valparaso de Gois","Trindade","Formosa","Novo Gama","Itumbiara","Senador Canedo","Catalo","Jata","Planaltina"],MA:["So Lus","Imperatriz","So Jos de Ribamar","Timon","Caxias","Cod","Pao do Lumiar","Aailndia","Bacabal","Balsas","Santa Ins","Barra do Corda","Pinheiro","Chapadinha"],MT:["Cuiab","Vrzea Grande","Rondonpolis","Sinop","Tangar da Serra","Cceres","Sorriso","Lucas do Rio Verde","Primavera do Leste","Barra do Garas","Alta Floresta","Pontes e Lacerda","Juna","Nova Mutum"],MS:["Campo Grande","Dourados","Trs Lagoas","Corumb","Ponta Por","Navira","Nova Andradina","Aquidauana","Sidrolndia","Paranaba","Maracaju","Amambai","Coxim","Cassilndia"],MG:["Belo Horizonte","Uberlndia","Contagem","Juiz de Fora","Betim","Montes Claros","Ribeiro das Neves","Uberaba","Governador Valadares","Ipatinga","Sete Lagoas","Divinpolis","Santa Luzia","Ibirit","Poos de Caldas","Patos de Minas","Pouso Alegre","Tefilo Otoni","Barbacena","Sabar","Varginha","Conselheiro Lafaiete","Araguari","Itabira","Passos","Coronel Fabriciano","Muria","Arax","Ituiutaba","Lavras"],PA:["Belm","Ananindeua","Santarm","Marab","Parauapebas","Castanhal","Abaetetuba","Camet","Marituba","Bragana","Altamira","Barcarena","Tucuru","Paragominas","Tailndia"],PB:["Joo Pessoa","Campina Grande","Santa Rita","Patos","Bayeux","Sousa","Cabedelo","Cajazeiras","Guarabira","Sap","Mamanguape","Queimadas","Monteiro","Pombal"],PR:["Curitiba","Londrina","Maring","Ponta Grossa","Cascavel","So Jos dos Pinhais","Foz do Iguau","Colombo","Guarapuava","Paranagu","Araucria","Toledo","Apucarana","Pinhais","Campo Largo","Almirante Tamandar","Umuarama","Piraquara","Camb","Sarandi","Arapongas","Fazenda Rio Grande","Francisco Beltro","Paranava","Pato Branco","Cianorte","Telmaco Borba","Castro","Rolndia","Campo Mouro"],PE:["Recife","Jaboato dos Guararapes","Olinda","Caruaru","Petrolina","Paulista","Cabo de Santo Agostinho","Camaragibe","Garanhuns","Vitria de Santo Anto","Igarassu","So Loureno da Mata","Abreu e Lima","Santa Cruz do Capibaribe","Ipojuca","Serra Talhada","Araripina","Gravat","Carpina","Goiana"],PI:["Teresina","Parnaba","Picos","Piripiri","Floriano","Campo Maior","Barras","Unio","Altos","Jos de Freitas","Pedro II","Oeiras","Esperantina","Bom Jesus"],RJ:["Rio de Janeiro","So Gonalo","Duque de Caxias","Nova Iguau","Niteri","Belford Roxo","So Joo de Meriti","Campos dos Goytacazes","Petrpolis","Volta Redonda","Mag","Itabora","Maca","Mesquita","Nilpolis","Cabo Frio","Nova Friburgo","Barra Mansa","Angra dos Reis","Maric","Terespolis","Rio das Ostras","Queimados","Resende","Itagua","Japeri","Araruama","So Pedro da Aldeia","Itaperuna","Saquarema"],RN:["Natal","Mossor","Parnamirim","So Gonalo do Amarante","Macaba","Cear-Mirim","Caic","Au","Currais Novos","So Jos de Mipibu","Joo Cmara","Santa Cruz","Nova Cruz","Apodi"],RS:["Porto Alegre","Caxias do Sul","Pelotas","Canoas","Santa Maria","Gravata","Viamo","Novo Hamburgo","So Leopoldo","Rio Grande","Alvorada","Passo Fundo","Sapucaia do Sul","Uruguaiana","Santa Cruz do Sul","Cachoeirinha","Bag","Bento Gonalves","Erechim","Guaba","Cachoeira do Sul","Santana do Livramento","Esteio","Iju","Alegrete","Santo ngelo","Lajeado","Sapiranga","Vacaria","Cruz Alta"],RO:["Porto Velho","Ji-Paran","Ariquemes","Vilhena","Cacoal","Jaru","Rolim de Moura","Guajar-Mirim","Ouro Preto do Oeste","Pimenta Bueno","Buritis","Nova Mamor","Machadinho D'Oeste","Espigo D'Oeste"],RR:["Boa Vista","Rorainpolis","Caracara","Alto Alegre","Mucaja","Cant","Pacaraima","Bonfim","Amajari","Normandia","So Joo da Baliza","Caroebe","So Luiz","Iracema","Uiramut"],SC:["Florianpolis","Joinville","Blumenau","So Jos","Chapec","Cricima","Itaja","Jaragu do Sul","Lages","Palhoa","Balnerio Cambori","Brusque","Tubaro","So Bento do Sul","Caador","Concrdia","Cambori","Navegantes","Rio do Sul","Ararangu","Gaspar","Mafra","Biguau","Canoinhas","Indaial","Iara","Itapema","Laguna","Imbituba","Videira"],SP:["So Paulo","Guarulhos","Campinas","So Bernardo do Campo","Santo Andr","So Jos dos Campos","Osasco","Ribeiro Preto","Sorocaba","Mau","So Jos do Rio Preto","Mogi das Cruzes","Santos","Diadema","Jundia","Piracicaba","Carapicuba","Bauru","Itaquaquecetuba","So Vicente","Franca","Praia Grande","Guaruj","Taubat","Limeira","Suzano","Taboo da Serra","Sumar","Barueri","Embu das Artes","So Carlos","Indaiatuba","Cotia","Americana","Marlia","Itapevi","Araraquara","Jacare","Hortolndia","Presidente Prudente","Rio Claro","Araatuba","Santa Brbara d'Oeste","Ferraz de Vasconcelos","Francisco Morato","Itapecerica da Serra","Itu","Bragana Paulista","Pindamonhangaba","Itapetininga","So Caetano do Sul","Franco da Rocha","Mogi Guau","Ja","Botucatu","Atibaia","Santana de Parnaba","Araras","Cubato","Valinhos"],SE:["Aracaju","Nossa Senhora do Socorro","Lagarto","Itabaiana","So Cristvo","Estncia","Tobias Barreto","Itabaianinha","Simo Dias","Capela","Propri","Carmpolis","Nossa Senhora da Glria","Laranjeiras"],TO:["Palmas","Araguana","Gurupi","Porto Nacional","Paraso do Tocantins","Araguatins","Colinas do Tocantins","Guara","Tocantinpolis","Dianpolis","Miracema do Tocantins","Formoso do Araguaia","Pedro Afonso","Augustinpolis"]};function vg(e){return zNe[e]||[]}const BC=()=>({id:crypto.randomUUID(),operationName:"",originCity:"",originState:"",originDocType:"cnpj",originDoc:"",destinationCity:"",destinationState:"",destinationDocType:"cnpj",destinationDoc:"",distanceKm:"",productType:"carga_geral",packagingType:"pallet",weight:"",cargoValue:"",vehicleType:"carreta",vehicleAxles:5,bodyType:"sider",suggestedVehicle:"",useAnttMinFreight:!1,freightValue:"",tollValue:"",unloadingValue:"",grisRate:"0.3",advRate:"0.3",glpModel:"",glpQuantity:"",unitFreight:"",emptyKmPickup:"",emptyKmPickupRate:"",emptyKmPickupFlat:"",emptyKmPickupType:"unit",emptyKmPickupState:"",emptyKmPickupCity:"",emptyKmDelivery:"",emptyKmDeliveryRate:"",emptyKmDeliveryFlat:"",emptyKmDeliveryType:"unit",emptyKmDeliveryState:"",emptyKmDeliveryCity:"",pickupExtras:[],deliveryExtras:[]}),CF=()=>({id:crypto.randomUUID(),description:"",value:""}),SF={clientName:"",clientEmail:"",clientPhone:"",clientDocType:"cnpj",clientDoc:"",validityDays:15,contractType:"spot",notes:""};function qNe(){const[e,n]=w.useState([BC()]),[r,a]=w.useState(SF),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[d,u]=w.useState(""),[f,h]=w.useState({}),{toast:p}=At(),{isAuthenticated:v}=za(),[,N]=wa(),j=w.useCallback((L,ae,me,W)=>{const Se=I1(me,W),$e=D1(me,Se),tt=`${L}-${ae}`;h(ft=>({...ft,[tt]:$e.message})),n(ft=>ft.map(_t=>_t.id===L?{..._t,[ae]:Se}:_t))},[]),g=w.useCallback(L=>{const ae=I1(r.clientDocType,L),me=D1(r.clientDocType,ae);h(W=>({...W,clientDoc:me.message})),a(W=>({...W,clientDoc:ae}))},[r.clientDocType]),P=w.useMemo(()=>Object.values(f).some(L=>L!==""),[f]),{data:C}=Ve({queryKey:["/api/clients"],retry:!1,refetchOnWindowFocus:!1,staleTime:300*1e3,enabled:v}),{data:b}=Ve({queryKey:["/api/calculations/quota"],retry:!1,refetchOnWindowFocus:!1,enabled:v}),{data:y}=Ve({queryKey:["/api/route-calculation/status"],retry:!1,staleTime:60*1e3}),[E,S]=w.useState({}),k=w.useCallback(async L=>{if(y?.configured&&!(!L.originCity||!L.originState||!L.destinationCity||!L.destinationState)){S(ae=>({...ae,[L.id]:!0}));try{const ae=await Ne("POST","/api/route-calculation",{originCity:L.originCity,originState:L.originState,destinationCity:L.destinationCity,destinationState:L.destinationState,vehicleType:L.vehicleType,vehicleAxles:L.vehicleAxles});if(ae.ok){const me=await ae.json();n(W=>W.map(Se=>Se.id===L.id?{...Se,distanceKm:me.distanceKm?.toString()||Se.distanceKm,tollValue:me.tollValue?.toString()||Se.tollValue}:Se))}else{const me=await ae.json().catch(()=>({}));ae.status!==503&&p({title:"Erro ao calcular rota",description:me.message||"Nao foi possivel obter dados da rota",variant:"destructive"})}}catch(ae){console.error("Error fetching route data:",ae)}finally{S(ae=>({...ae,[L.id]:!1}))}}},[y?.configured,p]),[T,z]=w.useState({});w.useEffect(()=>{e.forEach(L=>{const ae=`${L.originCity}-${L.originState}-${L.destinationCity}-${L.destinationState}`,me=T[L.id];L.originCity&&L.originState&&L.destinationCity&&L.destinationState&&ae!==me&&(z(W=>({...W,[L.id]:ae})),E[L.id]||k(L))})},[e,y?.configured,k]);const Y=w.useCallback((L,ae,me)=>{n(W=>{const Se=W.map(tt=>tt.id===L?{...tt,vehicleType:ae,vehicleAxles:me}:tt),$e=Se.find(tt=>tt.id===L);return y?.configured&&$e?.originCity&&$e?.destinationCity&&setTimeout(()=>k($e),0),Se})},[y?.configured,k]),F=w.useCallback((L,ae)=>{n(me=>{const W=me.map($e=>$e.id===L?{...$e,vehicleAxles:ae}:$e),Se=W.find($e=>$e.id===L);return y?.configured&&Se?.originCity&&Se?.destinationCity&&setTimeout(()=>k(Se),0),W})},[y?.configured,k]);Ae({mutationFn:async()=>{const L=await Ne("POST","/api/calculations/use");if(!L.ok){const ae=await L.json();throw ae.requiresUpgrade?new Error("UPGRADE_REQUIRED"):new Error(ae.message)}return L.json()},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/calculations/quota"]})}});const D=()=>{if(!v){p({title:"Cadastro necessario",description:"Para enviar propostas, voce precisa criar uma conta gratuita.",variant:"default"}),N("/registro");return}if(!b?.unlimited&&b?.remaining!==void 0&&b?.remaining!==null&&b.remaining<=0){l(!0);return}i(!0)},R=(L,ae,me)=>{n(W=>W.map(Se=>Se.id===L?{...Se,[ae]:me}:Se))},q=()=>{n(L=>[...L,BC()])},Q=L=>{e.length>1&&(n(ae=>ae.filter(me=>me.id!==L)),h(ae=>{const me={...ae};return delete me[`${L}-originDoc`],delete me[`${L}-destinationDoc`],me}))},K=L=>{n(ae=>ae.map(me=>me.id===L?{...me,pickupExtras:[...me.pickupExtras||[],CF()]}:me))},U=(L,ae)=>{n(me=>me.map(W=>W.id===L?{...W,pickupExtras:(W.pickupExtras||[]).filter(Se=>Se.id!==ae)}:W))},O=(L,ae,me,W)=>{n(Se=>Se.map($e=>$e.id===L?{...$e,pickupExtras:($e.pickupExtras||[]).map(tt=>tt.id===ae?{...tt,[me]:W}:tt)}:$e))},I=L=>{n(ae=>ae.map(me=>me.id===L?{...me,deliveryExtras:[...me.deliveryExtras||[],CF()]}:me))},G=(L,ae)=>{n(me=>me.map(W=>W.id===L?{...W,deliveryExtras:(W.deliveryExtras||[]).filter(Se=>Se.id!==ae)}:W))},M=(L,ae,me,W)=>{n(Se=>Se.map($e=>$e.id===L?{...$e,deliveryExtras:($e.deliveryExtras||[]).map(tt=>tt.id===ae?{...tt,[me]:W}:tt)}:$e))},V=L=>{const ae=parseFloat(L.distanceKm)||0,me=parseFloat(L.cargoValue)||0,W=parseFloat(L.weight)||0,Se=parseFloat(L.grisRate)||0,$e=parseFloat(L.advRate)||0,tt=parseFloat(L.tollValue)||0,ft=parseFloat(L.unloadingValue)||0,_t=L.emptyKmPickupType==="unit"?(parseFloat(L.emptyKmPickup)||0)*(parseFloat(L.emptyKmPickupRate)||0):parseFloat(L.emptyKmPickupFlat)||0,xn=L.emptyKmDeliveryType==="unit"?(parseFloat(L.emptyKmDelivery)||0)*(parseFloat(L.emptyKmDeliveryRate)||0):parseFloat(L.emptyKmDeliveryFlat)||0,Pe=_t+xn,kt=(L.pickupExtras||[]).reduce((br,Ba)=>br+(parseFloat(Ba.value)||0),0),gn=(L.deliveryExtras||[]).reduce((br,Ba)=>br+(parseFloat(Ba.value)||0),0),oe=kt+gn,ge=uie(ae,L.productType,L.vehicleAxles),ke=L.useAnttMinFreight?ge:parseFloat(L.freightValue)||0,Xe=me*(Se/100),Ue=me*($e/100),Le=b9(L.originState,L.originCity,L.destinationState,L.destinationCity),at=mie(L.originState,L.originCity,L.destinationState,L.destinationCity),Bt=die(L.originState);let Qt=ke+Xe+Ue+ft+Pe+oe;!Bt&&Le!=="municipal"&&(Qt+=tt);const dn=at.taxType==="ICMS"?Qt/(1-at.rate/100)-Qt:Qt*(at.rate/100),Va=ke+Xe+Ue+tt+ft+Pe+oe+dn,ua=W>0?Va/W:0;return{anttMinFreight:ge,freightValue:ke,grisValue:Xe,advValue:Ue,tollValue:tt,unloadingValue:ft,emptyKmPickupValue:_t,emptyKmDeliveryValue:xn,emptyKmTotalValue:Pe,pickupExtrasTotal:kt,deliveryExtrasTotal:gn,extrasTotal:oe,taxInfo:at,taxValue:dn,tollExempt:Bt,routeType:Le,totalValue:Va,valuePerKg:ua,baseForTax:Qt}},Z=w.useMemo(()=>e.map(L=>({route:L,...V(L)})),[e]),re=w.useMemo(()=>Z.reduce((L,ae)=>L+ae.totalValue,0),[Z]),le=Ae({mutationFn:async L=>{const ae={companyId:1,clientId:d?parseInt(d):void 0,...L.proposal,routes:L.routes.map(me=>{const W=V(me);return{...me,distanceKm:me.distanceKm||void 0,weight:me.weight||void 0,cargoValue:me.cargoValue||void 0,anttMinFreight:W.anttMinFreight.toString(),freightValue:W.freightValue.toString(),tollValue:W.tollValue.toString(),tollInIcmsBase:!W.tollExempt,icmsRate:W.taxInfo.taxType==="ICMS"?W.taxInfo.rate.toString():void 0,icmsValue:W.taxInfo.taxType==="ICMS"?W.taxValue.toString():void 0,issRate:W.taxInfo.taxType==="ISS"?W.taxInfo.rate.toString():void 0,issValue:W.taxInfo.taxType==="ISS"?W.taxValue.toString():void 0,grisRate:me.grisRate,grisValue:W.grisValue.toString(),advRate:me.advRate,advValue:W.advValue.toString(),unloadingValue:me.unloadingValue||void 0,emptyKmPickupValue:W.emptyKmPickupValue.toString(),emptyKmDeliveryValue:W.emptyKmDeliveryValue.toString(),emptyKmTotalValue:W.emptyKmTotalValue.toString(),pickupExtras:me.pickupExtras||[],deliveryExtras:me.deliveryExtras||[],pickupExtrasTotal:W.pickupExtrasTotal.toString(),deliveryExtrasTotal:W.deliveryExtrasTotal.toString(),extrasTotal:W.extrasTotal.toString(),totalValue:W.totalValue.toString()}}),totalValue:re.toString()};return Ne("POST","/api/commercial-proposals",ae)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-proposals"]}),p({title:"Proposta comercial criada com sucesso!"}),i(!1)},onError:()=>{p({title:"Erro ao criar proposta",variant:"destructive"})}}),ye=()=>{n([BC()]),a(SF),u(""),h({})},he=L=>{u(L);const ae=C?.find(me=>me.id.toString()===L);ae&&a(me=>({...me,clientName:ae.name,clientEmail:ae.email||"",clientPhone:ae.phone||"",clientDocType:ae.cnpj&&ae.cnpj.length<=14?"cpf":"cnpj",clientDoc:ae.cnpj||""}))},pe=e.some(L=>L.originState&&L.destinationState&&(parseFloat(L.freightValue)>0||L.useAnttMinFreight));return t.jsx(s_,{title:"Calculadora de Frete",subtitle:"Calcule fretes com impostos, taxas e tabela ANTT",children:t.jsxs("div",{className:"space-y-6",children:[e.map((L,ae)=>{const me=Z.find(W=>W.route.id===L.id);return t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Nl,{className:"h-5 w-5"}),"Rota ",ae+1,L.operationName&&t.jsx(Ee,{variant:"secondary",children:L.operationName})]}),e.length>1&&t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>Q(L.id),"data-testid":`button-remove-route-${ae}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})}),t.jsxs(te,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`operationName-${L.id}`,children:"Nome da Operacao (opcional)"}),t.jsx(J,{id:`operationName-${L.id}`,placeholder:"Ex: Coleta Curitiba - Entrega So Paulo",value:L.operationName,onChange:W=>R(L.id,"operationName",W.target.value),"data-testid":`input-operation-name-${ae}`})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Origem"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`originState-${L.id}`,children:"Estado"}),t.jsxs(Oe,{value:L.originState,onValueChange:W=>{R(L.id,"originState",W),R(L.id,"originCity","")},children:[t.jsx(_e,{id:`originState-${L.id}`,"data-testid":`select-origin-state-${ae}`,children:t.jsx(Me,{placeholder:"UF"})}),t.jsx(Te,{children:is.map(W=>t.jsxs(ne,{value:W.uf,children:[W.uf," - ",W.name]},W.uf))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`originCity-${L.id}`,children:"Cidade"}),t.jsxs(Oe,{value:L.originCity,onValueChange:W=>R(L.id,"originCity",W),disabled:!L.originState,children:[t.jsx(_e,{id:`originCity-${L.id}`,"data-testid":`select-origin-city-${ae}`,children:t.jsx(Me,{placeholder:L.originState?"Selecione":"Selecione o estado"})}),t.jsx(Te,{children:vg(L.originState).map(W=>t.jsx(ne,{value:W,children:W},W))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF/CNPJ (opcional)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{value:L.originDocType,onValueChange:W=>{R(L.id,"originDocType",W),L.originDoc&&j(L.id,"originDoc",W,L.originDoc)},children:[t.jsx(_e,{className:"w-24","data-testid":`select-origin-doctype-${ae}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"cpf",children:"CPF"}),t.jsx(ne,{value:"cnpj",children:"CNPJ"})]})]}),t.jsx(J,{id:`originDoc-${L.id}`,placeholder:L.originDocType==="cpf"?"000.000.000-00":"00.000.000/0000-00",value:L.originDoc,onChange:W=>j(L.id,"originDoc",L.originDocType,W.target.value),className:f[`${L.id}-originDoc`]?"border-destructive":"","data-testid":`input-origin-doc-${ae}`})]}),f[`${L.id}-originDoc`]&&t.jsx("p",{className:"text-xs text-destructive",children:f[`${L.id}-originDoc`]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Destino"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`destinationState-${L.id}`,children:"Estado"}),t.jsxs(Oe,{value:L.destinationState,onValueChange:W=>{R(L.id,"destinationState",W),R(L.id,"destinationCity","")},children:[t.jsx(_e,{id:`destinationState-${L.id}`,"data-testid":`select-destination-state-${ae}`,children:t.jsx(Me,{placeholder:"UF"})}),t.jsx(Te,{children:is.map(W=>t.jsxs(ne,{value:W.uf,children:[W.uf," - ",W.name]},W.uf))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`destinationCity-${L.id}`,children:"Cidade"}),t.jsxs(Oe,{value:L.destinationCity,onValueChange:W=>R(L.id,"destinationCity",W),disabled:!L.destinationState,children:[t.jsx(_e,{id:`destinationCity-${L.id}`,"data-testid":`select-destination-city-${ae}`,children:t.jsx(Me,{placeholder:L.destinationState?"Selecione":"Selecione o estado"})}),t.jsx(Te,{children:vg(L.destinationState).map(W=>t.jsx(ne,{value:W,children:W},W))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF/CNPJ (opcional)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{value:L.destinationDocType,onValueChange:W=>{R(L.id,"destinationDocType",W),L.destinationDoc&&j(L.id,"destinationDoc",W,L.destinationDoc)},children:[t.jsx(_e,{className:"w-24","data-testid":`select-destination-doctype-${ae}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"cpf",children:"CPF"}),t.jsx(ne,{value:"cnpj",children:"CNPJ"})]})]}),t.jsx(J,{id:`destinationDoc-${L.id}`,placeholder:L.destinationDocType==="cpf"?"000.000.000-00":"00.000.000/0000-00",value:L.destinationDoc,onChange:W=>j(L.id,"destinationDoc",L.destinationDocType,W.target.value),className:f[`${L.id}-destinationDoc`]?"border-destructive":"","data-testid":`input-destination-doc-${ae}`})]}),f[`${L.id}-destinationDoc`]&&t.jsx("p",{className:"text-xs text-destructive",children:f[`${L.id}-destinationDoc`]})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`distanceKm-${L.id}`,children:"Distancia da Rota (km)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{id:`distanceKm-${L.id}`,type:"number",step:"1",min:"0",placeholder:E[L.id]?"Calculando...":"Informe a distancia em km",value:L.distanceKm,onChange:W=>R(L.id,"distanceKm",W.target.value),disabled:E[L.id],"data-testid":`input-distance-${ae}`}),y?.configured&&t.jsx(H,{type:"button",variant:"outline",size:"icon",onClick:()=>k(L),disabled:E[L.id]||!L.originCity||!L.destinationCity,title:"Recalcular rota","data-testid":`button-recalculate-route-${ae}`,children:t.jsx(tv,{className:`h-4 w-4 ${E[L.id]?"animate-spin":""}`})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:y?.configured?`Calculado automaticamente via ${y.provider}. Altere manualmente se necessario.`:"Configure ROTAS_BRASIL_TOKEN nas configuraes para calculo automatico."})]}),me?.tollExempt&&L.originState==="PR"&&t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950 rounded-md text-sm",children:[t.jsx(Og,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),t.jsxs("p",{className:"text-blue-700 dark:text-blue-300",children:[t.jsx("strong",{children:"Lei do PR (Decreto 7.871/2017):"})," Pedagio nao incide na base de calculo do ICMS para cargas com origem no Parana."]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[t.jsx(Er,{className:"h-4 w-4"}),"Dados da Carga"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`productType-${L.id}`,children:"Tipo de Produto"}),t.jsxs(Oe,{value:L.productType,onValueChange:W=>R(L.id,"productType",W),children:[t.jsx(_e,{id:`productType-${L.id}`,"data-testid":`select-product-type-${ae}`,children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:rie.map(W=>t.jsx(ne,{value:W.value,children:W.label},W.value))})]})]}),L.productType==="glp"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`glpModel-${L.id}`,children:"Modelo do Botijao"}),t.jsxs(Oe,{value:L.glpModel,onValueChange:W=>{const Se=F1.find(ft=>ft.value===W),$e=parseInt(L.glpQuantity)||0,tt=Se?Se.totalKg*$e:0;R(L.id,"glpModel",W),Se&&$e>0&&R(L.id,"weight",tt.toString())},children:[t.jsx(_e,{id:`glpModel-${L.id}`,"data-testid":`select-glp-model-${ae}`,children:t.jsx(Me,{placeholder:"Selecione o modelo"})}),t.jsx(Te,{children:F1.map(W=>t.jsx(ne,{value:W.value,children:W.label},W.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`glpQuantity-${L.id}`,children:"Quantidade de Botijoes"}),t.jsx(J,{id:`glpQuantity-${L.id}`,type:"number",min:"1",placeholder:"0",value:L.glpQuantity,onChange:W=>{const Se=parseInt(W.target.value)||0,$e=F1.find(ft=>ft.value===L.glpModel),tt=$e?$e.totalKg*Se:0;R(L.id,"glpQuantity",W.target.value),$e&&Se>0&&R(L.id,"weight",tt.toString())},"data-testid":`input-glp-quantity-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{htmlFor:`weight-${L.id}`,children:["Peso Total (kg)",L.glpModel&&t.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"(calculado automaticamente)"})]}),t.jsx(J,{id:`weight-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.weight,onChange:W=>R(L.id,"weight",W.target.value),disabled:!!L.glpModel&&!!L.glpQuantity,"data-testid":`input-weight-${ae}`})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`packagingType-${L.id}`,children:"Tipo de Embalagem"}),t.jsxs(Oe,{value:L.packagingType,onValueChange:W=>R(L.id,"packagingType",W),children:[t.jsx(_e,{id:`packagingType-${L.id}`,"data-testid":`select-packaging-type-${ae}`,children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:aie.map(W=>t.jsx(ne,{value:W.value,children:W.label},W.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`weight-${L.id}`,children:"Peso (kg)"}),t.jsx(J,{id:`weight-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.weight,onChange:W=>R(L.id,"weight",W.target.value),"data-testid":`input-weight-${ae}`})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`cargoValue-${L.id}`,children:"Valor da NF (R$)"}),t.jsx(J,{id:`cargoValue-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.cargoValue,onChange:W=>R(L.id,"cargoValue",W.target.value),"data-testid":`input-cargo-value-${ae}`})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[t.jsx(Nl,{className:"h-4 w-4"}),"Veiculo e Rota"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`vehicleType-${L.id}`,children:"Tipo de Veiculo"}),t.jsxs(Oe,{value:L.vehicleType,onValueChange:W=>{const Se=lie(W);Y(L.id,W,Se?.axles||L.vehicleAxles)},children:[t.jsx(_e,{id:`vehicleType-${L.id}`,"data-testid":`select-vehicle-type-${ae}`,children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:LA.map(W=>t.jsxs(ne,{value:W.value,children:[W.label," (",W.capacityKg.toLocaleString(),"kg)"]},W.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`vehicleAxles-${L.id}`,children:"Eixos do Veiculo"}),t.jsxs(Oe,{value:L.vehicleAxles.toString(),onValueChange:W=>{F(L.id,parseInt(W))},children:[t.jsx(_e,{id:`vehicleAxles-${L.id}`,"data-testid":`select-vehicle-axles-${ae}`,children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:iie.map(W=>t.jsx(ne,{value:W.value.toString(),children:W.label},W.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`bodyType-${L.id}`,children:"Tipo de Carroceria"}),t.jsxs(Oe,{value:L.bodyType,onValueChange:W=>R(L.id,"bodyType",W),children:[t.jsx(_e,{id:`bodyType-${L.id}`,"data-testid":`select-body-type-${ae}`,children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:sie.map(W=>t.jsx(ne,{value:W.value,children:W.label},W.value))})]})]})]}),parseFloat(L.weight)>0&&(()=>{const W=oie(parseFloat(L.weight));return W&&W.value!==L.vehicleType?t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-950 rounded-md text-sm",children:[t.jsx(Og,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"}),t.jsxs("p",{className:"text-amber-700 dark:text-amber-300",children:[t.jsx("strong",{children:"Sugesto:"})," Para ",parseFloat(L.weight).toLocaleString(),"kg, recomendamos usar ",t.jsx("strong",{children:W.label})," (capacidade: ",W.capacityKg.toLocaleString(),"kg)."]})]}):null})(),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[t.jsx(B,{className:"font-medium",children:"KM Vazia - Coleta (de onde vem o veiculo)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Estado"}),t.jsxs(Oe,{value:L.emptyKmPickupState,onValueChange:W=>{R(L.id,"emptyKmPickupState",W),R(L.id,"emptyKmPickupCity","")},children:[t.jsx(_e,{"data-testid":`select-empty-pickup-state-${ae}`,children:t.jsx(Me,{placeholder:"UF"})}),t.jsx(Te,{children:is.map(W=>t.jsxs(ne,{value:W.uf,children:[W.uf," - ",W.name]},W.uf))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Cidade"}),t.jsxs(Oe,{value:L.emptyKmPickupCity,onValueChange:W=>R(L.id,"emptyKmPickupCity",W),disabled:!L.emptyKmPickupState,children:[t.jsx(_e,{"data-testid":`select-empty-pickup-city-${ae}`,children:t.jsx(Me,{placeholder:L.emptyKmPickupState?"Selecione":"Selecione o estado"})}),t.jsx(Te,{children:vg(L.emptyKmPickupState).map(W=>t.jsx(ne,{value:W,children:W},W))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmPickup-${L.id}`,className:"text-xs",children:"KM"}),t.jsx(J,{id:`emptyKmPickup-${L.id}`,type:"number",step:"1",min:"0",placeholder:"0",value:L.emptyKmPickup,onChange:W=>R(L.id,"emptyKmPickup",W.target.value),"data-testid":`input-empty-km-pickup-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Tipo de Cobranca"}),t.jsxs(Oe,{value:L.emptyKmPickupType,onValueChange:W=>R(L.id,"emptyKmPickupType",W),children:[t.jsx(_e,{"data-testid":`select-empty-pickup-type-${ae}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"unit",children:"Por KM"}),t.jsx(ne,{value:"flat",children:"Valor Fixo"})]})]})]})]}),L.emptyKmPickupType==="unit"?t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmPickupRate-${L.id}`,className:"text-xs",children:"Valor por KM (R$)"}),t.jsx(J,{id:`emptyKmPickupRate-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.emptyKmPickupRate,onChange:W=>R(L.id,"emptyKmPickupRate",W.target.value),"data-testid":`input-empty-pickup-rate-${ae}`})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmPickupFlat-${L.id}`,className:"text-xs",children:"Valor Fixo (R$)"}),t.jsx(J,{id:`emptyKmPickupFlat-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.emptyKmPickupFlat,onChange:W=>R(L.id,"emptyKmPickupFlat",W.target.value),"data-testid":`input-empty-pickup-flat-${ae}`})]})]}),t.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[t.jsx(B,{className:"font-medium",children:"KM Vazia - Entrega (para onde vai o veiculo)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Estado"}),t.jsxs(Oe,{value:L.emptyKmDeliveryState,onValueChange:W=>{R(L.id,"emptyKmDeliveryState",W),R(L.id,"emptyKmDeliveryCity","")},children:[t.jsx(_e,{"data-testid":`select-empty-delivery-state-${ae}`,children:t.jsx(Me,{placeholder:"UF"})}),t.jsx(Te,{children:is.map(W=>t.jsxs(ne,{value:W.uf,children:[W.uf," - ",W.name]},W.uf))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Cidade"}),t.jsxs(Oe,{value:L.emptyKmDeliveryCity,onValueChange:W=>R(L.id,"emptyKmDeliveryCity",W),disabled:!L.emptyKmDeliveryState,children:[t.jsx(_e,{"data-testid":`select-empty-delivery-city-${ae}`,children:t.jsx(Me,{placeholder:L.emptyKmDeliveryState?"Selecione":"Selecione o estado"})}),t.jsx(Te,{children:vg(L.emptyKmDeliveryState).map(W=>t.jsx(ne,{value:W,children:W},W))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmDelivery-${L.id}`,className:"text-xs",children:"KM"}),t.jsx(J,{id:`emptyKmDelivery-${L.id}`,type:"number",step:"1",min:"0",placeholder:"0",value:L.emptyKmDelivery,onChange:W=>R(L.id,"emptyKmDelivery",W.target.value),"data-testid":`input-empty-km-delivery-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{className:"text-xs",children:"Tipo de Cobranca"}),t.jsxs(Oe,{value:L.emptyKmDeliveryType,onValueChange:W=>R(L.id,"emptyKmDeliveryType",W),children:[t.jsx(_e,{"data-testid":`select-empty-delivery-type-${ae}`,children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"unit",children:"Por KM"}),t.jsx(ne,{value:"flat",children:"Valor Fixo"})]})]})]})]}),L.emptyKmDeliveryType==="unit"?t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmDeliveryRate-${L.id}`,className:"text-xs",children:"Valor por KM (R$)"}),t.jsx(J,{id:`emptyKmDeliveryRate-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.emptyKmDeliveryRate,onChange:W=>R(L.id,"emptyKmDeliveryRate",W.target.value),"data-testid":`input-empty-delivery-rate-${ae}`})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`emptyKmDeliveryFlat-${L.id}`,className:"text-xs",children:"Valor Fixo (R$)"}),t.jsx(J,{id:`emptyKmDeliveryFlat-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.emptyKmDeliveryFlat,onChange:W=>R(L.id,"emptyKmDeliveryFlat",W.target.value),"data-testid":`input-empty-delivery-flat-${ae}`})]})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{className:"font-medium",children:"Adicionais de Coleta"}),t.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>K(L.id),"data-testid":`button-add-pickup-extra-${ae}`,children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),(L.pickupExtras||[]).length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum adicional de coleta"}):t.jsxs("div",{className:"space-y-2",children:[(L.pickupExtras||[]).map((W,Se)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(J,{placeholder:"Descrio",value:W.description,onChange:$e=>O(L.id,W.id,"description",$e.target.value),className:"flex-1","data-testid":`input-pickup-extra-desc-${ae}-${Se}`}),t.jsx(J,{type:"number",step:"0.01",min:"0",placeholder:"Valor",value:W.value,onChange:$e=>O(L.id,W.id,"value",$e.target.value),className:"w-32","data-testid":`input-pickup-extra-value-${ae}-${Se}`}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>U(L.id,W.id),"data-testid":`button-remove-pickup-extra-${ae}-${Se}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]},W.id)),(L.pickupExtras||[]).length>0&&t.jsx("div",{className:"flex justify-end pt-2 border-t",children:t.jsxs("span",{className:"text-sm font-medium",children:["Total: ",Vt(me?.pickupExtrasTotal||0)]})})]})]}),t.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{className:"font-medium",children:"Adicionais de Entrega"}),t.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>I(L.id),"data-testid":`button-add-delivery-extra-${ae}`,children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),(L.deliveryExtras||[]).length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum adicional de entrega"}):t.jsxs("div",{className:"space-y-2",children:[(L.deliveryExtras||[]).map((W,Se)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(J,{placeholder:"Descrio",value:W.description,onChange:$e=>M(L.id,W.id,"description",$e.target.value),className:"flex-1","data-testid":`input-delivery-extra-desc-${ae}-${Se}`}),t.jsx(J,{type:"number",step:"0.01",min:"0",placeholder:"Valor",value:W.value,onChange:$e=>M(L.id,W.id,"value",$e.target.value),className:"w-32","data-testid":`input-delivery-extra-value-${ae}-${Se}`}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>G(L.id,W.id),"data-testid":`button-remove-delivery-extra-${ae}-${Se}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]},W.id)),(L.deliveryExtras||[]).length>0&&t.jsx("div",{className:"flex justify-end pt-2 border-t",children:t.jsxs("span",{className:"text-sm font-medium",children:["Total: ",Vt(me?.deliveryExtrasTotal||0)]})})]})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[t.jsx(Po,{className:"h-4 w-4"}),"Calculo do Frete"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Frete Minimo ANTT"}),t.jsx("div",{className:"flex items-center gap-2 min-h-9 px-3 py-2 rounded-md border bg-muted/50",children:t.jsx("span",{className:"font-medium",children:Vt(me?.anttMinFreight||0)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Adicional KM Vazia"}),t.jsx("div",{className:"flex items-center gap-2 min-h-9 px-3 py-2 rounded-md border bg-muted/50",children:t.jsx("span",{className:"font-medium",children:Vt(me?.emptyKmTotalValue||0)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Total Adicionais"}),t.jsx("div",{className:"flex items-center gap-2 min-h-9 px-3 py-2 rounded-md border bg-muted/50",children:t.jsx("span",{className:"font-medium",children:Vt(me?.extrasTotal||0)})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 py-2",children:[t.jsx(fn,{id:`useAnttMinFreight-${L.id}`,checked:L.useAnttMinFreight,onCheckedChange:W=>R(L.id,"useAnttMinFreight",W),"data-testid":`checkbox-use-antt-${ae}`}),t.jsx(B,{htmlFor:`useAnttMinFreight-${L.id}`,className:"text-sm cursor-pointer",children:"Usar frete minimo ANTT como base"})]}),!L.useAnttMinFreight&&(L.productType==="glp"?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`unitFreight-${L.id}`,children:"Frete Unitario por Botijao (R$)"}),t.jsx(J,{id:`unitFreight-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.unitFreight,onChange:W=>{const Se=parseFloat(W.target.value)||0,$e=parseInt(L.glpQuantity)||0,tt=Se*$e;R(L.id,"unitFreight",W.target.value),R(L.id,"freightValue",tt.toString())},"data-testid":`input-unit-freight-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{htmlFor:`freightValue-${L.id}`,children:["Frete Total (R$)",t.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(calculado: ",L.glpQuantity||0," x ",Vt(parseFloat(L.unitFreight)||0),")"]})]}),t.jsx(J,{id:`freightValue-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.freightValue,onChange:W=>R(L.id,"freightValue",W.target.value),disabled:!!L.unitFreight&&!!L.glpQuantity,"data-testid":`input-freight-value-${ae}`})]})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`freightValue-${L.id}`,children:"Frete Liquido (R$)"}),t.jsx(J,{id:`freightValue-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.freightValue,onChange:W=>R(L.id,"freightValue",W.target.value),"data-testid":`input-freight-value-${ae}`})]})),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`tollValue-${L.id}`,children:"Pedagio (R$)"}),t.jsx(J,{id:`tollValue-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:E[L.id]?"Calculando...":"0,00",value:L.tollValue,onChange:W=>R(L.id,"tollValue",W.target.value),disabled:E[L.id],"data-testid":`input-toll-value-${ae}`}),y?.configured&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Calculado por ",L.vehicleAxles," eixos"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`unloadingValue-${L.id}`,children:"Descarga (R$)"}),t.jsx(J,{id:`unloadingValue-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,00",value:L.unloadingValue,onChange:W=>R(L.id,"unloadingValue",W.target.value),"data-testid":`input-unloading-value-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`grisRate-${L.id}`,children:"GRIS (%)"}),t.jsx(J,{id:`grisRate-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,30",value:L.grisRate,onChange:W=>R(L.id,"grisRate",W.target.value),"data-testid":`input-gris-rate-${ae}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:`advRate-${L.id}`,children:"ADV (%)"}),t.jsx(J,{id:`advRate-${L.id}`,type:"number",step:"0.01",min:"0",placeholder:"0,30",value:L.advRate,onChange:W=>R(L.id,"advRate",W.target.value),"data-testid":`input-adv-rate-${ae}`})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"bg-primary text-primary-foreground rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Frete Base"}),t.jsx("span",{className:"font-medium",children:Vt(me?.freightValue||0)})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("span",{className:"text-primary-foreground/80",children:["GRIS (",L.grisRate||0,"%)"]}),t.jsx("span",{className:"font-medium",children:Vt(me?.grisValue||0)})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("span",{className:"text-primary-foreground/80",children:["ADV (",L.advRate||0,"%)"]}),t.jsx("span",{className:"font-medium",children:Vt(me?.advValue||0)})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("span",{className:"text-primary-foreground/80",children:["Pedagio"," ",me?.tollExempt&&t.jsx("span",{className:"text-xs",children:"(fora da base ICMS)"})]}),t.jsx("span",{className:"font-medium",children:Vt(me?.tollValue||0)})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Descarga"}),t.jsx("span",{className:"font-medium",children:Vt(me?.unloadingValue||0)})]}),t.jsx(kn,{className:"bg-primary-foreground/20"}),t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("span",{className:"text-primary-foreground/80",children:[me?.taxInfo?.taxType," (",me?.taxInfo?.rate||0,"%)"]}),t.jsx("span",{className:"font-medium",children:Vt(me?.taxValue||0)})]}),t.jsx("div",{className:"text-xs text-primary-foreground/60",children:me?.taxInfo?.description}),t.jsx(kn,{className:"bg-primary-foreground/20"}),t.jsxs("div",{className:"flex justify-between items-center text-lg",children:[t.jsx("span",{className:"font-semibold",children:"Total da Rota"}),t.jsx("span",{className:"font-bold","data-testid":`text-route-total-${ae}`,children:Vt(me?.totalValue||0)})]}),parseFloat(L.weight)>0&&t.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-primary-foreground/20",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Valor por kg"}),t.jsx("span",{className:"font-medium",children:Vt(me?.valuePerKg||0)})]})]})]})]},L.id)}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(H,{variant:"outline",onClick:q,"data-testid":"button-add-route",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Rota"]}),t.jsxs(H,{variant:"outline",onClick:ye,"data-testid":"button-reset",children:[t.jsx(tv,{className:"h-4 w-4 mr-2"}),"Limpar Tudo"]})]}),t.jsx(ee,{className:"bg-secondary",children:t.jsx(te,{className:"py-4",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total de ",e.length," rota(s)"]}),t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-proposal",children:Vt(re)})]}),v?t.jsx(t.Fragment,{children:t.jsxs(bt,{open:s,onOpenChange:i,children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{onClick:D,disabled:!pe,"data-testid":"button-create-proposal",children:[t.jsx(zZ,{className:"h-4 w-4 mr-2"}),"Criar Proposta Comercial",b?.remaining!==null&&!b?.unlimited&&t.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[b?.remaining," gratuitos"]})]})}),t.jsxs(yt,{className:"max-w-lg",children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Criar Proposta Comercial"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"selectClient",children:"Selecionar Cliente Existente"}),t.jsxs(Oe,{value:d,onValueChange:he,children:[t.jsx(_e,{id:"selectClient","data-testid":"select-client",children:t.jsx(Me,{placeholder:"Selecione um cliente ou preencha manualmente"})}),t.jsx(Te,{children:C?.map(L=>t.jsx(ne,{value:L.id.toString(),children:L.name},L.id))})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientName",children:"Nome do Cliente"}),t.jsx(J,{id:"clientName",value:r.clientName,onChange:L=>a(ae=>({...ae,clientName:L.target.value})),placeholder:"Razao Social","data-testid":"input-client-name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientEmail",children:"Email"}),t.jsx(J,{id:"clientEmail",type:"email",value:r.clientEmail,onChange:L=>a(ae=>({...ae,clientEmail:L.target.value})),placeholder:"email@empresa.com","data-testid":"input-client-email"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientPhone",children:"Telefone"}),t.jsx(J,{id:"clientPhone",value:r.clientPhone,onChange:L=>a(ae=>({...ae,clientPhone:L.target.value})),placeholder:"(00) 00000-0000","data-testid":"input-client-phone"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF/CNPJ"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Oe,{value:r.clientDocType,onValueChange:L=>{if(a(ae=>({...ae,clientDocType:L})),r.clientDoc){const ae=I1(L,r.clientDoc),me=D1(L,ae);h(W=>({...W,clientDoc:me.message})),a(W=>({...W,clientDoc:ae}))}},children:[t.jsx(_e,{className:"w-24","data-testid":"select-client-doctype",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"cpf",children:"CPF"}),t.jsx(ne,{value:"cnpj",children:"CNPJ"})]})]}),t.jsx(J,{id:"clientDoc",value:r.clientDoc,onChange:L=>g(L.target.value),placeholder:r.clientDocType==="cpf"?"000.000.000-00":"00.000.000/0000-00",className:f.clientDoc?"border-destructive":"","data-testid":"input-client-doc"})]}),f.clientDoc&&t.jsx("p",{className:"text-xs text-destructive",children:f.clientDoc})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"validityDays",children:"Validade (dias)"}),t.jsx(J,{id:"validityDays",type:"number",min:"1",value:r.validityDays,onChange:L=>a(ae=>({...ae,validityDays:parseInt(L.target.value)||15})),"data-testid":"input-validity-days"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"contractType",children:"Tipo de Contrato"}),t.jsxs(Oe,{value:r.contractType,onValueChange:L=>a(ae=>({...ae,contractType:L})),children:[t.jsx(_e,{id:"contractType","data-testid":"select-contract-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"spot",children:"Spot (Avulso)"}),t.jsx(ne,{value:"6_months",children:"Contrato 6 meses"}),t.jsx(ne,{value:"1_year",children:"Contrato 1 ano"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"notes",children:"Observaes"}),t.jsx(St,{id:"notes",value:r.notes,onChange:L=>a(ae=>({...ae,notes:L.target.value})),placeholder:"Observaes adicionais...",rows:3,"data-testid":"input-notes"})]}),t.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total da Proposta"}),t.jsx("p",{className:"text-xl font-bold",children:Vt(re)}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.length," rota(s) incluida(s)"]})]})]}),t.jsxs(Pn,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),t.jsxs(H,{onClick:()=>le.mutate({routes:e,proposal:r}),disabled:le.isPending||!r.clientName||P,"data-testid":"button-save-proposal",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),le.isPending?"Salvando...":"Salvar Proposta"]})]})]})]})}):t.jsxs(H,{onClick:D,disabled:!pe,"data-testid":"button-create-proposal",children:[t.jsx(rv,{className:"h-4 w-4 mr-2"}),"Cadastre-se para Enviar Proposta"]})]})})}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Og,{className:"h-5 w-5"}),"Informaes Importantes"]})}),t.jsxs(te,{className:"space-y-3 text-sm text-muted-foreground",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Tabela ANTT:"})," Os valores minimos de frete sao calculados conforme Resolucao ANTT 6.034/2024, usando os coeficientes CCD (R$/km) e CC (custo de carga)."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Lei do PR:"})," Conforme Decreto 7.871/2017, o pedagio nao incide na base de calculo do ICMS para transportes com origem no Parana."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"ICMS Interestadual:"})," Aliquota de 7% para destinos no Sul/Sudeste a partir de origem Norte/Nordeste/Centro-Oeste, e 12% nos demais casos."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"ISS:"})," Incide em transportes municipais (dentro da mesma cidade) com aliquota de 5%."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"GRIS/ADV:"})," Calculados sobre o valor da NF (mercadoria) para fins de seguro de carga."]})]})]}),t.jsx(bt,{open:o,onOpenChange:l,children:t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(fu,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),"Calculos Gratuitos Esgotados"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-muted-foreground",children:"Voce utilizou todos os seus calculos gratuitos. Para continuar enviando propostas e acessar recursos avancados, escolha um de nossos planos."}),t.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[t.jsx("h4",{className:"font-semibold",children:"Com um plano voce tem acesso a:"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"Calculos ilimitados de frete e armazenagem"}),t.jsx("li",{children:"CRM completo para gesto de clientes"}),t.jsx("li",{children:"Pipeline de vendas"}),t.jsx("li",{children:"Checklists operacionais"}),t.jsx("li",{children:"Gesto financeira"}),t.jsx("li",{children:"Materiais de marketing"})]})]})]}),t.jsxs(Pn,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Voltar"}),t.jsxs(H,{onClick:()=>N("/planos"),"data-testid":"button-view-plans",children:[t.jsx(fu,{className:"h-4 w-4 mr-2"}),"Ver Planos"]})]})]})})]})})}var PF=1,VNe=.9,BNe=.8,HNe=.17,HC=.1,UC=.999,UNe=.9999,KNe=.99,WNe=/[\\\/_+.#"@\[\(\{&]/,GNe=/[\\\/_+.#"@\[\(\{&]/g,QNe=/[\s-]/,KU=/[\s-]/g;function wE(e,n,r,a,s,i,o){if(i===n.length)return s===e.length?PF:KNe;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var d=a.charAt(i),u=r.indexOf(d,s),f=0,h,p,v,N;u>=0;)h=wE(e,n,r,a,u+1,i+1,o),h>f&&(u===s?h*=PF:WNe.test(e.charAt(u-1))?(h*=BNe,v=e.slice(s,u-1).match(GNe),v&&s>0&&(h*=Math.pow(UC,v.length))):QNe.test(e.charAt(u-1))?(h*=VNe,N=e.slice(s,u-1).match(KU),N&&s>0&&(h*=Math.pow(UC,N.length))):(h*=HNe,s>0&&(h*=Math.pow(UC,u-s))),e.charAt(u)!==n.charAt(i)&&(h*=UNe)),(h<HC&&r.charAt(u-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&r.charAt(u-1)!==a.charAt(i))&&(p=wE(e,n,r,a,u+1,i+2,o),p*HC>h&&(h=p*HC)),h>f&&(f=h),u=r.indexOf(d,u+1);return o[l]=f,f}function EF(e){return e.toLowerCase().replace(KU," ")}function YNe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,wE(e,n,EF(e),EF(n),0,0,{})}var vf='[cmdk-group=""]',KC='[cmdk-group-items=""]',XNe='[cmdk-group-heading=""]',WU='[cmdk-item=""]',AF=`${WU}:not([aria-disabled="true"])`,NE="cmdk-item-select",Ud="data-value",ZNe=(e,n,r)=>YNe(e,n,r),GU=w.createContext(void 0),Tp=()=>w.useContext(GU),QU=w.createContext(void 0),i_=()=>w.useContext(QU),YU=w.createContext(void 0),XU=w.forwardRef((e,n)=>{let r=Kd(()=>{var V,Z;return{search:"",value:(Z=(V=e.value)!=null?V:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Kd(()=>new Set),s=Kd(()=>new Map),i=Kd(()=>new Map),o=Kd(()=>new Set),l=ZU(e),{label:d,children:u,value:f,onValueChange:h,filter:p,shouldFilter:v,loop:N,disablePointerSelection:j=!1,vimBindings:g=!0,...P}=e,C=cr(),b=cr(),y=cr(),E=w.useRef(null),S=c2e();qc(()=>{if(f!==void 0){let V=f.trim();r.current.value=V,k.emit()}},[f]),qc(()=>{S(6,R)},[]);let k=w.useMemo(()=>({subscribe:V=>(o.current.add(V),()=>o.current.delete(V)),snapshot:()=>r.current,setState:(V,Z,re)=>{var le,ye,he,pe;if(!Object.is(r.current[V],Z)){if(r.current[V]=Z,V==="search")D(),Y(),S(1,F);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let L=document.getElementById(y);L?L.focus():(le=document.getElementById(C))==null||le.focus()}if(S(7,()=>{var L;r.current.selectedItemId=(L=q())==null?void 0:L.id,k.emit()}),re||S(5,R),((ye=l.current)==null?void 0:ye.value)!==void 0){let L=Z??"";(pe=(he=l.current).onValueChange)==null||pe.call(he,L);return}}k.emit()}},emit:()=>{o.current.forEach(V=>V())}}),[]),T=w.useMemo(()=>({value:(V,Z,re)=>{var le;Z!==((le=i.current.get(V))==null?void 0:le.value)&&(i.current.set(V,{value:Z,keywords:re}),r.current.filtered.items.set(V,z(Z,re)),S(2,()=>{Y(),k.emit()}))},item:(V,Z)=>(a.current.add(V),Z&&(s.current.has(Z)?s.current.get(Z).add(V):s.current.set(Z,new Set([V]))),S(3,()=>{D(),Y(),r.current.value||F(),k.emit()}),()=>{i.current.delete(V),a.current.delete(V),r.current.filtered.items.delete(V);let re=q();S(4,()=>{D(),re?.getAttribute("id")===V&&F(),k.emit()})}),group:V=>(s.current.has(V)||s.current.set(V,new Set),()=>{i.current.delete(V),s.current.delete(V)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:C,inputId:y,labelId:b,listInnerRef:E}),[]);function z(V,Z){var re,le;let ye=(le=(re=l.current)==null?void 0:re.filter)!=null?le:ZNe;return V?ye(V,r.current.search,Z):0}function Y(){if(!r.current.search||l.current.shouldFilter===!1)return;let V=r.current.filtered.items,Z=[];r.current.filtered.groups.forEach(le=>{let ye=s.current.get(le),he=0;ye.forEach(pe=>{let L=V.get(pe);he=Math.max(L,he)}),Z.push([le,he])});let re=E.current;Q().sort((le,ye)=>{var he,pe;let L=le.getAttribute("id"),ae=ye.getAttribute("id");return((he=V.get(ae))!=null?he:0)-((pe=V.get(L))!=null?pe:0)}).forEach(le=>{let ye=le.closest(KC);ye?ye.appendChild(le.parentElement===ye?le:le.closest(`${KC} > *`)):re.appendChild(le.parentElement===re?le:le.closest(`${KC} > *`))}),Z.sort((le,ye)=>ye[1]-le[1]).forEach(le=>{var ye;let he=(ye=E.current)==null?void 0:ye.querySelector(`${vf}[${Ud}="${encodeURIComponent(le[0])}"]`);he?.parentElement.appendChild(he)})}function F(){let V=Q().find(re=>re.getAttribute("aria-disabled")!=="true"),Z=V?.getAttribute(Ud);k.setState("value",Z||void 0)}function D(){var V,Z,re,le;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let ye=0;for(let he of a.current){let pe=(Z=(V=i.current.get(he))==null?void 0:V.value)!=null?Z:"",L=(le=(re=i.current.get(he))==null?void 0:re.keywords)!=null?le:[],ae=z(pe,L);r.current.filtered.items.set(he,ae),ae>0&&ye++}for(let[he,pe]of s.current)for(let L of pe)if(r.current.filtered.items.get(L)>0){r.current.filtered.groups.add(he);break}r.current.filtered.count=ye}function R(){var V,Z,re;let le=q();le&&(((V=le.parentElement)==null?void 0:V.firstChild)===le&&((re=(Z=le.closest(vf))==null?void 0:Z.querySelector(XNe))==null||re.scrollIntoView({block:"nearest"})),le.scrollIntoView({block:"nearest"}))}function q(){var V;return(V=E.current)==null?void 0:V.querySelector(`${WU}[aria-selected="true"]`)}function Q(){var V;return Array.from(((V=E.current)==null?void 0:V.querySelectorAll(AF))||[])}function K(V){let Z=Q()[V];Z&&k.setState("value",Z.getAttribute(Ud))}function U(V){var Z;let re=q(),le=Q(),ye=le.findIndex(pe=>pe===re),he=le[ye+V];(Z=l.current)!=null&&Z.loop&&(he=ye+V<0?le[le.length-1]:ye+V===le.length?le[0]:le[ye+V]),he&&k.setState("value",he.getAttribute(Ud))}function O(V){let Z=q(),re=Z?.closest(vf),le;for(;re&&!le;)re=V>0?o2e(re,vf):l2e(re,vf),le=re?.querySelector(AF);le?k.setState("value",le.getAttribute(Ud)):U(V)}let I=()=>K(Q().length-1),G=V=>{V.preventDefault(),V.metaKey?I():V.altKey?O(1):U(1)},M=V=>{V.preventDefault(),V.metaKey?K(0):V.altKey?O(-1):U(-1)};return w.createElement(ot.div,{ref:n,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:V=>{var Z;(Z=P.onKeyDown)==null||Z.call(P,V);let re=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||re))switch(V.key){case"n":case"j":{g&&V.ctrlKey&&G(V);break}case"ArrowDown":{G(V);break}case"p":case"k":{g&&V.ctrlKey&&M(V);break}case"ArrowUp":{M(V);break}case"Home":{V.preventDefault(),K(0);break}case"End":{V.preventDefault(),I();break}case"Enter":{V.preventDefault();let le=q();if(le){let ye=new Event(NE);le.dispatchEvent(ye)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:u2e},d),u0(e,V=>w.createElement(QU.Provider,{value:k},w.createElement(GU.Provider,{value:T},V))))}),JNe=w.forwardRef((e,n)=>{var r,a;let s=cr(),i=w.useRef(null),o=w.useContext(YU),l=Tp(),d=ZU(e),u=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:o?.forceMount;qc(()=>{if(!u)return l.item(s,o?.id)},[u]);let f=JU(s,i,[e.value,e.children,i],e.keywords),h=i_(),p=Tl(S=>S.value&&S.value===f.current),v=Tl(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);w.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(NE,N),()=>S.removeEventListener(NE,N)},[v,e.onSelect,e.disabled]);function N(){var S,k;j(),(k=(S=d.current).onSelect)==null||k.call(S,f.current)}function j(){h.setState("value",f.current,!0)}if(!v)return null;let{disabled:g,value:P,onSelect:C,forceMount:b,keywords:y,...E}=e;return w.createElement(ot.div,{ref:ho(i,n),...E,id:s,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||l.getDisablePointerSelection()?void 0:j,onClick:g?void 0:N},e.children)}),e2e=w.forwardRef((e,n)=>{let{heading:r,children:a,forceMount:s,...i}=e,o=cr(),l=w.useRef(null),d=w.useRef(null),u=cr(),f=Tp(),h=Tl(v=>s||f.filter()===!1?!0:v.search?v.filtered.groups.has(o):!0);qc(()=>f.group(o),[]),JU(o,l,[e.value,e.heading,d]);let p=w.useMemo(()=>({id:o,forceMount:s}),[s]);return w.createElement(ot.div,{ref:ho(l,n),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&w.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),u0(e,v=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},w.createElement(YU.Provider,{value:p},v))))}),t2e=w.forwardRef((e,n)=>{let{alwaysRender:r,...a}=e,s=w.useRef(null),i=Tl(o=>!o.search);return!r&&!i?null:w.createElement(ot.div,{ref:ho(s,n),...a,"cmdk-separator":"",role:"separator"})}),n2e=w.forwardRef((e,n)=>{let{onValueChange:r,...a}=e,s=e.value!=null,i=i_(),o=Tl(u=>u.search),l=Tl(u=>u.selectedItemId),d=Tp();return w.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),w.createElement(ot.input,{ref:n,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":l,id:d.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r?.(u.target.value)}})}),r2e=w.forwardRef((e,n)=>{let{children:r,label:a="Suggestions",...s}=e,i=w.useRef(null),o=w.useRef(null),l=Tl(u=>u.selectedItemId),d=Tp();return w.useEffect(()=>{if(o.current&&i.current){let u=o.current,f=i.current,h,p=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let v=u.offsetHeight;f.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(h),p.unobserve(u)}}},[]),w.createElement(ot.div,{ref:ho(i,n),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":a,id:d.listId},u0(e,u=>w.createElement("div",{ref:ho(o,d.listInnerRef),"cmdk-list-sizer":""},u)))}),a2e=w.forwardRef((e,n)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:i,container:o,...l}=e;return w.createElement(fj,{open:r,onOpenChange:a},w.createElement(hj,{container:o},w.createElement(um,{"cmdk-overlay":"",className:s}),w.createElement(mm,{"aria-label":e.label,"cmdk-dialog":"",className:i},w.createElement(XU,{ref:n,...l}))))}),s2e=w.forwardRef((e,n)=>Tl(r=>r.filtered.count===0)?w.createElement(ot.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),i2e=w.forwardRef((e,n)=>{let{progress:r,children:a,label:s="Loading...",...i}=e;return w.createElement(ot.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},u0(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),Ca=Object.assign(XU,{List:r2e,Item:JNe,Input:n2e,Group:e2e,Separator:t2e,Dialog:a2e,Empty:s2e,Loading:i2e});function o2e(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function l2e(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function ZU(e){let n=w.useRef(e);return qc(()=>{n.current=e}),n}var qc=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Kd(e){let n=w.useRef();return n.current===void 0&&(n.current=e()),n}function Tl(e){let n=i_(),r=()=>e(n.snapshot());return w.useSyncExternalStore(n.subscribe,r,r)}function JU(e,n,r,a=[]){let s=w.useRef(),i=Tp();return qc(()=>{var o;let l=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),d=a.map(u=>u.trim());i.value(e,l,d),(o=n.current)==null||o.setAttribute(Ud,l),s.current=l}),s}var c2e=()=>{let[e,n]=w.useState(),r=Kd(()=>new Map);return qc(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,s)=>{r.current.set(a,s),n({})}};function d2e(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function u0({asChild:e,children:n},r){return e&&w.isValidElement(n)?w.cloneElement(d2e(n),{ref:n.ref},r(n.props.children)):r(n)}var u2e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const eK=w.forwardRef(({className:e,...n},r)=>t.jsx(Ca,{ref:r,className:Fe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));eK.displayName=Ca.displayName;const tK=w.forwardRef(({className:e,...n},r)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(ca,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(Ca.Input,{ref:r,className:Fe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));tK.displayName=Ca.Input.displayName;const nK=w.forwardRef(({className:e,...n},r)=>t.jsx(Ca.List,{ref:r,className:Fe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));nK.displayName=Ca.List.displayName;const rK=w.forwardRef((e,n)=>t.jsx(Ca.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));rK.displayName=Ca.Empty.displayName;const aK=w.forwardRef(({className:e,...n},r)=>t.jsx(Ca.Group,{ref:r,className:Fe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));aK.displayName=Ca.Group.displayName;const m2e=w.forwardRef(({className:e,...n},r)=>t.jsx(Ca.Separator,{ref:r,className:Fe("-mx-1 h-px bg-border",e),...n}));m2e.displayName=Ca.Separator.displayName;const CE=w.forwardRef(({className:e,...n},r)=>t.jsx(Ca.Item,{ref:r,className:Fe("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));CE.displayName=Ca.Item.displayName;var o_="Popover",[sK]=sr(o_,[Ol]),Op=Ol(),[f2e,Ll]=sK(o_),iK=e=>{const{__scopePopover:n,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Op(n),d=w.useRef(null),[u,f]=w.useState(!1),[h=!1,p]=sa({prop:a,defaultProp:s,onChange:i});return t.jsx(Qy,{...l,children:t.jsx(f2e,{scope:n,contentId:cr(),triggerRef:d,open:h,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(v=>!v),[p]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:o,children:r})})};iK.displayName=o_;var oK="PopoverAnchor",h2e=w.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,s=Ll(oK,r),i=Op(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return w.useEffect(()=>(o(),()=>l()),[o,l]),t.jsx(dp,{...i,...a,ref:n})});h2e.displayName=oK;var lK="PopoverTrigger",cK=w.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,s=Ll(lK,r),i=Op(r),o=qt(n,s.triggerRef),l=t.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hK(s.open),...a,ref:o,onClick:He(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:t.jsx(dp,{asChild:!0,...i,children:l})});cK.displayName=lK;var l_="PopoverPortal",[p2e,x2e]=sK(l_,{forceMount:void 0}),dK=e=>{const{__scopePopover:n,forceMount:r,children:a,container:s}=e,i=Ll(l_,n);return t.jsx(p2e,{scope:n,forceMount:r,children:t.jsx(ur,{present:r||i.open,children:t.jsx(am,{asChild:!0,container:s,children:a})})})};dK.displayName=l_;var Wu="PopoverContent",uK=w.forwardRef((e,n)=>{const r=x2e(Wu,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=Ll(Wu,e.__scopePopover);return t.jsx(ur,{present:a||i.open,children:i.modal?t.jsx(v2e,{...s,ref:n}):t.jsx(y2e,{...s,ref:n})})});uK.displayName=Wu;var g2e=wl("PopoverContent.RemoveScroll"),v2e=w.forwardRef((e,n)=>{const r=Ll(Wu,e.__scopePopover),a=w.useRef(null),s=qt(n,a),i=w.useRef(!1);return w.useEffect(()=>{const o=a.current;if(o)return lj(o)},[]),t.jsx(hp,{as:g2e,allowPinchZoom:!0,children:t.jsx(mK,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),y2e=w.forwardRef((e,n)=>{const r=Ll(Wu,e.__scopePopover),a=w.useRef(!1),s=w.useRef(!1);return t.jsx(mK,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||r.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),mK=w.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...h}=e,p=Ll(Wu,r),v=Op(r);return oj(),t.jsx(fp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:t.jsx(Yy,{"data-state":hK(p.open),role:"dialog",id:p.contentId,...v,...h,ref:n,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fK="PopoverClose",j2e=w.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,s=Ll(fK,r);return t.jsx(ot.button,{type:"button",...a,ref:n,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});j2e.displayName=fK;var b2e="PopoverArrow",w2e=w.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,s=Op(r);return t.jsx(Xy,{...s,...a,ref:n})});w2e.displayName=b2e;function hK(e){return e?"open":"closed"}var N2e=iK,C2e=cK,S2e=dK,pK=uK;const P2e=N2e,E2e=C2e,xK=w.forwardRef(({className:e,align:n="center",sideOffset:r=4,...a},s)=>t.jsx(S2e,{children:t.jsx(pK,{ref:s,align:n,sideOffset:r,className:Fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));xK.displayName=pK.displayName;const A2e=De.object({name:De.string().min(1,"Nome  obrigatrio"),tradeName:De.string().optional(),cnpj:De.string().optional(),inscrioEstadual:De.string().optional(),inscrioEstadualIsento:De.boolean().optional().default(!1),inscrioMunicipal:De.string().optional(),email:De.string().email("Email invlido").optional().or(De.literal("")),phone:De.string().optional(),address:De.string().optional(),city:De.string().optional(),state:De.string().optional(),segment:De.string().optional(),status:De.string().optional(),pipelineStage:De.string().optional(),contactName:De.string().optional(),contactPhone:De.string().optional(),contactEmail:De.string().email("Email invlido").optional().or(De.literal("")),estimatedValue:De.string().optional(),notes:De.string().optional()}),k2e=["Transportadora","Operador Logstico","Indstria","Varejo","E-commerce","Armazenagem","Distribuidor","Outro"],_2e=[{value:"prospect",label:"Prospecto"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"}],T2e=[{value:"lead",label:"Lead"},{value:"contact",label:"Contato"},{value:"proposal",label:"Proposta"},{value:"negotiation",label:"Negociao"},{value:"closed",label:"Fechado"}];function O2e({open:e,onOpenChange:n,editingClient:r=null,onSuccess:a}){const{toast:s}=At(),[i,o]=w.useState(!1),[l,d]=w.useState(!1),u=hs({resolver:ps(A2e),defaultValues:{name:"",tradeName:"",cnpj:"",inscrioEstadual:"",inscrioEstadualIsento:!1,inscrioMunicipal:"",email:"",phone:"",address:"",city:"",state:"",segment:"",status:"prospect",pipelineStage:"lead",contactName:"",contactPhone:"",contactEmail:"",estimatedValue:"",notes:""}}),f=u.watch("inscrioEstadualIsento"),h=async P=>{const C=P.replace(/[^\d]/g,"");if(C.length===14){o(!0),d(!1);try{const b=await fetch(`/api/cnpj/${C}`);if(b.ok){const y=await b.json();y.razao_social&&u.setValue("name",y.razao_social),y.nome_fantasia&&u.setValue("tradeName",y.nome_fantasia),d(!0),s({title:"Dados encontrados na Receita Federal"})}else s({title:"CNPJ nao encontrado",variant:"destructive"})}catch{s({title:"Erro ao consultar CNPJ",variant:"destructive"})}finally{o(!1)}}};w.useEffect(()=>{e&&r?(u.reset({name:r.name,tradeName:r.tradeName||"",cnpj:r.cnpj||"",inscrioEstadual:r.inscrioEstadual||"",inscrioEstadualIsento:r.inscrioEstadualIsento||!1,inscrioMunicipal:r.inscrioMunicipal||"",email:r.email||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",segment:r.segment||"",status:r.status||"prospect",pipelineStage:r.pipelineStage||"lead",contactName:r.contactName||"",contactPhone:r.contactPhone||"",contactEmail:r.contactEmail||"",estimatedValue:r.estimatedValue?.toString()||"",notes:r.notes||""}),d(!1)):e&&!r&&(u.reset({name:"",tradeName:"",cnpj:"",inscrioEstadual:"",inscrioEstadualIsento:!1,inscrioMunicipal:"",email:"",phone:"",address:"",city:"",state:"",segment:"",status:"prospect",pipelineStage:"lead",contactName:"",contactPhone:"",contactEmail:"",estimatedValue:"",notes:""}),d(!1))},[e,r,u]);const p=Ae({mutationFn:async P=>{const C={...P,companyId:1,estimatedValue:P.estimatedValue||void 0};return(await Ne("POST","/api/clients",C)).json()},onSuccess:P=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),n(!1),u.reset(),s({title:"Cliente criado com sucesso!"}),a?.(P)},onError:()=>{s({title:"Erro ao criar cliente",variant:"destructive"})}}),v=Ae({mutationFn:async P=>r?(await Ne("PATCH",`/api/clients/${r.id}`,P)).json():void 0,onSuccess:P=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),n(!1),u.reset(),s({title:"Cliente atualizado com sucesso!"}),a?.(P)},onError:()=>{s({title:"Erro ao atualizar cliente",variant:"destructive"})}}),N=P=>{r?v.mutate(P):p.mutate(P)},j=()=>{n(!1),u.reset()},g=p.isPending||v.isPending;return t.jsx(bt,{open:e,onOpenChange:j,children:t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:r?"Editar Cliente":"Novo Cliente"}),t.jsx(tn,{children:r?"Atualize as informaes do cliente":"Preencha os dados para cadastrar um novo cliente"})]}),t.jsx(xs,{...u,children:t.jsxs("form",{onSubmit:u.handleSubmit(N),className:"space-y-6",children:[t.jsx(Qe,{control:u.control,name:"cnpj",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"CNPJ/CPF"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ye,{className:"flex-1",children:t.jsx(dm,{value:P.value||"",onChange:C=>{P.onChange(C),d(!1)},label:"","data-testid":"input-client-cnpj"})}),t.jsx(H,{type:"button",variant:"outline",onClick:()=>h(P.value||""),disabled:i||!P.value||P.value.replace(/[^\d]/g,"").length!==14,"data-testid":"button-client-cnpj-lookup",children:i?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):l?t.jsx(Ar,{className:"h-4 w-4 text-green-500"}):t.jsx(ca,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o CNPJ e clique na lupa para buscar dados automaticamente"}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Qe,{control:u.control,name:"inscrioEstadual",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Inscrio Estadual (I.E.)"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:f?"ISENTO":"Inscrio Estadual",disabled:f,"data-testid":"input-client-ie",...P,value:f?"":P.value})}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(fn,{id:"client-ie-isento",checked:u.watch("inscrioEstadualIsento"),onCheckedChange:C=>{u.setValue("inscrioEstadualIsento",!!C),C&&u.setValue("inscrioEstadual","")},"data-testid":"checkbox-client-ie-isento"}),t.jsx("label",{htmlFor:"client-ie-isento",className:"text-xs text-muted-foreground cursor-pointer",children:"Isento"})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"inscrioMunicipal",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Inscrio Municipal (I.M.)"}),t.jsx(Ye,{children:t.jsx(J,{placeholder:"Inscrio Municipal","data-testid":"input-client-im",...P})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Qe,{control:u.control,name:"name",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Razao Social *"}),t.jsx(Ye,{children:t.jsx(J,{...P,"data-testid":"input-client-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"tradeName",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome Fantasia"}),t.jsx(Ye,{children:t.jsx(J,{...P,"data-testid":"input-client-trade-name"})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Qe,{control:u.control,name:"segment",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Segmento"}),t.jsxs(Oe,{onValueChange:P.onChange,value:P.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-segment",children:t.jsx(Me,{placeholder:"Selecione"})})}),t.jsx(Te,{children:k2e.map(C=>t.jsx(ne,{value:C,children:C},C))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"email",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",...P,"data-testid":"input-client-email"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"phone",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Telefone"}),t.jsx(Ye,{children:t.jsx(J,{...P,placeholder:"(00) 00000-0000","data-testid":"input-client-phone"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"city",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Cidade"}),t.jsx(Ye,{children:t.jsx(J,{...P,"data-testid":"input-client-city"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"state",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Estado"}),t.jsxs(Oe,{onValueChange:P.onChange,value:P.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-state",children:t.jsx(Me,{placeholder:"UF"})})}),t.jsx(Te,{children:is.map(C=>t.jsxs(ne,{value:C.uf,children:[C.uf," - ",C.name]},C.uf))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"status",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Status"}),t.jsxs(Oe,{onValueChange:P.onChange,value:P.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-status",children:t.jsx(Me,{placeholder:"Status"})})}),t.jsx(Te,{children:_2e.map(C=>t.jsx(ne,{value:C.value,children:C.label},C.value))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"pipelineStage",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Etapa do Pipeline"}),t.jsxs(Oe,{onValueChange:P.onChange,value:P.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-client-pipeline",children:t.jsx(Me,{placeholder:"Etapa"})})}),t.jsx(Te,{children:T2e.map(C=>t.jsx(ne,{value:C.value,children:C.label},C.value))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"estimatedValue",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Valor Estimado (R$)"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",step:"0.01",...P,"data-testid":"input-client-value"})}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-4",children:"Contato Principal"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(Qe,{control:u.control,name:"contactName",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome"}),t.jsx(Ye,{children:t.jsx(J,{...P,"data-testid":"input-contact-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"contactPhone",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Telefone"}),t.jsx(Ye,{children:t.jsx(J,{...P,"data-testid":"input-contact-phone"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"contactEmail",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",...P,"data-testid":"input-contact-email"})}),t.jsx(Ze,{})]})})]})]}),t.jsx(Qe,{control:u.control,name:"notes",render:({field:P})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Observaes"}),t.jsx(Ye,{children:t.jsx(St,{...P,rows:3,"data-testid":"textarea-client-notes"})}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{type:"button",variant:"outline",onClick:j,children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:g,"data-testid":"button-save-client",children:g?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):r?"Atualizar":"Salvar"})]})]})})]})})}function Mp({clients:e,value:n,onValueChange:r,placeholder:a="Selecione um cliente",allowNone:s=!0,disabled:i=!1,"data-testid":o,showAddButton:l=!0}){const[d,u]=w.useState(!1),[f,h]=w.useState(!1),p=e.find(j=>j.id.toString()===n),v=()=>{u(!1),h(!0)},N=j=>{r(j.id.toString())};return t.jsxs(t.Fragment,{children:[t.jsxs(P2e,{open:d,onOpenChange:u,children:[t.jsx(E2e,{asChild:!0,children:t.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":d,className:"w-full justify-between font-normal",disabled:i,"data-testid":o,children:[p?p.name:a,t.jsx(TZ,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(xK,{className:"w-[300px] p-0",align:"start",children:t.jsxs(eK,{children:[t.jsx(tK,{placeholder:"Buscar cliente..."}),t.jsxs(nK,{children:[t.jsx(rK,{children:t.jsxs("div",{className:"flex flex-col items-center gap-2 py-2",children:[t.jsx("span",{children:"Nenhum cliente encontrado."}),l&&t.jsxs(H,{variant:"outline",size:"sm",onClick:v,className:"gap-1","data-testid":"button-add-client-from-combobox",children:[t.jsx(ut,{className:"h-4 w-4"}),"Cadastrar Cliente"]})]})}),t.jsxs(aK,{children:[s&&t.jsxs(CE,{value:"none",onSelect:()=>{r(""),u(!1)},children:[t.jsx(ta,{className:Fe("mr-2 h-4 w-4",n===""||n==="none"?"opacity-100":"opacity-0")}),"Nenhum"]}),e.map(j=>t.jsxs(CE,{value:j.name,onSelect:()=>{r(j.id.toString()),u(!1)},children:[t.jsx(ta,{className:Fe("mr-2 h-4 w-4",n===j.id.toString()?"opacity-100":"opacity-0")}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{children:j.name}),j.segment&&t.jsx("span",{className:"text-xs text-muted-foreground",children:j.segment})]})]},j.id))]})]})]})})]}),t.jsx(O2e,{open:f,onOpenChange:h,onSuccess:N})]})}const kF={area:"",period:"30",storageCategory:"",storageType:"",storageRate:"",movementRate:"",handlingValue:"",quantity:"",palletPositions:"",insuranceRate:"0.05",productValue:""},WC=[{value:"dry",label:"Carga Seca",icon:Er},{value:"refrigerated",label:"Refrigerada",icon:_S},{value:"frozen",label:"Congelada",icon:Rg},{value:"pharmaceutical",label:"Farmaceutica",icon:Mg},{value:"hazardous",label:"Perigosa",icon:Hr},{value:"agricultural",label:"Agricola",icon:OS},{value:"special",label:"Especial",icon:SS}],yf=[{value:"dry_general",label:"Carga Geral",category:"dry",baseRate:25,temperature:"Ambiente (15-30C)",legislation:["NBR 15.524-2/2008","NR-11"],requirements:["Ambiente limpo e ventilado","Protecao contra intemperies","Controle de pragas"],icon:Er},{value:"dry_industrial",label:"Produtos Industrializados",category:"dry",baseRate:28,temperature:"Ambiente (15-30C)",legislation:["NBR 15.524-2/2008","NR-11","ABNT NBR 16280"],requirements:["Empilhamento maximo definido","Separacao por lote","Controle FIFO/FEFO"],icon:Er},{value:"dry_electronics",label:"Eletronicos",category:"dry",baseRate:45,temperature:"Ambiente controlado (18-25C)",legislation:["NBR 15.524-2/2008","ABNT IEC 61340"],requirements:["Controle de umidade < 60%","Protecao antistatica","Seguranca reforada"],icon:Er},{value:"refrigerated_food",label:"Alimentos Refrigerados",category:"refrigerated",baseRate:55,temperature:"0C a 10C",legislation:["ANVISA RDC 216/2004","Portaria SVS 326/1997","MAPA IN 16/2017"],requirements:["Monitoramento continuo de temperatura","Separacao por tipo de alimento","Higienizacao diaria","Registro de temperaturas"],icon:Yx},{value:"refrigerated_dairy",label:"Laticinios",category:"refrigerated",baseRate:60,temperature:"2C a 8C",legislation:["ANVISA RDC 216/2004","MAPA IN 76/2018","Decreto 9.013/2017 (RIISPOA)"],requirements:["Cadeia de frio ininterrupta","Controle de validade FEFO","Area exclusiva para laticinios"],icon:Yx},{value:"refrigerated_meat",label:"Carnes Refrigeradas",category:"refrigerated",baseRate:65,temperature:"0C a 4C",legislation:["MAPA Decreto 9.013/2017","ANVISA RDC 216/2004","IN MAPA 60/2018"],requirements:["Prateleiras inferiores obrigatorias","Separacao de carnes cruas","SIF obrigatorio para comrcio interestadual"],icon:Yx},{value:"refrigerated_seafood",label:"Pescados",category:"refrigerated",baseRate:70,temperature:"0C a 2C",legislation:["MAPA Decreto 9.013/2017","ANVISA RDC 216/2004","Resolucao CISA 10/1984"],requirements:["Gelo ou refrigerao permanente","Area exclusiva","Rastreabilidade de origem"],icon:Yx},{value:"frozen_food",label:"Alimentos Congelados",category:"frozen",baseRate:75,temperature:"-18C ou inferior",legislation:["ANVISA RDC 216/2004","Resolucao CNNPA 35/1977","NBR 14701"],requirements:["Temperatura <= -18C constante","Nao recongelar produtos descongelados","Embalagem hermetica"],icon:Rg},{value:"frozen_meat",label:"Carnes Congeladas",category:"frozen",baseRate:80,temperature:"-18C ou inferior",legislation:["MAPA Decreto 9.013/2017","Resolucao CNNPA 35/1977","IN MAPA 60/2018"],requirements:["Camara exclusiva para carnes","Registro de temperatura automatico","Descongelamento controlado"],icon:Rg},{value:"frozen_icecream",label:"Sorvetes e Gelados",category:"frozen",baseRate:85,temperature:"-23C ou inferior",legislation:["ANVISA RDC 266/2005","Resolucao CNNPA 35/1977"],requirements:["Temperatura ultra-congelada","Embalagem lacrada original","Controle de cristalizacao"],icon:Rg},{value:"pharma_standard",label:"Medicamentos Padrao",category:"pharmaceutical",baseRate:90,temperature:"15C a 30C",legislation:["ANVISA RDC 430/2020","RDC 653/2022","RDC 304"],requirements:["Sistema de Gesto da Qualidade","Area de quarentena","Rastreabilidade total","POPs documentados"],icon:Mg},{value:"pharma_cold",label:"Medicamentos Refrigerados",category:"pharmaceutical",baseRate:120,temperature:"2C a 8C",legislation:["ANVISA RDC 430/2020","RDC 938/2024","RDC 653/2022"],requirements:["Cadeia de frio farmaceutica","Mapeamento termico obrigatorio","Monitoramento 24/7","Qualificacao termica de equipamentos"],icon:Mg},{value:"pharma_frozen",label:"Vacinas e Biologicos",category:"pharmaceutical",baseRate:150,temperature:"-20C a -70C",legislation:["ANVISA RDC 430/2020","RDC 938/2024","PNI/MS"],requirements:["Ultra-freezers qualificados","Backup de energia obrigatorio","Registro automatico de temperatura","Plano de contingencia"],icon:Mg},{value:"hazardous_flammable",label:"Inflamaveis",category:"hazardous",baseRate:100,temperature:"Ambiente controlado",legislation:["ABNT NBR 14725","NR-20","Decreto 96.044/1988"],requirements:["Area isolada e ventilada","Sistema anti-incendio","Sinalizacao de risco","FISPQ obrigatoria"],icon:Hr},{value:"hazardous_corrosive",label:"Corrosivos",category:"hazardous",baseRate:95,temperature:"Ambiente controlado",legislation:["ABNT NBR 14725","NR-20","Resolucao ANTT 5.232/2016"],requirements:["Piso resistente a corrosao","Bacias de contencao","EPIs especificos obrigatorios"],icon:Hr},{value:"hazardous_toxic",label:"Toxicos",category:"hazardous",baseRate:110,temperature:"Ambiente controlado",legislation:["ABNT NBR 14725","NR-20","Lei 7.802/1989 (Agrotoxicos)"],requirements:["Acesso restrito e controlado","Exaustao adequada","Licenca ambiental especifica"],icon:Hr},{value:"agricultural_grains",label:"Graos e Cereais",category:"agricultural",baseRate:18,temperature:"Ambiente seco (< 14% umidade)",legislation:["CONAB Normativo","IN MAPA 12/2020","Lei 9.973/2000"],requirements:["Controle de umidade e aeracao","Prevencao de pragas","Certificacao SNCUA opcional"],icon:OS},{value:"agricultural_fertilizer",label:"Fertilizantes",category:"agricultural",baseRate:22,temperature:"Ambiente seco",legislation:["MAPA IN 53/2013","Decreto 4.954/2004"],requirements:["Separacao por tipo","Protecao contra umidade","Registro MAPA"],icon:OS},{value:"chemical_industrial",label:"Quimicos Industriais",category:"hazardous",baseRate:85,temperature:"Conforme FISPQ",legislation:["ABNT NBR 14725","NR-20","Lei 12.305/2010 (PNRS)"],requirements:["Compatibilidade quimica verificada","Ventilacao adequada","Plano de emergencia"],icon:BZ},{value:"special_fragile",label:"Frageis",category:"special",baseRate:45,temperature:"Ambiente controlado",legislation:["NBR 15.524-2/2008"],requirements:["Manuseio especializado","Embalagem reforada","Sinalizacao de fragilidade"],icon:Er},{value:"special_highvalue",label:"Alto Valor Agregado",category:"special",baseRate:60,temperature:"Ambiente controlado",legislation:["NBR 15.524-2/2008"],requirements:["Area com seguranca reforada","CFTV e controle de acesso","Seguro obrigatorio"],icon:SS},{value:"special_artwork",label:"Obras de Arte",category:"special",baseRate:120,temperature:"18C a 22C, umidade 45-55%",legislation:["IPHAN","Lei 8.313/1991 (Rouanet)"],requirements:["Climatizacao precisa","Iluminacao controlada","Manuseio por especialistas"],icon:SS}],M2e=[{value:"7",label:"7 dias"},{value:"15",label:"15 dias"},{value:"30",label:"30 dias (1 mes)"},{value:"60",label:"60 dias (2 meses)"},{value:"90",label:"90 dias (3 meses)"},{value:"180",label:"180 dias (6 meses)"},{value:"365",label:"365 dias (1 ano)"}];function R2e(){const[e,n]=w.useState(kF),[r,a]=w.useState(!1),[s,i]=w.useState(!1),[o,l]=w.useState(""),[d,u]=w.useState({clientName:"",clientEmail:"",clientPhone:"",validityDays:15,notes:""}),{toast:f}=At(),{isAuthenticated:h}=za(),[,p]=wa(),{data:v}=Ve({queryKey:["/api/calculations/quota"],enabled:h}),{data:N}=Ve({queryKey:["/api/clients"],enabled:h}),j=D=>{l(D);const R=N?.find(q=>q.id.toString()===D);R&&u(q=>({...q,clientName:R.name,clientEmail:R.email||"",clientPhone:R.phone||""}))},g=Ae({mutationFn:async()=>Ne("POST","/api/calculations/use"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/calculations/quota"]})}}),P=(D,R)=>{n(q=>{const Q={...q,[D]:R};if(D==="storageCategory"&&(Q.storageType="",Q.storageRate=""),D==="storageType"){const K=yf.find(U=>U.value===R);K&&(Q.storageRate=K.baseRate.toString())}return Q})},C=w.useMemo(()=>e.storageCategory?yf.filter(D=>D.category===e.storageCategory):[],[e.storageCategory]),b=w.useMemo(()=>yf.find(D=>D.value===e.storageType),[e.storageType]),y=w.useMemo(()=>{const D=parseFloat(e.area)||0,R=parseInt(e.period)||30,q=parseFloat(e.storageRate)||0,Q=parseFloat(e.movementRate)||0,K=parseFloat(e.handlingValue)||0,U=parseInt(e.quantity)||1,O=parseInt(e.palletPositions)||0,I=parseFloat(e.insuranceRate)||0,G=parseFloat(e.productValue)||0,M=q/30,V=D*M*R,Z=O*8*R,re=D*Q,le=K*U,ye=G*I/100,he=V+Z+re+le+ye,pe=he*.1,L=he+pe,ae=L/R*30;return{dailyRate:M,storageValue:V,palletValue:Z,movementValue:re,totalHandling:le,insuranceValue:ye,subtotal:he,adminFee:pe,totalValue:L,monthlyEquivalent:ae}},[e]),E=Ae({mutationFn:async()=>{const D={companyId:1,clientId:o?parseInt(o):void 0,proposalType:"storage",clientName:d.clientName,clientEmail:d.clientEmail,clientPhone:d.clientPhone,validityDays:d.validityDays,notes:d.notes,totalValue:y.totalValue.toString(),proposalData:{storageCategory:e.storageCategory,storageType:e.storageType,storageTypeLabel:b?.label,area:e.area,period:e.period,storageRate:e.storageRate,movementRate:e.movementRate,quantity:e.quantity,palletPositions:e.palletPositions,insuranceRate:e.insuranceRate,productValue:e.productValue,calculations:{storageValue:y.storageValue,palletValue:y.palletValue,movementValue:y.movementValue,totalHandling:y.totalHandling,insuranceValue:y.insuranceValue,subtotal:y.subtotal,adminFee:y.adminFee,totalValue:y.totalValue,monthlyEquivalent:y.monthlyEquivalent}}};return Ne("POST","/api/commercial-proposals",D)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-proposals"]}),f({title:"Proposta de armazenagem criada com sucesso!"}),a(!1),l(""),u({clientName:"",clientEmail:"",clientPhone:"",validityDays:15,notes:""}),g.mutate()},onError:()=>{f({title:"Erro ao criar proposta",variant:"destructive"})}}),S=()=>{n(kF)},k=()=>{if(!h){p("/cadastro");return}if(!v?.unlimited&&v?.remaining!==void 0&&v?.remaining!==null&&v.remaining<=0){i(!0);return}a(!0)},T=parseFloat(e.area)>0&&e.storageType,Y=WC.find(D=>D.value===e.storageCategory)?.icon||Er,F=b?.icon||Er;return t.jsxs(s_,{title:"Calculadora de Armazenagem",subtitle:"Calcule custos de armazenagem e movimentacao com base na legislacao brasileira",children:[t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(eA,{className:"h-5 w-5"}),"Dados da Armazenagem",h&&v&&!v.unlimited&&v.remaining!==null&&t.jsxs(Ee,{variant:"outline",className:"ml-auto",children:[v.remaining," calculos gratuitos restantes"]})]})}),t.jsxs(te,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"storageCategory",children:"Categoria de Armazenagem"}),t.jsxs(Oe,{value:e.storageCategory,onValueChange:D=>P("storageCategory",D),children:[t.jsx(_e,{id:"storageCategory","data-testid":"select-storage-category",children:t.jsx(Me,{placeholder:"Selecione a categoria"})}),t.jsx(Te,{children:WC.map(D=>{const R=D.icon;return t.jsx(ne,{value:D.value,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(R,{className:"h-4 w-4"}),D.label]})},D.value)})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"storageType",children:"Tipo de Produto"}),t.jsxs(Oe,{value:e.storageType,onValueChange:D=>P("storageType",D),disabled:!e.storageCategory,children:[t.jsx(_e,{id:"storageType","data-testid":"select-storage-type",children:t.jsx(Me,{placeholder:e.storageCategory?"Selecione o tipo":"Selecione a categoria primeiro"})}),t.jsx(Te,{children:C.map(D=>t.jsxs(ne,{value:D.value,children:[D.label," (R$ ",D.baseRate,"/m)"]},D.value))})]})]})]}),b&&t.jsx(ee,{className:"bg-muted/50",children:t.jsx(te,{className:"py-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(F,{className:"h-5 w-5 mt-0.5 text-primary"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:b.label}),t.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1",children:[t.jsx(_S,{className:"h-3 w-3"}),b.temperature]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Legislacao:"})," ",b.legislation.join(", ")]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Requisitos:"})," ",b.requirements.join("; ")]})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"period",children:"Perodo"}),t.jsxs(Oe,{value:e.period,onValueChange:D=>P("period",D),children:[t.jsx(_e,{id:"period","data-testid":"select-period",children:t.jsx(Me,{placeholder:"Selecione o perodo"})}),t.jsx(Te,{children:M2e.map(D=>t.jsx(ne,{value:D.value,children:D.label},D.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"area",children:"Area Ocupada (m)"}),t.jsx(J,{id:"area",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:e.area,onChange:D=>P("area",D.target.value),"data-testid":"input-area"})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"storageRate",children:"Taxa de Armazenagem (R$/m/mes)"}),t.jsx(J,{id:"storageRate",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:e.storageRate,onChange:D=>P("storageRate",D.target.value),"data-testid":"input-storage-rate"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"palletPositions",children:"Posicoes Pallet (R$ 8/dia)"}),t.jsx(J,{id:"palletPositions",type:"number",min:"0",placeholder:"0",value:e.palletPositions,onChange:D=>P("palletPositions",D.target.value),"data-testid":"input-pallet-positions"})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"movementRate",children:"Taxa de Movimentacao (R$/m)"}),t.jsx(J,{id:"movementRate",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:e.movementRate,onChange:D=>P("movementRate",D.target.value),"data-testid":"input-movement-rate"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"handlingValue",children:"Valor por Manuseio (R$)"}),t.jsx(J,{id:"handlingValue",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:e.handlingValue,onChange:D=>P("handlingValue",D.target.value),"data-testid":"input-handling-value"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"quantity",children:"Quantidade de Manuseios"}),t.jsx(J,{id:"quantity",type:"number",min:"0",placeholder:"1",value:e.quantity,onChange:D=>P("quantity",D.target.value),"data-testid":"input-quantity"})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"productValue",children:"Valor da Mercadoria (R$)"}),t.jsx(J,{id:"productValue",type:"number",step:"0.01",min:"0",placeholder:"Para calculo de seguro",value:e.productValue,onChange:D=>P("productValue",D.target.value),"data-testid":"input-product-value"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"insuranceRate",children:"Taxa de Seguro (%)"}),t.jsx(J,{id:"insuranceRate",type:"number",step:"0.01",min:"0",placeholder:"0,05",value:e.insuranceRate,onChange:D=>P("insuranceRate",D.target.value),"data-testid":"input-insurance-rate"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[t.jsxs(H,{variant:"outline",onClick:S,"data-testid":"button-reset-storage",children:[t.jsx(tv,{className:"h-4 w-4 mr-2"}),"Limpar"]}),h?t.jsxs(H,{onClick:k,disabled:!T||E.isPending,"data-testid":"button-save-storage",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),E.isPending?"Salvando...":"Salvar Calculo",v?.remaining!==null&&!v?.unlimited&&t.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[v?.remaining," gratuitos"]})]}):t.jsxs(H,{onClick:k,disabled:!T,"data-testid":"button-create-storage-proposal",children:[t.jsx(rv,{className:"h-4 w-4 mr-2"}),"Cadastre-se para Salvar"]})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Og,{className:"h-5 w-5"}),"Legislacao e Normas Aplicaveis"]})}),t.jsxs(te,{className:"space-y-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:"Carga Seca"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"NBR 15.524-2/2008:"})," Sistemas de armazenagem e estruturas porta-paletes"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"NR-11:"})," Transporte, movimentacao e armazenagem de materiais"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:"Alimentos Refrigerados/Congelados"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"ANVISA RDC 216/2004:"})," Boas praticas para servios de alimentacao"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"MAPA Decreto 9.013/2017 (RIISPOA):"})," Inspecao de produtos de origem animal"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Resolucao CNNPA 35/1977:"})," Padroes para alimentos congelados (min. -18C)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"NBR 14701:"})," Transporte de produtos pereciveis refrigerados/congelados"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:"Medicamentos e Farmaceuticos"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"ANVISA RDC 430/2020:"})," Boas praticas de distribuio e armazenagem"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"RDC 938/2024:"})," Armazens alfandegados - mapeamento termico obrigatorio"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"RDC 653/2022:"})," Prazo final marco/2024 para adequacao"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"RDC 887/2024:"})," Gases medicinais - distribuio e armazenagem"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:"Produtos Perigosos"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"ABNT NBR 14725:"})," Produtos quimicos - FISPQ obrigatoria"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"NR-20:"})," Seguranca com inflamaveis e combustiveis"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Resolucao ANTT 5.232/2016:"})," Transporte terrestre de produtos perigosos"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:"Produtos Agricolas"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Lei 9.973/2000:"})," Sistema de armazenagem de produtos agropecuarios"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"SNCUA:"})," Sistema Nacional de Certificacao de Unidades Armazenadoras"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"CONAB:"})," Normativos para graos e cereais"]})]})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{className:"bg-primary text-primary-foreground",children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[Y&&t.jsx(Y,{className:"h-5 w-5"}),"Resultado"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Area"}),t.jsxs("span",{className:"font-medium",children:[parseFloat(e.area)||0," m"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Perodo"}),t.jsxs("span",{className:"font-medium",children:[e.period," dias"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Taxa diaria"}),t.jsxs("span",{className:"font-medium",children:[Vt(y.dailyRate),"/m"]})]}),t.jsx(kn,{className:"bg-primary-foreground/20"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Armazenagem"}),t.jsx("span",{className:"font-medium",children:Vt(y.storageValue)})]}),y.palletValue>0&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Pallets"}),t.jsx("span",{className:"font-medium",children:Vt(y.palletValue)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Movimentacao"}),t.jsx("span",{className:"font-medium",children:Vt(y.movementValue)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Manuseio"}),t.jsx("span",{className:"font-medium",children:Vt(y.totalHandling)})]}),y.insuranceValue>0&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Seguro"}),t.jsx("span",{className:"font-medium",children:Vt(y.insuranceValue)})]}),t.jsx(kn,{className:"bg-primary-foreground/20"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Subtotal"}),t.jsx("span",{className:"font-medium",children:Vt(y.subtotal)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Taxa Admin. (10%)"}),t.jsx("span",{className:"font-medium",children:Vt(y.adminFee)})]})]}),t.jsx(kn,{className:"bg-primary-foreground/20"}),t.jsxs("div",{className:"flex justify-between items-center text-lg",children:[t.jsx("span",{className:"font-semibold",children:"Total"}),t.jsx("span",{className:"font-bold","data-testid":"text-storage-total",children:Vt(y.totalValue)})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-primary-foreground/20",children:[t.jsx("span",{className:"text-primary-foreground/80",children:"Equiv. mensal"}),t.jsx("span",{className:"font-medium",children:Vt(y.monthlyEquivalent)})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(_S,{className:"h-5 w-5"}),"Temperaturas de Referencia"]})}),t.jsxs(te,{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Carga Seca"}),t.jsx("span",{className:"font-medium",children:"15-30C"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Refrigerados"}),t.jsx("span",{className:"font-medium",children:"0-10C"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Laticinios"}),t.jsx("span",{className:"font-medium",children:"2-8C"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Carnes"}),t.jsx("span",{className:"font-medium",children:"0-4C"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Congelados"}),t.jsx("span",{className:"font-medium",children:"-18C ou menos"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Medicamentos"}),t.jsx("span",{className:"font-medium",children:"2-8C"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Vacinas"}),t.jsx("span",{className:"font-medium",children:"-20 a -70C"})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsx(ue,{className:"text-lg",children:"Taxas Base por Categoria"})}),t.jsx(te,{className:"space-y-2 text-sm",children:WC.map(D=>{const R=D.icon,q=Math.min(...yf.filter(K=>K.category===D.value).map(K=>K.baseRate)),Q=Math.max(...yf.filter(K=>K.category===D.value).map(K=>K.baseRate));return t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[t.jsx(R,{className:"h-4 w-4"}),D.label]}),t.jsxs("span",{className:"font-medium",children:["R$ ",q,"-",Q,"/m"]})]},D.value)})})]})]})]}),t.jsx(bt,{open:r,onOpenChange:a,children:t.jsxs(yt,{className:"max-w-lg",children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Criar Proposta de Armazenagem"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cliente *"}),t.jsx(Mp,{clients:N||[],value:o,onValueChange:j,placeholder:"Buscar ou cadastrar cliente...",allowNone:!1,showAddButton:!0,"data-testid":"select-client"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientName",children:"Nome do Cliente"}),t.jsx(J,{id:"clientName",value:d.clientName,onChange:D=>u(R=>({...R,clientName:D.target.value})),placeholder:"Razao Social","data-testid":"input-client-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientEmail",children:"Email"}),t.jsx(J,{id:"clientEmail",type:"email",value:d.clientEmail,onChange:D=>u(R=>({...R,clientEmail:D.target.value})),placeholder:"email@empresa.com","data-testid":"input-client-email"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientPhone",children:"Telefone"}),t.jsx(J,{id:"clientPhone",value:d.clientPhone,onChange:D=>u(R=>({...R,clientPhone:D.target.value})),placeholder:"(00) 00000-0000","data-testid":"input-client-phone"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"validityDays",children:"Validade (dias)"}),t.jsx(J,{id:"validityDays",type:"number",min:"1",value:d.validityDays,onChange:D=>u(R=>({...R,validityDays:parseInt(D.target.value)||15})),"data-testid":"input-validity-days"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"notes",children:"Observaes"}),t.jsx(St,{id:"notes",value:d.notes,onChange:D=>u(R=>({...R,notes:D.target.value})),placeholder:"Observaes adicionais...",rows:2,"data-testid":"input-notes"})]}),t.jsx(kn,{}),t.jsxs("div",{className:"bg-muted p-3 rounded-md space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Tipo:"}),t.jsx("span",{className:"font-medium",children:b?.label||"-"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Area:"}),t.jsxs("span",{className:"font-medium",children:[e.area," m"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Perodo:"}),t.jsxs("span",{className:"font-medium",children:[e.period," dias"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total:"}),t.jsx("span",{className:"font-bold",children:Vt(y.totalValue)})]})]})]}),t.jsxs(Pn,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),t.jsxs(H,{onClick:()=>E.mutate(),disabled:E.isPending||!d.clientName,"data-testid":"button-confirm-save",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),E.isPending?"Salvando...":"Criar Proposta"]})]})]})}),t.jsx(bt,{open:s,onOpenChange:i,children:t.jsxs(yt,{className:"max-w-md",children:[t.jsx(wt,{children:t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(fu,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),"Limite de Calculos Gratuitos Atingido"]})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsx("p",{className:"text-muted-foreground",children:"Voce utilizou seus 3 calculos gratuitos. Para continuar usando as calculadoras e acessar todos os recursos, atualize para um plano pago."}),t.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[t.jsx("p",{className:"font-medium",children:"Com um plano pago voce tem:"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"- Calculos ilimitados de frete e armazenagem"}),t.jsx("li",{children:"- CRM completo para gesto de clientes"}),t.jsx("li",{children:"- Pipeline de vendas e oportunidades"}),t.jsx("li",{children:"- Checklists operacionais para 15 departamentos"}),t.jsx("li",{children:"- Gesto financeira completa"}),t.jsx("li",{children:"- Materiais de marketing personalizados"})]})]})]}),t.jsxs(Pn,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>i(!1),children:"Voltar"}),t.jsxs(H,{onClick:()=>p("/planos"),"data-testid":"button-view-plans-storage",children:[t.jsx(fu,{className:"h-4 w-4 mr-2"}),"Ver Planos"]})]})]})})]})}const D2e=[{id:"transportadora",name:"Transportadora",icon:Nl,materials:[{id:1,title:"Proposta Comercial Transporte",type:"template"},{id:2,title:"Checklist de Prospeco",type:"checklist"},{id:3,title:"Argumentrio de Vendas",type:"documento"},{id:4,title:"Tabela de Fretes Modelo",type:"planilha"}]},{id:"operador",name:"Operador Logstico",icon:Er,materials:[{id:5,title:"Proposta Operao Integrada",type:"template"},{id:6,title:"SLA de Servios",type:"documento"},{id:7,title:"Apresentao Institucional",type:"apresentao"}]},{id:"industria",name:"Indstria",icon:FZ,materials:[{id:8,title:"Proposta Supply Chain",type:"template"},{id:9,title:"Estudo de Caso",type:"documento"},{id:10,title:"ROI de Terceirizao",type:"planilha"}]},{id:"ecommerce",name:"E-commerce",icon:fi,materials:[{id:11,title:"Proposta Fulfillment",type:"template"},{id:12,title:"SLA Last Mile",type:"documento"},{id:13,title:"Integrao de Sistemas",type:"apresentao"}]},{id:"distribuidor",name:"Distribuidor",icon:nn,materials:[{id:14,title:"Proposta Distribuio",type:"template"},{id:15,title:"Modelo de Roteirizao",type:"planilha"}]}];function I2e(e){return{template:{label:"Template",variant:"default"},checklist:{label:"Checklist",variant:"secondary"},documento:{label:"Documento",variant:"outline"},planilha:{label:"Planilha",variant:"secondary"},apresentacao:{label:"Apresentao",variant:"outline"}}[e]||{label:e,variant:"outline"}}function $2e(){return t.jsx(Ot,{title:"Marketing",subtitle:"Materiais de apoio por segmento",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ee,{className:"bg-primary text-primary-foreground",children:t.jsx(te,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Biblioteca de Materiais"}),t.jsx("p",{className:"text-primary-foreground/80",children:"Acesse templates, checklists e documentos organizados por segmento de cliente"})]}),t.jsxs(H,{variant:"secondary","data-testid":"button-upload-material",children:[t.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Enviar Material"]})]})})}),t.jsx("div",{className:"grid gap-6",children:D2e.map(e=>t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 pb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:t.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx(ue,{className:"text-lg",children:e.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.materials.length," materiais disponveis"]})]})]}),t.jsxs(H,{variant:"ghost",size:"sm",children:[t.jsx(HZ,{className:"h-4 w-4 mr-2"}),"Ver todos"]})]}),t.jsx(te,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.materials.map(n=>{const r=I2e(n.type);return t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover-elevate","data-testid":`material-${n.id}`,children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(Xt,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:n.title}),t.jsx(Ee,{variant:r.variant,size:"sm",className:"mt-1",children:r.label})]})]}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.jsx(H,{variant:"ghost",size:"icon","data-testid":`button-view-${n.id}`,children:t.jsx(fs,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon","data-testid":`button-download-${n.id}`,children:t.jsx(vr,{className:"h-4 w-4"})})]})]},n.id)})})})]},e.id))}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{className:"text-lg",children:"Servios MCG Consultoria"})}),t.jsx(te,{children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 rounded-lg border",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Diagnstico de Maturidade Comercial"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Avaliao completa da estrutura comercial com checklist de 15 departamentos"}),t.jsxs(H,{variant:"outline",size:"sm",children:[t.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Saiba mais"]})]}),t.jsxs("div",{className:"p-4 rounded-lg border",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Estruturao de Vendas"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Implementao de processos comerciais eficientes da prospeco ao fechamento"}),t.jsxs(H,{variant:"outline",size:"sm",children:[t.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Saiba mais"]})]})]})})]})]})})}var c_="Switch",[F2e]=sr(c_),[L2e,z2e]=F2e(c_),gK=w.forwardRef((e,n)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:f,...h}=e,[p,v]=w.useState(null),N=qt(n,b=>v(b)),j=w.useRef(!1),g=p?f||!!p.closest("form"):!0,[P=!1,C]=sa({prop:s,defaultProp:i,onChange:u});return t.jsxs(L2e,{scope:r,checked:P,disabled:l,children:[t.jsx(ot.button,{type:"button",role:"switch","aria-checked":P,"aria-required":o,"data-state":jK(P),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:N,onClick:He(e.onClick,b=>{C(y=>!y),g&&(j.current=b.isPropagationStopped(),j.current||b.stopPropagation())})}),g&&t.jsx(q2e,{control:p,bubbles:!j.current,name:a,value:d,checked:P,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});gK.displayName=c_;var vK="SwitchThumb",yK=w.forwardRef((e,n)=>{const{__scopeSwitch:r,...a}=e,s=z2e(vK,r);return t.jsx(ot.span,{"data-state":jK(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:n})});yK.displayName=vK;var q2e=e=>{const{control:n,checked:r,bubbles:a=!0,...s}=e,i=w.useRef(null),o=ij(r),l=Gy(n);return w.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const p=new Event("click",{bubbles:a});h.call(d,r),d.dispatchEvent(p)}},[o,r,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jK(e){return e?"checked":"unchecked"}var bK=gK,V2e=yK;const ea=w.forwardRef(({className:e,...n},r)=>t.jsx(bK,{className:Fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:r,children:t.jsx(V2e,{className:Fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ea.displayName=bK.displayName;function B2e(){const{user:e}=za(),{theme:n,toggleTheme:r}=tz(),{toast:a}=At(),s=w.useRef(null),i=w.useRef(null),[o,l]=w.useState(!1),[d,u]=w.useState(!1),[f,h]=w.useState({name:"",nomeFantasia:"",cnpj:"",inscrioEstadual:"",inscrioEstadualIsento:!1,inscrioMunicipal:"",logo:""}),{data:p,isLoading:v}=Ve({queryKey:["/api/company"]});w.useEffect(()=>{p&&h({name:p.name||"",nomeFantasia:p.nomeFantasia||"",cnpj:p.cnpj||"",inscrioEstadual:p.inscrioEstadual||"",inscrioEstadualIsento:p.inscrioEstadualIsento||!1,inscrioMunicipal:p.inscrioMunicipal||"",logo:p.logo||""})},[p]);const N=async()=>{const E=f.cnpj.replace(/[^\d]/g,"");if(E.length===14){l(!0),u(!1);try{const S=await fetch(`/api/cnpj/${E}`);if(S.ok){const k=await S.json();h(T=>({...T,name:k.razao_social||T.name,nomeFantasia:k.nome_fantasia||T.nomeFantasia})),u(!0),a({title:"Dados encontrados na Receita Federal"})}else a({title:"CNPJ nao encontrado",variant:"destructive"})}catch{a({title:"Erro ao consultar CNPJ",variant:"destructive"})}finally{l(!1)}}},j=Ae({mutationFn:async E=>(await Ne("PATCH","/api/company",E)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/company"]}),a({title:"Empresa atualizada com sucesso"})},onError:()=>{a({title:"Erro ao atualizar empresa",variant:"destructive"})}}),g=E=>{const S=E.target.files?.[0];if(S){if(S.size>5e5){a({title:"Imagem muito grande. Maximo 500KB.",variant:"destructive"});return}const k=new FileReader;k.onloadend=()=>{const T=k.result;h(z=>({...z,logo:T}))},k.readAsDataURL(S)}},P=()=>{j.mutate(f)},C=Ae({mutationFn:async E=>(await Ne("PATCH","/api/user/profile",E)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/auth/user"]}),a({title:"Foto atualizada com sucesso"})},onError:()=>{a({title:"Erro ao atualizar foto",variant:"destructive"})}}),b=E=>{const S=E.target.files?.[0];if(S){if(S.size>5e5){a({title:"Imagem muito grande. Maximo 500KB.",variant:"destructive"});return}const k=new FileReader;k.onloadend=()=>{const T=k.result;C.mutate({profileImageUrl:T})},k.readAsDataURL(S)}},y=(E,S)=>{const k=E?.charAt(0)||"",T=S?.charAt(0)||"";return(k+T).toUpperCase()||"U"};return t.jsx(Ot,{title:"Configuraes",subtitle:"Gerencie sua conta e preferncias",children:t.jsxs("div",{className:"max-w-3xl space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(ko,{className:"h-5 w-5"}),"Perfil"]}),t.jsx(rt,{children:"Informaes da sua conta"})]}),t.jsxs(te,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(vp,{className:"h-20 w-20",children:[t.jsx(FA,{src:e?.profileImageUrl||void 0,style:{objectFit:"cover"}}),t.jsx(yp,{className:"text-xl",children:y(e?.firstName,e?.lastName)})]}),t.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:b,className:"hidden","data-testid":"input-profile-image"}),t.jsx(H,{size:"icon",variant:"outline",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full",onClick:()=>i.current?.click(),disabled:C.isPending,"data-testid":"button-upload-profile-image",children:C.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):t.jsx(TS,{className:"h-4 w-4"})})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-lg",children:[e?.firstName," ",e?.lastName]}),t.jsx("p",{className:"text-muted-foreground",children:e?.email})]})]}),t.jsx(kn,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"firstName",children:"Nome"}),t.jsx(J,{id:"firstName",defaultValue:e?.firstName||"",disabled:!0,"data-testid":"input-first-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"lastName",children:"Sobrenome"}),t.jsx(J,{id:"lastName",defaultValue:e?.lastName||"",disabled:!0,"data-testid":"input-last-name"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx(B,{htmlFor:"email",children:"Email"}),t.jsx(J,{id:"email",type:"email",defaultValue:e?.email||"",disabled:!0,"data-testid":"input-email"})]})]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),"Empresa"]}),t.jsx(rt,{children:"Informaes da sua empresa e logotipo para documentos"})]}),t.jsxs(te,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start gap-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"h-24 w-24 rounded-lg border-2 border-dashed flex items-center justify-center bg-muted/50 overflow-hidden",children:f.logo?t.jsx("img",{src:f.logo,alt:"Logo",className:"h-full w-full object-contain"}):t.jsx(nn,{className:"h-8 w-8 text-muted-foreground"})}),t.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:g,className:"hidden","data-testid":"input-company-logo"}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>s.current?.click(),"data-testid":"button-upload-logo",children:[t.jsx(TS,{className:"h-4 w-4 mr-2"}),"Enviar Logo"]}),t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Max 500KB"})]}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ/CPF"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx(dm,{value:f.cnpj,onChange:E=>{h(S=>({...S,cnpj:E})),u(!1)},label:"","data-testid":"input-company-cnpj"})}),t.jsx(H,{type:"button",variant:"outline",onClick:N,disabled:o||!f.cnpj||f.cnpj.replace(/[^\d]/g,"").length!==14,"data-testid":"button-company-cnpj-lookup",children:o?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):d?t.jsx(Ar,{className:"h-4 w-4 text-green-500"}):t.jsx(ca,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o CNPJ e clique na lupa para buscar dados automaticamente"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"ie",children:"Inscrio Estadual (I.E.)"}),t.jsx(J,{id:"ie",placeholder:f.inscrioEstadualIsento?"ISENTO":"Inscrio Estadual",disabled:f.inscrioEstadualIsento,value:f.inscrioEstadualIsento?"":f.inscrioEstadual,onChange:E=>h(S=>({...S,inscrioEstadual:E.target.value})),"data-testid":"input-company-ie"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(fn,{id:"company-ie-isento",checked:f.inscrioEstadualIsento,onCheckedChange:E=>{h(S=>({...S,inscrioEstadualIsento:!!E,inscrioEstadual:E?"":S.inscrioEstadual}))},"data-testid":"checkbox-company-ie-isento"}),t.jsx("label",{htmlFor:"company-ie-isento",className:"text-xs text-muted-foreground cursor-pointer",children:"Isento"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"im",children:"Inscrio Municipal (I.M.)"}),t.jsx(J,{id:"im",placeholder:"Inscrio Municipal",value:f.inscrioMunicipal,onChange:E=>h(S=>({...S,inscrioMunicipal:E.target.value})),"data-testid":"input-company-im"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"companyName",children:"Razao Social"}),t.jsx(J,{id:"companyName",placeholder:"Nome da empresa",value:f.name,onChange:E=>h(S=>({...S,name:E.target.value})),"data-testid":"input-company-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"nomeFantasia",children:"Nome Fantasia"}),t.jsx(J,{id:"nomeFantasia",placeholder:"Nome fantasia",value:f.nomeFantasia,onChange:E=>h(S=>({...S,nomeFantasia:E.target.value})),"data-testid":"input-company-nome-fantasia"})]})]})]})]}),t.jsxs(H,{onClick:P,disabled:j.isPending,"data-testid":"button-save-company",children:[j.isPending&&t.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvar Alteracoes"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Vy,{className:"h-5 w-5"}),"Aparncia"]}),t.jsx(rt,{children:"Personalize a interface do sistema"})]}),t.jsx(te,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Modo Escuro"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Alterne entre tema claro e escuro"})]}),t.jsx(ea,{checked:n==="dark",onCheckedChange:r,"data-testid":"switch-dark-mode"})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(s8,{className:"h-5 w-5"}),"Notificaes"]}),t.jsx(rt,{children:"Configure suas preferncias de notificao"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),t.jsx(ea,{defaultChecked:!0,"data-testid":"switch-email-notifications"})]}),t.jsx(kn,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Alertas de Vencimento"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificaes sobre contas a vencer"})]}),t.jsx(ea,{defaultChecked:!0,"data-testid":"switch-due-alerts"})]}),t.jsx(kn,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Novos Clientes"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificaes quando novos leads entrarem"})]}),t.jsx(ea,{defaultChecked:!0,"data-testid":"switch-new-client-alerts"})]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Hs,{className:"h-5 w-5"}),"Segurana"]}),t.jsx(rt,{children:"Configuraes de segurana da conta"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Autenticao em Dois Fatores"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurana"})]}),t.jsx(H,{variant:"outline",size:"sm","data-testid":"button-enable-2fa",onClick:()=>a({title:"Autenticao em 2 fatores ser disponibilizada em breve"}),children:"Configurar"})]}),t.jsx(kn,{}),t.jsx("div",{children:t.jsx(it,{href:"/logout",children:t.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium h-9 px-4 py-2 bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-logout-settings",children:"Sair da Conta"})})})]})]})]})})}function la(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Co(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function GC(e,n){const r=la(e);return isNaN(n)?Co(e,NaN):(n&&r.setDate(r.getDate()+n),r)}const wK=6048e5,H2e=864e5,NK=6e4,CK=36e5;let U2e={};function m0(){return U2e}function Vc(e,n){const r=m0(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=la(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Cy(e){return Vc(e,{weekStartsOn:1})}function SK(e){const n=la(e),r=n.getFullYear(),a=Co(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Cy(a),i=Co(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Cy(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Sy(e){const n=la(e);return n.setHours(0,0,0,0),n}function _F(e){const n=la(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function PK(e,n){const r=Sy(e),a=Sy(n),s=+r-_F(r),i=+a-_F(a);return Math.round((s-i)/H2e)}function K2e(e){const n=SK(e),r=Co(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Cy(r)}function W2e(e){return Co(e,Date.now())}function Vg(e,n){const r=Sy(e),a=Sy(n);return+r==+a}function G2e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Q2e(e){if(!G2e(e)&&typeof e!="number")return!1;const n=la(e);return!isNaN(Number(n))}function Y2e(e,n){const r=la(e),a=la(n),s=TF(r,a),i=Math.abs(PK(r,a));r.setDate(r.getDate()-s*i);const o=+(TF(r,a)===-s),l=s*(i-o);return l===0?0:l}function TF(e,n){const r=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return r<0?-1:r>0?1:r}function X2e(e){const n=la(e),r=Co(e,0);return r.setFullYear(n.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Z2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J2e=(e,n,r)=>{let a;const s=Z2e[e];return typeof s=="string"?a=s:n===1?a=s.one:a=s.other.replace("{{count}}",n.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function uu(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rCe={date:uu({formats:eCe,defaultWidth:"full"}),time:uu({formats:tCe,defaultWidth:"full"}),dateTime:uu({formats:nCe,defaultWidth:"full"})},aCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sCe=(e,n,r,a)=>aCe[e];function ui(e){return(n,r)=>{const a=r?.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(n):n;return s[i]}}const iCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mCe=(e,n)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fCe={ordinalNumber:mCe,era:ui({values:iCe,defaultWidth:"wide"}),quarter:ui({values:oCe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ui({values:lCe,defaultWidth:"wide"}),day:ui({values:cCe,defaultWidth:"wide"}),dayPeriod:ui({values:dCe,defaultWidth:"wide",formattingValues:uCe,defaultFormattingWidth:"wide"})};function mi(e){return(n,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=n.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?pCe(l,h=>h.test(o)):hCe(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const f=n.slice(o.length);return{value:u,rest:f}}}function hCe(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function pCe(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function EK(e){return(n,r={})=>{const a=n.match(e.matchPattern);if(!a)return null;const s=a[0],i=n.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=n.slice(s.length);return{value:o,rest:l}}}const xCe=/^(\d+)(th|st|nd|rd)?/i,gCe=/\d+/i,vCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yCe={any:[/^b/i,/^(a|c)/i]},jCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bCe={any:[/1/i,/2/i,/3/i,/4/i]},wCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ECe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ACe={ordinalNumber:EK({matchPattern:xCe,parsePattern:gCe,valueCallback:e=>parseInt(e,10)}),era:mi({matchPatterns:vCe,defaultMatchWidth:"wide",parsePatterns:yCe,defaultParseWidth:"any"}),quarter:mi({matchPatterns:jCe,defaultMatchWidth:"wide",parsePatterns:bCe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mi({matchPatterns:wCe,defaultMatchWidth:"wide",parsePatterns:NCe,defaultParseWidth:"any"}),day:mi({matchPatterns:CCe,defaultMatchWidth:"wide",parsePatterns:SCe,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:PCe,defaultMatchWidth:"any",parsePatterns:ECe,defaultParseWidth:"any"})},kCe={code:"en-US",formatDistance:J2e,formatLong:rCe,formatRelative:sCe,localize:fCe,match:ACe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Ce(e){const n=la(e);return PK(n,X2e(n))+1}function TCe(e){const n=la(e),r=+Cy(n)-+K2e(n);return Math.round(r/wK)+1}function AK(e,n){const r=la(e),a=r.getFullYear(),s=m0(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Co(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Vc(o,n),d=Co(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const u=Vc(d,n);return r.getTime()>=l.getTime()?a+1:r.getTime()>=u.getTime()?a:a-1}function OCe(e,n){const r=m0(),a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=AK(e,n),i=Co(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Vc(i,n)}function kK(e,n){const r=la(e),a=+Vc(r,n)-+OCe(r,n);return Math.round(a/wK)+1}function Cn(e,n){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(n,"0");return r+a}const ll={y(e,n){const r=e.getFullYear(),a=r>0?r:1-r;return Cn(n==="yy"?a%100:a,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Cn(r+1,2)},d(e,n){return Cn(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Cn(e.getHours()%12||12,n.length)},H(e,n){return Cn(e.getHours(),n.length)},m(e,n){return Cn(e.getMinutes(),n.length)},s(e,n){return Cn(e.getSeconds(),n.length)},S(e,n){const r=n.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Cn(s,n.length)}},qd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OF={G:function(e,n,r){const a=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return ll.y(e,n)},Y:function(e,n,r,a){const s=AK(e,a),i=s>0?s:1-s;if(n==="YY"){const o=i%100;return Cn(o,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Cn(i,n.length)},R:function(e,n){const r=SK(e);return Cn(r,n.length)},u:function(e,n){const r=e.getFullYear();return Cn(r,n.length)},Q:function(e,n,r){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Cn(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,n,r){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Cn(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,n,r){const a=e.getMonth();switch(n){case"M":case"MM":return ll.M(e,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,n,r){const a=e.getMonth();switch(n){case"L":return String(a+1);case"LL":return Cn(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,n,r,a){const s=kK(e,a);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Cn(s,n.length)},I:function(e,n,r){const a=TCe(e);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):Cn(a,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ll.d(e,n)},D:function(e,n,r){const a=_Ce(e);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Cn(a,n.length)},E:function(e,n,r){const a=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,n,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Cn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Cn(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){const a=e.getDay(),s=a===0?7:a;switch(n){case"i":return String(s);case"ii":return Cn(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,n,r){const s=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){const a=e.getHours();let s;switch(a===12?s=qd.noon:a===0?s=qd.midnight:s=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){const a=e.getHours();let s;switch(a>=17?s=qd.evening:a>=12?s=qd.afternoon:a>=4?s=qd.morning:s=qd.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return ll.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ll.H(e,n)},K:function(e,n,r){const a=e.getHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Cn(a,n.length)},k:function(e,n,r){let a=e.getHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):Cn(a,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ll.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ll.s(e,n)},S:function(e,n){return ll.S(e,n)},X:function(e,n,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return RF(a);case"XXXX":case"XX":return lc(a);default:return lc(a,":")}},x:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"x":return RF(a);case"xxxx":case"xx":return lc(a);default:return lc(a,":")}},O:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+MF(a,":");default:return"GMT"+lc(a,":")}},z:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+MF(a,":");default:return"GMT"+lc(a,":")}},t:function(e,n,r){const a=Math.trunc(e.getTime()/1e3);return Cn(a,n.length)},T:function(e,n,r){const a=e.getTime();return Cn(a,n.length)}};function MF(e,n=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+n+Cn(i,2)}function RF(e,n){return e%60===0?(e>0?"-":"+")+Cn(Math.abs(e)/60,2):lc(e,n)}function lc(e,n=""){const r=e>0?"-":"+",a=Math.abs(e),s=Cn(Math.trunc(a/60),2),i=Cn(a%60,2);return r+s+n+i}const DF=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},_K=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},MCe=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return DF(e,n);let i;switch(a){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",DF(a,n)).replace("{{time}}",_K(s,n))},RCe={p:_K,P:MCe},DCe=/^D+$/,ICe=/^Y+$/,$Ce=["D","DD","YY","YYYY"];function FCe(e){return DCe.test(e)}function LCe(e){return ICe.test(e)}function zCe(e,n,r){const a=qCe(e,n,r);if(console.warn(a),$Ce.includes(e))throw new RangeError(a)}function qCe(e,n,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HCe=/^'([^]*?)'?$/,UCe=/''/g,KCe=/[a-zA-Z]/;function Yt(e,n,r){const a=m0(),s=r?.locale??a.locale??kCe,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=la(e);if(!Q2e(l))throw new RangeError("Invalid time value");let d=n.match(BCe).map(f=>{const h=f[0];if(h==="p"||h==="P"){const p=RCe[h];return p(f,s.formatLong)}return f}).join("").match(VCe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const h=f[0];if(h==="'")return{isToken:!1,value:WCe(f)};if(OF[h])return{isToken:!0,value:f};if(h.match(KCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(d=s.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(f=>{if(!f.isToken)return f.value;const h=f.value;(!r?.useAdditionalWeekYearTokens&&LCe(h)||!r?.useAdditionalDayOfYearTokens&&FCe(h))&&zCe(h,n,String(e));const p=OF[h[0]];return p(l,h,s.localize,u)}).join("")}function WCe(e){const n=e.match(HCe);return n?n[1].replace(UCe,"'"):e}function TK(e){return+la(e)<Date.now()}function IF(e){return Vg(e,W2e(e))}function GCe(e,n){const a=ZCe(e);let s;if(a.date){const d=JCe(a.date,2);s=eSe(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(a.time&&(o=tSe(a.time),isNaN(o)))return new Date(NaN);if(a.timezone){if(l=nSe(a.timezone),isNaN(l))return new Date(NaN)}else{const d=new Date(i+o),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return new Date(i+o+l)}const yg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XCe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZCe(e){const n={},r=e.split(yg.dateTimeDelimiter);let a;if(r.length>2)return n;if(/:/.test(r[0])?a=r[0]:(n.date=r[0],a=r[1],yg.timeZoneDelimiter.test(n.date)&&(n.date=e.split(yg.timeZoneDelimiter)[0],a=e.substr(n.date.length,e.length))),a){const s=yg.timezone.exec(a);s?(n.time=a.replace(s[1],""),n.timezone=s[1]):n.time=a}return n}function JCe(e,n){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function eSe(e,n){if(n===null)return new Date(NaN);const r=e.match(QCe);if(!r)return new Date(NaN);const a=!!r[4],s=jf(r[1]),i=jf(r[2])-1,o=jf(r[3]),l=jf(r[4]),d=jf(r[5])-1;if(a)return oSe(n,l,d)?rSe(n,l,d):new Date(NaN);{const u=new Date(0);return!sSe(n,i,o)||!iSe(n,s)?new Date(NaN):(u.setUTCFullYear(n,i,Math.max(s,o)),u)}}function jf(e){return e?parseInt(e):1}function tSe(e){const n=e.match(YCe);if(!n)return NaN;const r=QC(n[1]),a=QC(n[2]),s=QC(n[3]);return lSe(r,a,s)?r*CK+a*NK+s*1e3:NaN}function QC(e){return e&&parseFloat(e.replace(",","."))||0}function nSe(e){if(e==="Z")return 0;const n=e.match(XCe);if(!n)return 0;const r=n[1]==="+"?-1:1,a=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;return cSe(a,s)?r*(a*CK+s*NK):NaN}function rSe(e,n,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(n-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const aSe=[31,null,31,30,31,30,31,31,30,31,30,31];function OK(e){return e%400===0||e%4===0&&e%100!==0}function sSe(e,n,r){return n>=0&&n<=11&&r>=1&&r<=(aSe[n]||(OK(e)?29:28))}function iSe(e,n){return n>=1&&n<=(OK(e)?366:365)}function oSe(e,n,r){return n>=1&&n<=53&&r>=0&&r<=6}function lSe(e,n,r){return e===24?n===0&&r===0:r>=0&&r<60&&n>=0&&n<60&&e>=0&&e<25}function cSe(e,n){return n>=0&&n<=59}const dSe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},uSe=(e,n,r)=>{let a;const s=dSe[e];return typeof s=="string"?a=s:n===1?a=s.one:a=s.other.replace("{{count}}",String(n)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+a:"h "+a:a},mSe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},fSe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hSe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pSe={date:uu({formats:mSe,defaultWidth:"full"}),time:uu({formats:fSe,defaultWidth:"full"}),dateTime:uu({formats:hSe,defaultWidth:"full"})},xSe={lastWeek:e=>{const n=e.getDay();return"'"+(n===0||n===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},gSe=(e,n,r,a)=>{const s=xSe[e];return typeof s=="function"?s(n):s},vSe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ySe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},jSe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},bSe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},wSe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},NSe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},CSe=(e,n)=>{const r=Number(e);return n?.unit==="week"?r+"":r+""},SSe={ordinalNumber:CSe,era:ui({values:vSe,defaultWidth:"wide"}),quarter:ui({values:ySe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ui({values:jSe,defaultWidth:"wide"}),day:ui({values:bSe,defaultWidth:"wide"}),dayPeriod:ui({values:wSe,defaultWidth:"wide",formattingValues:NSe,defaultFormattingWidth:"wide"})},PSe=/^(\d+)[o]?/i,ESe=/\d+/i,ASe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},kSe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},_Se={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},TSe={any:[/1/i,/2/i,/3/i,/4/i]},OSe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},MSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},RSe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},DSe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},ISe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},$Se={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},FSe={ordinalNumber:EK({matchPattern:PSe,parsePattern:ESe,valueCallback:e=>parseInt(e,10)}),era:mi({matchPatterns:ASe,defaultMatchWidth:"wide",parsePatterns:kSe,defaultParseWidth:"any"}),quarter:mi({matchPatterns:_Se,defaultMatchWidth:"wide",parsePatterns:TSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mi({matchPatterns:OSe,defaultMatchWidth:"wide",parsePatterns:MSe,defaultParseWidth:"any"}),day:mi({matchPatterns:RSe,defaultMatchWidth:"wide",parsePatterns:DSe,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:ISe,defaultMatchWidth:"any",parsePatterns:$Se,defaultParseWidth:"any"})},Jn={code:"pt-BR",formatDistance:uSe,formatLong:pSe,formatRelative:gSe,localize:SSe,match:FSe,options:{weekStartsOn:0,firstWeekContainsDate:1}},$F={create:{label:"Criacao",variant:"default"},update:{label:"Atualizacao",variant:"secondary"},delete:{label:"Exclusao",variant:"destructive"},view:{label:"Visualizacao",variant:"outline"},export:{label:"Exportacao",variant:"secondary"},login:{label:"Login",variant:"default"},logout:{label:"Logout",variant:"outline"},import:{label:"Importacao",variant:"secondary"},send_email:{label:"Email Enviado",variant:"default"},generate_pdf:{label:"PDF Gerado",variant:"secondary"}},LSe={client:"Cliente",checklist:"Checklist",meeting_record:"Ata de Reuniao",commercial_event:"Evento Comercial",task:"Tarefa",project:"Projeto",proposal:"Proposta",financial_account:"Conta Financeira",team_member:"Membro da Equipe",rfi:"RFI",user:"Usuario",company:"Empresa",store_order:"Pedido Loja",store_product:"Produto Loja"};function zSe(){const{user:e}=za(),[n,r]=w.useState(""),[a,s]=w.useState("all"),{data:i,isLoading:o}=Ve({queryKey:["/api/audit-logs",a],queryFn:async()=>{const u=new URLSearchParams;a&&a!=="all"&&u.append("action",a),u.append("limit","100");const f=await fetch(`/api/audit-logs?${u.toString()}`);if(!f.ok)throw new Error("Failed to fetch audit logs");return f.json()}}),l=i?.filter(u=>{if(!n)return!0;const f=n.toLowerCase();return u.description?.toLowerCase().includes(f)||u.entityType?.toLowerCase().includes(f)||u.action?.toLowerCase().includes(f)});return e?.perfilConta==="admin"||e?.perfilConta==="gestor"||e?.role==="administrador"||e?.role==="admin"||e?.role==="admin_mcg"?t.jsx(Ot,{children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Tg,{className:"w-6 h-6"}),"Logs de Auditoria"]}),t.jsx("p",{className:"text-muted-foreground",children:"Acompanhe todas as acoes realizadas pelos usuarios da sua empresa"})]})}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Xt,{className:"w-5 h-5"}),"Historico de Atividades"]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar...",className:"pl-9",value:n,onChange:u=>r(u.target.value),"data-testid":"input-search-logs"})]}),t.jsxs(Oe,{value:a,onValueChange:s,children:[t.jsxs(_e,{className:"w-[180px]","data-testid":"select-action-filter",children:[t.jsx(sm,{className:"w-4 h-4 mr-2"}),t.jsx(Me,{placeholder:"Filtrar por acao"})]}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todas as acoes"}),t.jsx(ne,{value:"create",children:"Criacao"}),t.jsx(ne,{value:"update",children:"Atualizacao"}),t.jsx(ne,{value:"delete",children:"Exclusao"}),t.jsx(ne,{value:"export",children:"Exportacao"}),t.jsx(ne,{value:"send_email",children:"Email Enviado"})]})]})]})]})}),t.jsx(te,{children:o?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):l&&l.length>0?t.jsx(zc,{className:"h-[600px]",children:t.jsx("div",{className:"space-y-3",children:l.map(u=>t.jsxs("div",{className:"flex flex-col gap-2 p-4 rounded-md border bg-card hover-elevate","data-testid":`log-item-${u.id}`,children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Ee,{variant:$F[u.action]?.variant||"default",children:$F[u.action]?.label||u.action}),t.jsx(Ee,{variant:"outline",children:LSe[u.entityType]||u.entityType})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[t.jsx(Ai,{className:"w-4 h-4"}),Yt(new Date(u.createdAt),"dd/MM/yyyy HH:mm",{locale:Jn})]})]}),u.description&&t.jsx("p",{className:"text-sm",children:u.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ko,{className:"w-3 h-3"}),t.jsxs("span",{children:["ID: ",u.userId.substring(0,8),"..."]})]}),u.ipAddress&&t.jsxs("span",{children:["IP: ",u.ipAddress]}),u.entityId&&t.jsxs("span",{children:["Entidade ID: ",u.entityId]})]})]},u.id))})}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx(Tg,{className:"w-12 h-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum log encontrado"}),t.jsx("p",{className:"text-muted-foreground",children:"Os logs de atividades aparecerao aqui conforme os usuarios realizarem acoes"})]})})]})]})}):t.jsx(Ot,{children:t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx(ee,{className:"max-w-md",children:t.jsxs(te,{className:"p-6 text-center",children:[t.jsx(Tg,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Acesso Restrito"}),t.jsx("p",{className:"text-muted-foreground",children:"Apenas administradores e gestores podem visualizar os logs de auditoria."})]})})})})}const qSe=[{name:"Gratuito",description:"Acesso as calculadoras de frete e armazenagem",price:0,interval:"sempre",baseUsers:1,additionalUserPrice:0,features:["Calculadora de Frete com ICMS","Calculadora de Armazenagem","3 calculos gratuitos","1 usuario incluido"],popular:!1,priceId:null},{name:"Profissional",description:"Todas as ferramentas para gesto comercial completa",price:499,interval:"mes",baseUsers:1,additionalUserPrice:69,features:["Tudo do plano Gratuito","Calculos ilimitados","CRM de Clientes","Pipeline de Vendas (Kanban)","Checklists de 18 Departamentos","Calendario Comercial","Ata Plano de Acao","Gestao Financeira","1 usuario incluido (+R$69/usuario adicional)","Suporte por email"],popular:!0,priceId:null},{name:"Corporativo",description:"Para operaes em grande escala com mltiplas filiais",price:1499,interval:"mes",baseUsers:1,additionalUserPrice:69,features:["Tudo do plano Profissional","Gestao de Tarefas e Projetos","Indicadores e Curva ABC","Modulo de Marketing","Integracoes com ERP (KMM/QualP)","Multi-empresas (Matriz/Filiais)","1 usuario incluido (+R$69/usuario adicional)","Suporte prioritario","Treinamento dedicado"],popular:!1,priceId:null}],VSe=[{name:"Calculadora de Frete",description:"Calculo de frete com ICMS para 27 estados",price:47,interval:"mes",priceId:null},{name:"Calculadora de Armazenagem",description:"Calculo completo de custos de armazenagem",price:47,interval:"mes",priceId:null},{name:"Checklist Operacional",description:"Checklists para 20 departamentos de logstica",price:97,interval:"mes",priceId:null},{name:"Ata Plano de Ao",description:"Registro de reunies com itens de ao e PDF",price:47,interval:"mes",priceId:null},{name:"RFI",description:"Perfil tcnico da empresa para participao em BIDs",price:47,interval:"mes",priceId:null}],jg=[{id:"diagnstico",name:"Diagnstico",badge:"1 Fase",duration:"1 ms",description:"Escopo, Estruturao In Loco, Acompanhamento On Line",price:5e3,requiresDiagnstico:!1,isExpansao:!1},{id:"implementao",name:"Implementao",badge:"2 Fase",duration:"1 ms",description:"In Loco, On Line",price:5e3,requiresDiagnstico:!0,isExpansao:!1},{id:"execuo",name:"Execuo",badge:"3 Fase",duration:"1 ms",description:"In Loco, On Line",price:5e3,requiresDiagnstico:!0,isExpansao:!1},{id:"expansao",name:"Expanso",badge:"4 Fase",duration:"Contnuo",description:"On Line + Comisso sobre negcios fechados",price:2e3,commission:5,requiresDiagnstico:!1,isExpansao:!0}];function BSe(){const{isAuthenticated:e}=za(),{toast:n}=At(),[r,a]=w.useState(!1),[s,i]=w.useState([]),[o,l]=w.useState(""),[d,u]=w.useState({contactName:"",email:"",phone:"",message:""}),{data:f}=Ve({queryKey:["/api/stripe/products"]}),{data:h}=Ve({queryKey:["/api/clients"],enabled:e}),p=Ae({mutationFn:async y=>(await Ne("POST","/api/stripe/checkout",{priceId:y})).json(),onSuccess:y=>{y.url&&(window.location.href=y.url)}}),v=y=>{const E=jg.find(S=>S.id===y);if(E){if(E.requiresDiagnstico&&!s.includes("diagnstico")){n({title:"Fase no disponvel",description:"Selecione primeiro a fase de Diagnstico para habilitar esta fase.",variant:"destructive"});return}i(S=>S.includes(y)?y==="diagnstico"?S.filter(k=>k==="expansao"||k==="diagnstico").filter(k=>k!=="diagnstico"):S.filter(k=>k!==y):[...S,y])}},N=()=>{let y=0,E=!1,S=0;return s.forEach(k=>{const T=jg.find(z=>z.id===k);T&&(y+=T.price,T.isExpansao&&T.commission&&(E=!0,S=T.commission))}),{total:y,hasCommission:E,commissionPercent:S}},j=Ae({mutationFn:async()=>{const{total:y,hasCommission:E,commissionPercent:S}=N(),k=h?.find(z=>z.id.toString()===o),T={companyId:1,clientId:o?parseInt(o):void 0,proposalType:"consulting",clientName:k?.name||"",clientEmail:d.email,clientPhone:d.phone,validityDays:30,notes:d.message,totalValue:y.toString(),proposalData:{phases:s.map(z=>{const Y=jg.find(F=>F.id===z);return{id:z,name:Y?.name,price:Y?.price,commission:Y?.commission}}),contactName:d.contactName,hasCommission:E,commissionPercent:S}};return Ne("POST","/api/commercial-proposals",T)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-proposals"]});const{total:y,hasCommission:E,commissionPercent:S}=N();n({title:"Proposta de consultoria criada com sucesso!",description:`Total estimado: R$ ${y.toLocaleString("pt-BR")}${E?` + ${S}% sobre negcios fechados`:""}`}),a(!1),i([]),l(""),u({contactName:"",email:"",phone:"",message:""})},onError:()=>{n({title:"Erro ao criar proposta",variant:"destructive"})}}),g=()=>{if(s.length===0){n({title:"Selecione ao menos uma fase",description:"Escolha as fases de consultoria desejadas.",variant:"destructive"});return}if(!o||!d.contactName||!d.email){n({title:"Preencha os campos obrigatrios",description:"Cliente, contato e email so obrigatrios.",variant:"destructive"});return}j.mutate()},P=f?.data?.length?f.data.filter(y=>["free","professional","enterprise"].includes(y.metadata?.plan_type||"")).sort((y,E)=>parseInt(y.metadata?.order||"99")-parseInt(E.metadata?.order||"99")).map(y=>({name:y.name,description:y.description||"",price:y.prices[0]?.unit_amount?y.prices[0].unit_amount/100:0,interval:y.prices[0]?.recurring?.interval==="month"?"ms":"ano",features:y.metadata?.features?.split(",")||[],popular:y.metadata?.popular==="true",priceId:y.prices[0]?.id})):qSe,C=f?.data?.length?f.data.filter(y=>y.metadata?.plan_type==="addon").map(y=>({name:y.name,description:y.description||"",price:y.prices[0]?.unit_amount?y.prices[0].unit_amount/100:0,interval:y.prices[0]?.recurring?.interval==="month"?"ms":"ano",priceId:y.prices[0]?.id})):VSe,b=y=>{if(y){if(!e){window.location.href="/api/login";return}p.mutate(y)}};return t.jsx("div",{className:"min-h-screen bg-background py-8 px-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(H,{variant:"ghost",className:"gap-2",onClick:()=>window.history.length>1?window.history.back():window.location.href="/","data-testid":"button-back",children:[t.jsx(ia,{className:"h-4 w-4"}),"Voltar"]})}),t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold mb-4","data-testid":"text-pricing-title",children:"Escolha seu Plano"}),t.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Comece gratuitamente com nossas calculadoras e faa upgrade quando precisar de mais recursos"}),t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-md text-sm font-medium",children:[t.jsx(ta,{className:"h-4 w-4"}),"15 dias grtis para testar - cancele a qualquer momento sem custo"]})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:P.map((y,E)=>t.jsxs(ee,{className:`relative flex flex-col ${y.popular?"border-primary shadow-lg":""}`,"data-testid":`card-plan-${E}`,children:[y.popular&&t.jsx(Ee,{className:"absolute -top-3 left-1/2 -translate-x-1/2",variant:"default",children:"Mais Popular"}),t.jsxs(de,{children:[t.jsx(ue,{className:"text-2xl","data-testid":`text-plan-name-${E}`,children:y.name}),t.jsx(rt,{children:y.description})]}),t.jsxs(te,{className:"flex-1",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("span",{className:"text-4xl font-bold","data-testid":`text-plan-price-${E}`,children:y.price===0?"Grtis":`R$ ${y.price}`}),y.price>0&&t.jsxs("span",{className:"text-muted-foreground",children:["/",y.interval]})]}),t.jsx("ul",{className:"space-y-3",children:y.features.map((S,k)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ta,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),t.jsx("span",{className:"text-sm",children:S})]},k))})]}),t.jsx(hi,{children:y.price===0?t.jsx(H,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/calculadora-frete","data-testid":`button-plan-${E}`,children:"Comear Grtis"}):t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx(H,{className:"w-full",variant:y.popular?"default":"outline",onClick:()=>b(y.priceId),disabled:p.isPending,"data-testid":`button-plan-${E}`,children:p.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):"Testar 15 dias grtis"}),t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Cobrana inicia no 16 dia"})]})})]},E))}),t.jsxs("div",{className:"mt-20",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4","data-testid":"text-products-title",children:"Produtos Avulsos"}),t.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Precisa apenas de uma ferramenta especifica? Adquira individualmente"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto mb-6",children:C.slice(0,2).map((y,E)=>t.jsxs(ee,{className:"flex flex-col","data-testid":`card-product-${E}`,children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-xl","data-testid":`text-product-name-${E}`,children:y.name}),t.jsx(rt,{children:y.description})]}),t.jsx(te,{className:"flex-1",children:t.jsxs("div",{children:[t.jsxs("span",{className:"text-3xl font-bold","data-testid":`text-product-price-${E}`,children:["R$ ",y.price]}),t.jsxs("span",{className:"text-muted-foreground",children:["/",y.interval]})]})}),t.jsx(hi,{children:t.jsx(H,{variant:"outline",className:"w-full",onClick:()=>b(y.priceId),disabled:p.isPending||!y.priceId,"data-testid":`button-product-${E}`,children:y.priceId?"Adquirir":"Em Breve"})})]},E))}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:C.slice(2).map((y,E)=>t.jsxs(ee,{className:"flex flex-col","data-testid":`card-product-${E+2}`,children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-xl","data-testid":`text-product-name-${E+2}`,children:y.name}),t.jsx(rt,{children:y.description})]}),t.jsx(te,{className:"flex-1",children:t.jsxs("div",{children:[t.jsxs("span",{className:"text-3xl font-bold","data-testid":`text-product-price-${E+2}`,children:["R$ ",y.price]}),t.jsxs("span",{className:"text-muted-foreground",children:["/",y.interval]})]})}),t.jsx(hi,{children:t.jsx(H,{variant:"outline",className:"w-full",onClick:()=>b(y.priceId),disabled:p.isPending||!y.priceId,"data-testid":`button-product-${E+2}`,children:y.priceId?"Adquirir":"Em Breve"})})]},E+2))})]}),t.jsxs("div",{className:"mt-20",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4","data-testid":"text-consulting-title",children:"Servio de Consultoria"}),t.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Acompanhamento especializado para estruturar e expandir sua operao comercial"})]}),t.jsxs(ee,{className:"max-w-4xl mx-auto","data-testid":"card-consulting-service",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:t.jsx(rp,{className:"h-8 w-8 text-primary"})}),t.jsx(ue,{className:"text-2xl",children:"Consultoria Comercial Logstica"}),t.jsx(rt,{children:"Metodologia exclusiva em 4 fases para transformar sua rea comercial"})]}),t.jsx(te,{children:t.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 rounded-md bg-muted/50",children:[t.jsx(Ee,{variant:"outline",className:"mb-3",children:"1 Fase"}),t.jsx("h4",{className:"font-semibold mb-2",children:"Diagnstico"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"Escopo"}),t.jsx("li",{children:"Estruturao In Loco"}),t.jsx("li",{children:"Acompanhamento On Line"})]}),t.jsx("p",{className:"text-xs text-primary mt-3 font-medium",children:"1 ms"})]}),t.jsxs("div",{className:"text-center p-4 rounded-md bg-muted/50",children:[t.jsx(Ee,{variant:"outline",className:"mb-3",children:"2 Fase"}),t.jsx("h4",{className:"font-semibold mb-2",children:"Implementao"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"In Loco"}),t.jsx("li",{children:"On Line"})]}),t.jsx("p",{className:"text-xs text-primary mt-3 font-medium",children:"1 ms"})]}),t.jsxs("div",{className:"text-center p-4 rounded-md bg-muted/50",children:[t.jsx(Ee,{variant:"outline",className:"mb-3",children:"3 Fase"}),t.jsx("h4",{className:"font-semibold mb-2",children:"Execuo"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"In Loco"}),t.jsx("li",{children:"On Line"})]}),t.jsx("p",{className:"text-xs text-primary mt-3 font-medium",children:"1 ms"})]}),t.jsxs("div",{className:"text-center p-4 rounded-md bg-muted/50",children:[t.jsx(Ee,{variant:"outline",className:"mb-3",children:"4 Fase"}),t.jsx("h4",{className:"font-semibold mb-2",children:"Expanso"}),t.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:t.jsx("li",{children:"On Line"})}),t.jsx("p",{className:"text-xs text-primary mt-3 font-medium",children:"Contnuo"})]})]})}),t.jsxs(hi,{className:"flex flex-col gap-4",children:[t.jsxs(H,{className:"w-full md:w-auto",size:"lg","data-testid":"button-consulting-contact",onClick:()=>a(!0),children:["Solicitar Proposta",t.jsx(gl,{className:"h-4 w-4 ml-2"})]}),t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Selecione as fases desejadas e receba uma proposta personalizada"})]})]})]}),t.jsx(bt,{open:r,onOpenChange:a,children:t.jsxs(yt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Solicitar Proposta de Consultoria"}),t.jsx(tn,{children:"Selecione as fases desejadas e preencha seus dados para receber uma proposta personalizada"})]}),t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{children:[t.jsx(B,{className:"text-base font-semibold mb-4 block",children:"Selecione as Fases"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:jg.map(y=>{const E=s.includes(y.id),S=y.requiresDiagnstico&&!s.includes("diagnstico");return t.jsxs("div",{onClick:()=>!S&&v(y.id),className:`
                          relative p-4 rounded-md border-2 cursor-pointer transition-all
                          ${E?"border-primary bg-primary/5":S?"border-muted bg-muted/30 cursor-not-allowed opacity-60":"border-border hover:border-primary/50"}
                        `,"data-testid":`phase-${y.id}`,children:[S&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(tJ,{className:"h-4 w-4 text-muted-foreground"})}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(fn,{checked:E,disabled:S,className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Ee,{variant:"outline",className:"mb-2 text-xs",children:y.badge}),t.jsx("h4",{className:"font-semibold text-sm",children:y.name}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.description}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsxs("span",{className:"text-sm font-bold",children:["R$ ",y.price.toLocaleString("pt-BR")]}),y.isExpansao&&y.commission&&t.jsxs("span",{className:"text-xs text-primary flex items-center gap-1",children:[t.jsx(lJ,{className:"h-3 w-3"}),"+",y.commission,"%"]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:y.duration})]})]}),S&&t.jsx("p",{className:"text-xs text-destructive mt-2",children:"Requer Diagnstico"})]},y.id)})}),s.length>0&&t.jsx("div",{className:"mt-4 p-4 bg-muted/50 rounded-md",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-medium",children:"Total Estimado:"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"text-xl font-bold",children:["R$ ",N().total.toLocaleString("pt-BR")]}),N().hasCommission&&t.jsxs("span",{className:"text-sm text-primary block",children:["+ ",N().commissionPercent,"% sobre negcios fechados"]})]})]})})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx(B,{className:"text-base font-semibold mb-4 block",children:"Detalhes das Fases"}),t.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground bg-muted/30 p-4 rounded-md",children:[t.jsxs("p",{children:[t.jsx("strong",{className:"text-foreground",children:"Diagnstico:"})," [Aguardando descrio]"]}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-foreground",children:"Implementao:"})," [Aguardando descrio]"]}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-foreground",children:"Execuo:"})," [Aguardando descrio]"]}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-foreground",children:"Expanso:"})," [Aguardando descrio] + comisso sobre negcios fechados"]})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx(B,{className:"text-base font-semibold mb-4 block",children:"Dados para Contato"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cliente *"}),t.jsx(Mp,{clients:h||[],value:o,onValueChange:l,placeholder:"Buscar ou cadastrar cliente...",allowNone:!1,showAddButton:!0,"data-testid":"select-client"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"contactName",children:"Nome do Contato *"}),t.jsx(J,{id:"contactName",value:d.contactName,onChange:y=>u(E=>({...E,contactName:y.target.value})),placeholder:"Joo Silva","data-testid":"input-contact-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"email",children:"Email *"}),t.jsx(J,{id:"email",type:"email",value:d.email,onChange:y=>u(E=>({...E,email:y.target.value})),placeholder:"contato@empresa.com.br","data-testid":"input-email"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"phone",children:"Telefone"}),t.jsx(J,{id:"phone",value:d.phone,onChange:y=>u(E=>({...E,phone:y.target.value})),placeholder:"(11) 99999-9999","data-testid":"input-phone"})]})]}),t.jsxs("div",{className:"space-y-2 mt-4",children:[t.jsx(B,{htmlFor:"message",children:"Mensagem Adicional"}),t.jsx(St,{id:"message",value:d.message,onChange:y=>u(E=>({...E,message:y.target.value})),placeholder:"Conte-nos sobre sua empresa e suas necessidades...",rows:3,"data-testid":"input-message"})]})]})]}),t.jsxs(Pn,{className:"flex-col sm:flex-row gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-proposal",children:"Cancelar"}),t.jsxs(H,{onClick:g,disabled:j.isPending,"data-testid":"button-submit-proposal",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),j.isPending?"Criando...":"Criar Proposta"]})]})]})}),t.jsxs("div",{className:"mt-16 text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pagamento Seguro"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Todos os pagamentos sao processados de forma segura pelo Stripe. Aceitamos cartoes de credito, PIX e boleto bancario."}),t.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[t.jsx(Ee,{variant:"outline",className:"px-4 py-2",children:"Cartao de Credito"}),t.jsx(Ee,{variant:"outline",className:"px-4 py-2",children:"PIX"}),t.jsx(Ee,{variant:"outline",className:"px-4 py-2",children:"Boleto Bancario"})]})]})]})})}function HSe(){return t.jsx("div",{className:"min-h-screen bg-background py-8 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx(it,{href:"/",children:t.jsxs(H,{variant:"ghost",className:"gap-2",children:[t.jsx(ia,{className:"h-4 w-4"}),"Voltar"]})})}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-3xl","data-testid":"text-privacy-title",children:"Poltica de Privacidade"}),t.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]})]}),t.jsxs(te,{className:"prose prose-sm dark:prose-invert max-w-none",children:[t.jsx("h2",{children:"1. Introduo"}),t.jsx("p",{children:'A MCG Consultoria ("ns", "nosso" ou "Empresa") est comprometida com a proteo da privacidade e dos dados pessoais de nossos usurios. Esta Poltica de Privacidade explica como coletamos, usamos, armazenamos e protegemos suas informaes pessoais em conformidade com a Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018).'}),t.jsx("h2",{children:"2. Dados Coletados"}),t.jsx("p",{children:"Coletamos os seguintes tipos de dados:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Dados de identificao:"})," Nome, email, telefone, CNPJ da empresa"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Dados de navegao:"})," IP, cookies, pginas acessadas, tempo de navegao"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Dados de pagamento:"})," Processados de forma segura pelo Stripe"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Dados de uso:"})," Informaes sobre como voc utiliza nossos servios"]})]}),t.jsx("h2",{children:"3. Finalidade do Tratamento"}),t.jsx("p",{children:"Seus dados so utilizados para:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Fornecer e melhorar nossos servios"}),t.jsx("li",{children:"Processar pagamentos e gerenciar assinaturas"}),t.jsx("li",{children:"Enviar comunicaes relevantes sobre nossos servios"}),t.jsx("li",{children:"Cumprir obrigaes legais e regulatrias"}),t.jsx("li",{children:"Garantir a segurana da plataforma"})]}),t.jsx("h2",{children:"4. Compartilhamento de Dados"}),t.jsx("p",{children:"No vendemos seus dados pessoais. Compartilhamos informaes apenas com:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Processadores de pagamento (Stripe) para transaes financeiras"}),t.jsx("li",{children:"Provedores de infraestrutura tecnolgica (Replit)"}),t.jsx("li",{children:"Autoridades pblicas quando exigido por lei"})]}),t.jsx("h2",{children:"5. Segurana dos Dados"}),t.jsx("p",{children:"Implementamos medidas tcnicas e organizacionais para proteger seus dados:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Criptografia de dados em trnsito e em repouso"}),t.jsx("li",{children:"Controle de acesso restrito"}),t.jsx("li",{children:"Monitoramento contnuo de segurana"}),t.jsx("li",{children:"Backups regulares"})]}),t.jsx("h2",{children:"6. Seus Direitos (LGPD)"}),t.jsx("p",{children:"De acordo com a LGPD, voc tem direito a:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Confirmar a existncia de tratamento de dados"}),t.jsx("li",{children:"Acessar seus dados pessoais"}),t.jsx("li",{children:"Corrigir dados incompletos ou desatualizados"}),t.jsx("li",{children:"Solicitar a eliminao de dados desnecessrios"}),t.jsx("li",{children:"Revogar o consentimento a qualquer momento"}),t.jsx("li",{children:"Solicitar a portabilidade dos dados"})]}),t.jsx("h2",{children:"7. Cookies"}),t.jsx("p",{children:"Utilizamos cookies para melhorar sua experincia. Voc pode gerenciar suas preferncias de cookies atravs das configuraes do navegador."}),t.jsx("h2",{children:"8. Reteno de Dados"}),t.jsx("p",{children:"Mantemos seus dados pelo tempo necessrio para cumprir as finalidades descritas nesta poltica ou conforme exigido por lei."}),t.jsx("h2",{children:"9. Contato do Encarregado (DPO)"}),t.jsx("p",{children:"Para exercer seus direitos ou esclarecer dvidas sobre o tratamento de dados pessoais, entre em contato:"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," privacidade@mcgconsultoria.com.br",t.jsx("br",{}),t.jsx("strong",{children:"Telefone:"})," (11) 99999-9999"]}),t.jsx("h2",{children:"10. Alteraes nesta Poltica"}),t.jsx("p",{children:"Podemos atualizar esta poltica periodicamente. Notificaremos sobre mudanas significativas atravs do email cadastrado ou aviso na plataforma."})]})]})]})})}function USe(){return t.jsx("div",{className:"min-h-screen bg-background py-8 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx(it,{href:"/",children:t.jsxs(H,{variant:"ghost",className:"gap-2",children:[t.jsx(ia,{className:"h-4 w-4"}),"Voltar"]})})}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-3xl","data-testid":"text-terms-title",children:"Termos de Uso"}),t.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]})]}),t.jsxs(te,{className:"prose prose-sm dark:prose-invert max-w-none",children:[t.jsx("h2",{children:"1. Aceitao dos Termos"}),t.jsx("p",{children:"Ao acessar e utilizar a plataforma MCG Consultoria, voc concorda com estes Termos de Uso. Se no concordar com qualquer parte destes termos, no utilize nossos servios."}),t.jsx("h2",{children:"2. Descrio dos Servios"}),t.jsx("p",{children:"A MCG Consultoria oferece:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Calculadoras gratuitas:"})," Frete e armazenagem (acesso livre)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Plano Profissional:"})," CRM, Pipeline, Checklists, Financeiro, Marketing"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Plano Empresarial:"})," Recursos avanados e multi-usurios"]})]}),t.jsx("h2",{children:"3. Cadastro e Conta"}),t.jsx("p",{children:"Para acessar recursos pagos, voc deve:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Fornecer informaes verdadeiras e atualizadas"}),t.jsx("li",{children:"Manter a confidencialidade de suas credenciais"}),t.jsx("li",{children:"Notificar imediatamente sobre uso no autorizado"}),t.jsx("li",{children:"Utilizar apenas uma sesso ativa por conta"})]}),t.jsx("h2",{children:"4. Assinaturas e Pagamentos"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Os pagamentos so processados mensalmente/anualmente via Stripe"}),t.jsx("li",{children:"Aceitamos carto de crdito, PIX e boleto bancrio"}),t.jsx("li",{children:"Voc pode cancelar sua assinatura a qualquer momento"}),t.jsx("li",{children:"No h reembolso proporcional para cancelamentos"}),t.jsx("li",{children:"Os preos podem ser alterados com aviso prvio de 30 dias"})]}),t.jsx("h2",{children:"5. Uso Aceitvel"}),t.jsx("p",{children:"Voc concorda em no:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Violar leis ou regulamentos aplicveis"}),t.jsx("li",{children:"Compartilhar credenciais de acesso"}),t.jsx("li",{children:"Tentar acessar sistemas no autorizados"}),t.jsx("li",{children:"Usar a plataforma para fins ilegais"}),t.jsx("li",{children:"Fazer engenharia reversa do software"})]}),t.jsx("h2",{children:"6. Propriedade Intelectual"}),t.jsx("p",{children:"Todo o contedo da plataforma, incluindo textos, grficos, logos, cones, imagens e software,  de propriedade da MCG Consultoria e est protegido por leis de propriedade intelectual."}),t.jsx("h2",{children:"7. Limitao de Responsabilidade"}),t.jsx("p",{children:"A MCG Consultoria no se responsabiliza por:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Decises tomadas com base nos clculos da plataforma"}),t.jsx("li",{children:"Interrupes temporrias do servio"}),t.jsx("li",{children:"Perda de dados por uso inadequado"}),t.jsx("li",{children:"Danos indiretos ou consequenciais"})]}),t.jsx("h2",{children:"8. Disponibilidade do Servio"}),t.jsx("p",{children:"Nos empenhamos para manter o servio disponvel 24/7, mas no garantimos disponibilidade ininterrupta. Manutenes programadas sero comunicadas com antecedncia."}),t.jsx("h2",{children:"9. Modificaes nos Termos"}),t.jsx("p",{children:"Podemos modificar estes termos a qualquer momento. Alteraes significativas sero comunicadas por email ou atravs da plataforma."}),t.jsx("h2",{children:"10. Resciso"}),t.jsx("p",{children:"Podemos suspender ou encerrar sua conta se voc violar estes termos. Voc pode encerrar sua conta a qualquer momento atravs das configuraes."}),t.jsx("h2",{children:"11. Lei Aplicvel"}),t.jsx("p",{children:"Estes termos so regidos pelas leis da Repblica Federativa do Brasil. Qualquer disputa ser resolvida no foro da Comarca de So Paulo/SP."}),t.jsx("h2",{children:"12. Contato"}),t.jsx("p",{children:"Para dvidas sobre estes termos, entre em contato:"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," contato@mcgconsultoria.com.br",t.jsx("br",{}),t.jsx("strong",{children:"Telefone:"})," (11) 99999-9999"]})]})]})]})})}const FF={free:["Calculadora de Frete","Calculadora de Armazenagem","ICMS para 27 estados","3 calculos gratuitos"],starter:["Tudo do plano Gratuito","CRM com ate 50 clientes","Pipeline visual","Checklists basicos","Suporte por email"],professional:["Tudo do plano Essencial","CRM ilimitado","15 departamentos de Checklist","Modulo Financeiro","Calendrio Comercial","Ata Plano de Ao","Relatrios avancados","Suporte prioritario"],enterprise:["Tudo do plano Profissional","Multi-empresas","API de integrao","Modulo de Marketing","Gesto de Tarefas e Projetos","Indicadores e Curva ABC","Gerente de conta dedicado","SLA personalizado"]},KSe={free:Kf,starter:Kf,professional:fu,enterprise:nn},WSe={free:"Gratuito",starter:"Essencial",professional:"Profissional",enterprise:"Corporativo"};function GSe(e){switch(e){case"active":return t.jsxs(Ee,{variant:"default",className:"bg-emerald-600 dark:bg-emerald-500",children:[t.jsx(ms,{className:"w-3 h-3 mr-1"}),"Ativo"]});case"trialing":return t.jsxs(Ee,{variant:"secondary",children:[t.jsx(Sc,{className:"w-3 h-3 mr-1"}),"Perodo de Teste"]});case"past_due":return t.jsxs(Ee,{variant:"destructive",children:[t.jsx(Sc,{className:"w-3 h-3 mr-1"}),"Pagamento Pendente"]});case"canceled":return t.jsxs(Ee,{variant:"outline",children:[t.jsx(zy,{className:"w-3 h-3 mr-1"}),"Cancelado"]});default:return t.jsx(Ee,{variant:"outline",children:"Gratuito"})}}function QSe(){const{toast:e}=At(),{data:n,isLoading:r}=Ve({queryKey:["/api/auth/user"]}),a=Ae({mutationFn:async()=>(await Ne("POST","/api/stripe/portal")).json(),onSuccess:l=>{l.url&&(window.location.href=l.url)},onError:l=>{e({title:"Erro",description:l.message||"No foi possvel acessar o portal",variant:"destructive"})}}),s=n?.subscriptionStatus||"free",i=KSe[s]||Kf,o=FF[s]||FF.free;return r?t.jsx(Ot,{title:"Meu Plano",subtitle:"Gerencie sua assinatura",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsx(Ot,{title:"Meu Plano",subtitle:"Gerencie sua assinatura",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(i,{className:"h-5 w-5 text-primary"}),"Plano Atual"]}),t.jsx(rt,{children:"Seu plano e status de assinatura"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:WSe[s]||"Gratuito"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:n?.email})]}),GSe(n?.subscriptionStatus)]}),t.jsx(kn,{}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium mb-2",children:"Recursos includos:"}),t.jsx("ul",{className:"space-y-1",children:o.map(l=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(ms,{className:"h-4 w-4 text-primary flex-shrink-0"}),l]},l))})]}),n?.subscriptionEndDate&&t.jsx("div",{className:"pt-2",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prxima cobrana: ",new Date(n.subscriptionEndDate).toLocaleDateString("pt-BR")]})})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Qc,{className:"h-5 w-5 text-primary"}),"Pagamento"]}),t.jsx(rt,{children:"Gerencie seus mtodos de pagamento"})]}),t.jsxs(te,{className:"space-y-4",children:[n?.stripeCustomerId?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesse o portal de pagamento para atualizar seu carto, ver faturas anteriores ou cancelar sua assinatura."}),t.jsxs(H,{onClick:()=>a.mutate(),disabled:a.isPending,className:"w-full","data-testid":"button-manage-billing",children:[a.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Gerenciar Pagamento"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc est usando o plano gratuito. Faa upgrade para desbloquear recursos premium."}),t.jsx(it,{href:"/planos",children:t.jsxs(H,{className:"w-full","data-testid":"button-upgrade",children:[t.jsx(fu,{className:"h-4 w-4 mr-2"}),"Fazer Upgrade"]})})]}),t.jsx(kn,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"Mtodos de pagamento aceitos:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Ee,{variant:"outline",children:"Carto de Crdito"}),t.jsx(Ee,{variant:"outline",children:"PIX"}),t.jsx(Ee,{variant:"outline",children:"Boleto"})]})]})]})]})]}),s!=="enterprise"&&t.jsxs(ee,{className:"mt-6",children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Precisa de mais recursos?"}),t.jsx(rt,{children:"Explore nossos planos e encontre o ideal para sua empresa"})]}),t.jsx(te,{children:t.jsx(it,{href:"/planos",children:t.jsxs(H,{variant:"outline","data-testid":"button-view-plans",children:["Ver todos os planos",t.jsx(Pc,{className:"h-4 w-4 ml-2"})]})})})]})]})})}const YSe=["Visita Comercial","Apresentacao Indicadores","Visita Operacional"],YC=[{value:"client",label:"Reuniao com Cliente"},{value:"internal",label:"Reuniao Interna"},{value:"strategic",label:"Planejamento Estrategico"}],LF=[{value:"presencial",label:"Presencial"},{value:"online",label:"Online"}],XSe={draft:"Rascunho",finalized:"Finalizada",sent:"Enviada"},ZSe={draft:"secondary",finalized:"default",sent:"outline"};function JSe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,d]=w.useState({title:"",meetingType:"client",meetingMode:"presencial",meetingLocation:"",meetingDate:new Date().toISOString().split("T")[0],clientId:"",summary:"",decisions:"",nextSteps:"",nextReviewDate:"",pipelineStage:""}),[u,f]=w.useState([]),[h,p]=w.useState(""),[v,N]=w.useState([{name:"",email:""}]),[j,g]=w.useState([]),{data:P,isLoading:C}=Ve({queryKey:["/api/meeting-records"]}),{data:b}=Ve({queryKey:["/api/clients"]}),{data:y}=Ve({queryKey:["/api/company"]}),{data:E}=Ve({queryKey:["/api/meeting-objectives"]}),S=[...YSe,...E?.filter(Z=>Z.isCustom).map(Z=>Z.label)||[]],k=Ae({mutationFn:async Z=>(await Ne("POST","/api/meeting-objectives",{label:Z})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/meeting-objectives"]})}}),T=()=>{N([...v,{name:"",email:""}])},z=Z=>{N(v.filter((re,le)=>le!==Z))},Y=(Z,re,le)=>{const ye=[...v];ye[Z][re]=le,N(ye)},F=()=>{h.trim()&&!S.includes(h.trim())&&(k.mutate(h.trim()),f([...u,h.trim()]),p(""))},D=Z=>{u.includes(Z)?f(u.filter(re=>re!==Z)):f([...u,Z])},R=Ae({mutationFn:async Z=>(await Ne("POST","/api/meeting-records",Z)).json(),onSuccess:async Z=>{for(const re of j)re.description.trim()&&await Ne("POST",`/api/meeting-records/${Z.id}/action-items`,{...re,dueDate:re.dueDate?new Date(re.dueDate).toISOString():null});Ce.invalidateQueries({queryKey:["/api/meeting-records"]}),e({title:"Ata criada com sucesso"}),K(),r(!1)},onError:()=>{e({title:"Erro ao criar ata",variant:"destructive"})}}),q=Ae({mutationFn:async({id:Z,data:re})=>(await Ne("PATCH",`/api/meeting-records/${Z}`,re)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/meeting-records"]}),e({title:"Ata atualizada com sucesso"}),K(),r(!1)},onError:()=>{e({title:"Erro ao atualizar ata",variant:"destructive"})}}),Q=Ae({mutationFn:async Z=>{await Ne("DELETE",`/api/meeting-records/${Z}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/meeting-records"]}),e({title:"Ata excluida com sucesso"})},onError:()=>{e({title:"Erro ao excluir ata",variant:"destructive"})}}),K=()=>{d({title:"",meetingType:"client",meetingMode:"presencial",meetingLocation:"",meetingDate:new Date().toISOString().split("T")[0],clientId:"",summary:"",decisions:"",nextSteps:"",nextReviewDate:"",pipelineStage:""}),f([]),N([{name:"",email:""}]),g([]),s(null),o(!1)},U=Z=>{Z.preventDefault();const re=v.filter(ye=>ye.name.trim()||ye.email.trim()),le={...l,companyId:1,meetingDate:new Date(l.meetingDate).toISOString(),clientId:l.clientId&&l.clientId!=="none"?parseInt(l.clientId):null,nextReviewDate:l.nextReviewDate?new Date(l.nextReviewDate).toISOString():null,participants:JSON.stringify(re),selectedObjectives:JSON.stringify(u)};a?q.mutate({id:a.id,data:le}):R.mutate(le)},O=()=>{g([...j,{description:"",responsible:"",responsibleEmail:"",dueDate:"",priority:"medium"}])},I=(Z,re,le)=>{const ye=[...j];ye[Z]={...ye[Z],[re]:le},g(ye)},G=Z=>{g(j.filter((re,le)=>le!==Z))},M=Z=>{s(Z),d({title:Z.title,meetingType:Z.meetingType||"client",meetingMode:Z.meetingMode||"presencial",meetingLocation:Z.meetingLocation||"",meetingDate:Z.meetingDate?new Date(Z.meetingDate).toISOString().split("T")[0]:"",clientId:Z.clientId?.toString()||"",summary:Z.summary||"",decisions:Z.decisions||"",nextSteps:Z.nextSteps||"",nextReviewDate:Z.nextReviewDate?new Date(Z.nextReviewDate).toISOString().split("T")[0]:"",pipelineStage:Z.pipelineStage||""});try{const re=Z.participants?JSON.parse(Z.participants):[];N(re.length>0?re:[{name:"",email:""}])}catch{N([{name:Z.participants||"",email:""}])}try{const re=Z.selectedObjectives?JSON.parse(Z.selectedObjectives):[];f(re)}catch{f([])}o(!1),r(!0)},V=Z=>Z&&b?.find(le=>le.id===Z)?.name||"-";return C?t.jsx(Ot,{title:"Ata Plano de Ao",subtitle:"Registre reunioes e decisoes",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsx(Ot,{title:"Ata Plano de Ao",subtitle:"Registre reunioes e decisoes",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-4 flex-wrap",children:t.jsxs(bt,{open:n,onOpenChange:Z=>{r(Z),Z||K()},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-new-meeting",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Ata"]})}),t.jsxs(yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Ata":"Nova Ata de Reuniao"}),t.jsx(tn,{children:"Registre os detalhes da reuniao e defina acoes"})]}),t.jsxs("form",{onSubmit:U,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"title",children:"Titulo da Reuniao"}),t.jsx(J,{id:"title",value:l.title,onChange:Z=>d({...l,title:Z.target.value}),placeholder:"Ex: Alinhamento comercial Q1",required:!0,"data-testid":"input-title"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"meetingType",children:"Tipo de Reuniao"}),t.jsxs(Oe,{value:l.meetingType,onValueChange:Z=>d({...l,meetingType:Z}),children:[t.jsx(_e,{"data-testid":"select-meeting-type",children:t.jsx(Me,{})}),t.jsx(Te,{children:YC.map(Z=>t.jsx(ne,{value:Z.value,children:Z.label},Z.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"meetingMode",children:"Modalidade"}),t.jsxs(Oe,{value:l.meetingMode,onValueChange:Z=>d({...l,meetingMode:Z}),children:[t.jsx(_e,{"data-testid":"select-meeting-mode",children:t.jsx(Me,{})}),t.jsx(Te,{children:LF.map(Z=>t.jsx(ne,{value:Z.value,children:Z.label},Z.value))})]})]}),l.meetingMode==="presencial"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"meetingLocation",children:"Local da Reuniao"}),t.jsx(J,{id:"meetingLocation",value:l.meetingLocation,onChange:Z=>d({...l,meetingLocation:Z.target.value}),placeholder:"Ex: Escritorio central, Sala de reunioes 3","data-testid":"input-meeting-location"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"meetingDate",children:"Data da Reuniao"}),t.jsx(J,{id:"meetingDate",type:"date",value:l.meetingDate,onChange:Z=>d({...l,meetingDate:Z.target.value}),required:!0,"data-testid":"input-meeting-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientId",children:"Cliente (opcional)"}),t.jsx(Mp,{clients:b||[],value:l.clientId,onValueChange:Z=>d({...l,clientId:Z}),placeholder:"Buscar cliente...",allowNone:!0,showAddButton:!0,"data-testid":"select-client"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsx(B,{children:"Participantes"}),t.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:T,"data-testid":"button-add-participant",children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar Participante"]})]}),v.map((Z,re)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(J,{placeholder:"Nome",value:Z.name,onChange:le=>Y(re,"name",le.target.value),className:"flex-1","data-testid":`input-participant-name-${re}`}),t.jsx(J,{placeholder:"Email",type:"email",value:Z.email,onChange:le=>Y(re,"email",le.target.value),className:"flex-1","data-testid":`input-participant-email-${re}`}),v.length>1&&t.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>z(re),"data-testid":`button-remove-participant-${re}`,children:t.jsx(Gs,{className:"h-4 w-4"})})]},re))]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(B,{children:"Objetivos da Reuniao"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:S.map(Z=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{id:`objective-${Z}`,checked:u.includes(Z),onCheckedChange:()=>D(Z),"data-testid":`checkbox-objective-${Z.replace(/\s/g,"-")}`}),t.jsx("label",{htmlFor:`objective-${Z}`,className:"text-sm cursor-pointer",children:Z})]},Z))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{placeholder:"Adicionar novo objetivo...",value:h,onChange:Z=>p(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&(Z.preventDefault(),F()),"data-testid":"input-new-objective"}),t.jsx(H,{type:"button",variant:"outline",onClick:F,disabled:!h.trim(),"data-testid":"button-add-objective",children:t.jsx(ut,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"summary",children:"Resumo / Pauta"}),t.jsx(St,{id:"summary",value:l.summary,onChange:Z=>d({...l,summary:Z.target.value}),placeholder:"Resumo dos pontos discutidos",rows:4,"data-testid":"input-summary"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"decisions",children:"Decisoes Tomadas"}),t.jsx(St,{id:"decisions",value:l.decisions,onChange:Z=>d({...l,decisions:Z.target.value}),placeholder:"Quais decisoes foram tomadas nesta reuniao?",rows:3,"data-testid":"input-decisions"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsx(B,{children:"Plano de Ao"}),t.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:O,"data-testid":"button-add-action",children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar Acao"]})]}),j.map((Z,re)=>t.jsx(ee,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsx(J,{placeholder:"Descrio da acao",value:Z.description,onChange:le=>I(re,"description",le.target.value),"data-testid":`input-action-description-${re}`})}),t.jsx("div",{children:t.jsx(J,{placeholder:"Responsvel",value:Z.responsible,onChange:le=>I(re,"responsible",le.target.value),"data-testid":`input-action-responsible-${re}`})}),t.jsx("div",{children:t.jsx(J,{placeholder:"Email",type:"email",value:Z.responsibleEmail,onChange:le=>I(re,"responsibleEmail",le.target.value),"data-testid":`input-action-email-${re}`})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{type:"date",value:Z.dueDate,onChange:le=>I(re,"dueDate",le.target.value),"data-testid":`input-action-due-date-${re}`}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:()=>G(re),"data-testid":`button-remove-action-${re}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]})},re))]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"nextSteps",children:"Proximos Passos"}),t.jsx(St,{id:"nextSteps",value:l.nextSteps,onChange:Z=>d({...l,nextSteps:Z.target.value}),placeholder:"Quais sao os proximos passos?",rows:2,"data-testid":"input-next-steps"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"nextReviewDate",children:"Data da Proxima Reuniao"}),t.jsx(J,{id:"nextReviewDate",type:"date",value:l.nextReviewDate,onChange:Z=>d({...l,nextReviewDate:Z.target.value}),"data-testid":"input-next-review-date"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:R.isPending||q.isPending,"data-testid":"button-save-meeting",children:R.isPending||q.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):a?"Atualizar":"Salvar Ata"})]})]})]})]})}),P?.length?t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Atas Registradas"}),t.jsxs(rt,{children:[P.length," ata(s) encontrada(s)"]})]}),t.jsx(te,{children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Titulo"}),t.jsx(nt,{children:"Tipo"}),t.jsx(nt,{children:"Data"}),t.jsx(nt,{children:"Cliente"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:P.map(Z=>t.jsxs(bn,{"data-testid":`row-meeting-${Z.id}`,children:[t.jsx(et,{className:"font-medium",children:Z.title}),t.jsx(et,{children:YC.find(re=>re.value===Z.meetingType)?.label||Z.meetingType}),t.jsx(et,{children:Z.meetingDate?Yt(new Date(Z.meetingDate),"dd/MM/yyyy",{locale:Jn}):"-"}),t.jsx(et,{children:V(Z.clientId)}),t.jsx(et,{children:t.jsx(Ee,{variant:ZSe[Z.status||"draft"],children:XSe[Z.status||"draft"]})}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsxs(bt,{children:[t.jsx($r,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"icon","data-testid":`button-view-meeting-${Z.id}`,children:t.jsx(fs,{className:"h-4 w-4"})})}),t.jsxs(yt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none",children:[t.jsxs("div",{className:"print:p-8",id:`print-ata-${Z.id}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-6 pb-4 border-b",children:[y?.logo?t.jsx("img",{src:y.logo,alt:"Logo",className:"h-16 w-auto object-contain"}):t.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:t.jsx(hn,{className:"h-8 w-8 text-muted-foreground"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("h2",{className:"text-xl font-bold",children:y?.name||"MCG Consultoria"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:y?.cnpj})]})]}),t.jsx("h1",{className:"text-2xl font-bold mb-2",children:Z.title}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Data:"})," ",Z.meetingDate?Yt(new Date(Z.meetingDate),"dd/MM/yyyy"):"-"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Tipo:"})," ",YC.find(re=>re.value===Z.meetingType)?.label]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Modalidade:"})," ",LF.find(re=>re.value===Z.meetingMode)?.label||"Presencial"]}),Z.meetingMode==="presencial"&&Z.meetingLocation&&t.jsxs("div",{children:[t.jsx("strong",{children:"Local:"})," ",Z.meetingLocation]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Cliente:"})," ",V(Z.clientId)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Participantes:"}),(()=>{try{const re=JSON.parse(Z.participants||"[]");return Array.isArray(re)&&re.length>0?re.map((le,ye)=>t.jsxs("span",{children:[" ",le.name,le.email?` (${le.email})`:"",ye<re.length-1?",":""]},ye)):" -"}catch{return` ${Z.participants||"-"}`}})()]})]}),(()=>{try{const re=JSON.parse(Z.selectedObjectives||"[]");return Array.isArray(re)&&re.length>0?t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"font-semibold mb-1",children:"Objetivos"}),t.jsx("ul",{className:"text-sm list-disc list-inside",children:re.map((le,ye)=>t.jsx("li",{children:le},ye))})]}):null}catch{return Z.objectives?t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"font-semibold mb-1",children:"Objetivos"}),t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.objectives})]}):null}})(),Z.summary&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"font-semibold mb-1",children:"Resumo / Pauta"}),t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.summary})]}),Z.decisions&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"font-semibold mb-1",children:"Decisoes Tomadas"}),t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.decisions})]}),Z.nextSteps&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"font-semibold mb-1",children:"Proximos Passos"}),t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.nextSteps})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 print:hidden",children:[t.jsxs(H,{variant:"outline",onClick:()=>{window.open(`/api/meeting-records/${Z.id}/pdf`,"_blank")},children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),t.jsxs(H,{variant:"outline",onClick:()=>window.print(),children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),t.jsxs(H,{variant:"default",onClick:async()=>{try{const le=await(await Ne("POST",`/api/meeting-records/${Z.id}/send-email`)).json();le.emailServiceNotConfigured?e({title:"Servio de email nao configurado",description:"Configure o RESEND_API_KEY ou SENDGRID_API_KEY para enviar emails.",variant:"destructive"}):(e({title:le.message}),Ce.invalidateQueries({queryKey:["/api/meeting-records"]}))}catch(re){const le=re?.message||"Erro ao enviar email";e({title:le,variant:"destructive"})}},"data-testid":`button-send-email-${Z.id}`,children:[t.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Enviar por Email"]})]})]})]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>M(Z),"data-testid":`button-edit-meeting-${Z.id}`,children:t.jsx(CS,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>Q.mutate(Z.id),"data-testid":`button-delete-meeting-${Z.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},Z.id))})]})})]}):t.jsxs(ee,{className:"p-12 text-center",children:[t.jsx(CS,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma ata registrada"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie sua primeira ata de reuniao para documentar decisoes e planos de acao"}),t.jsxs(H,{onClick:()=>r(!0),children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Criar Primeira Ata"]})]})]})})}const bg=[{value:"meeting",label:"Reunio",color:"bg-primary"},{value:"call",label:"Ligacao",color:"bg-emerald-600 dark:bg-emerald-500"},{value:"visit",label:"Visita",color:"bg-violet-600 dark:bg-violet-500"},{value:"proposal",label:"Proposta",color:"bg-amber-600 dark:bg-amber-500"},{value:"followup",label:"Follow-up",color:"bg-sky-600 dark:bg-sky-500"},{value:"other",label:"Outro",color:"bg-muted-foreground"}];function ePe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(Vc(new Date,{weekStartsOn:1})),[l,d]=w.useState({title:"",eventType:"meeting",startDate:"",startTime:"09:00",endTime:"10:00",clientId:"",location:"",description:"",pipelineStageId:""}),{data:u,isLoading:f}=Ve({queryKey:["/api/commercial-events"]}),{data:h}=Ve({queryKey:["/api/clients"]}),{data:p}=Ve({queryKey:["/api/attachments/expiring?days=30"]}),v=Ae({mutationFn:async R=>(await Ne("POST","/api/commercial-events",R)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-events"]}),e({title:"Evento criado com sucesso"}),P(),r(!1)},onError:()=>{e({title:"Erro ao criar evento",variant:"destructive"})}}),N=Ae({mutationFn:async({id:R,data:q})=>(await Ne("PATCH",`/api/commercial-events/${R}`,q)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-events"]}),e({title:"Evento atualizado com sucesso"}),P(),r(!1)},onError:()=>{e({title:"Erro ao atualizar evento",variant:"destructive"})}});Ae({mutationFn:async R=>{await Ne("DELETE",`/api/commercial-events/${R}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/commercial-events"]}),e({title:"Evento excluido com sucesso"})},onError:()=>{e({title:"Erro ao excluir evento",variant:"destructive"})}});const j=Ae({mutationFn:async R=>(await Ne("POST",`/api/commercial-events/${R}/sync-google-calendar`)).json(),onSuccess:()=>{e({title:"Evento sincronizado com Google Calendar"})},onError:()=>{e({title:"Erro ao sincronizar com Google Calendar",variant:"destructive"})}}),g=Ae({mutationFn:async R=>(await Ne("POST","/api/export/google-sheets",{type:R})).json(),onSuccess:R=>{R.spreadsheetUrl&&window.open(R.spreadsheetUrl,"_blank"),e({title:"Dados exportados para Google Sheets"})},onError:()=>{e({title:"Erro ao exportar para Google Sheets",variant:"destructive"})}}),P=()=>{d({title:"",eventType:"meeting",startDate:"",startTime:"09:00",endTime:"10:00",clientId:"",location:"",description:"",pipelineStageId:""}),s(null)},C=R=>{R.preventDefault();const q=new Date(`${l.startDate}T${l.startTime}:00`),Q=new Date(`${l.startDate}T${l.endTime}:00`),K={title:l.title,eventType:l.eventType,startDate:q.toISOString(),endDate:Q.toISOString(),clientId:l.clientId&&l.clientId!=="none"?parseInt(l.clientId):null,location:l.location||null,description:l.description||null,pipelineStageId:l.pipelineStageId?parseInt(l.pipelineStageId):null,companyId:1};a?N.mutate({id:a.id,data:K}):v.mutate(K)},b=R=>{s(R);const q=R.startDate?new Date(R.startDate):new Date,Q=R.endDate?new Date(R.endDate):new Date;d({title:R.title,eventType:R.eventType||"meeting",startDate:Yt(q,"yyyy-MM-dd"),startTime:Yt(q,"HH:mm"),endTime:Yt(Q,"HH:mm"),clientId:R.clientId?.toString()||"",location:R.location||"",description:R.description||"",pipelineStageId:R.pipelineStage?.toString()||""}),r(!0)},y=R=>{P(),d(q=>({...q,startDate:Yt(R,"yyyy-MM-dd")})),r(!0)},E=R=>u?.filter(q=>q.startDate?Vg(GCe(q.startDate.toString()),R):!1)||[],S=R=>p?.filter(q=>q.dataValidade?Vg(new Date(q.dataValidade),R):!1)||[],k=R=>{if(!R)return null;const q=new Date,K=new Date(R).getTime()-q.getTime();return Math.ceil(K/(1e3*60*60*24))},T=R=>({contratos:"Contrato",tabelas:"Tabela",licencas:"Licena",cnd:"CND",certificacoes:"Certificacao"})[R]||R,z=R=>R?h?.find(q=>q.id===R)?.name:null,Y=R=>bg.find(q=>q.value===R)||bg[5],F=Array.from({length:7},(R,q)=>GC(i,q)),D=R=>{o(GC(i,R*7))};return f?t.jsx(Ot,{title:"Calendrio Comercial",subtitle:"Agende eventos e compromissos",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsx(Ot,{title:"Calendrio Comercial",subtitle:"Agende eventos e compromissos",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-4 flex-wrap",children:t.jsxs(bt,{open:n,onOpenChange:R=>{r(R),R||P()},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-new-event",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Evento"]})}),t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Evento":"Novo Evento"}),t.jsx(tn,{children:"Agende uma atividade comercial"})]}),t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"title",children:"Titulo"}),t.jsx(J,{id:"title",value:l.title,onChange:R=>d({...l,title:R.target.value}),placeholder:"Ex: Reuniao com cliente ABC",required:!0,"data-testid":"input-event-title"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"eventType",children:"Tipo"}),t.jsxs(Oe,{value:l.eventType,onValueChange:R=>d({...l,eventType:R}),children:[t.jsx(_e,{"data-testid":"select-event-type",children:t.jsx(Me,{})}),t.jsx(Te,{children:bg.map(R=>t.jsx(ne,{value:R.value,children:R.label},R.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientId",children:"Cliente"}),t.jsx(Mp,{clients:h||[],value:l.clientId,onValueChange:R=>d({...l,clientId:R}),placeholder:"Buscar cliente...",allowNone:!0,showAddButton:!0,"data-testid":"select-client"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"startDate",children:"Data"}),t.jsx(J,{id:"startDate",type:"date",value:l.startDate,onChange:R=>d({...l,startDate:R.target.value}),required:!0,"data-testid":"input-event-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"startTime",children:"Inicio"}),t.jsx(J,{id:"startTime",type:"time",value:l.startTime,onChange:R=>d({...l,startTime:R.target.value}),"data-testid":"input-start-time"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"endTime",children:"Fim"}),t.jsx(J,{id:"endTime",type:"time",value:l.endTime,onChange:R=>d({...l,endTime:R.target.value}),"data-testid":"input-end-time"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"location",children:"Local"}),t.jsx(J,{id:"location",value:l.location,onChange:R=>d({...l,location:R.target.value}),placeholder:"Endereo ou link da reuniao","data-testid":"input-location"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"description",children:"Descrio"}),t.jsx(St,{id:"description",value:l.description,onChange:R=>d({...l,description:R.target.value}),placeholder:"Detalhes do evento",rows:3,"data-testid":"input-description"})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:v.isPending||N.isPending,"data-testid":"button-save-event",children:v.isPending||N.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):a?"Atualizar":"Salvar"})]})]})]})]})}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 pb-4 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(H,{variant:"outline",size:"icon",onClick:()=>D(-1),"data-testid":"button-prev-week",children:[t.jsx("span",{className:"sr-only",children:"Semana anterior"}),"<"]}),t.jsxs(ue,{className:"text-lg",children:["Semana ",kK(i,{weekStartsOn:1})," - ",Yt(i,"dd MMM",{locale:Jn})," a ",Yt(GC(i,6),"dd MMM yyyy",{locale:Jn})]}),t.jsxs(H,{variant:"outline",size:"icon",onClick:()=>D(1),"data-testid":"button-next-week",children:[t.jsx("span",{className:"sr-only",children:"Proxima semana"}),">"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>g.mutate("events"),disabled:g.isPending,"data-testid":"button-export-sheets",children:[g.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(LS,{className:"h-4 w-4 mr-2"}),"Exportar Sheets"]}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>o(Vc(new Date,{weekStartsOn:1})),"data-testid":"button-today",children:"Hoje"})]})]}),t.jsx(te,{children:t.jsx("div",{className:"grid grid-cols-7 gap-2",children:F.map((R,q)=>{const Q=E(R),K=S(R),U=Vg(R,new Date);return t.jsxs("div",{className:`min-h-[200px] border rounded-md p-2 ${U?"border-primary bg-primary/5":"border-border"}`,children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[t.jsx("div",{className:`text-sm font-medium ${U?"text-primary":""}`,children:Yt(R,"EEE",{locale:Jn})}),t.jsx("div",{className:`text-lg font-bold ${U?"text-primary":""}`,children:Yt(R,"d")})]}),t.jsxs("div",{className:"space-y-1",children:[K.map(O=>{const I=k(O.dataValidade),G=I!==null&&I<0,M=I!==null&&I<=15;return t.jsxs("div",{className:`p-2 rounded-md text-xs ${G?"bg-destructive/20":M?"bg-amber-500/20":"bg-orange-500/10"}`,"data-testid":`attachment-expiry-${O.id}`,children:[t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[t.jsx(Sc,{className:`h-3 w-3 ${G?"text-destructive":M?"text-amber-600":"text-orange-600"}`}),t.jsx("span",{className:"font-medium truncate",children:T(O.categoria)})]}),t.jsx("div",{className:"text-muted-foreground truncate",children:O.nome}),t.jsx(Ee,{variant:G?"destructive":"secondary",className:"mt-1 text-xs",children:G?"Vencido":"Vence"})]},`att-${O.id}`)}),Q.map(O=>{const I=Y(O.eventType);return t.jsxs("div",{className:"p-2 rounded-md bg-muted hover-elevate cursor-pointer text-xs group relative",onClick:()=>b(O),"data-testid":`event-card-${O.id}`,children:[t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${I.color}`}),t.jsx("span",{className:"font-medium truncate flex-1",children:O.title}),t.jsx(H,{size:"icon",variant:"ghost",className:"h-5 w-5 invisible group-hover:visible",onClick:G=>{G.stopPropagation(),j.mutate(O.id)},disabled:j.isPending,"data-testid":`button-sync-google-${O.id}`,children:t.jsx(LS,{className:"h-3 w-3"})})]}),O.startDate&&t.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[t.jsx(Ai,{className:"h-3 w-3"}),Yt(new Date(O.startDate),"HH:mm")]}),z(O.clientId)&&t.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mt-1",children:[t.jsx(hn,{className:"h-3 w-3"}),t.jsx("span",{className:"truncate",children:z(O.clientId)})]})]},O.id)}),t.jsx(H,{variant:"ghost",size:"sm",className:"w-full h-6 text-xs opacity-0 hover:opacity-100 transition-opacity",onClick:()=>y(R),"data-testid":`button-add-event-${Yt(R,"yyyy-MM-dd")}`,children:t.jsx(ut,{className:"h-3 w-3"})})]})]},q)})})})]}),t.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[bg.map(R=>t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${R.color}`}),t.jsx("span",{className:"text-muted-foreground",children:R.label})]},R.value)),t.jsxs("div",{className:"flex items-center gap-2 text-sm ml-4 pl-4 border-l",children:[t.jsx(Sc,{className:"h-3 w-3 text-amber-600"}),t.jsx("span",{className:"text-muted-foreground",children:"Vencimento de Documento"})]})]})]})})}const XC=[{value:"low",label:"Baixa",color:"secondary"},{value:"medium",label:"Mdia",color:"default"},{value:"high",label:"Alta",color:"destructive"},{value:"urgent",label:"Urgente",color:"destructive"}],zF=[{value:"pending",label:"Pendente"},{value:"in_progress",label:"Em Andamento"},{value:"completed",label:"Concluida"},{value:"cancelled",label:"Cancelada"}];function tPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState("all"),[l,d]=w.useState({title:"",description:"",priority:"medium",status:"pending",dueDate:"",assignedTo:"",projectId:""}),{data:u,isLoading:f}=Ve({queryKey:["/api/tasks"]}),{data:h}=Ve({queryKey:["/api/projects"]}),p=Ae({mutationFn:async T=>(await Ne("POST","/api/tasks",T)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/tasks"]}),e({title:"Tarefa criada com sucesso"}),g(),r(!1)},onError:()=>{e({title:"Erro ao criar tarefa",variant:"destructive"})}}),v=Ae({mutationFn:async({id:T,data:z})=>(await Ne("PATCH",`/api/tasks/${T}`,z)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/tasks"]}),e({title:"Tarefa atualizada com sucesso"}),g(),r(!1)},onError:()=>{e({title:"Erro ao atualizar tarefa",variant:"destructive"})}}),N=Ae({mutationFn:async T=>{await Ne("DELETE",`/api/tasks/${T}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/tasks"]}),e({title:"Tarefa excluida com sucesso"})},onError:()=>{e({title:"Erro ao excluir tarefa",variant:"destructive"})}}),j=async T=>{const z=T.status==="completed"?"pending":"completed";v.mutate({id:T.id,data:{status:z}})},g=()=>{d({title:"",description:"",priority:"medium",status:"pending",dueDate:"",assignedTo:"",projectId:""}),s(null)},P=T=>{T.preventDefault();const z={title:l.title,description:l.description||null,priority:l.priority,status:l.status,dueDate:l.dueDate?new Date(l.dueDate).toISOString():null,assignedTo:l.assignedTo||null,projectId:l.projectId&&l.projectId!=="none"?parseInt(l.projectId):null,companyId:1};a?v.mutate({id:a.id,data:z}):p.mutate(z)},C=T=>{s(T),d({title:T.title,description:T.description||"",priority:T.priority||"medium",status:T.status||"pending",dueDate:T.dueDate?new Date(T.dueDate).toISOString().split("T")[0]:"",assignedTo:T.assignedTo||"",projectId:T.projectId?.toString()||""}),r(!0)},b=T=>XC.find(z=>z.value===T)||XC[1],y=T=>T?h?.find(z=>z.id===T)?.name:null,E=T=>{if(!T)return null;const z=new Date(T);return TK(z)&&!IF(z)?"overdue":IF(z)?"today":"upcoming"},S=u?.filter(T=>i==="all"?!0:T.status===i)||[],k={pending:S.filter(T=>T.status==="pending"||T.status==="in_progress"),completed:S.filter(T=>T.status==="completed"),cancelled:S.filter(T=>T.status==="cancelled")};return f?t.jsx(Ot,{title:"Tarefas",subtitle:"Gerencie suas atividades",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsx(Ot,{title:"Tarefas",subtitle:"Gerencie suas atividades",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-4 flex-wrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Oe,{value:i,onValueChange:o,children:[t.jsx(_e,{className:"w-[150px]","data-testid":"select-filter-status",children:t.jsx(Me,{placeholder:"Filtrar"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todas"}),zF.map(T=>t.jsx(ne,{value:T.value,children:T.label},T.value))]})]}),t.jsxs(bt,{open:n,onOpenChange:T=>{r(T),T||g()},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-new-task",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Tarefa"]})}),t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Tarefa":"Nova Tarefa"}),t.jsx(tn,{children:"Adicione uma nova atividade"})]}),t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"title",children:"Titulo"}),t.jsx(J,{id:"title",value:l.title,onChange:T=>d({...l,title:T.target.value}),placeholder:"O que precisa ser feito?",required:!0,"data-testid":"input-task-title"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"description",children:"Descrio"}),t.jsx(St,{id:"description",value:l.description,onChange:T=>d({...l,description:T.target.value}),placeholder:"Detalhes da tarefa",rows:3,"data-testid":"input-task-description"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"priority",children:"Prioridade"}),t.jsxs(Oe,{value:l.priority,onValueChange:T=>d({...l,priority:T}),children:[t.jsx(_e,{"data-testid":"select-priority",children:t.jsx(Me,{})}),t.jsx(Te,{children:XC.map(T=>t.jsx(ne,{value:T.value,children:T.label},T.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"status",children:"Status"}),t.jsxs(Oe,{value:l.status,onValueChange:T=>d({...l,status:T}),children:[t.jsx(_e,{"data-testid":"select-status",children:t.jsx(Me,{})}),t.jsx(Te,{children:zF.map(T=>t.jsx(ne,{value:T.value,children:T.label},T.value))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"dueDate",children:"Prazo"}),t.jsx(J,{id:"dueDate",type:"date",value:l.dueDate,onChange:T=>d({...l,dueDate:T.target.value}),"data-testid":"input-due-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"assignedTo",children:"Responsavel"}),t.jsx(J,{id:"assignedTo",value:l.assignedTo,onChange:T=>d({...l,assignedTo:T.target.value}),placeholder:"Nome do responsavel","data-testid":"input-assigned-to"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"projectId",children:"Projeto"}),t.jsxs(Oe,{value:l.projectId,onValueChange:T=>d({...l,projectId:T}),children:[t.jsx(_e,{"data-testid":"select-project",children:t.jsx(Me,{placeholder:"Selecione um projeto"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"none",children:"Nenhum"}),h?.map(T=>t.jsx(ne,{value:T.id.toString(),children:T.name},T.id))]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:p.isPending||v.isPending,"data-testid":"button-save-task",children:p.isPending||v.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):a?"Atualizar":"Salvar"})]})]})]})]})]})}),u?.length?t.jsxs("div",{className:"space-y-6",children:[k.pending.length>0&&t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(ev,{className:"h-5 w-5"}),"Pendentes"]}),t.jsxs(rt,{children:[k.pending.length," tarefa(s)"]})]}),t.jsx(te,{className:"space-y-2",children:k.pending.map(T=>{const z=b(T.priority),Y=E(T.dueDate);return t.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md border hover-elevate","data-testid":`task-card-${T.id}`,children:[t.jsx(fn,{checked:T.status==="completed",onCheckedChange:()=>j(T),"data-testid":`checkbox-task-${T.id}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"font-medium",children:T.title}),t.jsx(Ee,{variant:z.color,className:"text-xs",children:z.label}),T.status==="in_progress"&&t.jsx(Ee,{variant:"outline",className:"text-xs",children:"Em Andamento"}),y(T.projectId)&&t.jsx(Ee,{variant:"secondary",className:"text-xs",children:y(T.projectId)})]}),(T.dueDate||T.assignedTo)&&t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[T.dueDate&&t.jsxs("span",{className:`flex items-center gap-1 ${Y==="overdue"?"text-destructive":""}`,children:[t.jsx(ls,{className:"h-3 w-3"}),Yt(new Date(T.dueDate),"dd/MM/yyyy",{locale:Jn})]}),T.assignedTo&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ko,{className:"h-3 w-3"}),T.assignedTo]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>C(T),"data-testid":`button-edit-task-${T.id}`,children:t.jsx(YE,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>N.mutate(T.id),"data-testid":`button-delete-task-${T.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]},T.id)})})]}),k.completed.length>0&&t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{className:"flex items-center gap-2 text-muted-foreground",children:"Concluidas"}),t.jsxs(rt,{children:[k.completed.length," tarefa(s)"]})]}),t.jsx(te,{className:"space-y-2",children:k.completed.map(T=>t.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md border opacity-60","data-testid":`task-card-${T.id}`,children:[t.jsx(fn,{checked:!0,onCheckedChange:()=>j(T),"data-testid":`checkbox-task-${T.id}`}),t.jsx("span",{className:"flex-1 line-through text-muted-foreground",children:T.title}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>N.mutate(T.id),"data-testid":`button-delete-task-${T.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]},T.id))})]})]}):t.jsxs(ee,{className:"p-12 text-center",children:[t.jsx(ev,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma tarefa registrada"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie sua primeira tarefa para organizar suas atividades"}),t.jsxs(H,{onClick:()=>r(!0),children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Criar Primeira Tarefa"]})]})]})})}const ZC=[{value:"planning",label:"Planejamento",color:"secondary"},{value:"active",label:"Ativo",color:"default"},{value:"on_hold",label:"Em Pausa",color:"outline"},{value:"completed",label:"Concluido",color:"default"},{value:"cancelled",label:"Cancelado",color:"destructive"}];function nPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({name:"",description:"",status:"planning",startDate:"",endDate:"",clientId:""}),{data:l,isLoading:d}=Ve({queryKey:["/api/projects"]}),{data:u}=Ve({queryKey:["/api/tasks"]}),{data:f}=Ve({queryKey:["/api/clients"]}),h=Ae({mutationFn:async y=>(await Ne("POST","/api/projects",y)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/projects"]}),e({title:"Projeto criado com sucesso"}),N(),r(!1)},onError:()=>{e({title:"Erro ao criar projeto",variant:"destructive"})}}),p=Ae({mutationFn:async({id:y,data:E})=>(await Ne("PATCH",`/api/projects/${y}`,E)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/projects"]}),e({title:"Projeto atualizado com sucesso"}),N(),r(!1)},onError:()=>{e({title:"Erro ao atualizar projeto",variant:"destructive"})}}),v=Ae({mutationFn:async y=>{await Ne("DELETE",`/api/projects/${y}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/projects"]}),e({title:"Projeto excluido com sucesso"})},onError:()=>{e({title:"Erro ao excluir projeto",variant:"destructive"})}}),N=()=>{o({name:"",description:"",status:"planning",startDate:"",endDate:"",clientId:""}),s(null)},j=y=>{y.preventDefault();const E={name:i.name,description:i.description||null,status:i.status,startDate:i.startDate?new Date(i.startDate).toISOString():null,endDate:i.endDate?new Date(i.endDate).toISOString():null,clientId:i.clientId&&i.clientId!=="none"?parseInt(i.clientId):null,companyId:1};a?p.mutate({id:a.id,data:E}):h.mutate(E)},g=y=>{s(y),o({name:y.name,description:y.description||"",status:y.status||"planning",startDate:y.startDate?new Date(y.startDate).toISOString().split("T")[0]:"",endDate:y.endDate?new Date(y.endDate).toISOString().split("T")[0]:"",clientId:y.clientId?.toString()||""}),r(!0)},P=y=>ZC.find(E=>E.value===y)||ZC[0],C=y=>u?.filter(E=>E.projectId===y)||[],b=y=>{const E=C(y);if(E.length===0)return 0;const S=E.filter(k=>k.status==="completed").length;return Math.round(S/E.length*100)};return d?t.jsx(Ot,{title:"Projetos",subtitle:"Acompanhe seus projetos",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsx(Ot,{title:"Projetos",subtitle:"Acompanhe seus projetos",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-4 flex-wrap",children:t.jsxs(bt,{open:n,onOpenChange:y=>{r(y),y||N()},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-new-project",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Projeto"]})}),t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Projeto":"Novo Projeto"}),t.jsx(tn,{children:"Crie um novo projeto para organizar tarefas"})]}),t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"name",children:"Nome do Projeto"}),t.jsx(J,{id:"name",value:i.name,onChange:y=>o({...i,name:y.target.value}),placeholder:"Ex: Implementacao do CRM",required:!0,"data-testid":"input-project-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"description",children:"Descrio"}),t.jsx(St,{id:"description",value:i.description,onChange:y=>o({...i,description:y.target.value}),placeholder:"Descreva os objetivos do projeto",rows:3,"data-testid":"input-project-description"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"status",children:"Status"}),t.jsxs(Oe,{value:i.status,onValueChange:y=>o({...i,status:y}),children:[t.jsx(_e,{"data-testid":"select-status",children:t.jsx(Me,{})}),t.jsx(Te,{children:ZC.map(y=>t.jsx(ne,{value:y.value,children:y.label},y.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"startDate",children:"Data Inicio"}),t.jsx(J,{id:"startDate",type:"date",value:i.startDate,onChange:y=>o({...i,startDate:y.target.value}),"data-testid":"input-start-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"endDate",children:"Data Fim"}),t.jsx(J,{id:"endDate",type:"date",value:i.endDate,onChange:y=>o({...i,endDate:y.target.value}),"data-testid":"input-end-date"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"clientId",children:"Cliente (opcional)"}),t.jsx(Mp,{clients:f||[],value:i.clientId,onValueChange:y=>o({...i,clientId:y}),placeholder:"Buscar cliente...",allowNone:!0,showAddButton:!0,"data-testid":"select-client"})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:h.isPending||p.isPending,"data-testid":"button-save-project",children:h.isPending||p.isPending?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):a?"Atualizar":"Salvar"})]})]})]})]})}),l?.length?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(y=>{const E=P(y.status),S=C(y.id),k=b(y.id),T=S.filter(z=>z.status==="completed").length;return t.jsxs(ee,{className:"hover-elevate","data-testid":`project-card-${y.id}`,children:[t.jsxs(de,{className:"pb-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx(ue,{className:"text-lg",children:y.name}),t.jsx(Ee,{variant:E.color,children:E.label})]}),y.description&&t.jsx(rt,{className:"line-clamp-2",children:y.description})]}),t.jsxs(te,{className:"space-y-4",children:[S.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),t.jsxs("span",{className:"font-medium",children:[k,"%"]})]}),t.jsx(Ku,{value:k,className:"h-2"}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ar,{className:"h-3 w-3"}),T," concluida(s)"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ev,{className:"h-3 w-3"}),S.length," total"]})]})]}),(y.startDate||y.endDate)&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsx(ls,{className:"h-3 w-3"}),y.startDate&&Yt(new Date(y.startDate),"dd/MM/yy",{locale:Jn}),y.startDate&&y.endDate&&" - ",y.endDate&&Yt(new Date(y.endDate),"dd/MM/yy",{locale:Jn})]})]}),t.jsx(hi,{className:"pt-0",children:t.jsxs("div",{className:"flex items-center gap-1 w-full justify-end",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>g(y),"data-testid":`button-edit-project-${y.id}`,children:t.jsx(YE,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>v.mutate(y.id),"data-testid":`button-delete-project-${y.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},y.id)})}):t.jsxs(ee,{className:"p-12 text-center",children:[t.jsx(ap,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum projeto registrado"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie seu primeiro projeto para organizar suas iniciativas"}),t.jsxs(H,{onClick:()=>r(!0),children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Projeto"]})]})]})})}const qF=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amap"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Cear"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Esprito Santo"},{value:"GO",label:"Gois"},{value:"MA",label:"Maranho"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Par"},{value:"PB",label:"Paraba"},{value:"PR",label:"Paran"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piau"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondnia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"So Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}],rPe=[{id:"alimentosBebidas",label:"Alimentos, Bebidas e Perecveis"},{id:"automobilistica",label:"Automobilstica"},{id:"construcaoCivil",label:"Construo Civil"},{id:"combustiveis",label:"Combustveis e Lubrificantes"},{id:"quimicos",label:"Qumicos e Petroqumicos"},{id:"vidros",label:"Vidros"},{id:"agronegocio",label:"Agronegcio"},{id:"eletrodomesticos",label:"Eletrodomsticos e Eletrnicos"},{id:"farmaceutica",label:"Farmacutica e Hospitalar"},{id:"metalurgia",label:"Ferro, Ao e Metalurgia"},{id:"madeiras",label:"Madeiras"},{id:"papelCelulose",label:"Papel e Celulose"},{id:"residuos",label:"Resduos"},{id:"liquidosGranel",label:"Outros Lquidos a Granel"},{id:"solidosGranel",label:"Outros Slidos a Granel"}],aPe=[{id:"aereo",label:"Areo"},{id:"cabotagem",label:"Cabotagem"},{id:"ferroviario",label:"Ferrovirio"},{id:"fluvial",label:"Fluvial"},{id:"rodoviario",label:"Rodovirio"},{id:"multimodal",label:"Multimodal"}],sPe=[{id:"seca",label:"Seca"},{id:"perigosa",label:"Perigosa"},{id:"isotermica",label:"Isotrmica"},{id:"refrigerada",label:"Refrigerada"},{id:"congelada",label:"Congelada"}],iPe=[{id:"transferencia",label:"Transferncia"},{id:"distribuioUrbana",label:"Distribuio Urbana"},{id:"distribuioFracionada",label:"Distribuio Fracionada"},{id:"crossDocking",label:"Cross Docking / Transit Point"},{id:"frotaDedicada",label:"Frota Dedicada"},{id:"milkRun",label:"Milk Run"},{id:"circuitosEstaticos",label:"Circuitos Estticos"}],oPe=["VUC","3/4","Toco","Truck","Carreta","Bitrem","Rodotrem","Tanque","Sider","Ba","Graneleiro"],JC={razaoSocial:"",nomeFantasia:"",cnpj:"",endereo:"",bairro:"",cep:"",cidade:"",estado:"",contato:"",telefone:"",email:"",site:"",ramoAtividade:"",inicioAtividades:"",faturamentoAnual:{},unidades:[],fornecedores:[],concorrentes:[],principaisClientes:[],linhaProdutos:"",frequenciaColeta:"",procedimentosEmbarque:"",coberturaRegional:{},detalhesRegionais:[{regiao:"Sul",prazo:"",valorMedio:"",volumeMedio:""},{regiao:"Sudeste",prazo:"",valorMedio:"",volumeMedio:""},{regiao:"Centro-Oeste",prazo:"",valorMedio:"",volumeMedio:""},{regiao:"Nordeste",prazo:"",valorMedio:"",volumeMedio:""},{regiao:"Norte",prazo:"",valorMedio:"",volumeMedio:""}],permiteTerceirizacao:!1,tiposVeiculos:{},perfilVeiculos:{},disponibilizaXml:!1,prazoPagamento:"",segmentosAtuacao:{},modaisAtuacao:{},tiposAcondicionamento:{},tiposOperacao:{},frota:[],responsavelPreenchimento:"",cargoResponsavel:"",telefoneResponsavel:"",emailResponsavel:"",observaes:"",status:"draft"};function lPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(JC),[l,d]=w.useState("dados"),[u,f]=w.useState(!1),[h,p]=w.useState(!1),v=async()=>{const O=i.cnpj.replace(/[^\d]/g,"");if(O.length===14){f(!0),p(!1);try{const I=await fetch(`/api/cnpj/${O}`);if(I.ok){const G=await I.json();o(M=>({...M,razaoSocial:G.razaoSocial||M.razaoSocial,nomeFantasia:G.nomeFantasia||M.nomeFantasia})),p(!0),e({title:"Dados encontrados na Receita Federal"})}else e({title:"CNPJ nao encontrado",variant:"destructive"})}catch{e({title:"Erro ao consultar CNPJ",variant:"destructive"})}finally{f(!1)}}},{data:N=[],isLoading:j}=Ve({queryKey:["/api/rfis"]}),g=Ae({mutationFn:async O=>(await Ne("POST","/api/rfis",O)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/rfis"]}),e({title:"RFI criado com sucesso"}),r(!1),b()},onError:()=>{e({title:"Erro ao criar RFI",variant:"destructive"})}}),P=Ae({mutationFn:async({id:O,data:I})=>(await Ne("PATCH",`/api/rfis/${O}`,I)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/rfis"]}),e({title:"RFI atualizado com sucesso"}),r(!1),b()},onError:()=>{e({title:"Erro ao atualizar RFI",variant:"destructive"})}}),C=Ae({mutationFn:async O=>{await Ne("DELETE",`/api/rfis/${O}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/rfis"]}),e({title:"RFI excludo com sucesso"})},onError:()=>{e({title:"Erro ao excluir RFI",variant:"destructive"})}}),b=()=>{o(JC),s(null),d("dados")},y=()=>{b(),r(!0)},E=O=>{s(O),o({razaoSocial:O.razaoSocial||"",nomeFantasia:O.nomeFantasia||"",cnpj:O.cnpj||"",endereo:O.endereo||"",bairro:O.bairro||"",cep:O.cep||"",cidade:O.cidade||"",estado:O.estado||"",contato:O.contato||"",telefone:O.telefone||"",email:O.email||"",site:O.site||"",ramoAtividade:O.ramoAtividade||"",inicioAtividades:O.inicioAtividades||"",faturamentoAnual:O.faturamentoAnual||{},unidades:O.unidades||[],fornecedores:O.fornecedores||[],concorrentes:O.concorrentes||[],principaisClientes:O.principaisClientes||[],linhaProdutos:O.linhaProdutos||"",frequenciaColeta:O.frequenciaColeta||"",procedimentosEmbarque:O.procedimentosEmbarque||"",coberturaRegional:O.coberturaRegional||{},detalhesRegionais:O.detalhesRegionais||JC.detalhesRegionais,permiteTerceirizacao:O.permiteTerceirizacao||!1,tiposVeiculos:O.tiposVeiculos||{},perfilVeiculos:O.perfilVeiculos||{},disponibilizaXml:O.disponibilizaXml||!1,prazoPagamento:O.prazoPagamento||"",segmentosAtuacao:O.segmentosAtuacao||{},modaisAtuacao:O.modaisAtuacao||{},tiposAcondicionamento:O.tiposAcondicionamento||{},tiposOperacao:O.tiposOperacao||{},frota:O.frota||[],responsavelPreenchimento:O.responsavelPreenchimento||"",cargoResponsavel:O.cargoResponsavel||"",telefoneResponsavel:O.telefoneResponsavel||"",emailResponsavel:O.emailResponsavel||"",observaes:O.observaes||"",status:O.status||"draft"}),r(!0)},S=()=>{if(!i.razaoSocial){e({title:"Razo Social  obrigatria",variant:"destructive"});return}a?P.mutate({id:a.id,data:i}):g.mutate(i)},k=()=>{o(O=>({...O,unidades:[...O.unidades,{local:"",endereo:"",telefone:"",contato:""}]}))},T=O=>{o(I=>({...I,unidades:I.unidades.filter((G,M)=>M!==O)}))},z=()=>{o(O=>({...O,fornecedores:[...O.fornecedores,{nome:"",ramoAtuacao:""}]}))},Y=O=>{o(I=>({...I,fornecedores:I.fornecedores.filter((G,M)=>M!==O)}))},F=()=>{o(O=>({...O,concorrentes:[...O.concorrentes,{nome:""}]}))},D=O=>{o(I=>({...I,concorrentes:I.concorrentes.filter((G,M)=>M!==O)}))},R=()=>{o(O=>({...O,principaisClientes:[...O.principaisClientes,{nome:"",percentualFaturamento:"",segmento:""}]}))},q=O=>{o(I=>({...I,principaisClientes:I.principaisClientes.filter((G,M)=>M!==O)}))},Q=()=>{o(O=>({...O,frota:[...O.frota,{tipoVeiculo:"",quantidade:"",idadeMedia:""}]}))},K=O=>{o(I=>({...I,frota:I.frota.filter((G,M)=>M!==O)}))},U=O=>{switch(O){case"completed":return t.jsxs(Ee,{variant:"default",children:[t.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Completo"]});case"submitted":return t.jsxs(Ee,{variant:"secondary",children:[t.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Enviado"]});default:return t.jsxs(Ee,{variant:"outline",children:[t.jsx(Ai,{className:"w-3 h-3 mr-1"}),"Rascunho"]})}};return t.jsx(Ot,{title:"RFI - Request for Information",subtitle:"Cadastro tcnico para participao em BIDs",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Xt,{className:"w-6 h-6"}),"RFI - Request for Information"]}),t.jsx("p",{className:"text-muted-foreground",children:"Cadastro tcnico da empresa para participao em BIDs e licitaes"})]}),t.jsxs(H,{onClick:y,"data-testid":"button-new-rfi",children:[t.jsx(ut,{className:"w-4 h-4 mr-2"}),"Novo RFI"]})]}),j?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(cn,{className:"w-8 h-8 animate-spin"})}):N.length===0?t.jsx(ee,{children:t.jsxs(te,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Xt,{className:"w-12 h-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum RFI cadastrado"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Crie seu primeiro RFI para participar de licitaes e BIDs"}),t.jsxs(H,{onClick:y,children:[t.jsx(ut,{className:"w-4 h-4 mr-2"}),"Criar RFI"]})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.map(O=>t.jsxs(ee,{className:"hover-elevate",children:[t.jsx(de,{className:"pb-2",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(ue,{className:"text-lg truncate",children:O.razaoSocial}),O.nomeFantasia&&t.jsx(rt,{className:"truncate",children:O.nomeFantasia})]}),U(O.status||"draft")]})}),t.jsxs(te,{children:[t.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[O.cnpj&&t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"w-4 h-4"}),O.cnpj]}),O.cidade&&O.estado&&t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx(Ac,{className:"w-4 h-4"}),O.cidade," - ",O.estado]}),O.ramoAtividade&&t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"w-4 h-4"}),O.ramoAtividade]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>E(O),"data-testid":`button-edit-rfi-${O.id}`,children:[t.jsx(nv,{className:"w-4 h-4 mr-1"}),"Editar"]}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>C.mutate(O.id),"data-testid":`button-delete-rfi-${O.id}`,children:t.jsx(Mt,{className:"w-4 h-4"})})]})]})]},O.id))}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar RFI":"Novo RFI"})}),t.jsxs(js,{value:l,onValueChange:d,className:"flex-1 flex flex-col overflow-hidden",children:[t.jsxs(qa,{className:"grid grid-cols-5 w-full",children:[t.jsx(Jt,{value:"dados","data-testid":"tab-dados",children:"Dados"}),t.jsx(Jt,{value:"estrutura","data-testid":"tab-estrutura",children:"Estrutura"}),t.jsx(Jt,{value:"escopo","data-testid":"tab-escopo",children:"Escopo"}),t.jsx(Jt,{value:"frota","data-testid":"tab-frota",children:"Frota"}),t.jsx(Jt,{value:"responsvel","data-testid":"tab-responsavel",children:"Responsvel"})]}),t.jsxs(zc,{className:"flex-1 pr-4",children:[t.jsxs(en,{value:"dados",className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(nn,{className:"w-4 h-4"}),"Dados Cadastrais"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ/CPF"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx(dm,{value:i.cnpj,onChange:O=>{o(I=>({...I,cnpj:O})),p(!1)},label:"","data-testid":"input-rfi-cnpj"})}),t.jsx(H,{type:"button",variant:"outline",onClick:v,disabled:u||!i.cnpj||i.cnpj.replace(/[^\d]/g,"").length!==14,"data-testid":"button-rfi-cnpj-lookup",children:u?t.jsx(cn,{className:"h-4 w-4 animate-spin"}):h?t.jsx(Ar,{className:"h-4 w-4 text-green-500"}):t.jsx(ca,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o CNPJ e clique na lupa para buscar dados automaticamente"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Razao Social *"}),t.jsx(J,{value:i.razaoSocial,onChange:O=>o(I=>({...I,razaoSocial:O.target.value})),placeholder:"Razao Social da empresa","data-testid":"input-razao-social"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome Fantasia"}),t.jsx(J,{value:i.nomeFantasia,onChange:O=>o(I=>({...I,nomeFantasia:O.target.value})),placeholder:"Nome Fantasia","data-testid":"input-nome-fantasia"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ramo de Atividade"}),t.jsx(J,{value:i.ramoAtividade,onChange:O=>o(I=>({...I,ramoAtividade:O.target.value})),placeholder:"Ex: Transporte Rodovirio","data-testid":"input-ramo-atividade"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Inicio das Atividades"}),t.jsx(J,{value:i.inicioAtividades,onChange:O=>o(I=>({...I,inicioAtividades:O.target.value})),placeholder:"Ex: 2010","data-testid":"input-inicio-atividades"})]})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Site"}),t.jsx(J,{value:i.site,onChange:O=>o(I=>({...I,site:O.target.value})),placeholder:"www.exemplo.com.br","data-testid":"input-site"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Ac,{className:"w-4 h-4"}),"Endereo"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Endereo"}),t.jsx(J,{value:i.endereo,onChange:O=>o(I=>({...I,endereo:O.target.value})),placeholder:"Rua, nmero, complemento","data-testid":"input-endereo"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Bairro"}),t.jsx(J,{value:i.bairro,onChange:O=>o(I=>({...I,bairro:O.target.value})),placeholder:"Bairro","data-testid":"input-bairro"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CEP"}),t.jsx(J,{value:i.cep,onChange:O=>o(I=>({...I,cep:O.target.value})),placeholder:"00000-000","data-testid":"input-cep"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cidade"}),t.jsx(J,{value:i.cidade,onChange:O=>o(I=>({...I,cidade:O.target.value})),placeholder:"Cidade","data-testid":"input-cidade"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Estado"}),t.jsxs(Oe,{value:i.estado,onValueChange:O=>o(I=>({...I,estado:O})),children:[t.jsx(_e,{"data-testid":"select-estado",children:t.jsx(Me,{placeholder:"Selecione o estado"})}),t.jsx(Te,{children:qF.map(O=>t.jsx(ne,{value:O.value,children:O.label},O.value))})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4"}),"Contato"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do Contato"}),t.jsx(J,{value:i.contato,onChange:O=>o(I=>({...I,contato:O.target.value})),placeholder:"Nome do contato principal","data-testid":"input-contato"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Telefone"}),t.jsx(J,{value:i.telefone,onChange:O=>o(I=>({...I,telefone:O.target.value})),placeholder:"(00) 00000-0000","data-testid":"input-telefone"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"E-mail"}),t.jsx(J,{value:i.email,onChange:O=>o(I=>({...I,email:O.target.value})),placeholder:"email@empresa.com.br","data-testid":"input-email"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(ba,{className:"w-4 h-4"}),"Faturamento Anual"]}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:["2021","2022","2023","2024"].map(O=>t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:O}),t.jsx(J,{value:i.faturamentoAnual[O]||"",onChange:I=>o(G=>({...G,faturamentoAnual:{...G.faturamentoAnual,[O]:I.target.value}})),placeholder:"R$ 0,00","data-testid":`input-faturamento-${O}`})]},O))})]})]}),t.jsxs(en,{value:"estrutura",className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(nn,{className:"w-4 h-4"}),"Unidades / Filiais"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:k,"data-testid":"button-add-unidade",children:[t.jsx(ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),i.unidades.map((O,I)=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-end",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Local"}),t.jsx(J,{value:O.local,onChange:G=>{const M=[...i.unidades];M[I].local=G.target.value,o(V=>({...V,unidades:M}))},placeholder:"Nome da unidade"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Endereo"}),t.jsx(J,{value:O.endereo,onChange:G=>{const M=[...i.unidades];M[I].endereo=G.target.value,o(V=>({...V,unidades:M}))},placeholder:"Endereo"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Telefone"}),t.jsx(J,{value:O.telefone,onChange:G=>{const M=[...i.unidades];M[I].telefone=G.target.value,o(V=>({...V,unidades:M}))},placeholder:"Telefone"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{value:O.contato,onChange:G=>{const M=[...i.unidades];M[I].contato=G.target.value,o(V=>({...V,unidades:M}))},placeholder:"Contato"}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>T(I),children:t.jsx(Mt,{className:"w-4 h-4"})})]})]},I))]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Er,{className:"w-4 h-4"}),"Principais Fornecedores"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:z,"data-testid":"button-add-fornecedor",children:[t.jsx(ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),i.fornecedores.map((O,I)=>t.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome"}),t.jsx(J,{value:O.nome,onChange:G=>{const M=[...i.fornecedores];M[I].nome=G.target.value,o(V=>({...V,fornecedores:M}))},placeholder:"Nome do fornecedor"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Ramo de Atuao"}),t.jsx(J,{value:O.ramoAtuacao,onChange:G=>{const M=[...i.fornecedores];M[I].ramoAtuacao=G.target.value,o(V=>({...V,fornecedores:M}))},placeholder:"Ramo de atuao"})]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>Y(I),children:t.jsx(Mt,{className:"w-4 h-4"})})]},I))]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("h3",{className:"font-semibold",children:"Principais Concorrentes"}),t.jsxs(H,{variant:"outline",size:"sm",onClick:F,"data-testid":"button-add-concorrente",children:[t.jsx(ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),i.concorrentes.map((O,I)=>t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome"}),t.jsx(J,{value:O.nome,onChange:G=>{const M=[...i.concorrentes];M[I].nome=G.target.value,o(V=>({...V,concorrentes:M}))},placeholder:"Nome do concorrente"})]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>D(I),children:t.jsx(Mt,{className:"w-4 h-4"})})]},I))]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4"}),"Principais Clientes"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:R,"data-testid":"button-add-cliente",children:[t.jsx(ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),i.principaisClientes.map((O,I)=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-end",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Nome"}),t.jsx(J,{value:O.nome,onChange:G=>{const M=[...i.principaisClientes];M[I].nome=G.target.value,o(V=>({...V,principaisClientes:M}))},placeholder:"Nome do cliente"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"% Faturamento"}),t.jsx(J,{value:O.percentualFaturamento,onChange:G=>{const M=[...i.principaisClientes];M[I].percentualFaturamento=G.target.value,o(V=>({...V,principaisClientes:M}))},placeholder:"Ex: 15%"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Segmento"}),t.jsx(J,{value:O.segmento,onChange:G=>{const M=[...i.principaisClientes];M[I].segmento=G.target.value,o(V=>({...V,principaisClientes:M}))},placeholder:"Segmento"})]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>q(I),children:t.jsx(Mt,{className:"w-4 h-4"})})]},I))]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Descrio dos Servios"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Linha de Produtos/Servios"}),t.jsx(St,{value:i.linhaProdutos,onChange:O=>o(I=>({...I,linhaProdutos:O.target.value})),placeholder:"Descreva a linha de produtos/servios oferecidos",rows:3,"data-testid":"textarea-linha-produtos"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Frequncia de Coleta"}),t.jsx(St,{value:i.frequenciaColeta,onChange:O=>o(I=>({...I,frequenciaColeta:O.target.value})),placeholder:"Descreva a frequncia de disponibilidade de coleta",rows:3,"data-testid":"textarea-frequencia-coleta"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Procedimentos de Embarque/Entrega"}),t.jsx(St,{value:i.procedimentosEmbarque,onChange:O=>o(I=>({...I,procedimentosEmbarque:O.target.value})),placeholder:"Descreva os procedimentos de embarque e entrega",rows:3,"data-testid":"textarea-procedimentos-embarque"})]})]})]}),t.jsxs(en,{value:"escopo",className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(PS,{className:"w-4 h-4"}),"Cobertura Regional"]}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:qF.map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`state-${O.value}`,checked:i.coberturaRegional[O.value]||!1,onCheckedChange:I=>o(G=>({...G,coberturaRegional:{...G.coberturaRegional,[O.value]:!!I}}))}),t.jsx(B,{htmlFor:`state-${O.value}`,className:"text-sm cursor-pointer",children:O.label})]},O.value))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Detalhes por Regio"}),t.jsx("div",{className:"space-y-3",children:i.detalhesRegionais.map((O,I)=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[t.jsx("span",{className:"font-medium",children:O.regiao}),t.jsx(J,{value:O.prazo,onChange:G=>{const M=[...i.detalhesRegionais];M[I].prazo=G.target.value,o(V=>({...V,detalhesRegionais:M}))},placeholder:"Prazo (dias)"}),t.jsx(J,{value:O.valorMedio,onChange:G=>{const M=[...i.detalhesRegionais];M[I].valorMedio=G.target.value,o(V=>({...V,detalhesRegionais:M}))},placeholder:"Valor Mdio"}),t.jsx(J,{value:O.volumeMedio,onChange:G=>{const M=[...i.detalhesRegionais];M[I].volumeMedio=G.target.value,o(V=>({...V,detalhesRegionais:M}))},placeholder:"Volume Mdio"})]},I))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Segmentos de Atuao"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:rPe.map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`segmento-${O.id}`,checked:i.segmentosAtuacao[O.id]||!1,onCheckedChange:I=>o(G=>({...G,segmentosAtuacao:{...G.segmentosAtuacao,[O.id]:!!I}}))}),t.jsx(B,{htmlFor:`segmento-${O.id}`,className:"text-sm cursor-pointer",children:O.label})]},O.id))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Modal de Atuao"}),t.jsx("div",{className:"space-y-2",children:aPe.map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`modal-${O.id}`,checked:i.modaisAtuacao[O.id]||!1,onCheckedChange:I=>o(G=>({...G,modaisAtuacao:{...G.modaisAtuacao,[O.id]:!!I}}))}),t.jsx(B,{htmlFor:`modal-${O.id}`,className:"text-sm cursor-pointer",children:O.label})]},O.id))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Tipo de Acondicionamento"}),t.jsx("div",{className:"space-y-2",children:sPe.map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`acond-${O.id}`,checked:i.tiposAcondicionamento[O.id]||!1,onCheckedChange:I=>o(G=>({...G,tiposAcondicionamento:{...G.tiposAcondicionamento,[O.id]:!!I}}))}),t.jsx(B,{htmlFor:`acond-${O.id}`,className:"text-sm cursor-pointer",children:O.label})]},O.id))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Tipo de Operao"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:iPe.map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`operacao-${O.id}`,checked:i.tiposOperacao[O.id]||!1,onCheckedChange:I=>o(G=>({...G,tiposOperacao:{...G.tiposOperacao,[O.id]:!!I}}))}),t.jsx(B,{htmlFor:`operacao-${O.id}`,className:"text-sm cursor-pointer",children:O.label})]},O.id))})]})]}),t.jsxs(en,{value:"frota",className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Requisitos Operacionais"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"permite-terceirizacao",checked:i.permiteTerceirizacao,onCheckedChange:O=>o(I=>({...I,permiteTerceirizacao:!!O}))}),t.jsx(B,{htmlFor:"permite-terceirizacao",className:"cursor-pointer",children:"Permite Terceirizao de Mo de Obra e/ou Veculo"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"disponibiliza-xml",checked:i.disponibilizaXml,onCheckedChange:O=>o(I=>({...I,disponibilizaXml:!!O}))}),t.jsx(B,{htmlFor:"disponibiliza-xml",className:"cursor-pointer",children:"Disponibiliza XML da NF"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Prazo de Pagamento do Frete"}),t.jsxs(Oe,{value:i.prazoPagamento,onValueChange:O=>o(I=>({...I,prazoPagamento:O})),children:[t.jsx(_e,{"data-testid":"select-prazo-pagamento",children:t.jsx(Me,{placeholder:"Selecione o prazo"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"30",children:"30 dias"}),t.jsx(ne,{value:"45",children:"45 dias"}),t.jsx(ne,{value:"60",children:"60 dias"}),t.jsx(ne,{value:"90",children:"90 dias"}),t.jsx(ne,{value:"120",children:"120 dias"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Tipos de Veculos"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"veiculo-climatizado",checked:i.tiposVeiculos.climatizado||!1,onCheckedChange:O=>o(I=>({...I,tiposVeiculos:{...I.tiposVeiculos,climatizado:!!O}}))}),t.jsx(B,{htmlFor:"veiculo-climatizado",className:"cursor-pointer",children:"Climatizado"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:"veiculo-seco",checked:i.tiposVeiculos.seco||!1,onCheckedChange:O=>o(I=>({...I,tiposVeiculos:{...I.tiposVeiculos,seco:!!O}}))}),t.jsx(B,{htmlFor:"veiculo-seco",className:"cursor-pointer",children:"Seco"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Perfil de Veculos"}),t.jsx("div",{className:"space-y-2",children:["3/4","Toco","Truck","Carreta"].map(O=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{id:`perfil-${O}`,checked:i.perfilVeiculos[O]||!1,onCheckedChange:I=>o(G=>({...G,perfilVeiculos:{...G.perfilVeiculos,[O]:!!I}}))}),t.jsx(B,{htmlFor:`perfil-${O}`,className:"cursor-pointer",children:O})]},O))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Nl,{className:"w-4 h-4"}),"Frota Prpria"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:Q,"data-testid":"button-add-frota",children:[t.jsx(ut,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),i.frota.map((O,I)=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-end",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Tipo de Veculo"}),t.jsxs(Oe,{value:O.tipoVeiculo,onValueChange:G=>{const M=[...i.frota];M[I].tipoVeiculo=G,o(V=>({...V,frota:M}))},children:[t.jsx(_e,{children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:oPe.map(G=>t.jsx(ne,{value:G,children:G},G))})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Quantidade"}),t.jsx(J,{value:O.quantidade,onChange:G=>{const M=[...i.frota];M[I].quantidade=G.target.value,o(V=>({...V,frota:M}))},placeholder:"Qtd"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Idade Mdia (anos)"}),t.jsx(J,{value:O.idadeMedia,onChange:G=>{const M=[...i.frota];M[I].idadeMedia=G.target.value,o(V=>({...V,frota:M}))},placeholder:"Anos"})]}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>K(I),children:t.jsx(Mt,{className:"w-4 h-4"})})]},I))]})]}),t.jsxs(en,{value:"responsvel",className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4"}),"Responsvel pelo Preenchimento"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome"}),t.jsx(J,{value:i.responsavelPreenchimento,onChange:O=>o(I=>({...I,responsavelPreenchimento:O.target.value})),placeholder:"Nome do responsvel","data-testid":"input-responsavel"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cargo"}),t.jsx(J,{value:i.cargoResponsavel,onChange:O=>o(I=>({...I,cargoResponsavel:O.target.value})),placeholder:"Cargo","data-testid":"input-cargo-responsavel"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Telefone"}),t.jsx(J,{value:i.telefoneResponsavel,onChange:O=>o(I=>({...I,telefoneResponsavel:O.target.value})),placeholder:"(00) 00000-0000","data-testid":"input-telefone-responsavel"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"E-mail"}),t.jsx(J,{value:i.emailResponsavel,onChange:O=>o(I=>({...I,emailResponsavel:O.target.value})),placeholder:"email@empresa.com.br","data-testid":"input-email-responsavel"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Status e Observaes"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Status"}),t.jsxs(Oe,{value:i.status,onValueChange:O=>o(I=>({...I,status:O})),children:[t.jsx(_e,{"data-testid":"select-status",children:t.jsx(Me,{placeholder:"Selecione o status"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"draft",children:"Rascunho"}),t.jsx(ne,{value:"completed",children:"Completo"}),t.jsx(ne,{value:"submitted",children:"Enviado"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Observaes"}),t.jsx(St,{value:i.observaes,onChange:O=>o(I=>({...I,observaes:O.target.value})),placeholder:"Observaes adicionais",rows:4,"data-testid":"textarea-observaes"})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsxs(H,{onClick:S,disabled:g.isPending||P.isPending,"data-testid":"button-save-rfi",children:[(g.isPending||P.isPending)&&t.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})})]})})}const cPe=[{title:"Dashboard",url:"/admin",icon:op},{title:"Finanas CEO",url:"/pessoal",icon:ko},{title:"Gesto Comercial",url:"/admin/comercial",icon:hn},{title:"Projetos",url:"/admin/projetos",icon:ap},{title:"Financeiro",url:"/admin/financeiro",icon:ba},{title:"Parcerias",url:"/admin/parcerias",icon:ip},{title:"Contedo",url:"/admin/conteudo",icon:Xt},{title:"Contratos Digitais",url:"/admin/contratos",icon:AS},{title:"Biblioteca Templates",url:"/admin/templates",icon:gc}],dPe=[{title:"Kit da Marca",url:"/admin/kit-marca",icon:Vy},{title:"Campanha Piloto",url:"/admin/campanha-piloto",icon:pu},{title:"Leads Diagnstico",url:"/admin/leads-diagnstico",icon:hn}],uPe=[{title:"Plano de Contas DRE",url:"/admin/dre",icon:Cc},{title:"Centros de Custo",url:"/admin/centros-custo",icon:nn},{title:"Contas Bancarias",url:"/admin/bancos",icon:Ec},{title:"Certificados Digitais",url:"/admin/certificados",icon:Hs},{title:"Lanamentos",url:"/admin/lanamentos",icon:Xt},{title:"Relatorio DRE",url:"/admin/relatorio-dre",icon:us}];function mPe({children:e}){const[n]=wa(),{user:r}=za(),a={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return t.jsx(SA,{style:a,children:t.jsxs("div",{className:"flex h-screen w-full",children:[t.jsxs(PA,{children:[t.jsx(AA,{className:"p-4 border-b border-border",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG",className:"h-8 w-8 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-sm leading-tight",children:"MCG Admin"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Gesto Interna"})]})]})}),t.jsxs(_A,{children:[t.jsxs(xi,{children:[t.jsx(Lg,{children:"Menu Principal"}),t.jsx(ro,{children:t.jsx(ao,{children:cPe.map(s=>t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:n===s.url||s.url!=="/admin"&&n.startsWith(s.url),"data-testid":s.url==="/pessoal"?"link-admin-pessoal":void 0,children:t.jsxs(it,{href:s.url,children:[t.jsx(s.icon,{className:"h-4 w-4"}),t.jsx("span",{children:s.title})]})})},s.title))})})]}),t.jsxs(xi,{children:[t.jsx(Lg,{children:"Marketing"}),t.jsx(ro,{children:t.jsx(ao,{children:dPe.map(s=>t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:n===s.url||n.startsWith(s.url),children:t.jsxs(it,{href:s.url,children:[t.jsx(s.icon,{className:"h-4 w-4"}),t.jsx("span",{children:s.title})]})})},s.title))})})]}),t.jsxs(xi,{children:[t.jsx(Lg,{children:"Config. Financeiras"}),t.jsx(ro,{children:t.jsx(ao,{children:uPe.map(s=>t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:n===s.url||n.startsWith(s.url),children:t.jsxs(it,{href:s.url,children:[t.jsx(s.icon,{className:"h-4 w-4"}),t.jsx("span",{children:s.title})]})})},s.title))})})]}),t.jsx(xi,{children:t.jsx(ro,{children:t.jsx(ao,{children:t.jsx(as,{children:t.jsx(ss,{asChild:!0,children:t.jsxs(it,{href:"/dashboard",children:[t.jsx(ia,{className:"h-4 w-4"}),t.jsx("span",{children:"Voltar ao Sistema"})]})})})})})})]}),t.jsx(kA,{className:"p-4 border-t border-border",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vp,{className:"h-8 w-8",children:t.jsxs(yp,{className:"text-xs",children:[r?.firstName?.[0],r?.lastName?.[0]||r?.email?.[0]?.toUpperCase()]})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:r?.firstName||r?.email}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Administrador"})]}),t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(it,{href:"/logout",children:t.jsx("button",{type:"button",className:"inline-flex items-center justify-center h-9 w-9 rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground","data-testid":"button-admin-logout",children:t.jsx(qy,{className:"h-4 w-4"})})})}),t.jsx(rs,{children:"Sair"})]})]})})]}),t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("header",{className:"flex items-center justify-between gap-2 p-3 border-b border-border bg-background",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(EA,{"data-testid":"button-admin-sidebar-toggle"})}),t.jsx(rs,{children:"Menu"})]}),t.jsx("h1",{className:"text-lg font-semibold",children:"ADMIN MCG"})]}),t.jsx(ja,{})]}),t.jsx("main",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:e})]})]})})}const fPe=[{name:"MCG Black",hex:"#0A0A0A",hsl:"0 0% 4%",usage:"Fundo escuro, textos principais"},{name:"MCG White",hex:"#FAFAFA",hsl:"0 0% 98%",usage:"Fundo claro, textos em modo escuro"},{name:"Technology Blue",hex:"#0EA5E9",hsl:"200 85% 45%",usage:"CTAs, destaques, links"},{name:"Technology Blue Light",hex:"#38BDF8",hsl:"200 85% 60%",usage:"Hover states, acentos"},{name:"Technology Blue Dark",hex:"#0284C7",hsl:"200 90% 40%",usage:"Active states"}],hPe=[{name:"Inter",usage:"Textos de interface (UI)",weights:"400, 500, 600, 700"},{name:"IBM Plex Sans",usage:"Titulos e headlines",weights:"500, 600, 700"},{name:"JetBrains Mono",usage:"Cdigo e dados tecnicos",weights:"400, 500"}];function pPe({isAdmin:e=!1}){const n=()=>{const s=document.createElement("a");s.href=Ir,s.download="mcg_logo_principal.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)},r=()=>{window.open("/api/brand-kit/manual","_blank")},a=t.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Kit da Marca MCG"}),t.jsx("p",{className:"text-muted-foreground",children:"Recursos e diretrizes da identidade visual MCG Consultoria"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(qZ,{className:"h-5 w-5"}),"Logotipo Principal"]}),t.jsx(rt,{children:"Use este logotipo em fundos claros e escuros"})]}),t.jsx(te,{children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"p-8 bg-muted rounded-lg flex items-center justify-center",children:t.jsx("img",{src:Ir,alt:"MCG Logo",className:"h-24 w-24 object-contain"})}),t.jsxs(H,{onClick:n,className:"w-full","data-testid":"button-download-logo",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Baixar Logo PNG"]})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Xt,{className:"h-5 w-5"}),"Manual de Identidade Visual"]}),t.jsx(rt,{children:"Guia completo de uso da marca MCG"})]}),t.jsx(te,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[t.jsx("li",{children:"Uso correto do logotipo"}),t.jsx("li",{children:"Paleta de cores oficial"}),t.jsx("li",{children:"Tipografia e fontes"}),t.jsx("li",{children:"Aplicacoes e exemplos"})]})}),t.jsxs(H,{onClick:r,variant:"outline",className:"w-full","data-testid":"button-download-manual",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Baixar Manual (PDF)"]})]})})]})]}),t.jsxs(ee,{className:"mt-6",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Vy,{className:"h-5 w-5"}),"Paleta de Cores"]}),t.jsx(rt,{children:"Cores oficiais da marca MCG"})]}),t.jsx(te,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:fPe.map(s=>t.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[t.jsx("div",{className:"w-12 h-12 rounded-md border border-border flex-shrink-0",style:{backgroundColor:s.hex}}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",children:s.name}),t.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:s.hex}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.usage})]})]},s.name))})})]}),t.jsxs(ee,{className:"mt-6",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(yJ,{className:"h-5 w-5"}),"Tipografia"]}),t.jsx(rt,{children:"Familias tipograficas da marca"})]}),t.jsx(te,{children:t.jsx("div",{className:"space-y-4",children:hPe.map(s=>t.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/50",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold",style:{fontFamily:s.name},children:s.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.usage}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pesos: ",s.weights]})]}),t.jsx("div",{className:"text-2xl",style:{fontFamily:s.name},children:"Aa"})]},s.name))})})]}),t.jsx("div",{className:"mt-8 p-4 rounded-lg bg-muted/50 text-center",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Precisa de outros formatos ou materiais? Entre em contato com a equipe de marketing."})})]});return e?t.jsx(mPe,{children:a}):a}const xPe=De.object({userId:De.string().min(1,"Selecione um usuario"),role:De.string().min(1,"Selecione um perfil"),department:De.string().optional(),permissions:De.array(De.string()).default([]),isActive:De.boolean().default(!0)});De.object({subject:De.string().min(1,"Assunto e obrigatorio"),description:De.string().min(1,"Descrio e obrigatoria"),category:De.string().min(1,"Categoria e obrigatoria"),priority:De.string().default("medium")});const gPe={admin:"Administrador",manager:"Gerente",member:"Membro"},vPe={comercial:"Comercial",operacao:"Operao",financeiro:"Financeiro",sac:"SAC"},VF={crm:"CRM",checklist:"Checklist",calculator:"Calculadoras",rfi:"RFI",financial:"Financeiro",calendar:"Calendrio",tasks:"Tarefas",projects:"Projetos"},BF={pending:"Pendente",sent:"Enviado",viewed:"Visualizado",signed:"Assinado",expired:"Expirado",cancelled:"Cancelado"},HF={pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",viewed:"bg-purple-500/10 text-purple-500",signed:"bg-green-500/10 text-green-500",expired:"bg-red-500/10 text-red-500",cancelled:"bg-muted text-muted-foreground"},UF={consultoria:"Contrato de Consultoria",aplicativo:"Contrato do Aplicativo"};function yPe(){const{toast:e}=At();za();const[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,d]=w.useState(null),u=hs({resolver:ps(xPe),defaultValues:{userId:"",role:"member",department:"",permissions:[],isActive:!0}}),{data:f=[],isLoading:h}=Ve({queryKey:["/api/team-members"]}),{data:p=[]}=Ve({queryKey:["/api/users/available"]}),v=Ae({mutationFn:async S=>(await Ne("POST","/api/team-members",S)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/team-members"]}),Ce.invalidateQueries({queryKey:["/api/users/available"]}),r(!1),u.reset(),e({title:"Membro adicionado com sucesso!"})},onError:S=>{e({title:"Erro ao adicionar membro",description:S.message,variant:"destructive"})}}),N=Ae({mutationFn:async({id:S,data:k})=>(await Ne("PATCH",`/api/team-members/${S}`,k)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/team-members"]}),r(!1),s(null),u.reset(),e({title:"Membro atualizado com sucesso!"})},onError:S=>{e({title:"Erro ao atualizar membro",description:S.message,variant:"destructive"})}}),j=Ae({mutationFn:async S=>{await Ne("DELETE",`/api/team-members/${S}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/team-members"]}),Ce.invalidateQueries({queryKey:["/api/users/available"]}),o(!1),d(null),e({title:"Membro removido com sucesso!"})},onError:S=>{e({title:"Erro ao remover membro",description:S.message,variant:"destructive"})}}),g=S=>{S?(s(S),u.reset({userId:S.userId.toString(),role:S.role||"member",department:S.department||void 0,permissions:S.permissions||[],isActive:S.isActive??!0})):(s(null),u.reset({userId:"",role:"member",department:"",permissions:[],isActive:!0})),r(!0)},P=S=>{a?N.mutate({id:a.id,data:S}):v.mutate(S)},C=S=>{d(S),o(!0)},b=()=>{l&&j.mutate(l.id)},y=f.filter(S=>S.isActive),E=f.filter(S=>!S.isActive);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Gerenciamento de Equipe"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione e gerencie os membros da sua empresa"})]}),t.jsxs(H,{onClick:()=>g(),"data-testid":"button-add-member",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Membro"]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total de Membros"}),t.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold",children:f.length})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Membros Ativos"}),t.jsx(Hy,{className:"h-4 w-4 text-green-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-green-500",children:y.length})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Membros Inativos"}),t.jsx(jJ,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:E.length})})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Membros da Equipe"}),t.jsx(rt,{children:"Lista de todos os membros vinculados a sua empresa"})]}),t.jsx(te,{children:h?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):f.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'Nenhum membro cadastrado. Clique em "Adicionar Membro" para comecar.'}):t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Usuario"}),t.jsx(nt,{children:"Perfil"}),t.jsx(nt,{children:"Departamento"}),t.jsx(nt,{children:"Permissoes"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:f.map(S=>t.jsxs(bn,{"data-testid":`row-member-${S.id}`,children:[t.jsx(et,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-medium",children:S.user?.firstName?.charAt(0)||"U"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[S.user?.firstName," ",S.user?.lastName]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:S.user?.email})]})]})}),t.jsx(et,{children:t.jsxs(Ee,{variant:"secondary",children:[t.jsx(Hs,{className:"h-3 w-3 mr-1"}),gPe[S.role||"member"]||S.role]})}),t.jsx(et,{children:S.department?t.jsxs(Ee,{variant:"outline",children:[t.jsx(nn,{className:"h-3 w-3 mr-1"}),vPe[S.department]||S.department]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(et,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.permissions&&S.permissions.length>0?S.permissions.slice(0,3).map(k=>t.jsx(Ee,{variant:"outline",className:"text-xs",children:VF[k]||k},k)):t.jsx("span",{className:"text-muted-foreground text-xs",children:"Sem permissoes"}),S.permissions&&S.permissions.length>3&&t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["+",S.permissions.length-3]})]})}),t.jsx(et,{children:t.jsx(Ee,{variant:S.isActive?"default":"secondary",children:S.isActive?"Ativo":"Inativo"})}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>g(S),"data-testid":`button-edit-member-${S.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>C(S),"data-testid":`button-delete-member-${S.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})})]},S.id))})]})})]}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-md",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Membro":"Adicionar Membro"}),t.jsx(tn,{children:a?"Atualize as informaes do membro da equipe":"Preencha os dados para adicionar um novo membro"})]}),t.jsx(xs,{...u,children:t.jsxs("form",{onSubmit:u.handleSubmit(P),className:"space-y-4",children:[!a&&t.jsx(Qe,{control:u.control,name:"userId",render:({field:S})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Usuario"}),t.jsxs(Oe,{onValueChange:S.onChange,value:S.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-user",children:t.jsx(Me,{placeholder:"Selecione um usuario"})})}),t.jsx(Te,{children:p.map(k=>t.jsxs(ne,{value:k.id.toString(),children:[k.firstName," ",k.lastName," (",k.email,")"]},k.id))})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"role",render:({field:S})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Perfil"}),t.jsxs(Oe,{onValueChange:S.onChange,value:S.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-role",children:t.jsx(Me,{placeholder:"Selecione o perfil"})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"admin",children:"Administrador"}),t.jsx(ne,{value:"manager",children:"Gerente"}),t.jsx(ne,{value:"member",children:"Membro"})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"department",render:({field:S})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Departamento"}),t.jsxs(Oe,{onValueChange:S.onChange,value:S.value||"",children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-department",children:t.jsx(Me,{placeholder:"Selecione o departamento"})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"comercial",children:"Comercial"}),t.jsx(ne,{value:"operao",children:"Operacao"}),t.jsx(ne,{value:"financeiro",children:"Financeiro"}),t.jsx(ne,{value:"sac",children:"SAC"})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"permissions",render:()=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Permissoes"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(VF).map(([S,k])=>t.jsx(Qe,{control:u.control,name:"permissions",render:({field:T})=>t.jsxs(We,{className:"flex items-center space-x-2 space-y-0",children:[t.jsx(Ye,{children:t.jsx(fn,{checked:T.value?.includes(S),onCheckedChange:z=>{const Y=T.value||[];z?T.onChange([...Y,S]):T.onChange(Y.filter(F=>F!==S))},"data-testid":`checkbox-perm-${S}`})}),t.jsx(Ge,{className:"text-sm font-normal cursor-pointer",children:k})]})},S))}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:u.control,name:"isActive",render:({field:S})=>t.jsxs(We,{className:"flex items-center space-x-2 space-y-0",children:[t.jsx(Ye,{children:t.jsx(fn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"checkbox-active"})}),t.jsx(Ge,{className:"font-normal cursor-pointer",children:"Membro ativo"})]})}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:v.isPending||N.isPending,"data-testid":"button-save-member",children:v.isPending||N.isPending?"Salvando...":"Salvar"})]})]})})]})}),t.jsx(bt,{open:i,onOpenChange:o,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Confirmar Excluso"}),t.jsx(tn,{children:"Tem certeza que deseja remover este membro da equipe? Esta acao nao pode ser desfeita."})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),t.jsx(H,{variant:"destructive",onClick:b,disabled:j.isPending,"data-testid":"button-confirm-delete",children:j.isPending?"Removendo...":"Remover"})]})]})})]})}function jPe(){const{toast:e}=At(),[n,r]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,d]=w.useState(""),[u,f]=w.useState(""),{data:h=[],isLoading:p}=Ve({queryKey:["/api/my-contracts"]}),v=Ae({mutationFn:async y=>(await Ne("POST",`/api/contract-agreements/${y}/sign`,{signerName:l,signerCpf:u,signatureType:"eletronica"})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/my-contracts"]}),o(!1),r(null),d(""),f(""),e({title:"Contrato assinado com sucesso!"})},onError:y=>{e({title:"Erro ao assinar contrato",description:y.message,variant:"destructive"})}}),N=Ae({mutationFn:async y=>(await Ne("POST",`/api/contract-agreements/${y}/view`)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/my-contracts"]})}}),j=y=>{r(y),s(!0),(y.status==="pending"||y.status==="sent")&&N.mutate(y.id)},g=y=>{r(y),o(!0)},P=h.filter(y=>y.contractType==="consultoria"),C=h.filter(y=>y.contractType==="aplicativo"),b=y=>t.jsxs(ee,{className:"mb-4",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 space-y-0 pb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xt,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx(ue,{className:"text-base",children:UF[y.contractType]||y.contractType}),y.issuedAt&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitido em ",Yt(new Date(y.issuedAt),"dd/MM/yyyy",{locale:Jn})]})]})]}),t.jsx(Ee,{className:HF[y.status||"pending"],children:BF[y.status||"pending"]})]}),t.jsxs(te,{children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>j(y),"data-testid":`button-view-contract-${y.id}`,children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),y.status!=="signed"&&y.status!=="cancelled"&&y.status!=="expired"&&t.jsxs(H,{size:"sm",onClick:()=>g(y),"data-testid":`button-sign-contract-${y.id}`,children:[t.jsx(AS,{className:"h-4 w-4 mr-2"}),"Assinar"]}),y.signedPdfUrl&&t.jsx(H,{size:"sm",variant:"outline",asChild:!0,"data-testid":`button-download-contract-${y.id}`,children:t.jsxs("a",{href:y.signedPdfUrl,target:"_blank",rel:"noopener noreferrer",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),y.signedAt&&t.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Assinado em ",Yt(new Date(y.signedAt),"dd/MM/yyyy 'as' HH:mm",{locale:Jn})]})]})]},y.id);return p?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"text-muted-foreground",children:"Carregando contratos..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Xt,{className:"h-5 w-5"}),"Contrato de Consultoria"]}),P.length>0?P.map(b):t.jsx(ee,{className:"bg-muted/50",children:t.jsxs(te,{className:"py-8 text-center",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhum contrato de consultoria disponivel"})]})})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Xt,{className:"h-5 w-5"}),"Contrato do Aplicativo"]}),C.length>0?C.map(b):t.jsx(ee,{className:"bg-muted/50",children:t.jsxs(te,{className:"py-8 text-center",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhum contrato do aplicativo disponivel"})]})})]})]}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{className:"max-w-2xl",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:n&&(UF[n.contractType]||n.contractType)}),t.jsx(tn,{children:"Visualize os detalhes do contrato"})]}),n&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsx(Ee,{className:HF[n.status||"pending"],children:BF[n.status||"pending"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Data de Emissao"}),t.jsx("p",{className:"font-medium",children:n.issuedAt?Yt(new Date(n.issuedAt),"dd/MM/yyyy",{locale:Jn}):"-"})]}),n.viewedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualizado em"}),t.jsx("p",{className:"font-medium",children:Yt(new Date(n.viewedAt),"dd/MM/yyyy 'as' HH:mm",{locale:Jn})})]}),n.signedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Assinado em"}),t.jsx("p",{className:"font-medium text-green-600",children:Yt(new Date(n.signedAt),"dd/MM/yyyy 'as' HH:mm",{locale:Jn})})]})]}),n.notes&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Observaes"}),t.jsx("p",{children:n.notes})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>s(!1),children:"Fechar"}),n&&n.status!=="signed"&&n.status!=="cancelled"&&t.jsxs(H,{onClick:()=>{s(!1),g(n)},children:[t.jsx(AS,{className:"h-4 w-4 mr-2"}),"Assinar Contrato"]})]})]})}),t.jsx(bt,{open:i,onOpenChange:o,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Assinar Contrato"}),t.jsx(tn,{children:"Preencha os dados para assinar o contrato eletronicamente"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nome Completo"}),t.jsx(J,{value:l,onChange:y=>d(y.target.value),placeholder:"Digite seu nome completo","data-testid":"input-signer-name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"CPF"}),t.jsx(J,{value:u,onChange:y=>f(y.target.value),placeholder:"000.000.000-00","data-testid":"input-signer-cpf"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:'Ao clicar em "Assinar", voce concorda com os termos do contrato e confirma que as informaes fornecidas sao verdadeiras.'})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),t.jsx(H,{onClick:()=>n&&v.mutate(n.id),disabled:!l||!u||v.isPending,"data-testid":"button-confirm-sign",children:v.isPending?"Assinando...":"Assinar Contrato"})]})]})})]})}function bPe(){return t.jsx(Ot,{title:"Admin Cliente",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(h8,{className:"h-6 w-6"}),"Admin Cliente"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua equipe e contratos"})]}),t.jsxs(js,{defaultValue:"equipe",className:"space-y-4",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"equipe","data-testid":"tab-equipe",children:[t.jsx(hn,{className:"h-4 w-4 mr-2"}),"Equipe"]}),t.jsxs(Jt,{value:"contratos","data-testid":"tab-contratos",children:[t.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Contratos"]})]}),t.jsx(en,{value:"equipe",children:t.jsx(yPe,{})}),t.jsx(en,{value:"contratos",children:t.jsx(jPe,{})})]})]})})}const wPe=De.object({subject:De.string().min(1,"Assunto e obrigatorio"),description:De.string().min(1,"Descrio e obrigatoria"),category:De.string().min(1,"Categoria e obrigatoria"),priority:De.string().default("medium")}),NPe={suporte:"Suporte Tecnico",financeiro:"Financeiro",comercial:"Comercial",tecnico:"Tcnico"},CPe={low:"Baixa",medium:"Mdia",high:"Alta",urgent:"Urgente"},KF={open:"Aberto",in_progress:"Em Andamento",waiting_customer:"Aguardando Cliente",resolved:"Resolvido",closed:"Fechado"},SPe=e=>{switch(e){case"open":return t.jsx(Sc,{className:"h-4 w-4"});case"in_progress":return t.jsx(Ai,{className:"h-4 w-4"});case"waiting_customer":return t.jsx(xo,{className:"h-4 w-4"});case"resolved":return t.jsx(Ar,{className:"h-4 w-4"});case"closed":return t.jsx(zy,{className:"h-4 w-4"});default:return t.jsx(f8,{className:"h-4 w-4"})}},WF=e=>{switch(e){case"open":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";case"in_progress":return"bg-blue-500/10 text-blue-600 border-blue-200";case"waiting_customer":return"bg-orange-500/10 text-orange-600 border-orange-200";case"resolved":return"bg-green-500/10 text-green-600 border-green-200";case"closed":return"bg-muted text-muted-foreground";default:return""}},PPe=e=>{switch(e){case"low":return"bg-muted";case"medium":return"bg-blue-500/10 text-blue-600";case"high":return"bg-orange-500/10 text-orange-600";case"urgent":return"bg-red-500/10 text-red-600";default:return""}};function GF(){const{toast:e}=At(),{user:n}=za(),[r,a]=w.useState(!1),[s,i]=w.useState(null),[o,l]=w.useState(""),d=hs({resolver:ps(wPe),defaultValues:{subject:"",description:"",category:"",priority:"medium"}}),{data:u=[],isLoading:f}=Ve({queryKey:["/api/support-tickets"]}),{data:h=[],isLoading:p}=Ve({queryKey:["/api/support-tickets",s?.id,"messages"],enabled:!!s}),v=Ae({mutationFn:async y=>(await Ne("POST","/api/support-tickets",y)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/support-tickets"]}),e({title:"Chamado aberto com sucesso"}),a(!1),d.reset()},onError:()=>{e({title:"Erro ao abrir chamado",variant:"destructive"})}}),N=Ae({mutationFn:async y=>s?(await Ne("POST",`/api/support-tickets/${s.id}/messages`,{message:y})).json():void 0,onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/support-tickets",s?.id,"messages"]}),l("")},onError:()=>{e({title:"Erro ao enviar mensagem",variant:"destructive"})}}),j=y=>{v.mutate(y)},g=()=>{o.trim()&&N.mutate(o.trim())},P=u.filter(y=>y.status==="open"||y.status==="in_progress"),C=u.filter(y=>y.status==="resolved"||y.status==="closed"),b="5511999999999";return t.jsx(Ot,{title:"Suporte e Contato",subtitle:"Abra chamados e entre em contato com nossa equipe",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-support-title",children:"Suporte e Contato"}),t.jsx("p",{className:"text-muted-foreground",children:"Abra chamados e entre em contato com nossa equipe"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{variant:"outline",onClick:()=>window.open(`https://wa.me/${b}`,"_blank"),"data-testid":"button-whatsapp",children:[t.jsx(Qf,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),t.jsxs(H,{onClick:()=>a(!0),"data-testid":"button-new-ticket",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Chamado"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:t.jsx(f8,{className:"h-6 w-6 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-tickets",children:u.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Chamados"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/10",children:t.jsx(Sc,{className:"h-6 w-6 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-open-tickets",children:P.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Em Aberto"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-green-500/10",children:t.jsx(Ar,{className:"h-6 w-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold","data-testid":"text-resolved-tickets",children:C.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolvidos"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:t.jsx(cJ,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Contato Direto"}),t.jsx("a",{href:`https://wa.me/${b}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline","data-testid":"link-whatsapp-direct",children:"Falar no WhatsApp"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(ee,{className:"lg:col-span-1",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Jg,{className:"h-5 w-5"}),"Meus Chamados"]}),t.jsx(rt,{children:"Clique em um chamado para ver detalhes"})]}),t.jsx(te,{children:f?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):u.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Jg,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"Nenhum chamado"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Voce ainda nao tem chamados abertos"}),t.jsxs(H,{onClick:()=>a(!0),children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Abrir Chamado"]})]}):t.jsx(zc,{className:"h-[400px]",children:t.jsx("div",{className:"space-y-2",children:u.map(y=>t.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${s?.id===y.id?"bg-muted border-primary":"hover-elevate"}`,onClick:()=>i(y),"data-testid":`ticket-item-${y.id}`,children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:y.ticketNumber}),t.jsxs(Ee,{variant:"outline",className:`text-xs ${WF(y.status||"open")}`,children:[SPe(y.status||"open"),t.jsx("span",{className:"ml-1",children:KF[y.status||"open"]})]})]}),t.jsx("h4",{className:"font-medium text-sm line-clamp-1",children:y.subject}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(Ee,{variant:"secondary",className:"text-xs",children:NPe[y.category||"suporte"]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:y.createdAt&&Yt(new Date(y.createdAt),"dd/MM/yy",{locale:Jn})})]})]},y.id))})})})]}),t.jsxs(ee,{className:"lg:col-span-2",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(xo,{className:"h-5 w-5"}),s?s.subject:"Detalhes do Chamado"]}),s&&t.jsxs(rt,{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-mono",children:s.ticketNumber}),t.jsx(Ee,{variant:"outline",className:WF(s.status||"open"),children:KF[s.status||"open"]}),t.jsx(Ee,{className:PPe(s.priority||"medium"),children:CPe[s.priority||"medium"]})]})]}),t.jsx(te,{children:s?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Descrio"}),t.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.description||"Sem descrio"})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Mensagens"}),t.jsx(zc,{className:"h-[200px] pr-4",children:p?t.jsx("div",{className:"flex items-center justify-center py-4",children:t.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):h.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma mensagem ainda"}):t.jsx("div",{className:"space-y-3",children:h.map(y=>t.jsxs("div",{className:`p-3 rounded-lg ${y.userId===n?.id?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[t.jsx("p",{className:"text-sm",children:y.message}),t.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:y.createdAt&&Yt(new Date(y.createdAt),"dd/MM HH:mm",{locale:Jn})})]},y.id))})})]}),s.status!=="closed"&&s.status!=="resolved"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{placeholder:"Digite sua mensagem...",value:o,onChange:y=>l(y.target.value),onKeyDown:y=>y.key==="Enter"&&g(),"data-testid":"input-ticket-message"}),t.jsx(H,{onClick:g,disabled:!o.trim()||N.isPending,"data-testid":"button-send-message",children:t.jsx(m8,{className:"h-4 w-4"})})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(xo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Selecione um chamado para ver os detalhes"})]})})]})]}),t.jsx(bt,{open:r,onOpenChange:a,children:t.jsxs(yt,{className:"sm:max-w-[500px]",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Novo Chamado"}),t.jsx(tn,{children:"Descreva seu problema ou duvida para nossa equipe de suporte"})]}),t.jsx(xs,{...d,children:t.jsxs("form",{onSubmit:d.handleSubmit(j),className:"space-y-4",children:[t.jsx(Qe,{control:d.control,name:"subject",render:({field:y})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Assunto"}),t.jsx(Ye,{children:t.jsx(J,{...y,placeholder:"Resumo do problema","data-testid":"input-ticket-subject"})}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Qe,{control:d.control,name:"category",render:({field:y})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Categoria"}),t.jsxs(Oe,{onValueChange:y.onChange,value:y.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-ticket-category",children:t.jsx(Me,{placeholder:"Selecione"})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"suporte",children:"Suporte Tecnico"}),t.jsx(ne,{value:"financeiro",children:"Financeiro"}),t.jsx(ne,{value:"comercial",children:"Comercial"}),t.jsx(ne,{value:"tcnico",children:"Tecnico"})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:d.control,name:"priority",render:({field:y})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Prioridade"}),t.jsxs(Oe,{onValueChange:y.onChange,value:y.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-ticket-priority",children:t.jsx(Me,{placeholder:"Selecione"})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"low",children:"Baixa"}),t.jsx(ne,{value:"medium",children:"Media"}),t.jsx(ne,{value:"high",children:"Alta"}),t.jsx(ne,{value:"urgent",children:"Urgente"})]})]}),t.jsx(Ze,{})]})})]}),t.jsx(Qe,{control:d.control,name:"description",render:({field:y})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Descrio"}),t.jsx(Ye,{children:t.jsx(St,{...y,placeholder:"Descreva detalhadamente seu problema ou duvida...",rows:4,"data-testid":"textarea-ticket-description"})}),t.jsx(Ze,{})]})}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:v.isPending,"data-testid":"button-submit-ticket",children:v.isPending?"Abrindo...":"Abrir Chamado"})]})]})})]})})]})})}function EPe(){return t.jsx(Ot,{title:"Relatrios",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(us,{className:"h-6 w-6"}),"Relatrios"]}),t.jsx("p",{className:"text-muted-foreground",children:"Visualize e exporte relatrios do seu negocio"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio de Clientes"}),t.jsx(Cc,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Analise de clientes por segmento, estado e classificacao ABC"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-clients",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio de Pipeline"}),t.jsx(pn,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Funil de vendas, conversoes e oportunidades por estagio"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-pipeline",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio Financeiro"}),t.jsx(Xt,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Receitas, despesas e fluxo de caixa do perodo"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-financial",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio de Tarefas"}),t.jsx(us,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Tarefas concluidas, pendentes e atrasadas por perodo"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-tasks",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio de Projetos"}),t.jsx(pn,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Status dos projetos, progresso e prazos"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-projects",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),t.jsxs(ee,{className:"hover-elevate cursor-pointer",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-base font-medium",children:"Relatorio de Atividades"}),t.jsx(Xt,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx(rt,{children:"Reunioes, visitas e atividades comerciais realizadas"}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-report-activities",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Em breve"}),t.jsx(rt,{children:"Novos relatrios estao sendo desenvolvidos para ajudar voce a tomar melhores decisoes"})]}),t.jsx(te,{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Estamos trabalhando em relatrios personalizados, dashboards interativos e exportacao em varios formatos (PDF, Excel, CSV)."})})]})]})})}function APe(){const[e,n]=w.useState(!1),[r,a]=w.useState({nome:"",email:"",telefone:"",cargo:"",metaMensal:"",status:"ativo"}),s=(o,l)=>{a(d=>({...d,[o]:l}))},i=()=>{n(!1),a({nome:"",email:"",telefone:"",cargo:"",metaMensal:"",status:"ativo"})};return t.jsxs(Ot,{title:"Vendedores",children:[t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(dc,{className:"h-6 w-6"}),"Vendedores"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua equipe de vendas"})]}),t.jsxs(H,{onClick:()=>n(!0),"data-testid":"button-add-vendedor",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Vendedor"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar vendedor...",className:"pl-9","data-testid":"input-search-vendedor"})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total de Vendedores"}),t.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold",children:"0"})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Vendedores Ativos"}),t.jsx(dc,{className:"h-4 w-4 text-green-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-green-500",children:"0"})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Meta do Mes"}),t.jsx(Dr,{className:"h-4 w-4 text-blue-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-blue-500",children:"R$ 0"})})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Lista de Vendedores"}),t.jsx(rt,{children:"Cadastre e gerencie os vendedores da sua empresa"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(dc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum vendedor cadastrado"}),t.jsx("p",{className:"text-sm mt-2",children:'Clique em "Novo Vendedor" para comecar'})]})})]})]}),t.jsx(bt,{open:e,onOpenChange:n,children:t.jsxs(yt,{className:"sm:max-w-md",children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(dc,{className:"h-5 w-5"}),"Novo Vendedor"]}),t.jsx(tn,{children:"Preencha os dados do vendedor"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"nome",children:"Nome Completo"}),t.jsx(J,{id:"nome",placeholder:"Nome do vendedor",value:r.nome,onChange:o=>s("nome",o.target.value),"data-testid":"input-vendedor-nome"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"email",children:"E-mail"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"email",type:"email",placeholder:"email@empresa.com",className:"pl-9",value:r.email,onChange:o=>s("email",o.target.value),"data-testid":"input-vendedor-email"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"telefone",children:"Telefone"}),t.jsxs("div",{className:"relative",children:[t.jsx(lp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"telefone",placeholder:"(00) 00000-0000",className:"pl-9",value:r.telefone,onChange:o=>s("telefone",o.target.value),"data-testid":"input-vendedor-telefone"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"cargo",children:"Cargo"}),t.jsx(J,{id:"cargo",placeholder:"Ex: Vendedor Senior",value:r.cargo,onChange:o=>s("cargo",o.target.value),"data-testid":"input-vendedor-cargo"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"metaMensal",children:"Meta Mensal (R$)"}),t.jsx(J,{id:"metaMensal",type:"number",placeholder:"0,00",value:r.metaMensal,onChange:o=>s("metaMensal",o.target.value),"data-testid":"input-vendedor-meta"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"status",children:"Status"}),t.jsxs(Oe,{value:r.status,onValueChange:o=>s("status",o),children:[t.jsx(_e,{"data-testid":"select-vendedor-status",children:t.jsx(Me,{placeholder:"Selecione o status"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"ativo",children:"Ativo"}),t.jsx(ne,{value:"inativo",children:"Inativo"}),t.jsx(ne,{value:"ferias",children:"Em Ferias"})]})]})]})]}),t.jsxs(Pn,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-vendedor",children:"Cancelar"}),t.jsx(H,{onClick:i,"data-testid":"button-save-vendedor",children:"Salvar Vendedor"})]})]})})]})}function kPe(){const{toast:e}=At(),[n,r]=w.useState(null),[a,s]=w.useState(""),[i,o]=w.useState(""),{data:l=[],isLoading:d}=Ve({queryKey:["/api/clients"]}),u=Ae({mutationFn:async({id:C,metaValor:b})=>{const y=b?parseFloat(b.replace(",",".")):null;if(b&&(isNaN(y)||y<0))throw new Error("Valor invlido");return Ne("PATCH",`/api/clients/${C}`,{metaValor:y?.toString()||null})},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/clients"]}),r(null),s(""),e({title:"Meta atualizada com sucesso!"})},onError:()=>{e({title:"Erro ao atualizar meta",variant:"destructive"})}}),f=C=>{r(C.id),s(C.metaValor?.toString()||"")},h=C=>{if(a&&isNaN(parseFloat(a.replace(",",".")))){e({title:"Por favor insira um valor numerico vlido",variant:"destructive"});return}u.mutate({id:C,metaValor:a})},p=()=>{r(null),s("")},v=l.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())),N=l.reduce((C,b)=>C+Number(b.metaValor||0),0),j=l.reduce((C,b)=>C+Number(b.estimatedValue||0),0),g=N-j,P=N>0?j/N*100:0;return t.jsx(Ot,{title:"Operaes",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Dr,{className:"h-6 w-6"}),"Operaes - Metas por Cliente"]}),t.jsx("p",{className:"text-muted-foreground",children:"Defina e acompanhe as metas de cada cliente"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Meta Total"}),t.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-meta",children:Vt(N)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Soma de todas as metas"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Valor Estimado"}),t.jsx(pn,{className:"h-4 w-4 text-blue-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-total-estimado",children:Vt(j)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pipeline atual"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Falta para Meta"}),t.jsx(Ao,{className:"h-4 w-4 text-amber-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:`text-2xl font-bold ${g>0?"text-amber-500":"text-green-500"}`,"data-testid":"text-falta-meta",children:g>0?Vt(g):"Meta atingida!"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:g>0?"Diferenca para atingir":"Parabens!"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Percentual Atingido"}),t.jsx(Dr,{className:"h-4 w-4 text-green-500"})]}),t.jsxs(te,{children:[t.jsxs("div",{className:`text-2xl font-bold ${P>=100?"text-green-500":P>=70?"text-blue-500":"text-amber-500"}`,"data-testid":"text-percentual",children:[P.toFixed(1),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Da meta total"})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx(ue,{children:"Metas por Cliente"}),t.jsx(rt,{children:"Defina a meta de faturamento para cada cliente"})]}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar cliente...",className:"pl-9",value:i,onChange:C=>o(C.target.value),"data-testid":"input-search-operaes"})]})]})}),t.jsx(te,{children:d?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):v.length===0?t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(nn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum cliente encontrado"})]}):t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Cliente"}),t.jsx(nt,{children:"Segmento"}),t.jsx(nt,{className:"text-right",children:"Valor Estimado"}),t.jsx(nt,{className:"text-right",children:"Meta"}),t.jsx(nt,{className:"text-right",children:"Falta para Meta"}),t.jsx(nt,{className:"text-right",children:"%"}),t.jsx(nt,{className:"w-24"})]})}),t.jsx(aa,{children:v.map(C=>{const b=Number(C.estimatedValue||0),y=Number(C.metaValor||0),E=y-b,S=y>0?b/y*100:0;return t.jsxs(bn,{"data-testid":`row-client-${C.id}`,children:[t.jsx(et,{className:"font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),C.name]})}),t.jsx(et,{children:C.segment?t.jsx(Ee,{variant:"outline",children:C.segment}):t.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),t.jsx(et,{className:"text-right font-medium",children:Vt(b)}),t.jsx(et,{className:"text-right",children:n===C.id?t.jsx(J,{type:"number",value:a,onChange:k=>s(k.target.value),className:"w-32 text-right ml-auto",placeholder:"0,00","data-testid":`input-meta-${C.id}`}):t.jsx("span",{className:y>0?"font-medium":"text-muted-foreground",children:y>0?Vt(y):"Sem meta"})}),t.jsx(et,{className:"text-right",children:y>0?t.jsx("span",{className:E>0?"text-amber-500":"text-green-500",children:E>0?Vt(E):"Atingida"}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(et,{className:"text-right",children:y>0?t.jsxs(Ee,{variant:S>=100?"default":"secondary",className:S>=100?"bg-green-500":S>=70?"bg-blue-500":"",children:[S.toFixed(0),"%"]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(et,{children:n===C.id?t.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>h(C.id),disabled:u.isPending,"data-testid":`button-save-meta-${C.id}`,children:t.jsx(ta,{className:"h-4 w-4 text-green-500"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:p,"data-testid":`button-cancel-meta-${C.id}`,children:t.jsx(Gs,{className:"h-4 w-4 text-red-500"})})]}):t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>f(C),"data-testid":`button-edit-meta-${C.id}`,children:t.jsx(YE,{className:"h-4 w-4"})})})]},C.id)})})]})})]})]})})}function _Pe(){return t.jsx(Ot,{title:"Indicadores Pre-Vendas",subtitle:"Acompanhe os indicadores de marketing e gerao de leads",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ee,{"data-testid":"card-leads-gerados",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Leads Gerados"}),t.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Em desenvolvimento"})]})]}),t.jsxs(ee,{"data-testid":"card-campanhas-ativas",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Campanhas Ativas"}),t.jsx(pu,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Em desenvolvimento"})]})]}),t.jsxs(ee,{"data-testid":"card-taxa-conversao",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Taxa de Conversao"}),t.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Em desenvolvimento"})]})]})]}),t.jsxs(ee,{"data-testid":"card-grafico-leads",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Dr,{className:"h-5 w-5"}),"Evolucao de Leads"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Grafico em desenvolvimento"})})]}),t.jsxs(ee,{"data-testid":"card-fontes-leads",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(pu,{className:"h-5 w-5"}),"Fontes de Leads"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Grafico em desenvolvimento"})})]})]})})}function TPe(){return t.jsx(Ot,{title:"Indicadores de Vendas",subtitle:"Acompanhe os indicadores comerciais e de conversao",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(ee,{"data-testid":"card-curva-abc",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Curva ABC"}),t.jsx(Cc,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Classificacao de clientes"})]})]}),t.jsxs(ee,{"data-testid":"card-distribuio-estado",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Distribuio por Estado"}),t.jsx(TO,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes por UF"})]})]}),t.jsxs(ee,{"data-testid":"card-ritmo-faturamento",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Ritmo de Faturamento"}),t.jsx(UZ,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Velocidade de vendas"})]})]}),t.jsxs(ee,{"data-testid":"card-pipeline-ativo",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Pipeline Ativo"}),t.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor em negociao"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ee,{"data-testid":"card-total-clientes",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Clientes"}),t.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Carteira ativa"})]})]}),t.jsxs(ee,{"data-testid":"card-propostas-enviadas",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Propostas Enviadas"}),t.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mes"})]})]}),t.jsxs(ee,{"data-testid":"card-taxa-fechamento",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Taxa de Fechamento"}),t.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversao de propostas"})]})]})]}),t.jsxs(ee,{"data-testid":"card-grafico-curva-abc",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Cc,{className:"h-5 w-5"}),"Curva ABC - Classificacao de Clientes"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Grafico em desenvolvimento"})})]}),t.jsxs(ee,{"data-testid":"card-mapa-estados",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(TO,{className:"h-5 w-5"}),"Distribuio por Estado"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Grafico em desenvolvimento"})})]})]})})}function OPe(){return t.jsx(Ot,{title:"Indicadores Pos-Vendas",subtitle:"Acompanhe a satisfao e retencao de clientes",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ee,{"data-testid":"card-nps",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"NPS"}),t.jsx(Hf,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Net Promoter Score"})]})]}),t.jsxs(ee,{"data-testid":"card-satisfao-geral",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Satisfao Geral"}),t.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Media das pesquisas"})]})]}),t.jsxs(ee,{"data-testid":"card-retencao-clientes",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Retencao de Clientes"}),t.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Taxa de renovacao"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ee,{"data-testid":"card-promotores",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Promotores"}),t.jsx(vJ,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notas 9-10"})]})]}),t.jsxs(ee,{"data-testid":"card-neutros",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Neutros"}),t.jsx(rJ,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notas 7-8"})]})]}),t.jsxs(ee,{"data-testid":"card-detratores",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Detratores"}),t.jsx(gJ,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notas 0-6"})]})]})]}),t.jsxs(ee,{"data-testid":"card-evolucao-nps",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Hf,{className:"h-5 w-5"}),"Evolucao do NPS"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Grafico em desenvolvimento"})})]}),t.jsxs(ee,{"data-testid":"card-pesquisas-recentes",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(pn,{className:"h-5 w-5"}),"Pesquisas Recentes"]})}),t.jsx(te,{children:t.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Lista de pesquisas em desenvolvimento"})})]})]})})}function MPe(){return t.jsx(Ot,{title:"Pesquisas de Satisfao",subtitle:"Acompanhe o feedback dos seus clientes",children:t.jsx("div",{className:"p-6",children:t.jsxs(ee,{"data-testid":"card-pesquisas-info",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Hf,{className:"h-5 w-5"}),"Pesquisas de Satisfao"]})}),t.jsx(te,{children:t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Hf,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Modulo em Construcao"}),t.jsx("p",{className:"max-w-md mx-auto",children:"Esta pagina permitira criar e gerenciar pesquisas de satisfao para medir a qualidade do atendimento pos-venda e fidelizacao de clientes."})]})})]})})})}const RPe=["Janeiro","Fevereiro","Marco","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],DPe=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"];function MK({transactions:e,title:n="Calendario Financeiro",className:r}){const[a,s]=w.useState(new Date),i=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),o=(y,E)=>new Date(y,E+1,0).getDate(),l=(y,E)=>new Date(y,E,1).getDay(),d=w.useMemo(()=>{const y={};return e.forEach(E=>{const S=new Date(E.date).toISOString().split("T")[0];y[S]||(y[S]={income:0,expense:0,count:0});const k=typeof E.amount=="string"?parseFloat(E.amount):E.amount;E.type==="income"||E.type==="receita"?y[S].income+=k:y[S].expense+=k,y[S].count++}),y},[e]),u=a.getFullYear(),f=a.getMonth(),h=o(u,f),p=l(u,f),v=()=>{s(new Date(u,f-1,1))},N=()=>{s(new Date(u,f+1,1))},j=[];for(let y=0;y<p;y++)j.push(null);for(let y=1;y<=h;y++)j.push(y);const g=new Date,P=y=>g.getFullYear()===u&&g.getMonth()===f&&g.getDate()===y,C=y=>new Date(u,f,y).toISOString().split("T")[0],b=w.useMemo(()=>{let y=0,E=0;return e.forEach(S=>{const k=new Date(S.date);if(k.getFullYear()===u&&k.getMonth()===f){const T=typeof S.amount=="string"?parseFloat(S.amount):S.amount;S.type==="income"||S.type==="receita"?y+=T:E+=T}}),{income:y,expense:E}},[e,u,f]);return t.jsxs(ee,{className:r,children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[t.jsxs(ue,{className:"flex items-center gap-2 text-lg",children:[t.jsx(i8,{className:"h-5 w-5"}),n]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{variant:"outline",size:"icon",onClick:v,"data-testid":"button-prev-month",children:t.jsx(_Z,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[RPe[f]," ",u]}),t.jsx(H,{variant:"outline",size:"icon",onClick:N,"data-testid":"button-next-month",children:t.jsx(po,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(pn,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-green-600",children:i(b.income)})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Ao,{className:"h-4 w-4 text-red-500"}),t.jsx("span",{className:"text-red-600",children:i(b.expense)})]}),t.jsx(Ee,{variant:b.income-b.expense>=0?"default":"destructive",children:i(b.income-b.expense)})]})]}),t.jsx(te,{children:t.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[DPe.map(y=>t.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground p-1",children:y},y)),j.map((y,E)=>{if(y===null)return t.jsx("div",{className:"p-1"},`empty-${E}`);const S=C(y),k=d[S],T=k&&k.count>0;return t.jsxs("div",{className:Fe("p-1 text-center rounded-md text-sm relative min-h-[40px] flex flex-col items-center justify-start",P(y)&&"bg-primary/10 font-bold",T&&"bg-muted/50"),children:[t.jsx("span",{className:Fe("text-xs",P(y)&&"text-primary"),children:y}),T&&t.jsxs("div",{className:"flex flex-col items-center gap-0.5 mt-0.5",children:[k.income>0&&t.jsxs("span",{className:"text-[10px] text-green-600 font-medium",children:["+",(k.income/1e3).toFixed(0),"k"]}),k.expense>0&&t.jsxs("span",{className:"text-[10px] text-red-600 font-medium",children:["-",(k.expense/1e3).toFixed(0),"k"]})]})]},y)})]})})]})}function IPe(){const{data:e,isLoading:n}=Ve({queryKey:["/api/admin/dashboard"]}),{data:r=[]}=Ve({queryKey:["/api/admin/leads"]}),{data:a=[]}=Ve({queryKey:["/api/admin/projects"]}),{data:s=[]}=Ve({queryKey:["/api/admin/accounting-entries"]}),i=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),o=r.slice(0,5),l=a.filter(d=>d.status==="active").slice(0,5);return t.jsx(Ot,{title:"Dashboard MCG",subtitle:"Viso geral da gesto interna",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-dashboard-title",children:"Dashboard MCG"}),t.jsx("p",{className:"text-muted-foreground",children:"Viso geral da gesto interna"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Leads Ativos"}),t.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-leads",children:n?"...":e?.activeLeads||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Em negociao"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Projetos Ativos"}),t.jsx(ap,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-projects",children:n?"...":e?.activeProjects||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Consultorias em andamento"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Assinaturas"}),t.jsx(Qc,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-subscriptions",children:n?"...":e?.activeSubscriptions||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Assinantes ativos"})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Receita Estimada"}),t.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-estimated-revenue",children:n?"...":i(e?.estimatedRevenue||0)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pipeline total"})]})]})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{className:"text-lg",children:"Leads Recentes"})}),t.jsx(te,{children:o.length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum lead cadastrado"}):t.jsx("div",{className:"space-y-3",children:o.map(d=>t.jsxs("div",{className:"flex items-center justify-between gap-2 py-2 border-b last:border-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:d.companyName}),t.jsx("p",{className:"text-xs text-muted-foreground",children:d.contactName})]}),t.jsx(Ee,{variant:"outline",className:"text-xs",children:d.stage})]},d.id))})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{className:"text-lg",children:"Projetos em Andamento"})}),t.jsx(te,{children:l.length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum projeto ativo"}):t.jsx("div",{className:"space-y-3",children:l.map(d=>t.jsxs("div",{className:"flex items-center justify-between gap-2 py-2 border-b last:border-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:d.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:d.clientName})]}),t.jsxs(Ee,{variant:"secondary",className:"text-xs",children:[d.progress||0,"%"]})]},d.id))})})]})]}),t.jsx(MK,{title:"Calendario Financeiro MCG",transactions:s.map(d=>({id:d.id,date:d.date,description:d.description,amount:d.amount,type:d.type==="receita"?"income":"expense"}))}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center gap-2",children:[t.jsx(Hr,{className:"h-5 w-5 text-amber-500"}),t.jsx(ue,{className:"text-lg",children:"Alertas"})]}),t.jsx(te,{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum alerta no momento. Todos os indicadores estao normais."})})]})]})})}function $Pe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(""),{data:l,isLoading:d}=Ve({queryKey:["/api/admin/pending-approvals"]}),u=Ae({mutationFn:async N=>Ne(`/api/admin/approve-user/${N}`,{method:"POST"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/pending-approvals"]}),e({title:"Usurio aprovado",description:"O usurio foi aprovado e receber um email de confirmao."})},onError:()=>{e({title:"Erro",description:"No foi possvel aprovar o usurio.",variant:"destructive"})}}),f=Ae({mutationFn:async({userId:N,reason:j})=>Ne(`/api/admin/reject-user/${N}`,{method:"POST",body:JSON.stringify({reason:j}),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/pending-approvals"]}),r(!1),s(null),o(""),e({title:"Solicitao rejeitada",description:"O usurio foi notificado por email."})},onError:()=>{e({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}}),h=N=>{u.mutate(N)},p=N=>{s(N),r(!0)},v=()=>{a&&f.mutate({userId:a.id,reason:i})};return d?t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Aguardando Aprovao"}),t.jsx("div",{className:"grid gap-4",children:[1,2,3].map(N=>t.jsx(ee,{children:t.jsx(te,{className:"p-6",children:t.jsx(va,{className:"h-24 w-full"})})},N))})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Aguardando Aprovao"}),t.jsx("p",{className:"text-muted-foreground",children:"Solicitaes de cadastro que precisam de aprovao"})]}),t.jsxs(Ee,{variant:"secondary",className:"text-lg px-4 py-2",children:[l?.length||0," pendentes"]})]}),l?.length?t.jsx("div",{className:"grid gap-4",children:l.map(N=>t.jsxs(ee,{"data-testid":`card-pending-user-${N.id}`,children:[t.jsx(de,{className:"pb-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(ko,{className:"h-6 w-6 text-primary"})}),t.jsxs("div",{children:[t.jsxs(ue,{className:"text-lg",children:[N.firstName," ",N.lastName]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.email})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{size:"sm",onClick:()=>h(N.id),disabled:u.isPending,"data-testid":`button-approve-${N.id}`,children:[t.jsx(ta,{className:"h-4 w-4 mr-1"}),"Aprovar"]}),t.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>p(N),disabled:f.isPending,"data-testid":`button-reject-${N.id}`,children:[t.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Rejeitar"]})]})]})}),t.jsxs(te,{children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Empresa"}),t.jsx("p",{className:"font-medium",children:N.razaoSocial||N.nomeFantasia||"No informado"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"CNPJ"}),t.jsx("p",{className:"font-medium",children:N.cnpj||"No informado"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Telefone"}),t.jsx("p",{className:"font-medium",children:N.phone||"No informado"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Cadastrado em"}),t.jsx("p",{className:"font-medium",children:N.createdAt?Yt(new Date(N.createdAt),"dd/MM/yyyy HH:mm",{locale:Jn}):"N/A"})]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsx(Ee,{variant:"outline",children:N.tipoEmpresa||"Tipo no informado"}),t.jsx(Ee,{variant:"outline",children:N.perfilConta||"colaborador"}),t.jsx(Ee,{variant:"secondary",children:N.selectedPlan||"free"}),N.userCategories?.map(j=>t.jsx(Ee,{variant:"outline",className:"capitalize",children:j},j))]})]})]},N.id))}):t.jsx(ee,{children:t.jsxs(te,{className:"p-12 text-center",children:[t.jsx(ta,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Nenhuma aprovao pendente"}),t.jsx("p",{className:"text-muted-foreground",children:"Todas as solicitaes foram processadas"})]})}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Rejeitar solicitao"}),t.jsx(tn,{children:"Informe o motivo da rejeio. O usurio receber um email com esta informao."})]}),t.jsxs("div",{className:"py-4",children:[t.jsx(B,{htmlFor:"reason",children:"Motivo (opcional)"}),t.jsx(St,{id:"reason",value:i,onChange:N=>o(N.target.value),placeholder:"Ex: Documentao incompleta, CNPJ invlido...",className:"mt-2","data-testid":"input-reject-reason"})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{variant:"destructive",onClick:v,disabled:f.isPending,"data-testid":"button-confirm-reject",children:"Confirmar Rejeio"})]})]})})]})}const FPe={lead:"Lead",qualified:"Qualificado",proposal:"Proposta",negotiation:"Negociao",closed_won:"Fechado Ganho",closed_lost:"Fechado Perdido"},LPe={lead:"bg-gray-500",qualified:"bg-blue-500",proposal:"bg-yellow-500",negotiation:"bg-purple-500",closed_won:"bg-green-500",closed_lost:"bg-red-500"};function zPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({companyName:"",contactName:"",contactEmail:"",contactPhone:"",city:"",state:"",segment:"",source:"",interest:"",stage:"lead",estimatedValue:"",notes:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/admin/leads"]}),{data:u=[]}=Ve({queryKey:["/api/admin/proposals"]}),{data:f=[]}=Ve({queryKey:["/api/admin/contracts"]}),h=Ae({mutationFn:async C=>Ne("/api/admin/leads","POST",C),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/leads"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),r(!1),N(),e({title:"Lead criado com sucesso"})}}),p=Ae({mutationFn:async({id:C,data:b})=>Ne(`/api/admin/leads/${C}`,"PATCH",b),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/leads"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),r(!1),s(null),N(),e({title:"Lead atualizado com sucesso"})}}),v=Ae({mutationFn:async C=>Ne(`/api/admin/leads/${C}`,"DELETE"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/leads"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),e({title:"Lead removido com sucesso"})}}),N=()=>{o({companyName:"",contactName:"",contactEmail:"",contactPhone:"",city:"",state:"",segment:"",source:"",interest:"",stage:"lead",estimatedValue:"",notes:""})},j=C=>{s(C),o({companyName:C.companyName,contactName:C.contactName||"",contactEmail:C.contactEmail||"",contactPhone:C.contactPhone||"",city:C.city||"",state:C.state||"",segment:C.segment||"",source:C.source||"",interest:C.interest||"",stage:C.stage||"lead",estimatedValue:C.estimatedValue||"",notes:C.notes||""}),r(!0)},g=()=>{const C={...i,estimatedValue:i.estimatedValue||null};a?p.mutate({id:a.id,data:C}):h.mutate(C)},P=C=>C?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(C)):"-";return t.jsx(Ot,{title:"Gesto Comercial MCG",subtitle:"Leads, propostas e contratos",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-comercial-title",children:"Gesto Comercial MCG"}),t.jsx("p",{className:"text-muted-foreground",children:"Leads, Pipeline, Propostas e Contratos"})]})}),t.jsxs(js,{defaultValue:"leads",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"leads",children:["Leads (",l.length,")"]}),t.jsxs(Jt,{value:"proposals",children:["Propostas (",u.length,")"]}),t.jsxs(Jt,{value:"contracts",children:["Contratos (",f.length,")"]})]}),t.jsx(en,{value:"leads",className:"mt-4",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsx(ue,{children:"Leads"}),t.jsxs(bt,{open:n,onOpenChange:C=>{r(C),C||(s(null),N())},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-lead",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Lead"]})}),t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Lead":"Novo Lead"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Empresa *"}),t.jsx(J,{value:i.companyName,onChange:C=>o({...i,companyName:C.target.value}),"data-testid":"input-lead-company"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Contato"}),t.jsx(J,{value:i.contactName,onChange:C=>o({...i,contactName:C.target.value}),"data-testid":"input-lead-contact"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Email"}),t.jsx(J,{type:"email",value:i.contactEmail,onChange:C=>o({...i,contactEmail:C.target.value})})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Telefone"}),t.jsx(J,{value:i.contactPhone,onChange:C=>o({...i,contactPhone:C.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Cidade"}),t.jsx(J,{value:i.city,onChange:C=>o({...i,city:C.target.value})})]}),t.jsxs("div",{children:[t.jsx(B,{children:"UF"}),t.jsx(J,{value:i.state,onChange:C=>o({...i,state:C.target.value}),maxLength:2})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Segmento"}),t.jsx(J,{value:i.segment,onChange:C=>o({...i,segment:C.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Origem"}),t.jsxs(Oe,{value:i.source,onValueChange:C=>o({...i,source:C}),children:[t.jsx(_e,{children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"website",children:"Website"}),t.jsx(ne,{value:"indicao",children:"Indicacao"}),t.jsx(ne,{value:"linkedin",children:"LinkedIn"}),t.jsx(ne,{value:"evento",children:"Evento"}),t.jsx(ne,{value:"outro",children:"Outro"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Interesse"}),t.jsxs(Oe,{value:i.interest,onValueChange:C=>o({...i,interest:C}),children:[t.jsx(_e,{children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"assinatura",children:"Assinatura"}),t.jsx(ne,{value:"consultoria",children:"Consultoria"}),t.jsx(ne,{value:"ambos",children:"Ambos"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Estagio"}),t.jsxs(Oe,{value:i.stage,onValueChange:C=>o({...i,stage:C}),children:[t.jsx(_e,{children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"lead",children:"Lead"}),t.jsx(ne,{value:"qualified",children:"Qualificado"}),t.jsx(ne,{value:"proposal",children:"Proposta"}),t.jsx(ne,{value:"negotiation",children:"Negociao"}),t.jsx(ne,{value:"closed_won",children:"Fechado Ganho"}),t.jsx(ne,{value:"closed_lost",children:"Fechado Perdido"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Valor Estimado (R$)"}),t.jsx(J,{type:"number",value:i.estimatedValue,onChange:C=>o({...i,estimatedValue:C.target.value})})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Observaes"}),t.jsx(St,{value:i.notes,onChange:C=>o({...i,notes:C.target.value}),rows:3})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:g,disabled:!i.companyName||h.isPending||p.isPending,"data-testid":"button-save-lead",children:a?"Atualizar":"Criar"})]})]})]})]}),t.jsx(te,{children:d?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhum lead cadastrado"}):t.jsx("div",{className:"space-y-2",children:l.map(C=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border rounded-md","data-testid":`card-lead-${C.id}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium",children:C.companyName}),t.jsx(Ee,{className:`${LPe[C.stage||"lead"]} text-white text-xs`,children:FPe[C.stage||"lead"]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.contactName," ",C.city&&`- ${C.city}/${C.state}`]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium",children:P(C.estimatedValue)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:C.interest})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>j(C),children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>{confirm("Remover este lead?")&&v.mutate(C.id)},children:t.jsx(Mt,{className:"h-4 w-4"})})]})]},C.id))})})]})}),t.jsx(en,{value:"proposals",className:"mt-4",children:t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{children:"Propostas"})}),t.jsx(te,{children:u.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma proposta cadastrada"}):t.jsx("div",{className:"space-y-2",children:u.map(C=>t.jsxs("div",{className:"p-3 border rounded-md",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"font-medium",children:C.title}),t.jsx(Ee,{variant:"outline",children:C.status})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.clientName})]},C.id))})})]})}),t.jsx(en,{value:"contracts",className:"mt-4",children:t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{children:"Contratos"})}),t.jsx(te,{children:f.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhum contrato cadastrado"}):t.jsx("div",{className:"space-y-2",children:f.map(C=>t.jsxs("div",{className:"p-3 border rounded-md",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"font-medium",children:C.clientName}),t.jsx(Ee,{variant:"outline",children:C.status})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.serviceType})]},C.id))})})]})})]})]})})}const qPe={planning:"Planejamento",active:"Ativo",on_hold:"Pausado",completed:"Concluido",cancelled:"Cancelado"},VPe=["Diagnstico","Implementao","Execuo","Expansao"];function BPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(null),[l,d]=w.useState({name:"",clientName:"",projectType:"",description:"",status:"planning",progress:0,value:"",assignedTo:""}),{data:u=[],isLoading:f}=Ve({queryKey:["/api/admin/projects"]}),h=Ae({mutationFn:async C=>Ne("/api/admin/projects","POST",C),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/projects"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),r(!1),N(),e({title:"Projeto criado com sucesso"})}}),p=Ae({mutationFn:async({id:C,data:b})=>Ne(`/api/admin/projects/${C}`,"PATCH",b),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/projects"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),r(!1),s(null),N(),e({title:"Projeto atualizado com sucesso"})}}),v=Ae({mutationFn:async C=>Ne(`/api/admin/projects/${C}`,"DELETE"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/projects"]}),Ce.invalidateQueries({queryKey:["/api/admin/dashboard"]}),e({title:"Projeto removido com sucesso"})}}),N=()=>{d({name:"",clientName:"",projectType:"",description:"",status:"planning",progress:0,value:"",assignedTo:""})},j=C=>{s(C),d({name:C.name,clientName:C.clientName||"",projectType:C.projectType||"",description:C.description||"",status:C.status||"planning",progress:C.progress||0,value:C.value||"",assignedTo:C.assignedTo||""}),r(!0)},g=()=>{const C={...l,progress:Number(l.progress),value:l.value||null};a?p.mutate({id:a.id,data:C}):h.mutate(C)},P=C=>C?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(C)):"-";return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-projetos-title",children:"Projetos de Consultoria"}),t.jsx("p",{className:"text-muted-foreground",children:"Acompanhamento de projetos MCG"})]}),t.jsxs(bt,{open:n,onOpenChange:C=>{r(C),C||(s(null),N())},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-project",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Projeto"]})}),t.jsxs(yt,{className:"max-w-xl",children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Projeto":"Novo Projeto"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Nome do Projeto *"}),t.jsx(J,{value:l.name,onChange:C=>d({...l,name:C.target.value}),"data-testid":"input-project-name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Cliente"}),t.jsx(J,{value:l.clientName,onChange:C=>d({...l,clientName:C.target.value}),"data-testid":"input-project-client"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:l.projectType,onValueChange:C=>d({...l,projectType:C}),children:[t.jsx(_e,{"data-testid":"select-project-type",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:VPe.map(C=>t.jsx(ne,{value:C,children:C},C))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Status"}),t.jsxs(Oe,{value:l.status,onValueChange:C=>d({...l,status:C}),children:[t.jsx(_e,{"data-testid":"select-project-status",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"planning",children:"Planejamento"}),t.jsx(ne,{value:"active",children:"Ativo"}),t.jsx(ne,{value:"on_hold",children:"Pausado"}),t.jsx(ne,{value:"completed",children:"Concluido"}),t.jsx(ne,{value:"cancelled",children:"Cancelado"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Progresso (%)"}),t.jsx(J,{type:"number",min:0,max:100,value:l.progress,onChange:C=>d({...l,progress:Number(C.target.value)}),"data-testid":"input-project-progress"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Valor (R$)"}),t.jsx(J,{type:"number",value:l.value,onChange:C=>d({...l,value:C.target.value}),"data-testid":"input-project-value"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Responsavel"}),t.jsx(J,{value:l.assignedTo,onChange:C=>d({...l,assignedTo:C.target.value}),"data-testid":"input-project-assigned"})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Descrio"}),t.jsx(St,{value:l.description,onChange:C=>d({...l,description:C.target.value}),rows:3,"data-testid":"textarea-project-description"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:g,disabled:!l.name||h.isPending||p.isPending,"data-testid":"button-save-project",children:a?"Atualizar":"Criar"})]})]})]})]}),t.jsx("div",{className:"grid gap-4",children:f?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):u.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum projeto cadastrado"})}):u.map(C=>t.jsx(xj,{open:i===C.id,onOpenChange:b=>o(b?C.id:null),children:t.jsxs(ee,{"data-testid":`card-project-${C.id}`,children:[t.jsxs(de,{className:"pb-2",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(ue,{className:"text-lg",children:C.name}),t.jsx(Ee,{variant:"outline",children:qPe[C.status||"planning"]}),C.projectType&&t.jsx(Ee,{variant:"secondary",children:C.projectType})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[C.clientName||"Sem cliente"," ",C.assignedTo&&`| ${C.assignedTo}`]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:P(C.value)}),t.jsx(gj,{asChild:!0,children:t.jsx(H,{size:"icon",variant:"ghost",children:i===C.id?t.jsx(o8,{className:"h-4 w-4"}):t.jsx(Eo,{className:"h-4 w-4"})})})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[t.jsx("span",{children:"Progresso"}),t.jsxs("span",{children:[C.progress||0,"%"]})]}),t.jsx(Ku,{value:C.progress||0})]})]}),t.jsx(vj,{children:t.jsxs(te,{className:"pt-4 border-t",children:[C.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:C.description}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>j(C),children:[t.jsx(er,{className:"h-4 w-4 mr-1"}),"Editar"]}),t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{confirm("Remover este projeto?")&&v.mutate(C.id)},children:[t.jsx(Mt,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]})})]})},C.id))})]})})}const HPe={receita:["Assinatura","Consultoria Diagnstico","Consultoria Implementacao","Consultoria Execucao","Consultoria Expansao","Revenda","Outro"],despesa:["Salarios","Impostos","Marketing","Infraestrutura","Software","Viagens","Outro"]};function UPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState({type:"receita",category:"",description:"",clientName:"",value:"",dueDate:"",status:"pending",nfseNumber:""}),{data:i=[],isLoading:o}=Ve({queryKey:["/api/admin/financial"]}),{data:l}=Ve({queryKey:["/api/admin/dashboard"]}),d=Ae({mutationFn:async b=>Ne("/api/admin/financial","POST",b),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/financial"]}),r(!1),f(),e({title:"Registro criado com sucesso"})}}),u=Ae({mutationFn:async({id:b,status:y})=>Ne(`/api/admin/financial/${b}`,"PATCH",{status:y,paidAt:y==="paid"?new Date().toISOString():null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/financial"]}),e({title:"Status atualizado"})}}),f=()=>{s({type:"receita",category:"",description:"",clientName:"",value:"",dueDate:"",status:"pending",nfseNumber:""})},h=()=>{const b={...a,value:a.value,dueDate:a.dueDate?new Date(a.dueDate).toISOString():null};d.mutate(b)},p=b=>b?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(b)):"R$ 0,00",v=b=>b?new Date(b).toLocaleDateString("pt-BR"):"-",N=i.filter(b=>b.type==="receita"),j=i.filter(b=>b.type==="despesa"),g=N.reduce((b,y)=>b+parseFloat(y.value||"0"),0),P=j.reduce((b,y)=>b+parseFloat(y.value||"0"),0),C=g-P;return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-financeiro-title",children:"Financeiro Gerencial"}),t.jsx("p",{className:"text-muted-foreground",children:"Controle financeiro da MCG"})]}),t.jsxs(bt,{open:n,onOpenChange:r,children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-financial",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Lancamento"]})}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Lancamento"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Tipo *"}),t.jsxs(Oe,{value:a.type,onValueChange:b=>s({...a,type:b,category:""}),children:[t.jsx(_e,{"data-testid":"select-financial-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"receita",children:"Receita"}),t.jsx(ne,{value:"despesa",children:"Despesa"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Categoria *"}),t.jsxs(Oe,{value:a.category,onValueChange:b=>s({...a,category:b}),children:[t.jsx(_e,{"data-testid":"select-financial-category",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:HPe[a.type].map(b=>t.jsx(ne,{value:b,children:b},b))})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Descrio"}),t.jsx(J,{value:a.description,onChange:b=>s({...a,description:b.target.value}),"data-testid":"input-financial-description"})]}),a.type==="receita"&&t.jsxs("div",{children:[t.jsx(B,{children:"Cliente"}),t.jsx(J,{value:a.clientName,onChange:b=>s({...a,clientName:b.target.value}),"data-testid":"input-financial-client"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Valor (R$) *"}),t.jsx(J,{type:"number",value:a.value,onChange:b=>s({...a,value:b.target.value}),"data-testid":"input-financial-value"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Vencimento"}),t.jsx(J,{type:"date",value:a.dueDate,onChange:b=>s({...a,dueDate:b.target.value}),"data-testid":"input-financial-due-date"})]})]}),a.type==="receita"&&t.jsxs("div",{children:[t.jsx(B,{children:"Nmero NFS-e"}),t.jsx(J,{value:a.nfseNumber,onChange:b=>s({...a,nfseNumber:b.target.value}),"data-testid":"input-financial-nfse"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:h,disabled:!a.category||!a.value||d.isPending,"data-testid":"button-save-financial",children:"Criar"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Assinaturas Ativas"}),t.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-subscriptions",children:l?.activeSubscriptions||0})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Receitas"}),t.jsx(pn,{className:"h-4 w-4 text-green-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-total-receitas",children:p(g.toString())})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Despesas"}),t.jsx(Ao,{className:"h-4 w-4 text-red-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-total-despesas",children:p(P.toString())})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Margem"}),t.jsx(XE,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:`text-2xl font-bold ${C>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-margin",children:p(C.toString())})})]})]}),t.jsxs(js,{defaultValue:"receitas",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"receitas",children:["Receitas (",N.length,")"]}),t.jsxs(Jt,{value:"despesas",children:["Despesas (",j.length,")"]})]}),t.jsx(en,{value:"receitas",className:"mt-4",children:t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:N.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma receita cadastrada"}):t.jsx("div",{className:"space-y-2",children:N.map(b=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border rounded-md",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium",children:b.category}),t.jsx(Ee,{variant:b.status==="paid"?"default":"outline",children:b.status==="paid"?"Pago":"Pendente"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:b.clientName||b.description||"-"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-green-600",children:p(b.value)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Venc: ",v(b.dueDate)]})]}),b.status!=="paid"&&t.jsx(H,{size:"sm",variant:"outline",onClick:()=>u.mutate({id:b.id,status:"paid"}),children:"Marcar Pago"})]},b.id))})})})}),t.jsx(en,{value:"despesas",className:"mt-4",children:t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:j.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma despesa cadastrada"}):t.jsx("div",{className:"space-y-2",children:j.map(b=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border rounded-md",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium",children:b.category}),t.jsx(Ee,{variant:b.status==="paid"?"default":"outline",children:b.status==="paid"?"Pago":"Pendente"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:b.description||"-"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-red-600",children:p(b.value)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Venc: ",v(b.dueDate)]})]}),b.status!=="paid"&&t.jsx(H,{size:"sm",variant:"outline",onClick:()=>u.mutate({id:b.id,status:"paid"}),children:"Marcar Pago"})]},b.id))})})})})]})]})})}const QF=[{value:"tecnologia",label:"Tecnologia"},{value:"sindicato",label:"Sindicato"},{value:"escola",label:"Escola/Instituicao"},{value:"revenda",label:"Revenda"},{value:"outro",label:"Outro"}],KPe={prospecting:"Prospeco",negotiating:"Negociando",active:"Ativo",paused:"Pausado",ended:"Encerrado"},WPe={prospecting:"bg-gray-500",negotiating:"bg-yellow-500",active:"bg-green-500",paused:"bg-orange-500",ended:"bg-red-500"};function GPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({partnerName:"",partnerType:"",contactName:"",contactEmail:"",contactPhone:"",website:"",description:"",benefits:"",status:"prospecting",ownerName:"",notes:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/admin/partnerships"]}),u=Ae({mutationFn:async g=>Ne("/api/admin/partnerships","POST",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/partnerships"]}),r(!1),p(),e({title:"Parceria criada com sucesso"})}}),f=Ae({mutationFn:async({id:g,data:P})=>Ne(`/api/admin/partnerships/${g}`,"PATCH",P),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/partnerships"]}),r(!1),s(null),p(),e({title:"Parceria atualizada com sucesso"})}}),h=Ae({mutationFn:async g=>Ne(`/api/admin/partnerships/${g}`,"DELETE"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/partnerships"]}),e({title:"Parceria removida com sucesso"})}}),p=()=>{o({partnerName:"",partnerType:"",contactName:"",contactEmail:"",contactPhone:"",website:"",description:"",benefits:"",status:"prospecting",ownerName:"",notes:""})},v=g=>{s(g),o({partnerName:g.partnerName,partnerType:g.partnerType||"",contactName:g.contactName||"",contactEmail:g.contactEmail||"",contactPhone:g.contactPhone||"",website:g.website||"",description:g.description||"",benefits:g.benefits||"",status:g.status||"prospecting",ownerName:g.ownerName||"",notes:g.notes||""}),r(!0)},N=()=>{a?f.mutate({id:a.id,data:i}):u.mutate(i)},j=l.reduce((g,P)=>{const C=P.partnerType||"outro";return g[C]||(g[C]=[]),g[C].push(P),g},{});return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-parcerias-title",children:"Parcerias"}),t.jsx("p",{className:"text-muted-foreground",children:"Gesto de parcerias estrategicas"})]}),t.jsxs(bt,{open:n,onOpenChange:g=>{r(g),g||(s(null),p())},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-partnership",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Parceria"]})}),t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Parceria":"Nova Parceria"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Nome do Parceiro *"}),t.jsx(J,{value:i.partnerName,onChange:g=>o({...i,partnerName:g.target.value}),"data-testid":"input-partner-name"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:i.partnerType,onValueChange:g=>o({...i,partnerType:g}),children:[t.jsx(_e,{"data-testid":"select-partner-type",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:QF.map(g=>t.jsx(ne,{value:g.value,children:g.label},g.value))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Contato"}),t.jsx(J,{value:i.contactName,onChange:g=>o({...i,contactName:g.target.value}),"data-testid":"input-partner-contact"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Email"}),t.jsx(J,{type:"email",value:i.contactEmail,onChange:g=>o({...i,contactEmail:g.target.value}),"data-testid":"input-partner-email"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Telefone"}),t.jsx(J,{value:i.contactPhone,onChange:g=>o({...i,contactPhone:g.target.value}),"data-testid":"input-partner-phone"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Website"}),t.jsx(J,{value:i.website,onChange:g=>o({...i,website:g.target.value}),"data-testid":"input-partner-website"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Status"}),t.jsxs(Oe,{value:i.status,onValueChange:g=>o({...i,status:g}),children:[t.jsx(_e,{"data-testid":"select-partner-status",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"prospecting",children:"Prospecao"}),t.jsx(ne,{value:"negotiating",children:"Negociando"}),t.jsx(ne,{value:"active",children:"Ativo"}),t.jsx(ne,{value:"paused",children:"Pausado"}),t.jsx(ne,{value:"ended",children:"Encerrado"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Descrio da Parceria"}),t.jsx(St,{value:i.description,onChange:g=>o({...i,description:g.target.value}),rows:2,"data-testid":"textarea-partner-description"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Beneficios"}),t.jsx(St,{value:i.benefits,onChange:g=>o({...i,benefits:g.target.value}),rows:2,"data-testid":"textarea-partner-benefits"})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(B,{children:"Responsavel MCG"}),t.jsx(J,{value:i.ownerName,onChange:g=>o({...i,ownerName:g.target.value}),"data-testid":"input-partner-owner"})]})}),t.jsxs("div",{children:[t.jsx(B,{children:"Observaes"}),t.jsx(St,{value:i.notes,onChange:g=>o({...i,notes:g.target.value}),rows:2,"data-testid":"textarea-partner-notes"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:N,disabled:!i.partnerName||u.isPending||f.isPending,"data-testid":"button-save-partnership",children:a?"Atualizar":"Criar"})]})]})]})]}),d?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhuma parceria cadastrada"})}):t.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([g,P])=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold mb-3 capitalize",children:QF.find(C=>C.value===g)?.label||g}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:P.map(C=>t.jsxs(ee,{"data-testid":`card-partnership-${C.id}`,children:[t.jsxs(de,{className:"pb-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx(ue,{className:"text-base",children:C.partnerName}),t.jsx(Ee,{className:`${WPe[C.status||"prospecting"]} text-white text-xs`,children:KPe[C.status||"prospecting"]})]}),C.description&&t.jsx(rt,{className:"line-clamp-2",children:C.description})]}),t.jsxs(te,{children:[t.jsxs("div",{className:"space-y-2 text-sm",children:[C.contactName&&t.jsxs("p",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Contato:"})," ",C.contactName]}),C.ownerName&&t.jsxs("p",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Responsavel:"})," ",C.ownerName]}),C.website&&t.jsxs("a",{href:C.website.startsWith("http")?C.website:`https://${C.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-primary",children:[t.jsx(Pc,{className:"h-3 w-3"}),"Website"]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>v(C),children:[t.jsx(er,{className:"h-3 w-3 mr-1"}),"Editar"]}),t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{confirm("Remover esta parceria?")&&h.mutate(C.id)},children:[t.jsx(Mt,{className:"h-3 w-3 mr-1"}),"Remover"]})]})]})]},C.id))})]},g))})]})})}const QPe=["Logstica","Gesto Comercial","Tecnologia","Mercado","Dicas","Casos de Sucesso","Novidades MCG"],YPe=["Transportadores","Embarcadores","Operadores Logisticos","Industria","Todos"],XPe={draft:"Rascunho",scheduled:"Agendado",published:"Publicado",archived:"Arquivado"};function ZPe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({title:"",excerpt:"",content:"",category:"",targetAudience:[],status:"draft",authorName:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/admin/posts"]}),u=Ae({mutationFn:async b=>Ne("/api/admin/posts","POST",b),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/posts"]}),r(!1),v(),e({title:"Post criado com sucesso"})}}),f=Ae({mutationFn:async({id:b,data:y})=>Ne(`/api/admin/posts/${b}`,"PATCH",y),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/posts"]}),r(!1),s(null),v(),e({title:"Post atualizado com sucesso"})}}),h=Ae({mutationFn:async b=>Ne(`/api/admin/posts/${b}`,"DELETE"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/posts"]}),e({title:"Post removido com sucesso"})}}),p=Ae({mutationFn:async b=>Ne(`/api/admin/posts/${b}`,"PATCH",{status:"published",publishedAt:new Date().toISOString()}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/posts"]}),e({title:"Post publicado com sucesso"})}}),v=()=>{o({title:"",excerpt:"",content:"",category:"",targetAudience:[],status:"draft",authorName:""})},N=b=>{s(b),o({title:b.title,excerpt:b.excerpt||"",content:b.content||"",category:b.category||"",targetAudience:b.targetAudience||[],status:b.status||"draft",authorName:b.authorName||""}),r(!0)},j=()=>{const b={...i,slug:i.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")};a?f.mutate({id:a.id,data:b}):u.mutate(b)},g=b=>b?new Date(b).toLocaleDateString("pt-BR"):"-",P=l.filter(b=>b.status==="draft"),C=l.filter(b=>b.status==="published");return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-conteudo-title",children:"Contedo / Blog"}),t.jsx("p",{className:"text-muted-foreground",children:"Gesto de contedos e publicaes"})]}),t.jsxs(bt,{open:n,onOpenChange:b=>{r(b),b||(s(null),v())},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-post",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Post"]})}),t.jsxs(yt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Post":"Novo Post"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Titulo *"}),t.jsx(J,{value:i.title,onChange:b=>o({...i,title:b.target.value}),"data-testid":"input-post-title"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Resumo"}),t.jsx(St,{value:i.excerpt,onChange:b=>o({...i,excerpt:b.target.value}),rows:2,placeholder:"Breve descrio do post...","data-testid":"textarea-post-excerpt"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Contedo"}),t.jsx(St,{value:i.content,onChange:b=>o({...i,content:b.target.value}),rows:8,placeholder:"Contedo completo do post...","data-testid":"textarea-post-content"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Categoria"}),t.jsxs(Oe,{value:i.category,onValueChange:b=>o({...i,category:b}),children:[t.jsx(_e,{"data-testid":"select-post-category",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:QPe.map(b=>t.jsx(ne,{value:b,children:b},b))})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Pblico-Alvo"}),t.jsxs(Oe,{value:i.targetAudience[0]||"",onValueChange:b=>o({...i,targetAudience:[b]}),children:[t.jsx(_e,{"data-testid":"select-post-audience",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:YPe.map(b=>t.jsx(ne,{value:b,children:b},b))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Autor"}),t.jsx(J,{value:i.authorName,onChange:b=>o({...i,authorName:b.target.value}),"data-testid":"input-post-author"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Status"}),t.jsxs(Oe,{value:i.status,onValueChange:b=>o({...i,status:b}),children:[t.jsx(_e,{"data-testid":"select-post-status",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"draft",children:"Rascunho"}),t.jsx(ne,{value:"scheduled",children:"Agendado"}),t.jsx(ne,{value:"published",children:"Publicado"}),t.jsx(ne,{value:"archived",children:"Arquivado"})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:j,disabled:!i.title||u.isPending||f.isPending,"data-testid":"button-save-post",children:a?"Atualizar":"Criar"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total de Posts"}),t.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold",children:l.length})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Rascunhos"}),t.jsx(ls,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold",children:P.length})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Publicados"}),t.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold",children:C.length})})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsx(ue,{children:"Todos os Posts"})}),t.jsx(te,{children:d?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhum post cadastrado"}):t.jsx("div",{className:"space-y-3",children:l.map(b=>t.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border rounded-md","data-testid":`card-post-${b.id}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[t.jsx("h3",{className:"font-medium",children:b.title}),t.jsx(Ee,{variant:b.status==="published"?"default":"outline",children:XPe[b.status||"draft"]}),b.category&&t.jsx(Ee,{variant:"secondary",children:b.category})]}),b.excerpt&&t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:b.excerpt}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[b.authorName&&t.jsxs("span",{children:["Por: ",b.authorName]}),b.publishedAt&&t.jsxs("span",{children:["Publicado: ",g(b.publishedAt)]}),t.jsxs("span",{children:["Visualizacoes: ",b.views||0]})]})]}),t.jsxs("div",{className:"flex gap-1",children:[b.status==="draft"&&t.jsx(H,{size:"sm",variant:"outline",onClick:()=>p.mutate(b.id),children:"Publicar"}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>N(b),children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>{confirm("Remover este post?")&&h.mutate(b.id)},children:t.jsx(Mt,{className:"h-4 w-4"})})]})]},b.id))})})]})]})})}const JPe={pending:"Pendente",sent:"Enviado",viewed:"Visualizado",signed:"Assinado",expired:"Expirado",cancelled:"Cancelado"},eEe={pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",viewed:"bg-purple-500/10 text-purple-500",signed:"bg-green-500/10 text-green-500",expired:"bg-red-500/10 text-red-500",cancelled:"bg-muted text-muted-foreground"},YF={consultoria:"Contrato de Consultoria",aplicativo:"Contrato do Aplicativo"};function tEe(){const{toast:e}=At(),[n,r]=w.useState("agreements"),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,d]=w.useState({type:"consultoria",name:"",version:"1.0",content:""}),[u,f]=w.useState(!1),[h,p]=w.useState({companyId:"",templateId:"",contractType:"consultoria",notes:""}),{data:v=[],isLoading:N}=Ve({queryKey:["/api/contract-templates"]}),{data:j=[],isLoading:g}=Ve({queryKey:["/api/contract-agreements"]}),{data:P=[]}=Ve({queryKey:["/api/admin/companies"]}),C=Ae({mutationFn:async D=>(await Ne("POST","/api/contract-templates",D)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/contract-templates"]}),s(!1),S(),e({title:"Modelo criado com sucesso!"})},onError:D=>{e({title:"Erro ao criar modelo",description:D.message,variant:"destructive"})}}),b=Ae({mutationFn:async({id:D,data:R})=>(await Ne("PATCH",`/api/contract-templates/${D}`,R)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/contract-templates"]}),s(!1),o(null),S(),e({title:"Modelo atualizado com sucesso!"})},onError:D=>{e({title:"Erro ao atualizar modelo",description:D.message,variant:"destructive"})}}),y=Ae({mutationFn:async D=>{await Ne("DELETE",`/api/contract-templates/${D}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/contract-templates"]}),e({title:"Modelo excluido com sucesso!"})}}),E=Ae({mutationFn:async D=>(await Ne("POST","/api/contract-agreements",{...D,companyId:parseInt(D.companyId),templateId:parseInt(D.templateId)})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/contract-agreements"]}),f(!1),k(),e({title:"Contrato enviado com sucesso!"})},onError:D=>{e({title:"Erro ao enviar contrato",description:D.message,variant:"destructive"})}}),S=()=>{d({type:"consultoria",name:"",version:"1.0",content:""})},k=()=>{p({companyId:"",templateId:"",contractType:"consultoria",notes:""})},T=D=>{o(D),d({type:D.type,name:D.name,version:D.version||"1.0",content:D.content||""}),s(!0)},z=()=>{i?b.mutate({id:i.id,data:l}):C.mutate(l)},Y=j.filter(D=>D.status==="pending"||D.status==="sent").length,F=j.filter(D=>D.status==="signed").length;return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Xt,{className:"h-6 w-6"}),"Contratos Digitais"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie modelos e contratos de clientes"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:t.jsx(Xt,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Modelos"}),t.jsx("p",{className:"text-2xl font-bold",children:v.length})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:t.jsx(Ai,{className:"h-5 w-5 text-yellow-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pendentes"}),t.jsx("p",{className:"text-2xl font-bold",children:Y})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:t.jsx(Ar,{className:"h-5 w-5 text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Assinados"}),t.jsx("p",{className:"text-2xl font-bold",children:F})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:t.jsx(nn,{className:"h-5 w-5 text-purple-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Empresas"}),t.jsx("p",{className:"text-2xl font-bold",children:P.length})]})]})})})]}),t.jsxs(js,{value:n,onValueChange:r,className:"space-y-4",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"agreements","data-testid":"tab-agreements",children:[t.jsx(m8,{className:"h-4 w-4 mr-2"}),"Contratos Enviados"]}),t.jsxs(Jt,{value:"templates","data-testid":"tab-templates",children:[t.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Modelos"]})]}),t.jsx(en,{value:"agreements",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 space-y-0",children:[t.jsxs("div",{children:[t.jsx(ue,{children:"Contratos Enviados"}),t.jsx(rt,{children:"Contratos enviados para assinatura dos clientes"})]}),t.jsxs(H,{onClick:()=>f(!0),"data-testid":"button-new-agreement",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Enviar Contrato"]})]}),t.jsx(te,{children:g?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):j.length===0?t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nenhum contrato enviado ainda"}):t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Empresa"}),t.jsx(nt,{children:"Tipo"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{children:"Emitido"}),t.jsx(nt,{children:"Assinado"})]})}),t.jsx(aa,{children:j.map(D=>{const R=P.find(q=>q.id===D.companyId);return t.jsxs(bn,{children:[t.jsx(et,{className:"font-medium",children:R?.name||`Empresa #${D.companyId}`}),t.jsx(et,{children:YF[D.contractType]||D.contractType}),t.jsx(et,{children:t.jsx(Ee,{className:eEe[D.status||"pending"],children:JPe[D.status||"pending"]})}),t.jsx(et,{children:D.issuedAt?Yt(new Date(D.issuedAt),"dd/MM/yyyy",{locale:Jn}):"-"}),t.jsx(et,{children:D.signedAt?Yt(new Date(D.signedAt),"dd/MM/yyyy",{locale:Jn}):"-"})]},D.id)})})]})})]})}),t.jsx(en,{value:"templates",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4 space-y-0",children:[t.jsxs("div",{children:[t.jsx(ue,{children:"Modelos de Contrato"}),t.jsx(rt,{children:"Templates de contrato disponiveis para envio"})]}),t.jsxs(H,{onClick:()=>s(!0),"data-testid":"button-new-template",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Modelo"]})]}),t.jsx(te,{children:N?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):v.length===0?t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nenhum modelo criado ainda"}):t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Nome"}),t.jsx(nt,{children:"Tipo"}),t.jsx(nt,{children:"Versao"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{children:"Acoes"})]})}),t.jsx(aa,{children:v.map(D=>t.jsxs(bn,{children:[t.jsx(et,{className:"font-medium",children:D.name}),t.jsx(et,{children:YF[D.type]||D.type}),t.jsx(et,{children:D.version}),t.jsx(et,{children:t.jsx(Ee,{variant:D.isActive?"default":"secondary",children:D.isActive?"Ativo":"Inativo"})}),t.jsx(et,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>T(D),"data-testid":`button-edit-template-${D.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>y.mutate(D.id),"data-testid":`button-delete-template-${D.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},D.id))})]})})]})})]}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{className:"max-w-2xl",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:i?"Editar Modelo":"Novo Modelo de Contrato"}),t.jsx(tn,{children:i?"Atualize as informaes do modelo":"Crie um novo modelo de contrato"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tipo"}),t.jsxs(Oe,{value:l.type,onValueChange:D=>d({...l,type:D}),children:[t.jsx(_e,{"data-testid":"select-template-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"consultoria",children:"Contrato de Consultoria"}),t.jsx(ne,{value:"aplicativo",children:"Contrato do Aplicativo"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Versao"}),t.jsx(J,{value:l.version,onChange:D=>d({...l,version:D.target.value}),placeholder:"1.0","data-testid":"input-template-version"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nome do Modelo"}),t.jsx(J,{value:l.name,onChange:D=>d({...l,name:D.target.value}),placeholder:"Ex: Contrato de Consultoria Padrao","data-testid":"input-template-name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Contedo do Contrato"}),t.jsx(St,{value:l.content,onChange:D=>d({...l,content:D.target.value}),placeholder:"Insira o texto do contrato aqui...",className:"min-h-[200px]","data-testid":"input-template-content"})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>{s(!1),o(null),S()},children:"Cancelar"}),t.jsx(H,{onClick:z,disabled:!l.name||C.isPending||b.isPending,"data-testid":"button-save-template",children:C.isPending||b.isPending?"Salvando...":i?"Atualizar":"Criar Modelo"})]})]})}),t.jsx(bt,{open:u,onOpenChange:f,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Enviar Contrato"}),t.jsx(tn,{children:"Selecione a empresa e o modelo de contrato para enviar"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Empresa"}),t.jsxs(Oe,{value:h.companyId,onValueChange:D=>p({...h,companyId:D}),children:[t.jsx(_e,{"data-testid":"select-agreement-company",children:t.jsx(Me,{placeholder:"Selecione a empresa"})}),t.jsx(Te,{children:P.map(D=>t.jsx(ne,{value:String(D.id),children:D.name},D.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tipo de Contrato"}),t.jsxs(Oe,{value:h.contractType,onValueChange:D=>p({...h,contractType:D}),children:[t.jsx(_e,{"data-testid":"select-agreement-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"consultoria",children:"Contrato de Consultoria"}),t.jsx(ne,{value:"aplicativo",children:"Contrato do Aplicativo"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Modelo"}),t.jsxs(Oe,{value:h.templateId,onValueChange:D=>p({...h,templateId:D}),children:[t.jsx(_e,{"data-testid":"select-agreement-template",children:t.jsx(Me,{placeholder:"Selecione o modelo"})}),t.jsx(Te,{children:v.filter(D=>D.type===h.contractType&&D.isActive).map(D=>t.jsxs(ne,{value:String(D.id),children:[D.name," (v",D.version,")"]},D.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Observaes (opcional)"}),t.jsx(St,{value:h.notes,onChange:D=>p({...h,notes:D.target.value}),placeholder:"Observaes adicionais...","data-testid":"input-agreement-notes"})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>{f(!1),k()},children:"Cancelar"}),t.jsx(H,{onClick:()=>E.mutate(h),disabled:!h.companyId||!h.templateId||E.isPending,"data-testid":"button-send-agreement",children:E.isPending?"Enviando...":"Enviar Contrato"})]})]})})]})})}const nEe=["alimenticio","embalagem","qumico","farmacutico","cosmtico","automotivo","eletrnico","txtil","metalrgico","plstico","papel_celulose","bebidas","agroindustria","construo","outro"],XF={alimenticio:"Alimenticio",embalagem:"Embalagem",quimico:"Qumico",farmaceutico:"Farmacutico",cosmetico:"Cosmtico",automotivo:"Automotivo",eletronico:"Eletrnico",textil:"Txtil",metalurgico:"Metalrgico",plastico:"Plstico",papel_celulose:"Papel e Celulose",bebidas:"Bebidas",agroindustria:"Agroindustria",construcao:"Construo",outro:"Outro"},rEe=["comercial","direo","qualidade","planejamento","financeiro","op_transporte","op_distribuio","op_armazenagem","grisco","ti","compras","contbil_fiscal","rh","jurdico","cliente_teste","boas_vindas","relacionamento","encerramento"],aEe={comercial:"Comercial",direcao:"Direo",qualidade:"Qualidade",planejamento:"Planejamento",financeiro:"Financeiro",op_transporte:"Op. Transporte",op_distribuio:"Op. Distribuio",op_armazenagem:"Op. Armazenagem",grisco:"GRISCO",ti:"T.I",compras:"Compras",contbil_fiscal:"Contbil/Fiscal",rh:"RH",jurdico:"Jurdico",cliente_teste:"Cliente em Teste",boas_vindas:"Boas Vindas",relacionamento:"Relacionamento",encerramento:"Encerramento"},wg={name:"",description:"",segment:"",industryName:"",priceInCents:9900,isActive:!0,templateData:{clienteNome:"",historia:"",localizacao:"",segmentoDetalhado:"",produto:"",nmeros:"",noticias:"",mercado:"",oportunidades:"",pipeline:"",sections:rEe.map(e=>({name:e,responsavel:"",parecer:"",ePerfil:!1,dataInicio:"",dataConclusao:"",observaes:""}))}};function sEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(wg),[l,d]=w.useState("info"),{data:u=[],isLoading:f}=Ve({queryKey:["/api/checklist-templates"]}),h=Ae({mutationFn:async S=>(await Ne("POST","/api/checklist-templates",S)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/checklist-templates"]}),e({title:"Template criado com sucesso"}),g()},onError:S=>{e({title:"Erro ao criar template",description:S.message,variant:"destructive"})}}),p=Ae({mutationFn:async({id:S,data:k})=>(await Ne("PATCH",`/api/checklist-templates/${S}`,k)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/checklist-templates"]}),e({title:"Template atualizado com sucesso"}),g()},onError:S=>{e({title:"Erro ao atualizar template",description:S.message,variant:"destructive"})}}),v=Ae({mutationFn:async S=>{await Ne("DELETE",`/api/checklist-templates/${S}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/checklist-templates"]}),e({title:"Template excluido com sucesso"})},onError:S=>{e({title:"Erro ao excluir template",description:S.message,variant:"destructive"})}}),N=()=>{s(null),o(wg),d("info"),r(!0)},j=S=>{s(S),o({name:S.name,description:S.description||"",segment:S.segment,industryName:S.industryName||"",priceInCents:S.priceInCents||9900,isActive:S.isActive??!0,templateData:S.templateData||wg.templateData}),d("info"),r(!0)},g=()=>{r(!1),s(null),o(wg)},P=()=>{if(!i.name||!i.segment){e({title:"Campos obrigatorios",description:"Nome e segmento sao obrigatorios",variant:"destructive"});return}a?p.mutate({id:a.id,data:i}):h.mutate(i)},C=S=>{confirm("Tem certeza que deseja excluir este template?")&&v.mutate(S)},b=(S,k,T)=>{const z=[...i.templateData.sections||[]];z[S]={...z[S],[k]:T},o({...i,templateData:{...i.templateData,sections:z}})},y=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S/100),E=h.isPending||p.isPending;return t.jsxs(Ot,{title:"Admin MCG",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-admin-templates-title",children:"Biblioteca de Templates"}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie os templates de checklist disponiveis para venda"})]}),t.jsxs(H,{onClick:N,"data-testid":"button-create-template",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Template"]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(gc,{className:"h-5 w-5"}),"Templates Cadastrados"]}),t.jsxs(rt,{children:[u.length," template(s) cadastrado(s)"]})]}),t.jsx(te,{children:f?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(cn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):u.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum template cadastrado ainda"}):t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Nome"}),t.jsx(nt,{children:"Segmento"}),t.jsx(nt,{children:"Industria Base"}),t.jsx(nt,{children:"Preco"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:u.map(S=>t.jsxs(bn,{"data-testid":`row-template-${S.id}`,children:[t.jsx(et,{className:"font-medium",children:S.name}),t.jsx(et,{children:t.jsx(Ee,{variant:"secondary",children:XF[S.segment]||S.segment})}),t.jsx(et,{children:S.industryName||"-"}),t.jsx(et,{children:y(S.priceInCents||0)}),t.jsx(et,{children:t.jsx(Ee,{variant:S.isActive?"default":"outline",children:S.isActive?"Ativo":"Inativo"})}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>j(S),"data-testid":`button-edit-template-${S.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>C(S.id),"data-testid":`button-delete-template-${S.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})]}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Template":"Novo Template"}),t.jsx(tn,{children:"Preencha os dados do template de checklist"})]}),t.jsxs(js,{value:l,onValueChange:d,children:[t.jsxs(qa,{className:"grid w-full grid-cols-3",children:[t.jsx(Jt,{value:"info",children:"Informaes"}),t.jsx(Jt,{value:"perfil",children:"Perfil Cliente"}),t.jsx(Jt,{value:"sees",children:"Secoes (18)"})]}),t.jsxs(en,{value:"info",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"name",children:"Nome do Template *"}),t.jsx(J,{id:"name",value:i.name,onChange:S=>o({...i,name:S.target.value}),placeholder:"Ex: Checklist Industria Alimenticia Completo","data-testid":"input-template-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"segment",children:"Segmento *"}),t.jsxs(Oe,{value:i.segment,onValueChange:S=>o({...i,segment:S}),children:[t.jsx(_e,{"data-testid":"select-template-segment",children:t.jsx(Me,{placeholder:"Selecione o segmento"})}),t.jsx(Te,{children:nEe.map(S=>t.jsx(ne,{value:S,children:XF[S]},S))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"industryName",children:"Industria Base (referencia)"}),t.jsx(J,{id:"industryName",value:i.industryName,onChange:S=>o({...i,industryName:S.target.value}),placeholder:"Ex: BRF, Ambev, Natura","data-testid":"input-template-industry"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"price",children:"Preco (R$)"}),t.jsx(J,{id:"price",type:"number",value:i.priceInCents/100,onChange:S=>o({...i,priceInCents:Math.round(parseFloat(S.target.value||"0")*100)}),placeholder:"99.00","data-testid":"input-template-price"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"description",children:"Descrio"}),t.jsx(St,{id:"description",value:i.description,onChange:S=>o({...i,description:S.target.value}),placeholder:"Descreva o que este template inclui...",rows:3,"data-testid":"input-template-description"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ea,{checked:i.isActive,onCheckedChange:S=>o({...i,isActive:S}),"data-testid":"switch-template-active"}),t.jsx(B,{children:"Template ativo (visivel na biblioteca)"})]})]}),t.jsxs(en,{value:"perfil",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do Cliente Modelo"}),t.jsx(J,{value:i.templateData.clienteNome||"",onChange:S=>o({...i,templateData:{...i.templateData,clienteNome:S.target.value}}),placeholder:"Nome ficticio ou anonimizado"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Segmento Detalhado"}),t.jsx(J,{value:i.templateData.segmentoDetalhado||"",onChange:S=>o({...i,templateData:{...i.templateData,segmentoDetalhado:S.target.value}}),placeholder:"Ex: Industria de processados congelados"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Historia/Contexto"}),t.jsx(St,{value:i.templateData.historia||"",onChange:S=>o({...i,templateData:{...i.templateData,historia:S.target.value}}),placeholder:"Histrico da empresa, fundacao, evolucao...",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Localizacao"}),t.jsx(J,{value:i.templateData.localizacao||"",onChange:S=>o({...i,templateData:{...i.templateData,localizacao:S.target.value}}),placeholder:"Ex: SP, RJ, Nacional"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Produto Principal"}),t.jsx(J,{value:i.templateData.produto||"",onChange:S=>o({...i,templateData:{...i.templateData,produto:S.target.value}}),placeholder:"Ex: Alimentos congelados"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nmeros/Indicadores"}),t.jsx(St,{value:i.templateData.nmeros||"",onChange:S=>o({...i,templateData:{...i.templateData,nmeros:S.target.value}}),placeholder:"Faturamento, funcionarios, volume...",rows:2})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Mercado"}),t.jsx(St,{value:i.templateData.mercado||"",onChange:S=>o({...i,templateData:{...i.templateData,mercado:S.target.value}}),placeholder:"Market share, posicionamento, concorrencia...",rows:2})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Oportunidades"}),t.jsx(St,{value:i.templateData.oportunidades||"",onChange:S=>o({...i,templateData:{...i.templateData,oportunidades:S.target.value}}),placeholder:"BID, Cotacao, Projetos, Spot...",rows:2})]})]}),t.jsxs(en,{value:"sees",className:"space-y-4 mt-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"Preencha as informaes de cada secao do checklist. Estes dados servirao de modelo para os clientes."}),t.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2",children:(i.templateData.sections||[]).map((S,k)=>t.jsxs(ee,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[t.jsxs("h4",{className:"font-medium",children:[k+1,". ",aEe[S.name]||S.name]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(B,{className:"text-sm",children:"E Perfil?"}),t.jsx(ea,{checked:S.ePerfil||!1,onCheckedChange:T=>b(k,"ePerfil",T)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Responsavel"}),t.jsx(J,{value:S.responsavel||"",onChange:T=>b(k,"responsvel",T.target.value),placeholder:"Nome do responsavel",className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(B,{className:"text-xs",children:"Parecer"}),t.jsx(J,{value:S.parecer||"",onChange:T=>b(k,"parecer",T.target.value),placeholder:"Parecer/conclusao",className:"h-8 text-sm"})]})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx(B,{className:"text-xs",children:"Observaes"}),t.jsx(St,{value:S.observaes||"",onChange:T=>b(k,"observaes",T.target.value),placeholder:"Observaes e detalhes...",rows:2,className:"text-sm"})]})]},S.name))})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 pt-4 border-t",children:[t.jsxs(H,{variant:"outline",onClick:g,disabled:E,children:[t.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),t.jsxs(H,{onClick:P,disabled:E,"data-testid":"button-save-template",children:[E?t.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Salvar Template"]})]})]})})]})}const iEe={companyName:"",contactName:"",segment:"",pilotDays:"30",customMessage:""},eS=[{value:"transportadora",label:"Transportadora"},{value:"operador_logistico",label:"Operador Logistico"},{value:"industria",label:"Industria com Logstica"},{value:"armazem",label:"Armazem / CD"},{value:"embarcador",label:"Embarcador"},{value:"outro",label:"Outro"}],oEe=[{icon:Po,text:"Calculadoras de frete e armazenagem profissionais"},{icon:wi,text:"Checklist completo para diagnstico de clientes"},{icon:nn,text:"CRM especializado para logstica"},{icon:pn,text:"Dashboard com indicadores comerciais"},{icon:ls,text:"Calendrio comercial integrado"},{icon:xo,text:"Suporte prioritario durante o piloto"}];function lEe(){const e=hL(),[n,r]=w.useState(iEe),[a,s]=w.useState(null),{toast:i}=At();w.useEffect(()=>{if(e){const f=new URLSearchParams(e),h=f.get("company"),p=f.get("contact"),v=f.get("segment");(h||p||v)&&r(N=>({...N,companyName:h||N.companyName,contactName:p||N.contactName,segment:v||N.segment}))}},[e]);const o=(f,h)=>{r(p=>({...p,[f]:h}))},l=()=>{const f=eS.find(h=>h.value===n.segment)?.label||n.segment;return`Assunto: Convite Exclusivo - Programa Piloto MCG Consultoria

Prezado(a) ${n.contactName||"[Nome do Contato]"},

E um prazer entrar em contato com voce da ${n.companyName||"[Nome da Empresa]"}.

A MCG Consultoria esta selecionando empresas do segmento de ${f||"logstica"} para participar do nosso Programa Piloto exclusivo, e acreditamos que sua empresa seria uma candidata ideal.

O QUE E O PROGRAMA PILOTO?

Durante ${n.pilotDays} dias, sua empresa tera acesso GRATUITO a nossa plataforma completa de gesto comercial para logstica, incluindo:

- Calculadoras profissionais de frete e armazenagem (com base ANTT)
- CRM especializado para operaes logsticas
- Checklist de diagnstico para prospectos e clientes
- Dashboard com indicadores ABC, por estado e segmento
- Calendrio comercial integrado
- Modulo de RFI (Request for Information) para participar de BIDs

O QUE ESPERAMOS EM TROCA?

Apenas seu feedback honesto sobre a plataforma:
- O que funcionou bem?
- O que pode melhorar?
- A ferramenta resolveu algum problema real?

Se autorizado, gostariaamos de usar seu depoimento como case de sucesso.

${n.customMessage?`MENSAGEM PESSOAL:
${n.customMessage}
`:""}
PROXIMO PASSO

Clique no link abaixo para criar sua conta gratuita e comecar o piloto:
[LINK DE CADASTRO]

Ou responda este email para agendarmos uma demonstracao de 20 minutos.

Estamos ansiosos para ter voces conosco nessa jornada!

Atenciosamente,

Equipe MCG Consultoria
comercial@mcgconsultoria.com.br

---
MCG Consultoria - Gesto Comercial para Logstica
www.mcgconsultoria.com.br`},d=()=>{const f=eS.find(h=>h.value===n.segment)?.label||n.segment;return`Ola ${n.contactName||"[Nome]"}! Tudo bem?

Sou da MCG Consultoria e estamos selecionando empresas de *${f||"logstica"}* para nosso *Programa Piloto*.

Durante *${n.pilotDays} dias GRATUITOS*, a ${n.companyName||"[Empresa]"} tera acesso a:

- Calculadoras de frete/armazenagem (base ANTT)
- CRM especializado para logstica
- Checklists de diagnstico comercial
- Dashboard com indicadores

*O que pedimos?* Apenas seu feedback honesto sobre a plataforma.

${n.customMessage?`${n.customMessage}

`:""}Posso te contar mais detalhes? Ou prefere ja acessar direto pelo link?

Abracos!
Equipe MCG`},u=async f=>{const h=f==="email"?l():d();await navigator.clipboard.writeText(h),s(f),i({title:"Copiado!",description:`Template de ${f==="email"?"email":"WhatsApp"} copiado para a area de transferencia.`}),setTimeout(()=>s(null),2e3)};return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Campanha Piloto"}),t.jsx("p",{className:"text-muted-foreground",children:"Gere convites personalizados para empresas participarem do programa piloto"})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),"Dados da Empresa Convidada"]}),t.jsx(rt,{children:"Preencha as informaes para personalizar o convite"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"companyName",children:"Nome da Empresa"}),t.jsx(J,{id:"companyName",placeholder:"Ex: Transporte Exemplo Ltda",value:n.companyName,onChange:f=>o("companyName",f.target.value),"data-testid":"input-company-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"contactName",children:"Nome do Contato"}),t.jsx(J,{id:"contactName",placeholder:"Ex: Joao Silva",value:n.contactName,onChange:f=>o("contactName",f.target.value),"data-testid":"input-contact-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"segment",children:"Segmento"}),t.jsxs(Oe,{value:n.segment,onValueChange:f=>o("segment",f),children:[t.jsx(_e,{"data-testid":"select-segment",children:t.jsx(Me,{placeholder:"Selecione o segmento"})}),t.jsx(Te,{children:eS.map(f=>t.jsx(ne,{value:f.value,children:f.label},f.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"pilotDays",children:"Duracao do Piloto (dias)"}),t.jsxs(Oe,{value:n.pilotDays,onValueChange:f=>o("pilotDays",f),children:[t.jsx(_e,{"data-testid":"select-pilot-days",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"15",children:"15 dias"}),t.jsx(ne,{value:"30",children:"30 dias"}),t.jsx(ne,{value:"45",children:"45 dias"}),t.jsx(ne,{value:"60",children:"60 dias"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"customMessage",children:"Mensagem Personalizada (opcional)"}),t.jsx(St,{id:"customMessage",placeholder:"Adicione uma mensagem pessoal ao convite...",value:n.customMessage,onChange:f=>o("customMessage",f.target.value),rows:3,"data-testid":"textarea-custom-message"})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(sp,{className:"h-5 w-5"}),"Beneficios do Programa Piloto"]})}),t.jsx(te,{children:t.jsx("div",{className:"grid gap-3",children:oEe.map((f,h)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:t.jsx(f.icon,{className:"h-4 w-4 text-primary"})}),t.jsx("span",{className:"text-sm",children:f.text})]},h))})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5"}),"Template de Email"]}),t.jsx(rt,{children:"Convite formal por email"})]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>u("email"),"data-testid":"button-copy-email",children:[a==="email"?t.jsx(ms,{className:"h-4 w-4 mr-1"}):t.jsx(Zg,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),t.jsx(te,{children:t.jsx("div",{className:"bg-muted/50 rounded-md p-4 text-sm whitespace-pre-wrap font-mono max-h-[300px] overflow-y-auto",children:l()})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(xo,{className:"h-5 w-5"}),"Template de WhatsApp"]}),t.jsx(rt,{children:"Mensagem mais direta para WhatsApp"})]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>u("whatsapp"),"data-testid":"button-copy-whatsapp",children:[a==="whatsapp"?t.jsx(ms,{className:"h-4 w-4 mr-1"}):t.jsx(Zg,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),t.jsx(te,{children:t.jsx("div",{className:"bg-muted/50 rounded-md p-4 text-sm whitespace-pre-wrap font-mono max-h-[200px] overflow-y-auto",children:d()})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(hn,{className:"h-5 w-5"}),"Dicas para o Programa Piloto"]})}),t.jsxs(te,{className:"space-y-3 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"1"}),t.jsx("span",{children:"Selecione 3-5 empresas para comecar - nmero gerenciavel para coletar feedback"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"2"}),t.jsx("span",{children:"Escolha empresas de diferentes segmentos para validar varios casos de uso"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"3"}),t.jsx("span",{children:"Agende reunioes semanais de 15 min para acompanhar o uso e coletar feedback"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"4"}),t.jsx("span",{children:"Documente os problemas que a ferramenta resolveu - isso vira material de vendas"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"5"}),t.jsx("span",{children:"Ao final, peca um depoimento escrito ou em video (case de sucesso)"})]})]})]})]})]})]})})}const ZF={novo:{label:"Novo",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},contatado:{label:"Contatado",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},interessado:{label:"Interessado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},em_negociao:{label:"Em Negociao",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},convertido:{label:"Convertido",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},perdido:{label:"Perdido",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},JF={iniciante:{label:"Iniciante",color:"text-red-600",icon:zy},basico:{label:"Basico",color:"text-orange-600",icon:Hr},intermediario:{label:"Intermedirio",color:"text-yellow-600",icon:Ai},avancado:{label:"Avancado",color:"text-green-600",icon:ms}},cEe=[{status:"novo",label:"Novos Leads",icon:hn},{status:"contatado",label:"Contatados",icon:lp},{status:"interessado",label:"Interessados",icon:Dr},{status:"em_negociao",label:"Em Negociao",icon:pn},{status:"convertido",label:"Convertidos",icon:ms}];function dEe(){const{toast:e}=At(),[,n]=wa(),[r,a]=w.useState(""),[s,i]=w.useState("all"),[o,l]=w.useState(null),[d,u]=w.useState(!1),[f,h]=w.useState({status:"",notes:"",followUpDate:"",assignedTo:""}),p=k=>{const T=new URLSearchParams({company:k.company||"",contact:k.name,segment:k.segment||""});u(!1),n(`/admin/campanha-piloto?${T.toString()}`)},{data:v=[],isLoading:N,refetch:j}=Ve({queryKey:["/api/diagnostic-leads"]}),g=Ae({mutationFn:async({id:k,data:T})=>(await Ne("PATCH",`/api/diagnostic-leads/${k}`,T)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/diagnostic-leads"]}),e({title:"Sucesso",description:"Lead atualizado com sucesso."}),u(!1)},onError:()=>{e({title:"Erro",description:"Falha ao atualizar lead.",variant:"destructive"})}}),P=(k,T)=>{g.mutate({id:k.id,data:{status:T}})},C=()=>{o&&g.mutate({id:o.id,data:{status:f.status,notes:f.notes||null,followUpDate:f.followUpDate?new Date(f.followUpDate):null,assignedTo:f.assignedTo||null}})},b=k=>{l(k),h({status:k.status||"novo",notes:k.notes||"",followUpDate:k.followUpDate?Yt(new Date(k.followUpDate),"yyyy-MM-dd"):"",assignedTo:k.assignedTo||""}),u(!0)},y=v.filter(k=>{const T=k.name.toLowerCase().includes(r.toLowerCase())||k.email.toLowerCase().includes(r.toLowerCase())||(k.company?.toLowerCase().includes(r.toLowerCase())??!1),z=s==="all"||k.maturityLevel===s;return T&&z}),E=k=>y.filter(T=>(T.status||"novo")===k),S={total:v.length,novo:v.filter(k=>(k.status||"novo")==="novo").length,convertido:v.filter(k=>k.status==="convertido").length,avgScore:v.length>0?Math.round(v.reduce((k,T)=>k+T.percentage,0)/v.length):0};return N?t.jsx(Ot,{title:"Admin MCG",children:t.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:t.jsx(to,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):t.jsxs(Ot,{title:"Admin MCG",children:[t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Leads do Diagnstico"}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie os leads capturados pelo diagnstico comercial"})]}),t.jsxs(H,{variant:"outline",onClick:()=>j(),"data-testid":"button-refresh-leads",children:[t.jsx(to,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(hn,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S.total}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Leads"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:t.jsx(Ai,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S.novo}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando Contato"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:t.jsx(ms,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S.convertido}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Convertidos"})]})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900",children:t.jsx(pn,{className:"h-5 w-5 text-orange-600 dark:text-orange-300"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[S.avgScore,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Score Medio"})]})]})})})]}),t.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[t.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar por nome, email ou empresa...",value:r,onChange:k=>a(k.target.value),className:"pl-10","data-testid":"input-search-leads"})]}),t.jsxs(Oe,{value:s,onValueChange:i,children:[t.jsxs(_e,{className:"w-[180px]","data-testid":"select-filter-maturity",children:[t.jsx(sm,{className:"h-4 w-4 mr-2"}),t.jsx(Me,{placeholder:"Maturidade"})]}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todas"}),t.jsx(ne,{value:"iniciante",children:"Iniciante"}),t.jsx(ne,{value:"basico",children:"Basico"}),t.jsx(ne,{value:"intermedirio",children:"Intermediario"}),t.jsx(ne,{value:"avancado",children:"Avancado"})]})]})]}),t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:cEe.map(k=>{const T=E(k.status),z=k.icon;return t.jsx("div",{className:"flex-shrink-0 w-[300px]",children:t.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"font-medium text-sm",children:k.label})]}),t.jsx(Ee,{variant:"secondary",children:T.length})]}),t.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:T.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum lead"}):T.map(Y=>{const F=JF[Y.maturityLevel]||JF.iniciante,D=F.icon;return t.jsx(ee,{className:"cursor-pointer hover-elevate",onClick:()=>b(Y),"data-testid":`card-lead-${Y.id}`,children:t.jsxs(te,{className:"p-3 space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium truncate",children:Y.name}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Y.company})]}),t.jsxs(qH,{children:[t.jsx(VH,{asChild:!0,onClick:R=>R.stopPropagation(),children:t.jsx(H,{variant:"ghost",size:"icon",className:"h-6 w-6",children:t.jsx(IZ,{className:"h-4 w-4"})})}),t.jsx(Qk,{align:"end",children:Object.entries(ZF).map(([R,q])=>t.jsxs(jy,{onClick:Q=>{Q.stopPropagation(),P(Y,R)},children:[t.jsx(po,{className:"h-4 w-4 mr-2"}),"Mover para ",q.label]},R))})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsx(Ks,{className:"h-3 w-3"}),t.jsx("span",{className:"truncate",children:Y.email})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(D,{className:`h-4 w-4 ${F.color}`}),t.jsxs("span",{className:`text-xs font-medium ${F.color}`,children:[Y.percentage,"%"]})]}),Y.createdAt&&t.jsx("span",{className:"text-xs text-muted-foreground",children:Yt(new Date(Y.createdAt),"dd/MM",{locale:Jn})})]})]})},Y.id)})})]})},k.status)})})]}),t.jsx(bt,{open:d,onOpenChange:u,children:t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Detalhes do Lead"}),t.jsxs(tn,{children:[o?.name," - ",o?.company]})]}),o&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:o.email})]}),o.phone&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:o.phone})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:o.company||"-"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs("span",{className:"text-sm",children:["Score: ",o.percentage,"%"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Status"}),t.jsxs(Oe,{value:f.status,onValueChange:k=>h(T=>({...T,status:k})),children:[t.jsx(_e,{"data-testid":"select-lead-status",children:t.jsx(Me,{})}),t.jsx(Te,{children:Object.entries(ZF).map(([k,T])=>t.jsx(ne,{value:k,children:T.label},k))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Responsavel"}),t.jsx(J,{value:f.assignedTo,onChange:k=>h(T=>({...T,assignedTo:k.target.value})),placeholder:"Nome do responsavel","data-testid":"input-lead-assigned"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data de Follow-up"}),t.jsx(J,{type:"date",value:f.followUpDate,onChange:k=>h(T=>({...T,followUpDate:k.target.value})),"data-testid":"input-lead-followup"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Anotacoes"}),t.jsx(St,{value:f.notes,onChange:k=>h(T=>({...T,notes:k.target.value})),placeholder:"Adicione anotacoes sobre o lead...",rows:3,"data-testid":"textarea-lead-notes"})]}),t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsxs(H,{variant:"outline",onClick:()=>p(o),"data-testid":"button-generate-pilot-invite",children:[t.jsx(sp,{className:"h-4 w-4 mr-2"}),"Gerar Convite Piloto"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),t.jsx(H,{onClick:C,disabled:g.isPending,"data-testid":"button-save-lead",children:g.isPending?"Salvando...":"Salvar"})]})]})]})]})})]})}const uEe=De.object({email:De.string().email("Email invlido"),password:De.string().min(1,"Senha obrigatoria")});function En(){const[,e]=wa(),{toast:n}=At(),[r,a]=w.useState(!1),s=hs({resolver:ps(uEe),defaultValues:{email:"",password:""}}),i=Ae({mutationFn:async l=>(await Ne("POST","/api/auth/login",l)).json(),onSuccess:l=>{if(l.user?.role!=="admin"&&l.user?.role!=="admin_mcg"){n({title:"Acesso negado",description:"Voce nao tem permissao para acessar a area administrativa.",variant:"destructive"});return}Ce.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Bem-vindo, Admin",description:"Acesso ao painel administrativo concedido."}),e("/admin")},onError:l=>{n({title:"Erro no login",description:l.message||"Credenciais invalidas",variant:"destructive"})}}),o=l=>{i.mutate(l)};return t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs(ee,{className:"w-full max-w-md",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(Hs,{className:"h-8 w-8 text-primary"})}),t.jsx(ue,{className:"text-2xl",children:"Admin MCG"}),t.jsx(rt,{children:"Area restrita para administradores"})]}),t.jsxs(te,{children:[t.jsx(xs,{...s,children:t.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[t.jsx(Qe,{control:s.control,name:"email",render:({field:l})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",placeholder:"admin@mcgconsultoria.com.br","data-testid":"input-admin-email",...l})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:s.control,name:"password",render:({field:l})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:r?"text":"password",placeholder:"Sua senha","data-testid":"input-admin-password",...l}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>a(!r),children:r?t.jsx(hu,{className:"h-4 w-4 text-muted-foreground"}):t.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})})]})}),t.jsx(Ze,{})]})}),t.jsx(H,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-admin-login",children:i.isPending?"Entrando...":"Acessar Painel"})]})}),t.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:t.jsx(it,{href:"/login",className:"text-primary hover:underline","data-testid":"link-user-login",children:"Voltar ao login de usuarios"})})]})]})}),t.jsx("footer",{className:"border-t border-border py-4",children:t.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"MCG Consultoria - Gesto Interna"})})]})}const e6={receita:{label:"Receita",color:"text-emerald-600 dark:text-emerald-400",icon:pn},custo:{label:"Custo",color:"text-amber-600 dark:text-amber-400",icon:Ao},despesa:{label:"Despesa",color:"text-red-600 dark:text-red-400",icon:ba}};function mEe(){const{toast:e}=At(),[n,r]=w.useState(new Set([1,2,3,4])),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,d]=w.useState({code:"",name:"",nature:"receita",type:"",parentId:""}),{data:u=[],isLoading:f}=Ve({queryKey:["/api/dre-accounts"]}),h=Ae({mutationFn:async S=>Ne("POST","/api/dre-accounts",{...S,parentId:S.parentId?parseInt(S.parentId):null,level:S.code.split(".").length}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/dre-accounts"]}),s(!1),j(),e({title:"Conta criada com sucesso"})}}),p=Ae({mutationFn:async({id:S,data:k})=>Ne("PATCH",`/api/dre-accounts/${S}`,{...k,parentId:k.parentId?parseInt(k.parentId):null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/dre-accounts"]}),s(!1),o(null),j(),e({title:"Conta atualizada com sucesso"})}}),v=Ae({mutationFn:async S=>Ne("DELETE",`/api/dre-accounts/${S}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/dre-accounts"]}),e({title:"Conta removida com sucesso"})}}),N=Ae({mutationFn:async()=>Ne("POST","/api/dre-accounts/seed"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/dre-accounts"]}),e({title:"Plano de contas padrao criado com sucesso"})}}),j=()=>{d({code:"",name:"",nature:"receita",type:"",parentId:""})},g=S=>{o(S),d({code:S.code,name:S.name,nature:S.nature,type:S.type||"",parentId:S.parentId?.toString()||""}),s(!0)},P=()=>{i?p.mutate({id:i.id,data:l}):h.mutate(l)},C=S=>{const k=new Set(n);k.has(S)?k.delete(S):k.add(S),r(k)},b=(S,k=null)=>S.filter(T=>T.parentId===k).sort((T,z)=>T.code.localeCompare(z.code)),y=(S,k=0)=>{const T=b(u,S.id),z=T.length>0,Y=n.has(S.id),F=e6[S.nature]||e6.receita,D=F.icon;return t.jsxs("div",{children:[t.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 hover-elevate rounded-md cursor-pointer ${k===0?"bg-muted/50":""}`,style:{paddingLeft:`${k*20+12}px`},onClick:()=>z&&C(S.id),"data-testid":`row-dre-account-${S.id}`,children:[t.jsx("div",{className:"w-5",children:z&&(Y?t.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}):t.jsx(po,{className:"h-4 w-4 text-muted-foreground"}))}),t.jsx(D,{className:`h-4 w-4 ${F.color}`}),t.jsx("span",{className:"font-mono text-sm text-muted-foreground w-16",children:S.code}),t.jsx("span",{className:`flex-1 ${k===0?"font-semibold":""}`,children:S.name}),t.jsx(Ee,{variant:"outline",className:F.color,children:F.label}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),g(S)},"data-testid":`button-edit-account-${S.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),confirm("Remover esta conta?")&&v.mutate(S.id)},"data-testid":`button-delete-account-${S.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]}),z&&Y&&t.jsx("div",{children:T.map(R=>y(R,k+1))})]},S.id)},E=b(u,null);return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(us,{className:"h-6 w-6"}),"DRE - Plano de Contas"]}),t.jsx("p",{className:"text-muted-foreground",children:"Estrutura de contas para Demonstracao do Resultado do Exercicio"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[u.length===0&&t.jsxs(H,{variant:"outline",onClick:()=>N.mutate(),disabled:N.isPending,"data-testid":"button-seed-accounts",children:[t.jsx(vl,{className:"h-4 w-4 mr-2"}),"Criar Plano Padrao"]}),t.jsxs(H,{onClick:()=>{j(),o(null),s(!0)},"data-testid":"button-add-account",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Conta"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Arvore de Contas"}),t.jsx(rt,{children:"Clique nas setas para expandir/recolher as contas"})]}),t.jsx(te,{children:f?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):u.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(vl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma conta cadastrada. Crie o plano de contas padrao para comecar."})]}):t.jsx("div",{className:"space-y-1",children:E.map(S=>y(S))})})]}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:i?"Editar Conta":"Nova Conta"}),t.jsx(tn,{children:"Preencha os dados da conta contbil"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cdigo"}),t.jsx(J,{value:l.code,onChange:S=>d({...l,code:S.target.value}),placeholder:"Ex: 1.1.1","data-testid":"input-account-code"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Natureza"}),t.jsxs(Oe,{value:l.nature,onValueChange:S=>d({...l,nature:S}),children:[t.jsx(_e,{"data-testid":"select-account-nature",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"receita",children:"Receita"}),t.jsx(ne,{value:"custo",children:"Custo"}),t.jsx(ne,{value:"despesa",children:"Despesa"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome da Conta"}),t.jsx(J,{value:l.name,onChange:S=>d({...l,name:S.target.value}),placeholder:"Ex: Receita de Consultoria","data-testid":"input-account-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Conta Pai (opcional)"}),t.jsxs(Oe,{value:l.parentId,onValueChange:S=>d({...l,parentId:S}),children:[t.jsx(_e,{"data-testid":"select-account-parent",children:t.jsx(Me,{placeholder:"Nenhuma (conta raiz)"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"",children:"Nenhuma (conta raiz)"}),u.map(S=>t.jsxs(ne,{value:S.id.toString(),children:[S.code," - ",S.name]},S.id))]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),t.jsx(H,{onClick:P,disabled:h.isPending||p.isPending,"data-testid":"button-save-account",children:h.isPending||p.isPending?"Salvando...":"Salvar"})]})]})]})})]})})}const t6={administrativo:{label:"Administrativo",color:"text-blue-600 dark:text-blue-400",icon:nn},comercial:{label:"Comercial",color:"text-emerald-600 dark:text-emerald-400",icon:hn},operacional:{label:"Operacional",color:"text-amber-600 dark:text-amber-400",icon:ZE},projeto:{label:"Projeto",color:"text-violet-600 dark:text-violet-400",icon:rp}};function fEe(){const{toast:e}=At(),[n,r]=w.useState(new Set),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,d]=w.useState({code:"",name:"",type:"administrativo",description:"",budget:"",parentId:""}),{data:u=[],isLoading:f}=Ve({queryKey:["/api/cost-centers"]}),h=Ae({mutationFn:async S=>Ne("POST","/api/cost-centers",{...S,parentId:S.parentId?parseInt(S.parentId):null,budget:S.budget?S.budget:null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/cost-centers"]}),s(!1),j(),e({title:"Centro de custo criado com sucesso"})}}),p=Ae({mutationFn:async({id:S,data:k})=>Ne("PATCH",`/api/cost-centers/${S}`,{...k,parentId:k.parentId?parseInt(k.parentId):null,budget:k.budget?k.budget:null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/cost-centers"]}),s(!1),o(null),j(),e({title:"Centro de custo atualizado com sucesso"})}}),v=Ae({mutationFn:async S=>Ne("DELETE",`/api/cost-centers/${S}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/cost-centers"]}),e({title:"Centro de custo removido com sucesso"})}}),N=Ae({mutationFn:async()=>Ne("POST","/api/cost-centers/seed"),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/cost-centers"]}),e({title:"Centros de custo padrao criados com sucesso"})}}),j=()=>{d({code:"",name:"",type:"administrativo",description:"",budget:"",parentId:""})},g=S=>{o(S),d({code:S.code,name:S.name,type:S.type||"administrativo",description:S.description||"",budget:S.budget?.toString()||"",parentId:S.parentId?.toString()||""}),s(!0)},P=()=>{i?p.mutate({id:i.id,data:l}):h.mutate(l)},C=S=>{const k=new Set(n);k.has(S)?k.delete(S):k.add(S),r(k)},b=(S,k=null)=>S.filter(T=>T.parentId===k).sort((T,z)=>T.code.localeCompare(z.code)),y=(S,k=0)=>{const T=b(u,S.id),z=T.length>0,Y=n.has(S.id),F=t6[S.type]||t6.administrativo,D=F.icon;return t.jsxs("div",{children:[t.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 hover-elevate rounded-md cursor-pointer ${k===0?"bg-muted/50":""}`,style:{paddingLeft:`${k*20+12}px`},onClick:()=>z&&C(S.id),"data-testid":`row-cost-center-${S.id}`,children:[t.jsx("div",{className:"w-5",children:z&&(Y?t.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}):t.jsx(po,{className:"h-4 w-4 text-muted-foreground"}))}),t.jsx(D,{className:`h-4 w-4 ${F.color}`}),t.jsx("span",{className:"font-mono text-sm text-muted-foreground w-16",children:S.code}),t.jsx("span",{className:`flex-1 ${k===0?"font-semibold":""}`,children:S.name}),S.budget&&t.jsxs("span",{className:"text-sm text-muted-foreground",children:["R$ ",parseFloat(S.budget).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),t.jsx(Ee,{variant:"outline",className:F.color,children:F.label}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),g(S)},"data-testid":`button-edit-center-${S.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),confirm("Remover este centro de custo?")&&v.mutate(S.id)},"data-testid":`button-delete-center-${S.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]}),z&&Y&&t.jsx("div",{children:T.map(R=>y(R,k+1))})]},S.id)},E=b(u,null);return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(vl,{className:"h-6 w-6"}),"Centro de Custos"]}),t.jsx("p",{className:"text-muted-foreground",children:"Estrutura hierarquica de centros de custo para consultoria e licencas SaaS"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[u.length===0&&t.jsxs(H,{variant:"outline",onClick:()=>N.mutate(),disabled:N.isPending,"data-testid":"button-seed-centers",children:[t.jsx(vl,{className:"h-4 w-4 mr-2"}),"Criar Estrutura Padrao"]}),t.jsxs(H,{onClick:()=>{j(),o(null),s(!0)},"data-testid":"button-add-center",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Centro"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Arvore de Centros de Custo"}),t.jsx(rt,{children:"Organize os custos por area: Administrativo, Comercial, Operacional, Projetos"})]}),t.jsx(te,{children:f?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):u.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(vl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum centro de custo cadastrado. Crie a estrutura padrao para comecar."})]}):t.jsx("div",{className:"space-y-1",children:E.map(S=>y(S))})})]}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:i?"Editar Centro de Custo":"Novo Centro de Custo"}),t.jsx(tn,{children:"Preencha os dados do centro de custo"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cdigo"}),t.jsx(J,{value:l.code,onChange:S=>d({...l,code:S.target.value}),placeholder:"Ex: ADM.01","data-testid":"input-center-code"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:l.type,onValueChange:S=>d({...l,type:S}),children:[t.jsx(_e,{"data-testid":"select-center-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"administrativo",children:"Administrativo"}),t.jsx(ne,{value:"comercial",children:"Comercial"}),t.jsx(ne,{value:"operacional",children:"Operacional"}),t.jsx(ne,{value:"projeto",children:"Projeto"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome"}),t.jsx(J,{value:l.name,onChange:S=>d({...l,name:S.target.value}),placeholder:"Ex: Marketing Digital","data-testid":"input-center-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Orcamento Mensal (opcional)"}),t.jsx(J,{type:"number",step:"0.01",value:l.budget,onChange:S=>d({...l,budget:S.target.value}),placeholder:"0.00","data-testid":"input-center-budget"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Centro Pai (opcional)"}),t.jsxs(Oe,{value:l.parentId,onValueChange:S=>d({...l,parentId:S}),children:[t.jsx(_e,{"data-testid":"select-center-parent",children:t.jsx(Me,{placeholder:"Nenhum (centro raiz)"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"",children:"Nenhum (centro raiz)"}),u.map(S=>t.jsxs(ne,{value:S.id.toString(),children:[S.code," - ",S.name]},S.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Descrio (opcional)"}),t.jsx(St,{value:l.description,onChange:S=>d({...l,description:S.target.value}),placeholder:"Descrio do centro de custo...",rows:2,"data-testid":"textarea-center-description"})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),t.jsx(H,{onClick:P,disabled:h.isPending||p.isPending,"data-testid":"button-save-center",children:h.isPending||p.isPending?"Salvando...":"Salvar"})]})]})]})})]})})}const n6=[{code:"001",name:"Banco do Brasil"},{code:"033",name:"Santander"},{code:"104",name:"Caixa Economica Federal"},{code:"237",name:"Bradesco"},{code:"341",name:"Itau Unibanco"},{code:"336",name:"C6 Bank"},{code:"260",name:"Nubank"},{code:"077",name:"Inter"},{code:"212",name:"Original"},{code:"756",name:"Sicoob"},{code:"748",name:"Sicredi"},{code:"422",name:"Safra"}],hEe=[{value:"cpf",label:"CPF"},{value:"cnpj",label:"CNPJ"},{value:"email",label:"Email"},{value:"telefone",label:"Telefone"},{value:"aleatoria",label:"Chave Aleatoria"}];function pEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({bankCode:"",bankName:"",agency:"",agencyDigit:"",accountNumber:"",accountDigit:"",accountType:"corrente",holderName:"",holderCnpj:"",pixKey:"",pixKeyType:"",isMain:!1,notes:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/bank-accounts"]}),u=Ae({mutationFn:async g=>Ne("POST","/api/bank-accounts",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/bank-accounts"]}),r(!1),p(),e({title:"Conta bancaria criada com sucesso"})}}),f=Ae({mutationFn:async({id:g,data:P})=>Ne("PATCH",`/api/bank-accounts/${g}`,P),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/bank-accounts"]}),r(!1),s(null),p(),e({title:"Conta bancaria atualizada com sucesso"})}}),h=Ae({mutationFn:async g=>Ne("DELETE",`/api/bank-accounts/${g}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/bank-accounts"]}),e({title:"Conta bancaria removida com sucesso"})}}),p=()=>{o({bankCode:"",bankName:"",agency:"",agencyDigit:"",accountNumber:"",accountDigit:"",accountType:"corrente",holderName:"",holderCnpj:"",pixKey:"",pixKeyType:"",isMain:!1,notes:""})},v=g=>{s(g),o({bankCode:g.bankCode,bankName:g.bankName,agency:g.agency,agencyDigit:g.agencyDigit||"",accountNumber:g.accountNumber,accountDigit:g.accountDigit||"",accountType:g.accountType||"corrente",holderName:g.holderName||"",holderCnpj:g.holderCnpj||"",pixKey:g.pixKey||"",pixKeyType:g.pixKeyType||"",isMain:g.isMain||!1,notes:g.notes||""}),r(!0)},N=g=>{const P=n6.find(C=>C.code===g);o({...i,bankCode:g,bankName:P?.name||""})},j=()=>{a?f.mutate({id:a.id,data:i}):u.mutate(i)};return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(nn,{className:"h-6 w-6"}),"Contas Bancarias"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie as contas bancarias da empresa"})]}),t.jsxs(H,{onClick:()=>{p(),s(null),r(!0)},"data-testid":"button-add-bank",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Conta"]})]}),d?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx(ee,{children:t.jsxs(te,{className:"py-12 text-center",children:[t.jsx(Qc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma conta bancaria cadastrada."}),t.jsxs(H,{onClick:()=>{p(),o({...i,bankCode:"336",bankName:"C6 Bank"}),r(!0)},children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar C6 Bank"]})]})}):t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(g=>t.jsxs(ee,{className:"relative","data-testid":`card-bank-${g.id}`,children:[g.isMain&&t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx(JE,{className:"h-5 w-5 text-amber-500 fill-amber-500"})}),t.jsxs(de,{className:"pb-2",children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),g.bankName]}),t.jsxs(rt,{children:["Cdigo: ",g.bankCode]})]}),t.jsxs(te,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Agencia:"}),t.jsxs("p",{className:"font-medium",children:[g.agency,g.agencyDigit&&`-${g.agencyDigit}`]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Conta:"}),t.jsxs("p",{className:"font-medium",children:[g.accountNumber,g.accountDigit&&`-${g.accountDigit}`]})]})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Titular:"}),t.jsx("p",{className:"font-medium",children:g.holderName||"-"}),g.holderCnpj&&t.jsx("p",{className:"text-xs text-muted-foreground",children:g.holderCnpj})]}),g.pixKey&&t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[t.jsx(u8,{className:"h-4 w-4 text-primary"}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"PIX:"}),t.jsx("p",{className:"font-mono text-xs",children:g.pixKey})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[t.jsx(Ee,{variant:g.accountType==="corrente"?"default":"secondary",children:g.accountType==="corrente"?"Conta Corrente":"Poupana"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>v(g),"data-testid":`button-edit-bank-${g.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover esta conta bancaria?")&&h.mutate(g.id)},"data-testid":`button-delete-bank-${g.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]})]})]},g.id))}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Conta Bancaria":"Nova Conta Bancaria"}),t.jsx(tn,{children:"Preencha os dados da conta bancaria"})]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Banco"}),t.jsxs(Oe,{value:i.bankCode,onValueChange:N,children:[t.jsx(_e,{"data-testid":"select-bank",children:t.jsx(Me,{placeholder:"Selecione o banco"})}),t.jsx(Te,{children:n6.map(g=>t.jsxs(ne,{value:g.code,children:[g.code," - ",g.name]},g.code))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Agencia"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{value:i.agency,onChange:g=>o({...i,agency:g.target.value}),placeholder:"0001",className:"flex-1","data-testid":"input-agency"}),t.jsx(J,{value:i.agencyDigit,onChange:g=>o({...i,agencyDigit:g.target.value}),placeholder:"0",className:"w-16",maxLength:2,"data-testid":"input-agency-digit"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Conta"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(J,{value:i.accountNumber,onChange:g=>o({...i,accountNumber:g.target.value}),placeholder:"123456",className:"flex-1","data-testid":"input-account-number"}),t.jsx(J,{value:i.accountDigit,onChange:g=>o({...i,accountDigit:g.target.value}),placeholder:"0",className:"w-16",maxLength:2,"data-testid":"input-account-digit"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo de Conta"}),t.jsxs(Oe,{value:i.accountType,onValueChange:g=>o({...i,accountType:g}),children:[t.jsx(_e,{"data-testid":"select-account-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"corrente",children:"Conta Corrente"}),t.jsx(ne,{value:"poupana",children:"Poupanca"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do Titular"}),t.jsx(J,{value:i.holderName,onChange:g=>o({...i,holderName:g.target.value}),placeholder:"MCG Consultoria LTDA","data-testid":"input-holder-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ do Titular"}),t.jsx(J,{value:i.holderCnpj,onChange:g=>o({...i,holderCnpj:g.target.value}),placeholder:"00.000.000/0001-00","data-testid":"input-holder-cnpj"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo de Chave PIX"}),t.jsxs(Oe,{value:i.pixKeyType,onValueChange:g=>o({...i,pixKeyType:g}),children:[t.jsx(_e,{"data-testid":"select-pix-type",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:hEe.map(g=>t.jsx(ne,{value:g.value,children:g.label},g.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Chave PIX"}),t.jsx(J,{value:i.pixKey,onChange:g=>o({...i,pixKey:g.target.value}),placeholder:"Chave PIX","data-testid":"input-pix-key"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Conta Principal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Marcar como conta principal da empresa"})]}),t.jsx(ea,{checked:i.isMain,onCheckedChange:g=>o({...i,isMain:g}),"data-testid":"switch-main-account"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Observaes (opcional)"}),t.jsx(St,{value:i.notes,onChange:g=>o({...i,notes:g.target.value}),placeholder:"Observaes sobre a conta...",rows:2,"data-testid":"textarea-bank-notes"})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:j,disabled:u.isPending||f.isPending,"data-testid":"button-save-bank",children:u.isPending||f.isPending?"Salvando...":"Salvar"})]})]})]})})]})})}function xEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState({name:"",type:"A1",cnpj:"",password:"",file:null}),{data:i=[],isLoading:o}=Ve({queryKey:["/api/digital-certificates"]}),l=Ae({mutationFn:async v=>{const N=await fetch("/api/digital-certificates",{method:"POST",body:v,credentials:"include"});if(!N.ok){const j=await N.text();throw new Error(j)}return N.json()},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/digital-certificates"]}),r(!1),u(),e({title:"Certificado carregado com sucesso"})},onError:v=>{e({title:"Erro ao carregar certificado",description:v.message,variant:"destructive"})}}),d=Ae({mutationFn:async v=>Ne("DELETE",`/api/digital-certificates/${v}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/digital-certificates"]}),e({title:"Certificado removido com sucesso"})}}),u=()=>{s({name:"",type:"A1",cnpj:"",password:"",file:null})},f=v=>{const N=v.target.files?.[0]||null;s({...a,file:N})},h=()=>{if(!a.file){e({title:"Selecione um arquivo de certificado",variant:"destructive"});return}const v=new FormData;v.append("name",a.name),v.append("type",a.type),v.append("cnpj",a.cnpj),v.append("password",a.password),v.append("certificate",a.file),l.mutate(v)},p=v=>{if(!v.validUntil)return{status:"unknown",label:"Status desconhecido",color:"text-muted-foreground"};const N=new Date(v.validUntil),j=Y2e(N,new Date);return TK(N)?{status:"expired",label:"Expirado",color:"text-red-600",icon:Hr}:j<=30?{status:"expiring",label:`Expira em ${j} dias`,color:"text-amber-600",icon:Ai}:{status:"valid",label:"Vlido",color:"text-emerald-600",icon:Ar}};return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Hs,{className:"h-6 w-6"}),"Certificados Digitais"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie certificados A1/A3 para emissao de NFS-e"})]}),t.jsxs(H,{onClick:()=>{u(),r(!0)},"data-testid":"button-add-certificate",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Certificado"]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Sobre Certificados Digitais"}),t.jsx(rt,{children:"O certificado digital e necessario para emitir Notas Fiscais de Servio Eletronicas (NFS-e)"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-muted/50 rounded-md",children:[t.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2",children:[t.jsx(ES,{className:"h-4 w-4"}),"Certificado A1"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivo digital (.pfx ou .p12) armazenado no computador. Validade de 1 ano. Mais pratico para sistemas automatizados."})]}),t.jsxs("div",{className:"p-4 bg-muted/50 rounded-md",children:[t.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2",children:[t.jsx(Hs,{className:"h-4 w-4"}),"Certificado A3"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Armazenado em token USB ou smart card. Validade de 1 a 3 anos. Mais seguro, mas requer hardware especifico."})]})]}),t.jsx("div",{className:"p-4 border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30 rounded-md",children:t.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 flex items-start gap-2",children:[t.jsx(Hr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Importante:"})," Para emissao de NFS-e em Curitiba/PR, voce precisara de um certificado digital e-CNPJ vlido. Recomendamos adquirir de uma Autoridade Certificadora credenciada pelo ICP-Brasil (como Serasa, Certisign, ou outras)."]})]})})]})]}),o?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):i.length===0?t.jsx(ee,{children:t.jsxs(te,{className:"py-12 text-center",children:[t.jsx(Hs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum certificado digital cadastrado."}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione um certificado A1 (.pfx ou .p12) para habilitar a emissao de NFS-e."})]})}):t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(v=>{const N=p(v),j=N.icon||Ar;return t.jsxs(ee,{"data-testid":`card-certificate-${v.id}`,children:[t.jsxs(de,{className:"pb-2",children:[t.jsxs(ue,{className:"flex items-center justify-between gap-2",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(ES,{className:"h-5 w-5"}),v.name]}),t.jsx(Ee,{variant:v.type==="A1"?"default":"secondary",children:v.type})]}),v.cnpj&&t.jsxs(rt,{children:["CNPJ: ",v.cnpj]})]}),t.jsxs(te,{className:"space-y-3",children:[v.issuer&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Emissor:"}),t.jsx("p",{className:"font-medium",children:v.issuer})]}),v.validFrom&&v.validUntil&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Validade:"}),t.jsxs("p",{children:[Yt(new Date(v.validFrom),"dd/MM/yyyy",{locale:Jn})," a"," ",Yt(new Date(v.validUntil),"dd/MM/yyyy",{locale:Jn})]})]}),t.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-md bg-muted/50 ${N.color}`,children:[t.jsx(j,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:N.label})]}),t.jsx("div",{className:"flex items-center justify-end pt-2 border-t",children:t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover este certificado?")&&d.mutate(v.id)},"data-testid":`button-delete-certificate-${v.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})})]})]},v.id)})}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Carregar Certificado Digital"}),t.jsx(tn,{children:"Selecione o arquivo do certificado (.pfx ou .p12) e informe a senha"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do Certificado"}),t.jsx(J,{value:a.name,onChange:v=>s({...a,name:v.target.value}),placeholder:"Ex: Certificado MCG Consultoria","data-testid":"input-certificate-name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:a.type,onValueChange:v=>s({...a,type:v}),children:[t.jsx(_e,{"data-testid":"select-certificate-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"A1",children:"A1 (Arquivo)"}),t.jsx(ne,{value:"A3",children:"A3 (Token/Cartao)"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ"}),t.jsx(J,{value:a.cnpj,onChange:v=>s({...a,cnpj:v.target.value}),placeholder:"00.000.000/0001-00","data-testid":"input-certificate-cnpj"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Arquivo do Certificado (.pfx ou .p12)"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(J,{type:"file",accept:".pfx,.p12",onChange:f,className:"flex-1","data-testid":"input-certificate-file"})}),a.file&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Arquivo selecionado: ",a.file.name]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Senha do Certificado"}),t.jsx(J,{type:"password",value:a.password,onChange:v=>s({...a,password:v.target.value}),placeholder:"Senha fornecida pela Autoridade Certificadora","data-testid":"input-certificate-password"})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsxs(H,{onClick:h,disabled:l.isPending,"data-testid":"button-save-certificate",children:[t.jsx(TS,{className:"h-4 w-4 mr-2"}),l.isPending?"Carregando...":"Carregar Certificado"]})]})]})]})})]})})}function gEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({startDate:"",endDate:"",dreAccountId:"",costCenterId:""}),[l,d]=w.useState({dreAccountId:"",costCenterId:"",entryType:"debito",value:"",competenceDate:Yt(new Date,"yyyy-MM-dd"),description:"",documentNumber:"",documentType:"",history:""}),u=new URLSearchParams;i.startDate&&u.append("startDate",i.startDate),i.endDate&&u.append("endDate",i.endDate),i.dreAccountId&&u.append("dreAccountId",i.dreAccountId),i.costCenterId&&u.append("costCenterId",i.costCenterId);const f=u.toString(),{data:h=[],isLoading:p}=Ve({queryKey:["/api/accounting-entries",f],queryFn:async()=>{const F=f?`/api/accounting-entries?${f}`:"/api/accounting-entries",D=await fetch(F,{credentials:"include"});if(!D.ok)throw new Error("Falha ao buscar lanamentos");return D.json()}}),{data:v=[]}=Ve({queryKey:["/api/dre-accounts"]}),{data:N=[]}=Ve({queryKey:["/api/cost-centers"]}),j=Ae({mutationFn:async F=>Ne("POST","/api/accounting-entries",{...F,dreAccountId:parseInt(F.dreAccountId),costCenterId:F.costCenterId?parseInt(F.costCenterId):null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/accounting-entries"]}),r(!1),C(),e({title:"Lancamento criado com sucesso"})},onError:()=>{e({title:"Erro ao criar lancamento",variant:"destructive"})}}),g=Ae({mutationFn:async({id:F,data:D})=>Ne("PATCH",`/api/accounting-entries/${F}`,{...D,dreAccountId:parseInt(D.dreAccountId),costCenterId:D.costCenterId?parseInt(D.costCenterId):null}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/accounting-entries"]}),r(!1),s(null),C(),e({title:"Lancamento atualizado com sucesso"})},onError:()=>{e({title:"Erro ao atualizar lancamento",variant:"destructive"})}}),P=Ae({mutationFn:async F=>Ne("DELETE",`/api/accounting-entries/${F}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/accounting-entries"]}),e({title:"Lancamento removido com sucesso"})},onError:()=>{e({title:"Erro ao remover lancamento",variant:"destructive"})}}),C=()=>{d({dreAccountId:"",costCenterId:"",entryType:"debito",value:"",competenceDate:Yt(new Date,"yyyy-MM-dd"),description:"",documentNumber:"",documentType:"",history:""})},b=F=>{s(F),d({dreAccountId:F.dreAccountId.toString(),costCenterId:F.costCenterId?.toString()||"",entryType:F.entryType,value:F.value||"",competenceDate:F.competenceDate||Yt(new Date,"yyyy-MM-dd"),description:F.description||"",documentNumber:F.documentNumber||"",documentType:F.documentType||"",history:F.notes||""}),r(!0)},y=()=>{if(!l.dreAccountId||!l.value){e({title:"Preencha conta DRE e valor",variant:"destructive"});return}a?g.mutate({id:a.id,data:l}):j.mutate(l)},E=F=>{const D=v.find(R=>R.id===F);return D?`${D.code} - ${D.name}`:"-"},S=F=>{if(!F)return"-";const D=N.find(R=>R.id===F);return D?`${D.code} - ${D.name}`:"-"},k=F=>F?parseFloat(F).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",T=h.filter(F=>F.entryType==="credito").reduce((F,D)=>F+parseFloat(D.value||"0"),0),z=h.filter(F=>F.entryType==="debito").reduce((F,D)=>F+parseFloat(D.value||"0"),0),Y=T-z;return t.jsxs(Ot,{title:"Admin MCG",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{children:[t.jsx(de,{className:"flex flex-row items-center justify-between gap-4",children:t.jsx("div",{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(sm,{className:"h-5 w-5"}),"Filtros"]})})}),t.jsx(te,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Inicial"}),t.jsx(J,{type:"date",value:i.startDate,onChange:F=>o({...i,startDate:F.target.value}),"data-testid":"input-filter-start-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Final"}),t.jsx(J,{type:"date",value:i.endDate,onChange:F=>o({...i,endDate:F.target.value}),"data-testid":"input-filter-end-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Conta DRE"}),t.jsxs(Oe,{value:i.dreAccountId,onValueChange:F=>o({...i,dreAccountId:F==="all"?"":F}),children:[t.jsx(_e,{"data-testid":"select-filter-dre",children:t.jsx(Me,{placeholder:"Todas as contas"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todas as contas"}),v.map(F=>t.jsxs(ne,{value:F.id.toString(),children:[F.code," - ",F.name]},F.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Centro de Custo"}),t.jsxs(Oe,{value:i.costCenterId,onValueChange:F=>o({...i,costCenterId:F==="all"?"":F}),children:[t.jsx(_e,{"data-testid":"select-filter-cost-center",children:t.jsx(Me,{placeholder:"Todos os centros"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todos os centros"}),N.map(F=>t.jsxs(ne,{value:F.id.toString(),children:[F.code," - ",F.name]},F.id))]})]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Creditos"}),t.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:k(T.toString())})]}),t.jsx(MZ,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Debitos"}),t.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:k(z.toString())})]}),t.jsx(OZ,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo"}),t.jsx("p",{className:`text-2xl font-bold ${Y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:k(Y.toString())})]}),t.jsx(Xt,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Xt,{className:"h-5 w-5"}),"Lanamentos (",h.length,")"]}),t.jsx(rt,{children:"Registros contabeis vinculados ao DRE e centros de custo"})]}),t.jsxs(H,{onClick:()=>{C(),s(null),r(!0)},"data-testid":"button-new-entry",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Lancamento"]})]}),t.jsx(te,{children:p?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):h.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'Nenhum lancamento encontrado. Clique em "Novo Lancamento" para adicionar.'}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Data"}),t.jsx(nt,{children:"Tipo"}),t.jsx(nt,{children:"Conta DRE"}),t.jsx(nt,{children:"Centro de Custo"}),t.jsx(nt,{children:"Descrio"}),t.jsx(nt,{className:"text-right",children:"Valor"}),t.jsx(nt,{children:"Doc."}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:h.map(F=>t.jsxs(bn,{"data-testid":`row-entry-${F.id}`,children:[t.jsx(et,{children:F.competenceDate?Yt(new Date(F.competenceDate),"dd/MM/yyyy"):"-"}),t.jsx(et,{children:t.jsx(Ee,{variant:F.entryType==="credito"?"default":"secondary",className:F.entryType==="credito"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300",children:F.entryType==="credito"?"Credito":"Debito"})}),t.jsx(et,{className:"max-w-[200px] truncate",children:E(F.dreAccountId)}),t.jsx(et,{className:"max-w-[150px] truncate",children:S(F.costCenterId)}),t.jsx(et,{className:"max-w-[200px] truncate",children:F.description||"-"}),t.jsx(et,{className:"text-right font-medium",children:k(F.value)}),t.jsx(et,{children:F.documentNumber||"-"}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>b(F),"data-testid":`button-edit-entry-${F.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>{confirm("Remover este lancamento?")&&P.mutate(F.id)},"data-testid":`button-delete-entry-${F.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},F.id))})]})})})]})]}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-2xl",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Lancamento":"Novo Lancamento"}),t.jsx(tn,{children:"Preencha os dados do lancamento contbil"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo de Lancamento *"}),t.jsxs(Oe,{value:l.entryType,onValueChange:F=>d({...l,entryType:F}),children:[t.jsx(_e,{"data-testid":"select-entry-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"credito",children:"Credito (Receita)"}),t.jsx(ne,{value:"debito",children:"Debito (Despesa)"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data de Competencia *"}),t.jsx(J,{type:"date",value:l.competenceDate,onChange:F=>d({...l,competenceDate:F.target.value}),"data-testid":"input-competence-date"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Conta DRE *"}),t.jsxs(Oe,{value:l.dreAccountId,onValueChange:F=>d({...l,dreAccountId:F}),children:[t.jsx(_e,{"data-testid":"select-dre-account",children:t.jsx(Me,{placeholder:"Selecione a conta DRE"})}),t.jsx(Te,{children:v.map(F=>t.jsxs(ne,{value:F.id.toString(),children:[F.code," - ",F.name]},F.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Centro de Custo"}),t.jsxs(Oe,{value:l.costCenterId,onValueChange:F=>d({...l,costCenterId:F==="none"?"":F}),children:[t.jsx(_e,{"data-testid":"select-cost-center",children:t.jsx(Me,{placeholder:"Selecione o centro de custo (opcional)"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"none",children:"Nenhum"}),N.map(F=>t.jsxs(ne,{value:F.id.toString(),children:[F.code," - ",F.name]},F.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Valor *"}),t.jsx(J,{type:"number",step:"0.01",min:"0",placeholder:"0,00",value:l.value,onChange:F=>d({...l,value:F.target.value}),"data-testid":"input-value"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nmero do Documento"}),t.jsx(J,{placeholder:"NF, recibo, etc.",value:l.documentNumber,onChange:F=>d({...l,documentNumber:F.target.value}),"data-testid":"input-document-number"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo de Documento"}),t.jsxs(Oe,{value:l.documentType,onValueChange:F=>d({...l,documentType:F}),children:[t.jsx(_e,{"data-testid":"select-document-type",children:t.jsx(Me,{placeholder:"Selecione o tipo"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"nfse",children:"NFS-e"}),t.jsx(ne,{value:"nfe",children:"NF-e"}),t.jsx(ne,{value:"recibo",children:"Recibo"}),t.jsx(ne,{value:"boleto",children:"Boleto"}),t.jsx(ne,{value:"pix",children:"PIX"}),t.jsx(ne,{value:"ted",children:"TED"}),t.jsx(ne,{value:"contrato",children:"Contrato"}),t.jsx(ne,{value:"outros",children:"Outros"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Descrio"}),t.jsx(J,{placeholder:"Descrio resumida do lancamento",value:l.description,onChange:F=>d({...l,description:F.target.value}),"data-testid":"input-description"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Histrico"}),t.jsx(St,{placeholder:"Detalhes adicionais do lancamento",value:l.history,onChange:F=>d({...l,history:F.target.value}),"data-testid":"input-history"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>{r(!1),s(null),C()},children:"Cancelar"}),t.jsx(H,{onClick:y,disabled:j.isPending||g.isPending,"data-testid":"button-save-entry",children:j.isPending||g.isPending?"Salvando...":a?"Atualizar":"Criar"})]})]})})]})}function vEe(){const e=new Date,[n,r]=w.useState({startDate:Yt(new Date(e.getFullYear(),e.getMonth(),1),"yyyy-MM-dd"),endDate:Yt(new Date(e.getFullYear(),e.getMonth()+1,0),"yyyy-MM-dd")}),a=new URLSearchParams;n.startDate&&a.append("startDate",n.startDate),n.endDate&&a.append("endDate",n.endDate);const s=a.toString(),{data:i=[],isLoading:o}=Ve({queryKey:["/api/dre-report",s],queryFn:async()=>{const v=s?`/api/dre-report?${s}`:"/api/dre-report",N=await fetch(v,{credentials:"include"});if(!N.ok)throw new Error("Falha ao carregar relatorio");return N.json()}}),l=v=>v.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),d=(v,N)=>v===0||N==="grupo"?"font-bold bg-muted/50":v===1?"font-semibold":"",u=v=>({paddingLeft:`${v*20+8}px`}),f=i.filter(v=>v.type==="receita"||v.code.startsWith("1")).reduce((v,N)=>v+N.saldo,0),h=i.filter(v=>v.type==="despesa"||v.code.startsWith("2")||v.code.startsWith("3")||v.code.startsWith("4")).reduce((v,N)=>v+Math.abs(N.saldo),0),p=f-h;return t.jsx(Ot,{title:"Admin MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(us,{className:"h-6 w-6"}),"Demonstrativo de Resultado (DRE)"]}),t.jsx("p",{className:"text-muted-foreground",children:"Relatorio gerencial de receitas e despesas do perodo"})]}),t.jsxs(H,{variant:"outline","data-testid":"button-export-dre",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"flex flex-row items-center justify-between gap-4",children:t.jsx("div",{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(sm,{className:"h-5 w-5"}),"Perodo"]})})}),t.jsx(te,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Inicial"}),t.jsx(J,{type:"date",value:n.startDate,onChange:v=>r({...n,startDate:v.target.value}),"data-testid":"input-dre-start-date"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data Final"}),t.jsx(J,{type:"date",value:n.endDate,onChange:v=>r({...n,endDate:v.target.value}),"data-testid":"input-dre-end-date"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Receitas"}),t.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:l(f)})]}),t.jsx(pn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Despesas"}),t.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:l(h)})]}),t.jsx(Ao,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Resultado Operacional"}),t.jsx("p",{className:`text-2xl font-bold ${p>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:l(p)})]}),t.jsx(Xt,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Xt,{className:"h-5 w-5"}),"DRE Analitico"]}),t.jsxs(rt,{children:["Perodo: ",n.startDate?Yt(new Date(n.startDate),"dd/MM/yyyy"):"-"," a ",n.endDate?Yt(new Date(n.endDate),"dd/MM/yyyy"):"-"]})]}),t.jsx(te,{children:o?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):i.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["Nenhum dado encontrado para o perodo selecionado.",t.jsx("br",{}),t.jsx("span",{className:"text-sm",children:"Configure o plano de contas e registre lanamentos contabeis."})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{className:"w-[100px]",children:"Cdigo"}),t.jsx(nt,{children:"Descrio"}),t.jsx(nt,{className:"text-right",children:"Creditos"}),t.jsx(nt,{className:"text-right",children:"Debitos"}),t.jsx(nt,{className:"text-right",children:"Saldo"})]})}),t.jsxs(aa,{children:[i.map(v=>t.jsxs(bn,{className:d(v.level,v.type),"data-testid":`row-dre-${v.id}`,children:[t.jsx(et,{className:"font-mono text-sm",children:v.code}),t.jsx(et,{style:u(v.level),children:v.name}),t.jsx(et,{className:"text-right text-green-600 dark:text-green-400",children:v.credito>0?l(v.credito):"-"}),t.jsx(et,{className:"text-right text-red-600 dark:text-red-400",children:v.debito>0?l(v.debito):"-"}),t.jsx(et,{className:`text-right font-medium ${v.saldo>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:l(v.saldo)})]},v.id)),t.jsxs(bn,{className:"border-t-2 border-border font-bold bg-muted",children:[t.jsx(et,{colSpan:2,className:"text-right",children:"RESULTADO DO PERIODO"}),t.jsx(et,{className:"text-right text-green-600 dark:text-green-400",children:l(f)}),t.jsx(et,{className:"text-right text-red-600 dark:text-red-400",children:l(h)}),t.jsx(et,{className:`text-right ${p>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:l(p)})]})]})]})})})]})]})})}const yEe=De.object({name:De.string().min(1,"Nome obrigatorio"),slug:De.string().min(1,"Slug obrigatorio"),shortDescription:De.string().optional(),longDescription:De.string().optional(),productType:De.enum(["merch","ebook","manual"]),fulfillmentType:De.enum(["physical","digital","hybrid"]),categoryId:De.number().optional(),sku:De.string().optional(),priceAmount:De.string().optional(),priceCurrency:De.string().default("BRL"),compareAtPrice:De.string().optional(),inventoryQty:De.number().optional(),primaryImageUrl:De.string().optional(),isActive:De.boolean().default(!1),isFeatured:De.boolean().default(!1)}),jEe=De.object({name:De.string().min(1,"Nome obrigatorio"),slug:De.string().min(1,"Slug obrigatorio"),description:De.string().optional(),parentId:De.number().optional().nullable(),displayOrder:De.number().default(0)});function bEe(){const{toast:e}=At(),[n,r]=w.useState("products"),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,d]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(null),[v,N]=w.useState(null),{data:j,isLoading:g}=Ve({queryKey:["/api/admin/store/products"]}),{data:P,isLoading:C}=Ve({queryKey:["/api/store/categories"]}),{data:b,isLoading:y}=Ve({queryKey:["/api/admin/store/orders"]}),E=hs({resolver:ps(yEe),defaultValues:{name:"",slug:"",shortDescription:"",longDescription:"",productType:"merch",fulfillmentType:"physical",priceAmount:"",priceCurrency:"BRL",compareAtPrice:"",sku:"",inventoryQty:0,primaryImageUrl:"",isActive:!1,isFeatured:!1}}),S=hs({resolver:ps(jEe),defaultValues:{name:"",slug:"",description:"",displayOrder:0}}),k=Ae({mutationFn:M=>Ne("/api/admin/store/products",{method:"POST",body:JSON.stringify(M)}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/store/products"]}),s(!1),E.reset(),e({title:"Produto criado com sucesso"})},onError:()=>{e({title:"Erro ao criar produto",variant:"destructive"})}}),T=Ae({mutationFn:({id:M,data:V})=>Ne(`/api/admin/store/products/${M}`,{method:"PATCH",body:JSON.stringify(V)}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/store/products"]}),s(!1),d(null),E.reset(),e({title:"Produto atualizado com sucesso"})},onError:()=>{e({title:"Erro ao atualizar produto",variant:"destructive"})}}),z=Ae({mutationFn:M=>Ne(`/api/admin/store/products/${M}`,{method:"DELETE"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/store/products"]}),p(null),e({title:"Produto excluido"})},onError:()=>{e({title:"Erro ao excluir produto",variant:"destructive"})}}),Y=Ae({mutationFn:M=>Ne("/api/admin/store/categories",{method:"POST",body:JSON.stringify(M)}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/store/categories"]}),o(!1),S.reset(),e({title:"Categoria criada com sucesso"})},onError:()=>{e({title:"Erro ao criar categoria",variant:"destructive"})}}),F=Ae({mutationFn:({id:M,data:V})=>Ne(`/api/admin/store/categories/${M}`,{method:"PATCH",body:JSON.stringify(V)}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/store/categories"]}),o(!1),f(null),S.reset(),e({title:"Categoria atualizada com sucesso"})},onError:()=>{e({title:"Erro ao atualizar categoria",variant:"destructive"})}}),D=Ae({mutationFn:M=>Ne(`/api/admin/store/categories/${M}`,{method:"DELETE"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/store/categories"]}),N(null),e({title:"Categoria excluida"})},onError:()=>{e({title:"Erro ao excluir categoria",variant:"destructive"})}}),R=Ae({mutationFn:({id:M,isActive:V})=>Ne(`/api/admin/store/products/${M}`,{method:"PATCH",body:JSON.stringify({isActive:V})}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/store/products"]}),e({title:"Status do produto atualizado"})},onError:()=>{e({title:"Erro ao atualizar status",variant:"destructive"})}}),q=M=>{M?(d(M),E.reset({name:M.name,slug:M.slug,shortDescription:M.shortDescription||"",longDescription:M.longDescription||"",productType:M.productType,fulfillmentType:M.fulfillmentType,categoryId:M.categoryId||void 0,sku:M.sku||"",priceAmount:M.priceAmount||"",priceCurrency:M.priceCurrency||"BRL",compareAtPrice:M.compareAtPrice||"",inventoryQty:M.inventoryQty||0,primaryImageUrl:M.primaryImageUrl||"",isActive:M.isActive||!1,isFeatured:M.isFeatured||!1})):(d(null),E.reset()),s(!0)},Q=M=>{M?(f(M),S.reset({name:M.name,slug:M.slug,description:M.description||"",parentId:M.parentId,displayOrder:M.displayOrder||0})):(f(null),S.reset()),o(!0)},K=M=>{l?T.mutate({id:l.id,data:M}):k.mutate(M)},U=M=>{u?F.mutate({id:u.id,data:M}):Y.mutate(M)},O=M=>{if(!M)return"-";const V=parseFloat(M);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V)},I=M=>{switch(M){case"merch":return t.jsx(Ee,{variant:"secondary",children:"Brindes"});case"ebook":return t.jsx(Ee,{children:"E-book"});case"manual":return t.jsx(Ee,{variant:"outline",children:"Manual"});default:return t.jsx(Ee,{variant:"outline",children:M})}},G=M=>{switch(M){case"pending":return t.jsx(Ee,{variant:"outline",children:"Pendente"});case"paid":return t.jsx(Ee,{className:"bg-green-600",children:"Pago"});case"shipped":return t.jsx(Ee,{className:"bg-blue-600",children:"Enviado"});case"delivered":return t.jsx(Ee,{className:"bg-emerald-600",children:"Entregue"});case"cancelled":return t.jsx(Ee,{variant:"destructive",children:"Cancelado"});default:return t.jsx(Ee,{variant:"outline",children:M})}};return t.jsxs(Ot,{title:"Loja MCG",subtitle:"Gerenciamento de produtos, categorias e pedidos",children:[t.jsxs(js,{value:n,onValueChange:r,className:"space-y-4",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"products","data-testid":"tab-products",children:[t.jsx(Er,{className:"h-4 w-4 mr-2"}),"Produtos"]}),t.jsxs(Jt,{value:"categories","data-testid":"tab-categories",children:[t.jsx(w1,{className:"h-4 w-4 mr-2"}),"Categorias"]}),t.jsxs(Jt,{value:"orders","data-testid":"tab-orders",children:[t.jsx(b1,{className:"h-4 w-4 mr-2"}),"Pedidos"]})]}),t.jsx(en,{value:"products",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"h-5 w-5"}),"Produtos da Loja"]}),t.jsxs(H,{onClick:()=>q(),"data-testid":"button-new-product",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}),t.jsx(te,{children:g?t.jsx("div",{className:"space-y-2",children:[1,2,3].map(M=>t.jsx(va,{className:"h-12 w-full"},M))}):j&&j.length>0?t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Produto"}),t.jsx(nt,{children:"Tipo"}),t.jsx(nt,{children:"Preco"}),t.jsx(nt,{children:"Estoque"}),t.jsx(nt,{className:"text-center",children:"Ativo"}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:j.map(M=>t.jsxs(bn,{"data-testid":`row-product-${M.id}`,children:[t.jsx(et,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 bg-muted rounded flex items-center justify-center",children:M.primaryImageUrl?t.jsx("img",{src:M.primaryImageUrl,alt:M.name,className:"h-full w-full object-cover rounded"}):t.jsx(Er,{className:"h-5 w-5 text-muted-foreground"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:M.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:M.sku||"-"})]})]})}),t.jsx(et,{children:I(M.productType)}),t.jsx(et,{children:O(M.priceAmount)}),t.jsx(et,{children:M.inventoryQty!==null?M.inventoryQty:"-"}),t.jsx(et,{className:"text-center",children:t.jsx(ea,{checked:M.isActive||!1,onCheckedChange:V=>R.mutate({id:M.id,isActive:V}),"data-testid":`switch-active-${M.id}`})}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>q(M),"data-testid":`button-edit-${M.id}`,children:t.jsx(nv,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>p(M),"data-testid":`button-delete-${M.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},M.id))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(By,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto cadastrado"}),t.jsxs(H,{className:"mt-4",onClick:()=>q(),"data-testid":"button-first-product",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Produto"]})]})})]})}),t.jsx(en,{value:"categories",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(w1,{className:"h-5 w-5"}),"Categorias"]}),t.jsxs(H,{onClick:()=>Q(),"data-testid":"button-new-category",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),t.jsx(te,{children:C?t.jsx("div",{className:"space-y-2",children:[1,2,3].map(M=>t.jsx(va,{className:"h-12 w-full"},M))}):P&&P.length>0?t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Nome"}),t.jsx(nt,{children:"Slug"}),t.jsx(nt,{children:"Ordem"}),t.jsx(nt,{className:"text-right",children:"Acoes"})]})}),t.jsx(aa,{children:P.map(M=>t.jsxs(bn,{"data-testid":`row-category-${M.id}`,children:[t.jsx(et,{className:"font-medium",children:M.name}),t.jsx(et,{className:"text-muted-foreground",children:M.slug}),t.jsx(et,{children:M.displayOrder}),t.jsx(et,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>Q(M),"data-testid":`button-edit-category-${M.id}`,children:t.jsx(nv,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>N(M),"data-testid":`button-delete-category-${M.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})})]},M.id))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(w1,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma categoria cadastrada"}),t.jsxs(H,{className:"mt-4",onClick:()=>Q(),"data-testid":"button-first-category",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Primeira Categoria"]})]})})]})}),t.jsx(en,{value:"orders",children:t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(b1,{className:"h-5 w-5"}),"Pedidos"]})}),t.jsx(te,{children:y?t.jsx("div",{className:"space-y-2",children:[1,2,3].map(M=>t.jsx(va,{className:"h-12 w-full"},M))}):b&&b.length>0?t.jsxs(na,{children:[t.jsx(ra,{children:t.jsxs(bn,{children:[t.jsx(nt,{children:"Pedido"}),t.jsx(nt,{children:"Cliente"}),t.jsx(nt,{children:"Total"}),t.jsx(nt,{children:"Status"}),t.jsx(nt,{children:"Data"})]})}),t.jsx(aa,{children:b.map(M=>t.jsxs(bn,{"data-testid":`row-order-${M.id}`,children:[t.jsxs(et,{className:"font-medium",children:["#",M.orderNumber]}),t.jsx(et,{children:t.jsxs("div",{children:[t.jsx("p",{children:M.customerName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:M.customerEmail})]})}),t.jsx(et,{children:O(M.totalAmount)}),t.jsx(et,{children:G(M.status)}),t.jsx(et,{children:M.createdAt?new Date(M.createdAt).toLocaleDateString("pt-BR"):"-"})]},M.id))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(b1,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhum pedido registrado"})]})})]})})]}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:l?"Editar Produto":"Novo Produto"}),t.jsx(tn,{children:"Preencha as informacoes do produto"})]}),t.jsx(xs,{...E,children:t.jsxs("form",{onSubmit:E.handleSubmit(K),className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(Qe,{control:E.control,name:"name",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"Nome do produto","data-testid":"input-product-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"slug",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Slug"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"nome-do-produto","data-testid":"input-product-slug"})}),t.jsx(Ze,{})]})})]}),t.jsx(Qe,{control:E.control,name:"shortDescription",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Descricao Curta"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"Breve descricao","data-testid":"input-short-desc"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"longDescription",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Descricao Completa"}),t.jsx(Ye,{children:t.jsx(St,{...M,placeholder:"Descricao detalhada","data-testid":"input-long-desc"})}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(Qe,{control:E.control,name:"productType",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Tipo de Produto"}),t.jsxs(Oe,{onValueChange:M.onChange,value:M.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-product-type",children:t.jsx(Me,{})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"merch",children:"Brindes"}),t.jsx(ne,{value:"ebook",children:"E-book"}),t.jsx(ne,{value:"manual",children:"Manual"})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"fulfillmentType",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Entrega"}),t.jsxs(Oe,{onValueChange:M.onChange,value:M.value,children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-fulfillment",children:t.jsx(Me,{})})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"physical",children:"Fisico"}),t.jsx(ne,{value:"digital",children:"Digital"}),t.jsx(ne,{value:"hybrid",children:"Hibrido"})]})]}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"categoryId",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Categoria"}),t.jsxs(Oe,{onValueChange:V=>M.onChange(V?parseInt(V):void 0),value:M.value?.toString()||"",children:[t.jsx(Ye,{children:t.jsx(_e,{"data-testid":"select-category",children:t.jsx(Me,{placeholder:"Selecione"})})}),t.jsx(Te,{children:P?.map(V=>t.jsx(ne,{value:V.id.toString(),children:V.name},V.id))})]}),t.jsx(Ze,{})]})})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsx(Qe,{control:E.control,name:"priceAmount",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Preco (R$)"}),t.jsx(Ye,{children:t.jsx(J,{...M,type:"text",placeholder:"99.90","data-testid":"input-price"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"compareAtPrice",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Preco Anterior"}),t.jsx(Ye,{children:t.jsx(J,{...M,type:"text",placeholder:"149.90","data-testid":"input-compare-price"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"sku",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"SKU"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"MCG-001","data-testid":"input-sku"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:E.control,name:"inventoryQty",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Estoque"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",...M,onChange:V=>M.onChange(parseInt(V.target.value)||0),"data-testid":"input-inventory"})}),t.jsx(Ze,{})]})})]}),t.jsx(Qe,{control:E.control,name:"primaryImageUrl",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"URL da Imagem"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"https://...","data-testid":"input-image-url"})}),t.jsx(Ze,{})]})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsx(Qe,{control:E.control,name:"isActive",render:({field:M})=>t.jsxs(We,{className:"flex items-center gap-2",children:[t.jsx(Ye,{children:t.jsx(ea,{checked:M.value,onCheckedChange:M.onChange,"data-testid":"switch-product-active"})}),t.jsx(Ge,{className:"!mt-0",children:"Ativo (visivel para clientes)"})]})}),t.jsx(Qe,{control:E.control,name:"isFeatured",render:({field:M})=>t.jsxs(We,{className:"flex items-center gap-2",children:[t.jsx(Ye,{children:t.jsx(ea,{checked:M.value,onCheckedChange:M.onChange,"data-testid":"switch-product-featured"})}),t.jsx(Ge,{className:"!mt-0",children:"Destaque"})]})})]}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:k.isPending||T.isPending,children:l?"Salvar":"Criar Produto"})]})]})})]})}),t.jsx(bt,{open:i,onOpenChange:o,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:u?"Editar Categoria":"Nova Categoria"}),t.jsx(tn,{children:"Preencha as informacoes da categoria"})]}),t.jsx(xs,{...S,children:t.jsxs("form",{onSubmit:S.handleSubmit(U),className:"space-y-4",children:[t.jsx(Qe,{control:S.control,name:"name",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nome"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"Nome da categoria","data-testid":"input-category-name"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"slug",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Slug"}),t.jsx(Ye,{children:t.jsx(J,{...M,placeholder:"nome-da-categoria","data-testid":"input-category-slug"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"description",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Descricao"}),t.jsx(Ye,{children:t.jsx(St,{...M,placeholder:"Descricao da categoria","data-testid":"input-category-desc"})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:S.control,name:"displayOrder",render:({field:M})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Ordem de Exibicao"}),t.jsx(Ye,{children:t.jsx(J,{type:"number",...M,onChange:V=>M.onChange(parseInt(V.target.value)||0),"data-testid":"input-category-order"})}),t.jsx(Ze,{})]})}),t.jsxs(Pn,{children:[t.jsx(H,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:Y.isPending||F.isPending,children:u?"Salvar":"Criar Categoria"})]})]})})]})}),t.jsx(bt,{open:!!h,onOpenChange:()=>p(null),children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Excluir Produto"}),t.jsxs(tn,{children:['Tem certeza que deseja excluir "',h?.name,'"? Esta acao nao pode ser desfeita.']})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>p(null),children:"Cancelar"}),t.jsx(H,{variant:"destructive",onClick:()=>h&&z.mutate(h.id),disabled:z.isPending,children:"Excluir"})]})]})}),t.jsx(bt,{open:!!v,onOpenChange:()=>N(null),children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:"Excluir Categoria"}),t.jsxs(tn,{children:['Tem certeza que deseja excluir "',v?.name,'"? Esta acao nao pode ser desfeita.']})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>N(null),children:"Cancelar"}),t.jsx(H,{variant:"destructive",onClick:()=>v&&D.mutate(v.id),disabled:D.isPending,children:"Excluir"})]})]})})]})}const SE={welcome:{label:"Boas-vindas",icon:QE,color:"bg-green-500"},menu:{label:"Menu",icon:nJ,color:"bg-blue-500"},faq:{label:"FAQ",icon:l8,color:"bg-purple-500"},human:{label:"Atendente",icon:Jg,color:"bg-orange-500"},goodbye:{label:"Encerramento",icon:qy,color:"bg-gray-500"}};function wEe({step:e,onEdit:n,onDelete:r,children:a}){const s=SE[e.stepType]||SE.menu,i=s.icon;return t.jsxs("div",{className:"relative",children:[t.jsxs(ee,{className:`border-l-4 ${e.isActive?"border-l-primary":"border-l-muted"}`,children:[t.jsx(de,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1.5 rounded-md ${s.color}`,children:t.jsx(i,{className:"w-4 h-4 text-white"})}),t.jsx(ue,{className:"text-sm font-medium",children:e.name})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ee,{variant:e.isActive?"default":"secondary",className:"text-xs",children:e.isActive?"Ativo":"Inativo"}),t.jsx(H,{size:"icon",variant:"ghost",onClick:n,"data-testid":`button-edit-step-${e.id}`,children:t.jsx(nv,{className:"w-4 h-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:r,"data-testid":`button-delete-step-${e.id}`,children:t.jsx(Mt,{className:"w-4 h-4"})})]})]})}),t.jsxs(te,{className:"pt-0",children:[e.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),e.messageTemplate&&t.jsx("div",{className:"bg-muted/50 rounded-md p-2 text-sm",children:t.jsx("p",{className:"line-clamp-2",children:e.messageTemplate})}),e.buttonOptions&&e.buttonOptions.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.buttonOptions.map(o=>t.jsx(Ee,{variant:"outline",className:"text-xs",children:o.label},o.id))})]})]}),a&&t.jsx("div",{className:"ml-6 mt-2 pl-4 border-l-2 border-dashed border-muted space-y-2",children:a})]})}function NEe({steps:e}){const[n,r]=w.useState(null),[a,s]=w.useState(!1),{toast:i}=At(),o=Ae({mutationFn:async f=>{await Ne("DELETE",`/api/admin/whatsapp/journey-steps/${f}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/journey-steps"]}),i({title:"Etapa removida com sucesso"})}}),l=e.filter(f=>!f.parentId),d=f=>e.filter(h=>h.parentId===f),u=f=>{const h=d(f.id);return t.jsx(wEe,{step:f,onEdit:()=>r(f),onDelete:()=>o.mutate(f.id),children:h.length>0&&h.map(p=>u(p))},f.id)};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Mapa da Jornada"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualize e edite o fluxo de atendimento automatizado"})]}),t.jsxs(bt,{open:a,onOpenChange:s,children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-journey-step",children:[t.jsx(ut,{className:"w-4 h-4 mr-2"}),"Nova Etapa"]})}),t.jsxs(yt,{className:"max-w-lg",children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Adicionar Etapa"})}),t.jsx(r6,{onSuccess:()=>{s(!1),Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/journey-steps"]})},existingSteps:e})]})]})]}),t.jsx("div",{className:"grid gap-3",children:l.length===0?t.jsxs(ee,{className:"p-8 text-center",children:[t.jsx(QE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h4",{className:"font-medium mb-2",children:"Nenhuma etapa configurada"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Comece adicionando a primeira etapa da jornada de atendimento"}),t.jsxs(H,{onClick:()=>s(!0),children:[t.jsx(ut,{className:"w-4 h-4 mr-2"}),"Criar Primeira Etapa"]})]}):l.sort((f,h)=>(f.order||0)-(h.order||0)).map(f=>u(f))}),n&&t.jsx(bt,{open:!!n,onOpenChange:()=>r(null),children:t.jsxs(yt,{className:"max-w-lg",children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Editar Etapa"})}),t.jsx(r6,{step:n,existingSteps:e,onSuccess:()=>{r(null),Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/journey-steps"]})}})]})})]})}function r6({step:e,existingSteps:n,onSuccess:r}){const[a,s]=w.useState({name:e?.name||"",description:e?.description||"",stepType:e?.stepType||"menu",parentId:e?.parentId?.toString()||"",order:e?.order||0,messageTemplate:e?.messageTemplate||"",triggerKeywords:e?.triggerKeywords?.join(", ")||"",isActive:e?.isActive!==!1}),{toast:i}=At(),o=Ae({mutationFn:async l=>{const d={...l,parentId:l.parentId?parseInt(l.parentId):null,triggerKeywords:l.triggerKeywords.split(",").map(u=>u.trim()).filter(Boolean)};return e?Ne("PATCH",`/api/admin/whatsapp/journey-steps/${e.id}`,d):Ne("POST","/api/admin/whatsapp/journey-steps",d)},onSuccess:()=>{i({title:e?"Etapa atualizada":"Etapa criada com sucesso"}),r()},onError:()=>{i({title:"Erro ao salvar etapa",variant:"destructive"})}});return t.jsxs("form",{onSubmit:l=>{l.preventDefault(),o.mutate(a)},className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{htmlFor:"name",children:"Nome da Etapa"}),t.jsx(J,{id:"name",value:a.name,onChange:l=>s({...a,name:l.target.value}),placeholder:"Ex: Menu Principal","data-testid":"input-step-name"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"stepType",children:"Tipo"}),t.jsxs(Oe,{value:a.stepType,onValueChange:l=>s({...a,stepType:l}),children:[t.jsx(_e,{"data-testid":"select-step-type",children:t.jsx(Me,{})}),t.jsx(Te,{children:Object.entries(SE).map(([l,d])=>t.jsx(ne,{value:l,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d.icon,{className:"w-4 h-4"}),d.label]})},l))})]})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"parentId",children:"Etapa Pai (opcional)"}),t.jsxs(Oe,{value:a.parentId,onValueChange:l=>s({...a,parentId:l}),children:[t.jsx(_e,{"data-testid":"select-parent-step",children:t.jsx(Me,{placeholder:"Nenhuma (etapa raiz)"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"",children:"Nenhuma (etapa raiz)"}),n.filter(l=>l.id!==e?.id).map(l=>t.jsx(ne,{value:l.id.toString(),children:l.name},l.id))]})]})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"description",children:"Descricao"}),t.jsx(J,{id:"description",value:a.description,onChange:l=>s({...a,description:l.target.value}),placeholder:"Breve descricao da etapa","data-testid":"input-step-description"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"messageTemplate",children:"Mensagem"}),t.jsx(St,{id:"messageTemplate",value:a.messageTemplate,onChange:l=>s({...a,messageTemplate:l.target.value}),placeholder:"Mensagem que sera enviada nesta etapa...",rows:3,"data-testid":"textarea-step-message"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"triggerKeywords",children:"Palavras-chave (separadas por virgula)"}),t.jsx(J,{id:"triggerKeywords",value:a.triggerKeywords,onChange:l=>s({...a,triggerKeywords:l.target.value}),placeholder:"ola, oi, bom dia, ajuda","data-testid":"input-step-keywords"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{htmlFor:"isActive",children:"Etapa Ativa"}),t.jsx(ea,{id:"isActive",checked:a.isActive,onCheckedChange:l=>s({...a,isActive:l}),"data-testid":"switch-step-active"})]})]}),t.jsxs(H,{type:"submit",className:"w-full",disabled:o.isPending,"data-testid":"button-save-step",children:[t.jsx(Ws,{className:"w-4 h-4 mr-2"}),o.isPending?"Salvando...":"Salvar Etapa"]})]})}function CEe(){const{data:e,isLoading:n}=Ve({queryKey:["/api/admin/whatsapp/config"]}),[r,a]=w.useState({phoneNumber:"",businessName:"MCG Consultoria",provider:"aisensy",apiKey:"",welcomeMessage:"Ola! Bem-vindo a MCG Consultoria. Como posso ajudar?",businessHoursStart:"08:00",businessHoursEnd:"18:00",outsideHoursMessage:"Estamos fora do horario de atendimento. Retornaremos em breve!",isActive:!0}),{toast:s}=At(),i=Ae({mutationFn:async o=>e?.id?Ne("PATCH",`/api/admin/whatsapp/config/${e.id}`,o):Ne("POST","/api/admin/whatsapp/config",o),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/config"]}),s({title:"Configuracoes salvas com sucesso"})}});return e&&r.phoneNumber!==e.phoneNumber&&a({phoneNumber:e.phoneNumber||"",businessName:e.businessName||"MCG Consultoria",provider:e.provider||"aisensy",apiKey:e.apiKey||"",welcomeMessage:e.welcomeMessage||"",businessHoursStart:e.businessHoursStart||"08:00",businessHoursEnd:e.businessHoursEnd||"18:00",outsideHoursMessage:e.outsideHoursMessage||"",isActive:e.isActive!==!1}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Configuracao WhatsApp Business API"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure sua conta de WhatsApp Business para atendimento automatizado"})]}),t.jsxs("a",{href:"https://aisensy.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["Abrir AiSensy ",t.jsx(Pc,{className:"w-3 h-3"})]})]}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("form",{onSubmit:o=>{o.preventDefault(),i.mutate(r)},className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(B,{htmlFor:"phoneNumber",children:"Numero WhatsApp"}),t.jsx(J,{id:"phoneNumber",value:r.phoneNumber,onChange:o=>a({...r,phoneNumber:o.target.value}),placeholder:"+55 41 99999-9999","data-testid":"input-whatsapp-phone"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"businessName",children:"Nome do Negocio"}),t.jsx(J,{id:"businessName",value:r.businessName,onChange:o=>a({...r,businessName:o.target.value}),placeholder:"MCG Consultoria","data-testid":"input-business-name"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"provider",children:"Provedor API"}),t.jsxs(Oe,{value:r.provider,onValueChange:o=>a({...r,provider:o}),children:[t.jsx(_e,{"data-testid":"select-provider",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"aisensy",children:"AiSensy (Gratuito)"}),t.jsx(ne,{value:"360dialog",children:"360Dialog"}),t.jsx(ne,{value:"twilio",children:"Twilio"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"apiKey",children:"Chave API"}),t.jsx(J,{id:"apiKey",type:"password",value:r.apiKey,onChange:o=>a({...r,apiKey:o.target.value}),placeholder:"Sua chave API do provedor","data-testid":"input-api-key"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"businessHoursStart",children:"Horario Inicio"}),t.jsx(J,{id:"businessHoursStart",type:"time",value:r.businessHoursStart,onChange:o=>a({...r,businessHoursStart:o.target.value}),"data-testid":"input-hours-start"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"businessHoursEnd",children:"Horario Fim"}),t.jsx(J,{id:"businessHoursEnd",type:"time",value:r.businessHoursEnd,onChange:o=>a({...r,businessHoursEnd:o.target.value}),"data-testid":"input-hours-end"})]})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"welcomeMessage",children:"Mensagem de Boas-vindas"}),t.jsx(St,{id:"welcomeMessage",value:r.welcomeMessage,onChange:o=>a({...r,welcomeMessage:o.target.value}),rows:2,"data-testid":"textarea-welcome-message"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"outsideHoursMessage",children:"Mensagem Fora do Horario"}),t.jsx(St,{id:"outsideHoursMessage",value:r.outsideHoursMessage,onChange:o=>a({...r,outsideHoursMessage:o.target.value}),rows:2,"data-testid":"textarea-outside-hours"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{htmlFor:"isActive",children:"WhatsApp Ativo"}),t.jsx(ea,{id:"isActive",checked:r.isActive,onCheckedChange:o=>a({...r,isActive:o}),"data-testid":"switch-whatsapp-active"})]}),t.jsxs(H,{type:"submit",disabled:i.isPending,"data-testid":"button-save-config",children:[t.jsx(Ws,{className:"w-4 h-4 mr-2"}),i.isPending?"Salvando...":"Salvar Configuracoes"]})]})})}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-base flex items-center gap-2",children:[t.jsx(l8,{className:"w-5 h-5"}),"Como Integrar"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"1. Criar conta no AiSensy (Gratuito)"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesse aisensy.com e crie uma conta gratuita. O plano free permite chatbot e multi-agente."})]}),t.jsx(kn,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"2. Verificar negocio no Meta Business"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"O AiSensy guiara voce pelo processo de verificacao da empresa no Meta Business Manager."})]}),t.jsx(kn,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"3. Configurar numero WhatsApp"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte o numero de telefone da MCG (deve ser dedicado ao WhatsApp Business)."})]}),t.jsx(kn,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"4. Copiar chave API"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Apos aprovacao, copie a chave API do painel AiSensy e cole aqui."})]})]})]})]})}function SEe(){const{data:e,isLoading:n}=Ve({queryKey:["/api/admin/whatsapp/agents"]}),[r,a]=w.useState(!1),{toast:s}=At(),i=Ae({mutationFn:async o=>{await Ne("DELETE",`/api/admin/whatsapp/agents/${o}`)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/agents"]}),s({title:"Agente removido"})}});return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Agentes de Atendimento"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie a equipe que atendera os clientes via WhatsApp"})]}),t.jsxs(bt,{open:r,onOpenChange:a,children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-agent",children:[t.jsx(ut,{className:"w-4 h-4 mr-2"}),"Novo Agente"]})}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Adicionar Agente"})}),t.jsx(PEe,{onSuccess:()=>{a(!1),Ce.invalidateQueries({queryKey:["/api/admin/whatsapp/agents"]})}})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e?.map(o=>t.jsx(ee,{children:t.jsxs(te,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o.isAvailable?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:t.jsx(ko,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:o.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:o.email})]})]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>i.mutate(o.id),"data-testid":`button-delete-agent-${o.id}`,children:t.jsx(Mt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[t.jsx(Ee,{variant:o.isAvailable?"default":"secondary",children:o.isAvailable?"Disponivel":"Indisponivel"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.currentChatCount||0,"/",o.maxConcurrentChats||5," chats"]})]})]})},o.id)),(!e||e.length===0)&&t.jsxs(ee,{className:"col-span-full p-8 text-center",children:[t.jsx(hn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h4",{className:"font-medium mb-2",children:"Nenhum agente cadastrado"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione agentes para atender os clientes quando o bot precisar de ajuda humana"})]})]})]})}function PEe({agent:e,onSuccess:n}){const[r,a]=w.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",isAvailable:e?.isAvailable!==!1,maxConcurrentChats:e?.maxConcurrentChats||5}),{toast:s}=At(),i=Ae({mutationFn:async o=>e?Ne("PATCH",`/api/admin/whatsapp/agents/${e.id}`,o):Ne("POST","/api/admin/whatsapp/agents",o),onSuccess:()=>{s({title:e?"Agente atualizado":"Agente criado com sucesso"}),n()}});return t.jsxs("form",{onSubmit:o=>{o.preventDefault(),i.mutate(r)},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(B,{htmlFor:"agentName",children:"Nome"}),t.jsx(J,{id:"agentName",value:r.name,onChange:o=>a({...r,name:o.target.value}),placeholder:"Nome do agente","data-testid":"input-agent-name"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"agentEmail",children:"Email"}),t.jsx(J,{id:"agentEmail",type:"email",value:r.email,onChange:o=>a({...r,email:o.target.value}),placeholder:"email@exemplo.com","data-testid":"input-agent-email"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"agentPhone",children:"Telefone (opcional)"}),t.jsx(J,{id:"agentPhone",value:r.phone,onChange:o=>a({...r,phone:o.target.value}),placeholder:"+55 41 99999-9999","data-testid":"input-agent-phone"})]}),t.jsxs("div",{children:[t.jsx(B,{htmlFor:"maxChats",children:"Max. Chats Simultaneos"}),t.jsx(J,{id:"maxChats",type:"number",min:1,max:20,value:r.maxConcurrentChats,onChange:o=>a({...r,maxConcurrentChats:parseInt(o.target.value)||5}),"data-testid":"input-max-chats"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{htmlFor:"isAvailable",children:"Disponivel para atendimento"}),t.jsx(ea,{id:"isAvailable",checked:r.isAvailable,onCheckedChange:o=>a({...r,isAvailable:o}),"data-testid":"switch-agent-available"})]}),t.jsxs(H,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-save-agent",children:[t.jsx(Ws,{className:"w-4 h-4 mr-2"}),i.isPending?"Salvando...":"Salvar Agente"]})]})}function EEe(){const{data:e,isLoading:n}=Ve({queryKey:["/api/admin/whatsapp/conversations"]}),r={active:{label:"Ativo",variant:"default"},waiting_human:{label:"Aguardando Atendente",variant:"destructive"},resolved:{label:"Resolvido",variant:"secondary"},closed:{label:"Encerrado",variant:"outline"}};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Conversas Ativas"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhe e gerencie as conversas em andamento"})]}),!e||e.length===0?t.jsxs(ee,{className:"p-8 text-center",children:[t.jsx(xo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h4",{className:"font-medium mb-2",children:"Nenhuma conversa ativa"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"As conversas aparecerao aqui quando clientes entrarem em contato via WhatsApp"})]}):t.jsx("div",{className:"space-y-2",children:e.map(a=>{const s=r[a.status||"active"];return t.jsx(ee,{className:"hover-elevate",children:t.jsx(te,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:t.jsx(Qf,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:a.customerName||a.customerPhone}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.customerPhone})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ee,{variant:s.variant,children:s.label}),t.jsx(H,{size:"sm",variant:"outline","data-testid":`button-view-conversation-${a.id}`,children:"Ver Conversa"})]})]})})},a.id)})})]})}function AEe(){const{data:e=[]}=Ve({queryKey:["/api/admin/whatsapp/journey-steps"]});return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(it,{href:"/admin-mcg",children:t.jsxs(H,{variant:"ghost",size:"sm",children:[t.jsx(po,{className:"w-4 h-4 mr-1 rotate-180"}),"Voltar"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qf,{className:"w-6 h-6 text-green-500"}),t.jsx("h1",{className:"text-xl font-bold",children:"WhatsApp Business"})]})]}),t.jsxs(Ee,{variant:"outline",className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Integraco Ativa"]})]})}),t.jsx("main",{className:"max-w-screen-xl mx-auto px-6 py-8",children:t.jsxs(js,{defaultValue:"journey",className:"space-y-6",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"journey",className:"flex items-center gap-2","data-testid":"tab-journey",children:[t.jsx(QE,{className:"w-4 h-4"}),"Jornada"]}),t.jsxs(Jt,{value:"config",className:"flex items-center gap-2","data-testid":"tab-config",children:[t.jsx(ZE,{className:"w-4 h-4"}),"Configuracao"]}),t.jsxs(Jt,{value:"agents",className:"flex items-center gap-2","data-testid":"tab-agents",children:[t.jsx(hn,{className:"w-4 h-4"}),"Agentes"]}),t.jsxs(Jt,{value:"conversations",className:"flex items-center gap-2","data-testid":"tab-conversations",children:[t.jsx(xo,{className:"w-4 h-4"}),"Conversas"]})]}),t.jsx(en,{value:"journey",children:t.jsx(NEe,{steps:e})}),t.jsx(en,{value:"config",children:t.jsx(CEe,{})}),t.jsx(en,{value:"agents",children:t.jsx(SEe,{})}),t.jsx(en,{value:"conversations",children:t.jsx(EEe,{})})]})})]})}const kEe=[{title:"Visao Geral",url:"/pessoal",icon:op},{title:"Gestao Financeira",url:"/pessoal/financeiro",icon:Uf},{title:"Plano de Contas",url:"/pessoal/plano-contas",icon:Cc},{title:"Centros de Custo",url:"/pessoal/centros-custo",icon:nn},{title:"Bancos",url:"/pessoal/bancos",icon:Ec},{title:"IRPF",url:"/pessoal/irpf",icon:XE}];function Bc({children:e}){const[n]=wa(),{user:r}=za(),a={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return t.jsx(SA,{style:a,children:t.jsxs("div",{className:"flex h-screen w-full",children:[t.jsxs(PA,{children:[t.jsx(AA,{className:"p-4 border-b border-border",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(ko,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-sm leading-tight",children:"Admin Pessoal"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Finanas do CEO"})]})]})}),t.jsxs(_A,{children:[t.jsxs(xi,{children:[t.jsx(Lg,{children:"Menu"}),t.jsx(ro,{children:t.jsx(ao,{children:kEe.map(s=>t.jsx(as,{children:t.jsx(ss,{asChild:!0,isActive:n===s.url||s.url!=="/pessoal"&&n.startsWith(s.url),children:t.jsxs(it,{href:s.url,children:[t.jsx(s.icon,{className:"h-4 w-4"}),t.jsx("span",{children:s.title})]})})},s.title))})})]}),t.jsx(xi,{children:t.jsx(ro,{children:t.jsxs(ao,{children:[t.jsx(as,{children:t.jsx(ss,{asChild:!0,children:t.jsxs(it,{href:"/admin",children:[t.jsx("img",{src:Ir,alt:"MCG",className:"h-4 w-4 object-contain"}),t.jsx("span",{children:"Admin MCG"})]})})}),t.jsx(as,{children:t.jsx(ss,{asChild:!0,children:t.jsxs(it,{href:"/dashboard",children:[t.jsx(ia,{className:"h-4 w-4"}),t.jsx("span",{children:"Voltar ao Sistema"})]})})})]})})})]}),t.jsx(kA,{className:"p-4 border-t border-border",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vp,{className:"h-8 w-8",children:t.jsxs(yp,{className:"text-xs",children:[r?.firstName?.[0],r?.lastName?.[0]||r?.email?.[0]?.toUpperCase()]})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:r?.firstName||r?.email}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"CEO"})]}),t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(it,{href:"/logout",children:t.jsx("button",{type:"button",className:"inline-flex items-center justify-center h-9 w-9 rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground","data-testid":"button-pessoal-logout",children:t.jsx(qy,{className:"h-4 w-4"})})})}),t.jsx(rs,{children:"Sair"})]})]})})]}),t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("header",{className:"flex items-center justify-between gap-2 p-3 border-b border-border bg-background",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Ls,{children:[t.jsx(zs,{asChild:!0,children:t.jsx(EA,{"data-testid":"button-pessoal-sidebar-toggle"})}),t.jsx(rs,{children:"Menu"})]}),t.jsx("h1",{className:"text-lg font-semibold",children:"ADMIN PESSOAL"})]}),t.jsx(ja,{})]}),t.jsx("main",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:e})]})]})})}function _Ee(){const{data:e=[]}=Ve({queryKey:["/api/personal-finance/transactions"]}),{data:n=[]}=Ve({queryKey:["/api/personal-finance/accounts"]}),{data:r=[]}=Ve({queryKey:["/api/admin/irpf/declarations"]}),a=n.reduce((h,p)=>h+Number(p.currentBalance||0),0),s=new Date().getMonth(),i=new Date().getFullYear(),o=e.filter(h=>{const p=new Date(h.date);return p.getMonth()===s&&p.getFullYear()===i}),l=o.filter(h=>h.type==="income").reduce((h,p)=>h+Number(p.amount),0),d=o.filter(h=>h.type==="expense").reduce((h,p)=>h+Number(p.amount),0),u=r.sort((h,p)=>p.year-h.year)[0],f=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h);return t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Visao Geral"}),t.jsx("p",{className:"text-muted-foreground",children:"Resumo das suas finanas pessoais e declaraes fiscais"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Saldo Total"}),t.jsx(Uf,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold",children:f(a)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.length," conta(s) ativa(s)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Receitas do Mes"}),t.jsx(pn,{className:"h-4 w-4 text-green-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:f(l)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.filter(h=>h.type==="income").length," entrada(s)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Despesas do Mes"}),t.jsx(Ao,{className:"h-4 w-4 text-red-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:f(d)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.filter(h=>h.type==="expense").length," saida(s)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Resultado do Mes"}),t.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:`text-2xl font-bold ${l-d>=0?"text-green-600":"text-red-600"}`,children:f(l-d)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:l-d>=0?"Superavit":"Deficit"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(XE,{className:"h-5 w-5"}),"IRPF"]}),t.jsx(rt,{children:"Imposto de Renda Pessoa Fisica"})]}),t.jsx(it,{href:"/pessoal/irpf",children:t.jsxs(H,{variant:"outline",size:"sm",children:["Acessar ",t.jsx(gl,{className:"h-4 w-4 ml-1"})]})})]})}),t.jsx(te,{children:u?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("span",{className:"font-medium",children:["Declaracao ",u.year]}),t.jsx(Ee,{variant:u.status==="submitted"?"default":u.status==="ready"?"secondary":"outline",children:u.status==="submitted"?"Enviada":u.status==="ready"?"Pronta":"Rascunho"})]}),u.totalIncome&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renda Total: ",f(Number(u.totalIncome))]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," declaracao(es) cadastrada(s)"]})]}):t.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhuma declaracao cadastrada"})})]})}),t.jsx(MK,{title:"Calendario Financeiro Pessoal",transactions:e.map(h=>({id:h.id,date:h.date,description:h.description,amount:h.amount,type:h.type}))}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Uf,{className:"h-5 w-5"}),"Ultimas Transacoes"]}),t.jsx(rt,{children:"Movimentacoes recentes"})]}),t.jsx(it,{href:"/pessoal/financeiro",children:t.jsxs(H,{variant:"outline",size:"sm",children:["Ver Todas ",t.jsx(gl,{className:"h-4 w-4 ml-1"})]})})]})}),t.jsx(te,{children:e.length===0?t.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"Nenhuma transacao registrada"}):t.jsx("div",{className:"space-y-2",children:e.slice(0,5).map(h=>t.jsxs("div",{className:"flex items-center justify-between gap-2 py-2 border-b last:border-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:h.description}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(h.date).toLocaleDateString("pt-BR")})]}),t.jsxs("span",{className:`font-medium ${h.type==="income"?"text-green-600":"text-red-600"}`,children:[h.type==="income"?"+":"-",f(Number(h.amount))]})]},h.id))})})]})]})})}function TEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({type:"expense",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",accountId:"",linkedToMcg:!1,mcgRecordType:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/admin/personal/transactions"]}),{data:u=[]}=Ve({queryKey:["/api/admin/personal/accounts"]}),{data:f=[]}=Ve({queryKey:["/api/admin/personal/categories"]}),h=Ae({mutationFn:async k=>a?Ne("PATCH",`/api/admin/personal/transactions/${a.id}`,k):Ne("POST","/api/admin/personal/transactions",k),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/personal/transactions"]}),r(!1),v(),e({title:a?"Lancamento atualizado":"Lancamento criado"})}}),p=Ae({mutationFn:async k=>Ne("DELETE",`/api/admin/personal/transactions/${k}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/personal/transactions"]}),e({title:"Lancamento excluido"})}}),v=()=>{s(null),o({type:"expense",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",accountId:"",linkedToMcg:!1,mcgRecordType:""})},N=k=>{s(k),o({type:k.type,category:k.categoryId?.toString()||"",description:k.description||"",amount:k.amount||"",date:k.date||new Date().toISOString().split("T")[0],notes:k.notes||"",accountId:k.accountId?.toString()||"",linkedToMcg:k.linkedToMcg||!1,mcgRecordType:k.mcgRecordType||""}),r(!0)},j=()=>{const k={type:i.type,description:i.description,amount:i.amount,date:i.date,notes:i.notes,accountId:i.accountId?parseInt(i.accountId):null,categoryId:i.category?parseInt(i.category):null,linkedToMcg:i.linkedToMcg,mcgRecordType:i.mcgRecordType||null};h.mutate(k)},g=k=>k?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(k)):"R$ 0,00",P=k=>k?Yt(new Date(k),"dd/MM/yyyy",{locale:Jn}):"-",C=l.filter(k=>k.type==="income"),b=l.filter(k=>k.type==="expense"),y=C.reduce((k,T)=>k+parseFloat(T.amount||"0"),0),E=b.reduce((k,T)=>k+parseFloat(T.amount||"0"),0),S=y-E;return t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-financeiro-pessoal-title",children:"Financeiro Pessoal"}),t.jsx("p",{className:"text-muted-foreground",children:"Controle financeiro pessoal do CEO"})]}),t.jsxs(bt,{open:n,onOpenChange:k=>{k||v(),r(k)},children:[t.jsx($r,{asChild:!0,children:t.jsxs(H,{"data-testid":"button-add-lancamento",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Lancamento"]})}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Lancamento":"Novo Lancamento"})}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Tipo *"}),t.jsxs(Oe,{value:i.type,onValueChange:k=>o({...i,type:k,category:""}),children:[t.jsx(_e,{"data-testid":"select-lancamento-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"income",children:"Receita"}),t.jsx(ne,{value:"expense",children:"Despesa"}),t.jsx(ne,{value:"transfer",children:"Transferencia"})]})]})]}),f.length>0&&t.jsxs("div",{children:[t.jsx(B,{children:"Categoria"}),t.jsxs(Oe,{value:i.category,onValueChange:k=>o({...i,category:k}),children:[t.jsx(_e,{"data-testid":"select-lancamento-category",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:f.filter(k=>i.type==="income"?k.type==="receita":i.type==="expense"?k.type==="despesa":k.type==="transferencia").map(k=>t.jsx(ne,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Descricao *"}),t.jsx(J,{value:i.description,onChange:k=>o({...i,description:k.target.value}),"data-testid":"input-lancamento-description"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Valor (R$) *"}),t.jsx(J,{type:"number",step:"0.01",value:i.amount,onChange:k=>o({...i,amount:k.target.value}),"data-testid":"input-lancamento-value"})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Data *"}),t.jsx(J,{type:"date",value:i.date,onChange:k=>o({...i,date:k.target.value}),"data-testid":"input-lancamento-date"})]})]}),u.length>0&&t.jsxs("div",{children:[t.jsx(B,{children:"Conta"}),t.jsxs(Oe,{value:i.accountId,onValueChange:k=>o({...i,accountId:k}),children:[t.jsx(_e,{"data-testid":"select-lancamento-account",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsx(Te,{children:u.map(k=>t.jsx(ne,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Vinculacao MCG"}),t.jsxs(Oe,{value:i.linkedToMcg?"true":"false",onValueChange:k=>o({...i,linkedToMcg:k==="true"}),children:[t.jsx(_e,{"data-testid":"select-lancamento-mcg",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"false",children:"Nao vinculado"}),t.jsx(ne,{value:"true",children:"Vinculado a MCG"})]})]})]}),i.linkedToMcg&&t.jsxs("div",{children:[t.jsx(B,{children:"Tipo MCG"}),t.jsxs(Oe,{value:i.mcgRecordType,onValueChange:k=>o({...i,mcgRecordType:k}),children:[t.jsx(_e,{"data-testid":"select-lancamento-mcg-type",children:t.jsx(Me,{placeholder:"Selecione"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"prolabore",children:"Pro-labore"}),t.jsx(ne,{value:"dividendo",children:"Dividendo"}),t.jsx(ne,{value:"reembolso",children:"Reembolso"})]})]})]}),t.jsxs("div",{children:[t.jsx(B,{children:"Observacoes"}),t.jsx(St,{value:i.notes,onChange:k=>o({...i,notes:k.target.value}),"data-testid":"input-lancamento-notes"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>{v(),r(!1)},children:"Cancelar"}),t.jsx(H,{onClick:j,disabled:!i.description||!i.amount||h.isPending,"data-testid":"button-save-lancamento",children:h.isPending?"Salvando...":"Salvar"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Receitas"}),t.jsx(pn,{className:"h-4 w-4 text-green-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-total-receitas",children:g(y.toString())}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.length," entrada(s)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Despesas"}),t.jsx(Ao,{className:"h-4 w-4 text-red-500"})]}),t.jsxs(te,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-total-despesas",children:g(E.toString())}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.length," saida(s)"]})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Saldo"}),t.jsx(Uf,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(te,{children:[t.jsx("div",{className:`text-2xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-saldo",children:g(S.toString())}),t.jsx("p",{className:"text-xs text-muted-foreground",children:S>=0?"Superavit":"Deficit"})]})]})]}),t.jsxs(js,{defaultValue:"receitas",children:[t.jsxs(qa,{children:[t.jsxs(Jt,{value:"receitas","data-testid":"tab-receitas",children:["Receitas (",C.length,")"]}),t.jsxs(Jt,{value:"despesas","data-testid":"tab-despesas",children:["Despesas (",b.length,")"]})]}),t.jsx(en,{value:"receitas",className:"mt-4",children:t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:d?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):C.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma receita cadastrada"}):t.jsx("div",{className:"space-y-2",children:C.map(k=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border rounded-md","data-testid":`row-receita-${k.id}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium",children:k.description}),k.linkedToMcg&&t.jsx(Ee,{variant:"secondary",children:"MCG"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:P(k.date)})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"font-medium text-green-600",children:g(k.amount)})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>N(k),"data-testid":`button-edit-receita-${k.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>p.mutate(k.id),"data-testid":`button-delete-receita-${k.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]},k.id))})})})}),t.jsx(en,{value:"despesas",className:"mt-4",children:t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:d?t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):b.length===0?t.jsx("p",{className:"text-muted-foreground",children:"Nenhuma despesa cadastrada"}):t.jsx("div",{className:"space-y-2",children:b.map(k=>t.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border rounded-md","data-testid":`row-despesa-${k.id}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium",children:k.description}),k.linkedToMcg&&t.jsx(Ee,{variant:"secondary",children:"MCG"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:P(k.date)})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"font-medium text-red-600",children:g(k.amount)})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>N(k),"data-testid":`button-edit-despesa-${k.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>p.mutate(k.id),"data-testid":`button-delete-despesa-${k.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]},k.id))})})})})]})]})})}function OEe(){const{toast:e}=At(),[n,r]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,d]=w.useState(!1),[u,f]=w.useState(!1),[h,p]=w.useState(!1),[v,N]=w.useState("salario"),[j,g]=w.useState("saude"),[P,C]=w.useState("filho"),[b,y]=w.useState("imovel"),E=()=>{s(!0)},S=()=>{s(!1)},k=()=>{N("salario"),o(!0)},T=()=>{o(!1),N("salario")},z=()=>{g("saude"),d(!0)},Y=()=>{d(!1),g("saude")},F=()=>{C("filho"),f(!0)},D=()=>{f(!1),C("filho")},R=()=>{y("imovel"),p(!0)},q=()=>{p(!1),y("imovel")},{data:Q=[],isLoading:K}=Ve({queryKey:["/api/admin/irpf/declarations"]}),{data:U=[]}=Ve({queryKey:["/api/admin/irpf/declarations",n?.id,"incomes"],enabled:!!n}),{data:O=[]}=Ve({queryKey:["/api/admin/irpf/declarations",n?.id,"deductions"],enabled:!!n}),{data:I=[]}=Ve({queryKey:["/api/admin/irpf/declarations",n?.id,"dependents"],enabled:!!n}),{data:G=[]}=Ve({queryKey:["/api/admin/irpf/declarations",n?.id,"assets"],enabled:!!n}),M=Ae({mutationFn:async Pe=>Ne("POST","/api/admin/irpf/declarations",Pe),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations"]}),S(),e({title:"Declarao criada com sucesso"})}}),V=Ae({mutationFn:async Pe=>Ne("DELETE",`/api/admin/irpf/declarations/${Pe}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations"]}),r(null),e({title:"Declarao excluda"})}}),Z=Ae({mutationFn:async Pe=>Ne("POST","/api/admin/irpf/incomes",{...Pe,declarationId:n?.id}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"incomes"]}),T(),e({title:"Rendimento adicionado"})}}),re=Ae({mutationFn:async Pe=>Ne("DELETE",`/api/admin/irpf/incomes/${Pe}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"incomes"]}),e({title:"Rendimento excludo"})}}),le=Ae({mutationFn:async Pe=>Ne("POST","/api/admin/irpf/deductions",{...Pe,declarationId:n?.id}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"deductions"]}),Y(),e({title:"Deduo adicionada"})}}),ye=Ae({mutationFn:async Pe=>Ne("DELETE",`/api/admin/irpf/deductions/${Pe}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"deductions"]}),e({title:"Deduo excluda"})}}),he=Ae({mutationFn:async Pe=>Ne("POST","/api/admin/irpf/dependents",{...Pe,declarationId:n?.id}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"dependents"]}),D(),e({title:"Dependente adicionado"})}}),pe=Ae({mutationFn:async Pe=>Ne("DELETE",`/api/admin/irpf/dependents/${Pe}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"dependents"]}),e({title:"Dependente excludo"})}}),L=Ae({mutationFn:async Pe=>Ne("POST","/api/admin/irpf/assets",{...Pe,declarationId:n?.id}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"assets"]}),q(),e({title:"Bem adicionado"})}}),ae=Ae({mutationFn:async Pe=>Ne("DELETE",`/api/admin/irpf/assets/${Pe}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpf/declarations",n?.id,"assets"]}),e({title:"Bem excludo"})}}),me=U.reduce((Pe,kt)=>Pe+parseFloat(kt.grossAmount||"0"),0),W=O.reduce((Pe,kt)=>Pe+parseFloat(kt.amount||"0"),0),Se=U.reduce((Pe,kt)=>Pe+parseFloat(kt.taxWithheld||"0"),0),$e=Pe=>{Pe.preventDefault();const kt=new FormData(Pe.currentTarget);M.mutate({year:parseInt(kt.get("year")),cpf:kt.get("cpf"),fullName:kt.get("fullName"),occupation:kt.get("occupation")})},tt=Pe=>{Pe.preventDefault();const kt=new FormData(Pe.currentTarget);Z.mutate({type:v,sourceName:kt.get("sourceName"),sourceCnpj:kt.get("sourceCnpj"),grossAmount:kt.get("grossAmount"),taxWithheld:kt.get("taxWithheld"),inssWithheld:kt.get("inssWithheld")})},ft=Pe=>{Pe.preventDefault();const kt=new FormData(Pe.currentTarget);le.mutate({type:j,description:kt.get("description"),beneficiaryName:kt.get("beneficiaryName"),beneficiaryCpfCnpj:kt.get("beneficiaryCpfCnpj"),amount:kt.get("amount")})},_t=Pe=>{Pe.preventDefault();const kt=new FormData(Pe.currentTarget);he.mutate({name:kt.get("name"),cpf:kt.get("cpf"),birthDate:kt.get("birthDate"),relationship:P})},xn=Pe=>{Pe.preventDefault();const kt=new FormData(Pe.currentTarget);L.mutate({type:b,description:kt.get("description"),location:kt.get("location"),acquisitionValue:kt.get("acquisitionValue"),currentValue:kt.get("currentValue")})};return n?t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs(H,{variant:"ghost",onClick:()=>r(null),className:"mb-2","data-testid":"button-back",children:[t.jsx(ia,{className:"h-4 w-4 mr-2"}),"Voltar"]}),t.jsxs("h1",{className:"text-2xl font-bold","data-testid":"text-declaration-title",children:["IRPF ",n.year]}),t.jsx("p",{className:"text-muted-foreground",children:n.fullName||"Nome no informado"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{variant:"outline","data-testid":"button-export",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar para Contabilidade"]}),t.jsxs(H,{variant:"destructive",onClick:()=>V.mutate(n.id),"data-testid":"button-delete-declaration",children:[t.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Rendimentos"}),t.jsx(ba,{className:"h-4 w-4 text-green-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-total-incomes",children:["R$ ",me.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Total Dedues"}),t.jsx(Xt,{className:"h-4 w-4 text-blue-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-deductions",children:["R$ ",W.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"IRRF Retido"}),t.jsx(ba,{className:"h-4 w-4 text-orange-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-tax-withheld",children:["R$ ",Se.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Dependentes"}),t.jsx(hn,{className:"h-4 w-4 text-purple-500"})]}),t.jsx(te,{children:t.jsx("div",{className:"text-2xl font-bold","data-testid":"text-dependents-count",children:I.length})})]})]}),t.jsxs(js,{defaultValue:"incomes",children:[t.jsxs(qa,{children:[t.jsx(Jt,{value:"incomes","data-testid":"tab-incomes",children:"Rendimentos"}),t.jsx(Jt,{value:"deductions","data-testid":"tab-deductions",children:"Dedues"}),t.jsx(Jt,{value:"dependents","data-testid":"tab-dependents",children:"Dependentes"}),t.jsx(Jt,{value:"assets","data-testid":"tab-assets",children:"Bens e Direitos"})]}),t.jsxs(en,{value:"incomes",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(bt,{open:i,onOpenChange:Pe=>{Pe||T()},children:[t.jsxs(H,{onClick:()=>k(),"data-testid":"button-add-income",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Rendimento"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Rendimento"})}),t.jsxs("form",{onSubmit:tt,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:v,onValueChange:N,children:[t.jsx(_e,{"data-testid":"select-income-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"salario",children:"Salrio"}),t.jsx(ne,{value:"prolabore",children:"Pr-labore"}),t.jsx(ne,{value:"aluguel",children:"Aluguel"}),t.jsx(ne,{value:"dividendos",children:"Dividendos"}),t.jsx(ne,{value:"outros",children:"Outros"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Fonte Pagadora"}),t.jsx(J,{name:"sourceName",required:!0,"data-testid":"input-source-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ da Fonte"}),t.jsx(J,{name:"sourceCnpj","data-testid":"input-source-cnpj"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Rendimento Bruto"}),t.jsx(J,{name:"grossAmount",type:"number",step:"0.01",required:!0,"data-testid":"input-gross-amount"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"IRRF Retido"}),t.jsx(J,{name:"taxWithheld",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-tax-withheld"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"INSS Retido"}),t.jsx(J,{name:"inssWithheld",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-inss-withheld"})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:Z.isPending,"data-testid":"button-save-income",children:Z.isPending?"Salvando...":"Salvar"})]})]})]})}),U.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum rendimento cadastrado"})}):t.jsx("div",{className:"space-y-2",children:U.map(Pe=>t.jsx(ee,{"data-testid":`card-income-${Pe.id}`,children:t.jsxs(te,{className:"flex items-center justify-between gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Pe.sourceName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe.type==="salario"?"Salrio":Pe.type==="prolabore"?"Pr-labore":Pe.type==="aluguel"?"Aluguel":Pe.type==="dividendos"?"Dividendos":"Outros",Pe.sourceCnpj&&` - ${Pe.sourceCnpj}`]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",parseFloat(Pe.grossAmount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["IRRF: R$ ",parseFloat(Pe.taxWithheld||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>re.mutate(Pe.id),"data-testid":`button-delete-income-${Pe.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]})},Pe.id))})]}),t.jsxs(en,{value:"deductions",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(bt,{open:l,onOpenChange:Pe=>{Pe||Y()},children:[t.jsxs(H,{onClick:()=>z(),"data-testid":"button-add-deduction",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Deduo"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Nova Deduo"})}),t.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:j,onValueChange:g,children:[t.jsx(_e,{"data-testid":"select-deduction-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"saude",children:"Sade"}),t.jsx(ne,{value:"educacao",children:"Educao"}),t.jsx(ne,{value:"previdencia",children:"Previdncia Privada"}),t.jsx(ne,{value:"pensao",children:"Penso Alimentcia"}),t.jsx(ne,{value:"dependente",children:"Dependente"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Descrio"}),t.jsx(J,{name:"description",required:!0,"data-testid":"input-deduction-description"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Beneficirio"}),t.jsx(J,{name:"beneficiaryName","data-testid":"input-beneficiary-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF/CNPJ do Beneficirio"}),t.jsx(J,{name:"beneficiaryCpfCnpj","data-testid":"input-beneficiary-cpf"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Valor"}),t.jsx(J,{name:"amount",type:"number",step:"0.01",required:!0,"data-testid":"input-deduction-amount"})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:le.isPending,"data-testid":"button-save-deduction",children:le.isPending?"Salvando...":"Salvar"})]})]})]})}),O.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhuma deduo cadastrada"})}):t.jsx("div",{className:"space-y-2",children:O.map(Pe=>t.jsx(ee,{"data-testid":`card-deduction-${Pe.id}`,children:t.jsxs(te,{className:"flex items-center justify-between gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Pe.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe.type==="saude"?"Sade":Pe.type==="educacao"?"Educao":Pe.type==="previdencia"?"Previdncia":Pe.type==="pensao"?"Penso":"Dependente",Pe.beneficiaryName&&` - ${Pe.beneficiaryName}`]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"font-bold text-blue-600",children:["R$ ",parseFloat(Pe.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>ye.mutate(Pe.id),"data-testid":`button-delete-deduction-${Pe.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]})},Pe.id))})]}),t.jsxs(en,{value:"dependents",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(bt,{open:u,onOpenChange:Pe=>{Pe||D()},children:[t.jsxs(H,{onClick:()=>F(),"data-testid":"button-add-dependent",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Dependente"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Dependente"})}),t.jsxs("form",{onSubmit:_t,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome"}),t.jsx(J,{name:"name",required:!0,"data-testid":"input-dependent-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF"}),t.jsx(J,{name:"cpf","data-testid":"input-dependent-cpf"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Data de Nascimento"}),t.jsx(J,{name:"birthDate",type:"date","data-testid":"input-dependent-birth"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Parentesco"}),t.jsxs(Oe,{value:P,onValueChange:C,children:[t.jsx(_e,{"data-testid":"select-relationship",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"filho",children:"Filho(a)"}),t.jsx(ne,{value:"conjuge",children:"Cnjuge"}),t.jsx(ne,{value:"pai",children:"Pai"}),t.jsx(ne,{value:"mae",children:"Me"}),t.jsx(ne,{value:"outro",children:"Outro"})]})]})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:he.isPending,"data-testid":"button-save-dependent",children:he.isPending?"Salvando...":"Salvar"})]})]})]})}),I.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum dependente cadastrado"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(Pe=>t.jsx(ee,{"data-testid":`card-dependent-${Pe.id}`,children:t.jsxs(te,{className:"flex items-center justify-between gap-4 py-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Pe.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:Pe.relationship==="filho"?"Filho(a)":Pe.relationship==="conjuge"?"Cnjuge":Pe.relationship==="pai"?"Pai":Pe.relationship==="mae"?"Me":"Outro"})]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>pe.mutate(Pe.id),"data-testid":`button-delete-dependent-${Pe.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})},Pe.id))})]}),t.jsxs(en,{value:"assets",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(bt,{open:h,onOpenChange:Pe=>{Pe||q()},children:[t.jsxs(H,{onClick:()=>R(),"data-testid":"button-add-asset",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Bem"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Bem ou Direito"})}),t.jsxs("form",{onSubmit:xn,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:b,onValueChange:y,children:[t.jsx(_e,{"data-testid":"select-asset-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"imovel",children:"Imvel"}),t.jsx(ne,{value:"veiculo",children:"Veculo"}),t.jsx(ne,{value:"conta_corrente",children:"Conta Corrente"}),t.jsx(ne,{value:"investimento",children:"Investimento"}),t.jsx(ne,{value:"participacao",children:"Participao Societria"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Descrio"}),t.jsx(St,{name:"description",required:!0,"data-testid":"input-asset-description"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Localizao (Pas/UF)"}),t.jsx(J,{name:"location","data-testid":"input-asset-location"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Valor de Aquisio"}),t.jsx(J,{name:"acquisitionValue",type:"number",step:"0.01","data-testid":"input-acquisition-value"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Valor Atual"}),t.jsx(J,{name:"currentValue",type:"number",step:"0.01","data-testid":"input-current-value"})]})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:L.isPending,"data-testid":"button-save-asset",children:L.isPending?"Salvando...":"Salvar"})]})]})]})}),G.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum bem cadastrado"})}):t.jsx("div",{className:"space-y-2",children:G.map(Pe=>t.jsx(ee,{"data-testid":`card-asset-${Pe.id}`,children:t.jsxs(te,{className:"flex items-center justify-between gap-4 py-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-2 rounded-full bg-muted",children:t.jsx(kZ,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Pe.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe.type==="imovel"?"Imvel":Pe.type==="veiculo"?"Veculo":Pe.type==="conta_corrente"?"Conta Corrente":Pe.type==="investimento"?"Investimento":"Participao",Pe.location&&` - ${Pe.location}`]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"font-bold",children:["R$ ",parseFloat(Pe.currentValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>ae.mutate(Pe.id),"data-testid":`button-delete-asset-${Pe.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})]})]})},Pe.id))})]})]})]})}):t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"IRPF - Imposto de Renda Pessoa Fsica"}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas declaraes de imposto de renda"})]}),t.jsxs(bt,{open:a,onOpenChange:Pe=>{Pe||S()},children:[t.jsxs(H,{onClick:()=>E(),"data-testid":"button-add-declaration",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Declarao"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Nova Declarao IRPF"})}),t.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ano-Calendrio"}),t.jsx(J,{name:"year",type:"number",defaultValue:new Date().getFullYear()-1,required:!0,"data-testid":"input-year"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CPF"}),t.jsx(J,{name:"cpf",placeholder:"000.000.000-00","data-testid":"input-cpf"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome Completo"}),t.jsx(J,{name:"fullName","data-testid":"input-full-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ocupao"}),t.jsx(J,{name:"occupation","data-testid":"input-occupation"})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:M.isPending,"data-testid":"button-save-declaration",children:M.isPending?"Criando...":"Criar Declarao"})]})]})]})]}),K?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):Q.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhuma declarao cadastrada. Crie uma nova para comear."})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(Pe=>t.jsxs(ee,{className:"hover-elevate cursor-pointer",onClick:()=>r(Pe),"data-testid":`card-declaration-${Pe.id}`,children:[t.jsxs(de,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs(ue,{children:["IRPF ",Pe.year]}),t.jsx(Ee,{variant:Pe.status==="submitted"?"default":Pe.status==="ready"?"secondary":"outline",children:Pe.status==="submitted"?"Enviada":Pe.status==="ready"?"Pronta":"Rascunho"})]}),t.jsx(rt,{children:Pe.fullName||"Nome no informado"})]}),t.jsx(te,{children:t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Rendimentos:"}),t.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(Pe.totalIncome||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Dedues:"}),t.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(Pe.totalDeductions||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]},Pe.id))})]})})}const a6=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function MEe(){const{toast:e}=At(),[n,r]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,d]=w.useState("simples"),[u,f]=w.useState("1"),h=()=>{d("simples"),s(!0)},p=()=>{s(!1),d("simples")},v=()=>{f("1"),o(!0)},N=()=>{o(!1),f("1")},{data:j=[],isLoading:g}=Ve({queryKey:["/api/admin/irpj/summaries"]}),{data:P=[]}=Ve({queryKey:["/api/admin/irpj/summaries",n?.id,"das"],enabled:!!n}),C=Ae({mutationFn:async R=>Ne("POST","/api/admin/irpj/summaries",R),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpj/summaries"]}),p(),e({title:"Resumo criado com sucesso"})}}),b=Ae({mutationFn:async R=>Ne("DELETE",`/api/admin/irpj/summaries/${R}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpj/summaries"]}),r(null),e({title:"Resumo excludo"})}}),y=Ae({mutationFn:async R=>Ne("POST","/api/admin/irpj/das",{...R,summaryId:n?.id}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpj/summaries",n?.id,"das"]}),N(),e({title:"DAS adicionado"})}}),E=Ae({mutationFn:async({id:R,data:q})=>Ne("PATCH",`/api/admin/irpj/das/${R}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpj/summaries",n?.id,"das"]}),e({title:"DAS atualizado"})}}),S=Ae({mutationFn:async R=>Ne("DELETE",`/api/admin/irpj/das/${R}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/irpj/summaries",n?.id,"das"]}),e({title:"DAS excludo"})}}),k=P.reduce((R,q)=>R+parseFloat(q.dasValue||"0"),0),T=P.filter(R=>R.isPaid).reduce((R,q)=>R+parseFloat(q.dasValue||"0"),0),z=k-T,Y=R=>{R.preventDefault();const q=new FormData(R.currentTarget);C.mutate({year:parseInt(q.get("year")),cnpj:q.get("cnpj"),razaoSocial:q.get("razaoSocial"),regimeTributario:l,totalRevenue:q.get("totalRevenue")||"0",totalExpenses:q.get("totalExpenses")||"0",totalProlabore:q.get("totalProlabore")||"0",totalDividends:q.get("totalDividends")||"0",notes:q.get("notes")})},F=R=>{R.preventDefault();const q=new FormData(R.currentTarget);y.mutate({competenceMonth:parseInt(u),competenceYear:parseInt(q.get("competenceYear")),revenueBase:q.get("revenueBase"),aliquot:q.get("aliquot"),dasValue:q.get("dasValue"),dueDate:q.get("dueDate"),isPaid:!1})},D=R=>{E.mutate({id:R.id,data:{isPaid:!R.isPaid,paymentDate:R.isPaid?null:new Date().toISOString().split("T")[0]}})};return n?t.jsx(Ot,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs(H,{variant:"ghost",onClick:()=>r(null),className:"mb-2","data-testid":"button-back",children:[t.jsx(ia,{className:"h-4 w-4 mr-2"}),"Voltar"]}),t.jsxs("h1",{className:"text-2xl font-bold","data-testid":"text-summary-title",children:["IRPJ ",n.year]}),t.jsx("p",{className:"text-muted-foreground",children:n.razaoSocial||"Razo social no informada"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{variant:"outline","data-testid":"button-export",children:[t.jsx(vr,{className:"h-4 w-4 mr-2"}),"Exportar para Contabilidade"]}),t.jsxs(H,{variant:"destructive",onClick:()=>b.mutate(n.id),"data-testid":"button-delete-summary",children:[t.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Faturamento"}),t.jsx(pn,{className:"h-4 w-4 text-green-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-revenue",children:["R$ ",parseFloat(n.totalRevenue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"Despesas"}),t.jsx(ba,{className:"h-4 w-4 text-red-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-expenses",children:["R$ ",parseFloat(n.totalExpenses||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"DAS Pago"}),t.jsx(Po,{className:"h-4 w-4 text-blue-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-das-paid",children:["R$ ",T.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsx(ue,{className:"text-sm font-medium",children:"DAS Pendente"}),t.jsx(ls,{className:"h-4 w-4 text-orange-500"})]}),t.jsx(te,{children:t.jsxs("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-das-pending",children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx(ue,{children:"Informaes da Empresa"}),t.jsx(rt,{children:"Dados para contabilidade"})]}),t.jsx(Ee,{children:n.regimeTributario==="simples"?"Simples Nacional":n.regimeTributario==="lucro_presumido"?"Lucro Presumido":"Lucro Real"})]})}),t.jsx(te,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"CNPJ"}),t.jsx("p",{className:"font-medium",children:n.cnpj||"No informado"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pr-labore Anual"}),t.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(n.totalProlabore||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Dividendos"}),t.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(n.totalDividends||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"INSS Patronal"}),t.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(n.totalInss||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]}),t.jsxs(js,{defaultValue:"das",children:[t.jsxs(qa,{children:[t.jsx(Jt,{value:"das","data-testid":"tab-das",children:"Pagamentos DAS"}),t.jsx(Jt,{value:"summary","data-testid":"tab-summary",children:"Resumo Mensal"})]}),t.jsxs(en,{value:"das",className:"space-y-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs(bt,{open:i,onOpenChange:R=>{R||N()},children:[t.jsxs(H,{onClick:()=>v(),"data-testid":"button-add-das",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo DAS"]}),t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Pagamento DAS"})}),t.jsxs("form",{onSubmit:F,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ms Competncia"}),t.jsxs(Oe,{value:u,onValueChange:f,children:[t.jsx(_e,{"data-testid":"select-month",children:t.jsx(Me,{})}),t.jsx(Te,{children:a6.map((R,q)=>t.jsx(ne,{value:(q+1).toString(),children:R},q))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ano Competncia"}),t.jsx(J,{name:"competenceYear",type:"number",defaultValue:n.year,required:!0,"data-testid":"input-comp-year"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Base de Clculo (Faturamento)"}),t.jsx(J,{name:"revenueBase",type:"number",step:"0.01",required:!0,"data-testid":"input-revenue-base"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Alquota (%)"}),t.jsx(J,{name:"aliquot",type:"number",step:"0.0001",placeholder:"0.0600","data-testid":"input-aliquot"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Valor DAS"}),t.jsx(J,{name:"dasValue",type:"number",step:"0.01",required:!0,"data-testid":"input-das-value"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Vencimento"}),t.jsx(J,{name:"dueDate",type:"date","data-testid":"input-due-date"})]})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:y.isPending,"data-testid":"button-save-das",children:y.isPending?"Salvando...":"Salvar"})]})]})]})}),P.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum pagamento DAS cadastrado"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(R=>t.jsxs(ee,{"data-testid":`card-das-${R.id}`,children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[t.jsxs(ue,{className:"text-sm font-medium",children:[a6[R.competenceMonth-1]," ",R.competenceYear]}),t.jsx(Ee,{variant:R.isPaid?"default":"outline",className:"cursor-pointer",onClick:()=>D(R),children:R.isPaid?"Pago":"Pendente"})]}),t.jsxs(te,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Base:"}),t.jsxs("span",{children:["R$ ",parseFloat(R.revenueBase||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Alquota:"}),t.jsxs("span",{children:[(parseFloat(R.aliquot||"0")*100).toFixed(2),"%"]})]}),t.jsxs("div",{className:"flex justify-between font-bold",children:[t.jsx("span",{children:"DAS:"}),t.jsxs("span",{className:R.isPaid?"text-green-600":"text-orange-600",children:["R$ ",parseFloat(R.dasValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),R.dueDate&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Vencimento:"}),t.jsx("span",{children:new Date(R.dueDate).toLocaleDateString("pt-BR")})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>S.mutate(R.id),"data-testid":`button-delete-das-${R.id}`,children:t.jsx(Mt,{className:"h-4 w-4"})})})]})]},R.id))})]}),t.jsx(en,{value:"summary",className:"space-y-4",children:t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Resumo para Contabilidade"}),t.jsxs(rt,{children:["Informaes consolidadas do ano ",n.year]})]}),t.jsx(te,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-md",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Faturamento Bruto Anual"}),t.jsxs("p",{className:"text-xl font-bold text-green-600",children:["R$ ",parseFloat(n.totalRevenue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Despesas Operacionais"}),t.jsxs("p",{className:"text-xl font-bold text-red-600",children:["R$ ",parseFloat(n.totalExpenses||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted rounded-md",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lucro Lquido"}),t.jsxs("p",{className:"text-xl font-bold",children:["R$ ",(parseFloat(n.totalRevenue||"0")-parseFloat(n.totalExpenses||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total DAS Pago"}),t.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["R$ ",T.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pr-labore + Dividendos"}),t.jsxs("p",{className:"text-xl font-bold",children:["R$ ",(parseFloat(n.totalProlabore||"0")+parseFloat(n.totalDividends||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.notes&&t.jsxs("div",{className:"p-4 border rounded-md",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Observaes"}),t.jsx("p",{children:n.notes})]})]})})]})})]})]})}):t.jsx(Ot,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"IRPJ - Imposto de Renda Pessoa Jurdica"}),t.jsx("p",{className:"text-muted-foreground",children:"Resumo fiscal anual para contabilidade"})]}),t.jsxs(bt,{open:a,onOpenChange:R=>{R||p()},children:[t.jsxs(H,{onClick:()=>h(),"data-testid":"button-add-summary",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Novo Resumo Anual"]}),t.jsxs(yt,{className:"max-w-2xl",children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Novo Resumo IRPJ"})}),t.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Ano-Calendrio"}),t.jsx(J,{name:"year",type:"number",defaultValue:new Date().getFullYear()-1,required:!0,"data-testid":"input-year"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Regime Tributrio"}),t.jsxs(Oe,{value:l,onValueChange:d,children:[t.jsx(_e,{"data-testid":"select-regime",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"simples",children:"Simples Nacional"}),t.jsx(ne,{value:"lucro_presumido",children:"Lucro Presumido"}),t.jsx(ne,{value:"lucro_real",children:"Lucro Real"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"CNPJ"}),t.jsx(J,{name:"cnpj",placeholder:"00.000.000/0001-00","data-testid":"input-cnpj"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Razo Social"}),t.jsx(J,{name:"razaoSocial","data-testid":"input-razao-social"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Faturamento Total"}),t.jsx(J,{name:"totalRevenue",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-revenue"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Despesas Totais"}),t.jsx(J,{name:"totalExpenses",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-expenses"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Total Pr-labore"}),t.jsx(J,{name:"totalProlabore",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-prolabore"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Total Dividendos"}),t.jsx(J,{name:"totalDividends",type:"number",step:"0.01",defaultValue:"0","data-testid":"input-dividends"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Observaes"}),t.jsx(St,{name:"notes","data-testid":"input-notes"})]}),t.jsx(H,{type:"submit",className:"w-full",disabled:C.isPending,"data-testid":"button-save-summary",children:C.isPending?"Criando...":"Criar Resumo"})]})]})]})]}),g?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):j.length===0?t.jsx(ee,{children:t.jsx(te,{className:"py-8 text-center text-muted-foreground",children:"Nenhum resumo fiscal cadastrado. Crie um novo para comear."})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(R=>t.jsxs(ee,{className:"hover-elevate cursor-pointer",onClick:()=>r(R),"data-testid":`card-summary-${R.id}`,children:[t.jsxs(de,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs(ue,{children:["IRPJ ",R.year]}),t.jsx(Ee,{variant:R.status==="submitted"?"default":R.status==="ready"?"secondary":"outline",children:R.status==="submitted"?"Enviado":R.status==="ready"?"Pronto":"Rascunho"})]}),t.jsx(rt,{children:R.razaoSocial||"Razo social no informada"})]}),t.jsx(te,{children:t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Faturamento:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",parseFloat(R.totalRevenue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total DAS:"}),t.jsxs("span",{className:"font-medium text-orange-600",children:["R$ ",parseFloat(R.totalDas||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Regime:"}),t.jsx(Ee,{variant:"secondary",children:R.regimeTributario==="simples"?"Simples Nacional":R.regimeTributario==="lucro_presumido"?"Lucro Presumido":"Lucro Real"})]})]})})]},R.id))})]})})}const REe={free:"Gratuito",professional:"Profissional",enterprise:"Corporativo"},DEe={free:0,professional:499,enterprise:1499};function IEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(!1),[i,o]=w.useState(""),{data:l,isLoading:d}=Ve({queryKey:["/api/subscription/status"]}),u=Ae({mutationFn:async j=>Ne("/api/subscription/cancel",{method:"POST",body:JSON.stringify({reason:j})}),onSuccess:()=>{e({title:"Cancelamento solicitado",description:"Seu cancelamento foi registrado. Voc continuar tendo acesso at a data informada."}),Ce.invalidateQueries({queryKey:["/api/subscription/status"]}),r(!1)},onError:j=>{e({title:"Erro",description:j.message||"No foi possvel processar o cancelamento.",variant:"destructive"})}}),f=Ae({mutationFn:async()=>Ne("/api/subscription/approve-renewal",{method:"POST"}),onSuccess:()=>{e({title:"Renovao aprovada",description:"Sua assinatura foi renovada com sucesso."}),Ce.invalidateQueries({queryKey:["/api/subscription/status"]}),s(!1)},onError:j=>{e({title:"Erro",description:j.message||"No foi possvel aprovar a renovao.",variant:"destructive"})}});if(d)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(to,{className:"h-8 w-8 animate-spin text-muted-foreground"})});const h=REe[l?.plan||"free"]||l?.plan,p=DEe[l?.plan||"free"]||0,v=l?.status==="cancelling",N=!!l?.cancellationRequestedAt;return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Meu Plano"}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua assinatura e plano"})]})}),l?.daysUntilAccessLoss!==null&&l.daysUntilAccessLoss<=7&&t.jsxs(ch,{variant:"destructive","data-testid":"alert-access-warning",children:[t.jsx(Hr,{className:"h-4 w-4"}),t.jsx(ZS,{children:"Aviso de Acesso"}),t.jsx(dh,{children:l.daysUntilAccessLoss<=0?"Seu acesso expirou. Entre em contato com o suporte.":`Seu acesso expira em ${l.daysUntilAccessLoss} dia(s). Aps essa data, voc no poder mais acessar o sistema.`})]}),l?.renewalDue&&!l.renewalApproved&&t.jsxs(ch,{"data-testid":"alert-renewal-due",children:[t.jsx(to,{className:"h-4 w-4"}),t.jsx(ZS,{children:"Renovao Pendente"}),t.jsxs(dh,{className:"flex flex-col gap-2",children:[t.jsxs("span",{children:["Sua assinatura vence em ",l.renewalDueDate?new Date(l.renewalDueDate).toLocaleDateString("pt-BR"):"breve",".",l.renewalPrice&&t.jsxs("span",{className:"font-medium",children:[" Novo valor: R$ ",(l.renewalPrice/100).toFixed(2),"/ms"]})]}),t.jsx(H,{onClick:()=>s(!0),className:"w-fit","data-testid":"button-approve-renewal",children:"Aprovar Renovao"})]})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ee,{"data-testid":"card-plan-details",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Qc,{className:"h-5 w-5"}),"Detalhes do Plano"]}),t.jsx(rt,{children:"Informaes sobre sua assinatura atual"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Plano"}),t.jsx(Ee,{variant:"secondary",className:"text-base","data-testid":"badge-plan-name",children:h})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Valor Mensal"}),t.jsx("span",{className:"font-semibold","data-testid":"text-monthly-price",children:p===0?"Gratuito":`R$ ${p.toFixed(2)}`})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Status"}),t.jsx(Ee,{variant:v?"destructive":"default","data-testid":"badge-status",children:v?"Cancelando":l?.status==="active"?"Ativo":l?.status})]}),l?.contractStartDate&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Incio do Contrato"}),t.jsx("span",{"data-testid":"text-contract-start",children:new Date(l.contractStartDate).toLocaleDateString("pt-BR")})]})]})]}),t.jsxs(ee,{"data-testid":"card-users",children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(hn,{className:"h-5 w-5"}),"Usurios"]}),t.jsx(rt,{children:"Gerenciamento de licenas"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Usurios Ativos"}),t.jsx("span",{className:"font-semibold","data-testid":"text-current-users",children:l?.currentUsers||1})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Limite de Usurios"}),t.jsx("span",{className:"font-semibold","data-testid":"text-max-users",children:l?.maxUsers||1})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Usurio Adicional"}),t.jsx("span",{className:"text-sm",children:"R$ 69,00/ms"})]})]})]})]}),N&&t.jsxs(ee,{className:"border-destructive","data-testid":"card-cancellation-info",children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2 text-destructive",children:[t.jsx(Hr,{className:"h-5 w-5"}),"Cancelamento Solicitado"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Data da Solicitao"}),t.jsx("span",{"data-testid":"text-cancellation-date",children:l?.cancellationRequestedAt?new Date(l.cancellationRequestedAt).toLocaleDateString("pt-BR"):"-"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Acesso at"}),t.jsx("span",{className:"font-semibold","data-testid":"text-access-until",children:l?.cancellationEffectiveDate?new Date(l.cancellationEffectiveDate).toLocaleDateString("pt-BR"):"-"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc continuar tendo acesso completo ao sistema at a data acima. Aps essa data, seu acesso ser suspenso, mas seus dados permanecero armazenados."})]})]}),!N&&l?.plan!=="free"&&t.jsxs(ee,{"data-testid":"card-cancel-subscription",children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Cancelar Assinatura"}),t.jsx(rt,{children:"Solicite o cancelamento do seu plano"})]}),t.jsx(te,{children:t.jsx(H,{variant:"destructive",onClick:()=>r(!0),"data-testid":"button-cancel-subscription",children:"Solicitar Cancelamento"})})]}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"sm:max-w-md",children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(Hr,{className:"h-5 w-5 text-destructive"}),"Cancelar Assinatura"]}),t.jsx(tn,{className:"text-left space-y-4 pt-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"Antes de continuar, saiba que:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[t.jsxs("li",{children:[t.jsx("span",{className:"font-medium",children:"Pagamento integral do ms atual:"})," No h reembolso proporcional do ms em curso."]}),t.jsxs("li",{children:[t.jsx("span",{className:"font-medium",children:"Cobrana adicional:"})," Ser cobrado mais 1 (um) ms aps a solicitao, com direito a uso at o ltimo dia coberto."]}),t.jsxs("li",{children:[t.jsx("span",{className:"font-medium",children:"Sem multa:"})," No h multa por cancelamento, mesmo antes de 1 ano de contrato."]}),t.jsxs("li",{children:[t.jsx("span",{className:"font-medium",children:"Seus dados ficam salvos:"})," O banco de dados da sua empresa permanece armazenado e pode ser reativado no futuro."]})]})]})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"cancel-reason",children:"Motivo do cancelamento (opcional)"}),t.jsx(St,{id:"cancel-reason",placeholder:"Conte-nos o motivo do cancelamento...",value:i,onChange:j=>o(j.target.value),"data-testid":"input-cancel-reason"})]}),t.jsxs(Pn,{className:"flex gap-2 sm:gap-0",children:[t.jsxs(H,{variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-dialog-close",children:[t.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Voltar"]}),t.jsxs(H,{variant:"destructive",onClick:()=>u.mutate(i),disabled:u.isPending,"data-testid":"button-confirm-cancellation",children:[u.isPending?t.jsx(to,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(ta,{className:"h-4 w-4 mr-2"}),"Confirmar Cancelamento"]})]})]})}),t.jsx(bt,{open:a,onOpenChange:s,children:t.jsxs(yt,{className:"sm:max-w-md",children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(to,{className:"h-5 w-5"}),"Aprovar Renovao"]}),t.jsxs(tn,{className:"text-left space-y-4 pt-4",children:[t.jsxs("p",{children:["Sua assinatura anual est prestes a vencer.",l?.renewalPrice&&t.jsxs("span",{className:"font-medium",children:[" O novo valor mensal ser de R$ ",(l.renewalPrice/100).toFixed(2),"."]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Ao aprovar, sua assinatura ser renovada por mais 12 meses nas mesmas condies, exceto pelo valor que pode ter sido atualizado pela MCG Consultoria."})]})]}),t.jsxs(Pn,{className:"flex gap-2 sm:gap-0",children:[t.jsxs(H,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-renewal-dialog-close",children:[t.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),t.jsxs(H,{onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-confirm-renewal",children:[f.isPending?t.jsx(to,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(ta,{className:"h-4 w-4 mr-2"}),"Aprovar Renovao"]})]})]})})]})}const s6=[{code:"001",name:"Banco do Brasil"},{code:"033",name:"Santander"},{code:"104",name:"Caixa Economica Federal"},{code:"237",name:"Bradesco"},{code:"341",name:"Itau Unibanco"},{code:"336",name:"C6 Bank"},{code:"260",name:"Nubank"},{code:"077",name:"Inter"},{code:"212",name:"Original"},{code:"756",name:"Sicoob"},{code:"748",name:"Sicredi"},{code:"422",name:"Safra"}];function $Ee(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({name:"",bankName:"",agency:"",accountNumber:"",accountType:"corrente",currentBalance:"0",pixKey:"",notes:"",isMain:!1}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/admin/personal/accounts"]}),u=Ae({mutationFn:async g=>Ne("POST","/api/admin/personal/accounts",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/personal/accounts"]}),r(!1),p(),e({title:"Conta bancaria criada com sucesso"})}}),f=Ae({mutationFn:async({id:g,data:P})=>Ne("PATCH",`/api/admin/personal/accounts/${g}`,P),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/personal/accounts"]}),r(!1),s(null),p(),e({title:"Conta bancaria atualizada com sucesso"})}}),h=Ae({mutationFn:async g=>Ne("DELETE",`/api/admin/personal/accounts/${g}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/personal/accounts"]}),e({title:"Conta bancaria removida com sucesso"})}}),p=()=>{o({name:"",bankName:"",agency:"",accountNumber:"",accountType:"corrente",currentBalance:"0",pixKey:"",notes:"",isMain:!1})},v=g=>{s(g),o({name:g.name,bankName:g.bankName||"",agency:g.agency||"",accountNumber:g.accountNumber||"",accountType:g.accountType||"corrente",currentBalance:g.currentBalance||"0",pixKey:g.pixKey||"",notes:g.notes||"",isMain:g.isMain||!1}),r(!0)},N=g=>{const P=s6.find(C=>C.code===g);o({...i,name:P?.name||"",bankName:P?.name||""})},j=()=>{a?f.mutate({id:a.id,data:i}):u.mutate(i)};return t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Ec,{className:"h-6 w-6"}),"Contas Bancarias Pessoais"]}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas contas bancarias pessoais"})]}),t.jsxs(H,{onClick:()=>{p(),s(null),r(!0)},"data-testid":"button-add-pf-bank",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Conta"]})]}),d?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx(ee,{children:t.jsxs(te,{className:"py-12 text-center",children:[t.jsx(Qc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma conta bancaria pessoal cadastrada."}),t.jsxs(H,{onClick:()=>{p(),o({...i,name:"C6 Bank",bankName:"C6 Bank"}),r(!0)},children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar C6 Bank"]})]})}):t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(g=>t.jsxs(ee,{className:"relative","data-testid":`card-pf-bank-${g.id}`,children:[g.isMain&&t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx(JE,{className:"h-5 w-5 text-amber-500 fill-amber-500"})}),t.jsxs(de,{className:"pb-2",children:[t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Ec,{className:"h-5 w-5"}),g.name]}),t.jsx(rt,{children:g.bankName})]}),t.jsxs(te,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Agencia:"}),t.jsx("p",{className:"font-medium",children:g.agency||"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Conta:"}),t.jsx("p",{className:"font-medium",children:g.accountNumber||"-"})]})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Saldo Atual:"}),t.jsxs("p",{className:"font-medium text-lg",children:["R$ ",parseFloat(g.currentBalance||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.pixKey&&t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[t.jsx(u8,{className:"h-4 w-4 text-primary"}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"PIX:"}),t.jsx("p",{className:"font-mono text-xs",children:g.pixKey})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[t.jsx(Ee,{variant:g.accountType==="corrente"?"default":"secondary",children:g.accountType==="corrente"?"Corrente":g.accountType==="poupanca"?"Poupanca":"Investimento"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>v(g),"data-testid":`button-edit-pf-bank-${g.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover esta conta bancaria?")&&h.mutate(g.id)},"data-testid":`button-delete-pf-bank-${g.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]})]})]},g.id))}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{className:"max-w-lg",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Conta Bancaria":"Nova Conta Bancaria"}),t.jsx(tn,{children:"Preencha os dados da sua conta bancaria pessoal"})]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Banco"}),t.jsxs(Oe,{onValueChange:N,children:[t.jsx(_e,{"data-testid":"select-pf-bank",children:t.jsx(Me,{placeholder:"Selecione o banco"})}),t.jsx(Te,{children:s6.map(g=>t.jsxs(ne,{value:g.code,children:[g.code," - ",g.name]},g.code))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome da Conta"}),t.jsx(J,{value:i.name,onChange:g=>o({...i,name:g.target.value}),placeholder:"Ex: C6 Bank PF","data-testid":"input-pf-account-name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Agencia"}),t.jsx(J,{value:i.agency,onChange:g=>o({...i,agency:g.target.value}),placeholder:"0001","data-testid":"input-pf-agency"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Numero da Conta"}),t.jsx(J,{value:i.accountNumber,onChange:g=>o({...i,accountNumber:g.target.value}),placeholder:"123456-7","data-testid":"input-pf-account-number"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo de Conta"}),t.jsxs(Oe,{value:i.accountType,onValueChange:g=>o({...i,accountType:g}),children:[t.jsx(_e,{"data-testid":"select-pf-account-type",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"corrente",children:"Conta Corrente"}),t.jsx(ne,{value:"poupanca",children:"Poupanca"}),t.jsx(ne,{value:"investimento",children:"Investimento"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Saldo Atual (R$)"}),t.jsx(J,{type:"number",step:"0.01",value:i.currentBalance,onChange:g=>o({...i,currentBalance:g.target.value}),placeholder:"0.00","data-testid":"input-pf-balance"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Chave PIX"}),t.jsx(J,{value:i.pixKey,onChange:g=>o({...i,pixKey:g.target.value}),placeholder:"CPF, Email, Telefone ou Chave Aleatoria","data-testid":"input-pf-pix-key"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md",children:[t.jsxs("div",{children:[t.jsx(B,{children:"Conta Principal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Marcar como conta principal"})]}),t.jsx(ea,{checked:i.isMain,onCheckedChange:g=>o({...i,isMain:g}),"data-testid":"switch-pf-main-account"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Observaes (opcional)"}),t.jsx(St,{value:i.notes,onChange:g=>o({...i,notes:g.target.value}),placeholder:"Observaes sobre a conta...",rows:2,"data-testid":"textarea-pf-bank-notes"})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:j,disabled:u.isPending||f.isPending,"data-testid":"button-save-pf-bank",children:u.isPending||f.isPending?"Salvando...":"Salvar"})]})]})]})})]})})}const FEe=[{value:"receita",label:"Receita",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"},{value:"despesa",label:"Despesa",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"},{value:"transferencia",label:"Transferencia",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"}],LEe=[{name:"Moradia",type:"despesa"},{name:"Alimentacao",type:"despesa"},{name:"Transporte",type:"despesa"},{name:"Saude",type:"despesa"},{name:"Educacao",type:"despesa"},{name:"Lazer",type:"despesa"},{name:"Vestuario",type:"despesa"},{name:"Investimentos",type:"despesa"},{name:"Salario",type:"receita"},{name:"Pro-Labore",type:"receita"},{name:"Dividendos",type:"receita"},{name:"Aluguel Recebido",type:"receita"},{name:"Outros Rendimentos",type:"receita"}];function zEe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState({name:"",type:"despesa",color:""}),{data:l=[],isLoading:d}=Ve({queryKey:["/api/personal-categories"]}),u=Ae({mutationFn:async b=>Ne("POST","/api/personal-categories",b),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),r(!1),v(),e({title:"Categoria criada com sucesso"})}}),f=Ae({mutationFn:async({id:b,data:y})=>Ne("PATCH",`/api/personal-categories/${b}`,y),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),r(!1),s(null),v(),e({title:"Categoria atualizada com sucesso"})}}),h=Ae({mutationFn:async b=>Ne("DELETE",`/api/personal-categories/${b}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),e({title:"Categoria removida com sucesso"})}}),p=Ae({mutationFn:async()=>{for(const b of LEe)await Ne("POST","/api/personal-categories",b)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),e({title:"Categorias padrao criadas com sucesso"})}}),v=()=>{o({name:"",type:"despesa",color:""})},N=b=>{s(b),o({name:b.name,type:b.type,color:b.color||""}),r(!0)},j=()=>{a?f.mutate({id:a.id,data:i}):u.mutate(i)},g=l.filter(b=>b.type==="receita"),P=l.filter(b=>b.type==="despesa"),C=l.filter(b=>b.type==="transferencia");return t.jsx(Bc,{title:"Centros de Custo PF",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(vl,{className:"h-6 w-6"}),"Centros de Custo Pessoal"]}),t.jsx("p",{className:"text-muted-foreground",children:"Organize suas financas pessoais por categorias"})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.length===0&&t.jsxs(H,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-create-default-categories",children:[t.jsx(vl,{className:"h-4 w-4 mr-2"}),"Criar Categorias Padrao"]}),t.jsxs(H,{onClick:()=>{v(),s(null),r(!0)},"data-testid":"button-add-pf-category",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]})]}),d?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):l.length===0?t.jsx(ee,{children:t.jsxs(te,{className:"py-12 text-center",children:[t.jsx(nn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma categoria cadastrada. Crie categorias para organizar suas financas."}),t.jsxs(H,{onClick:()=>p.mutate(),disabled:p.isPending,children:[t.jsx(vl,{className:"h-4 w-4 mr-2"}),"Criar Categorias Padrao"]})]})}):t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-green-600 dark:text-green-400 flex items-center gap-2",children:["Receitas",t.jsx(Ee,{variant:"secondary",children:g.length})]})}),t.jsxs(te,{className:"space-y-2",children:[g.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-green-50 dark:bg-green-900/20","data-testid":`category-receita-${b.id}`,children:[t.jsx("span",{className:"font-medium",children:b.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>N(b),children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover esta categoria?")&&h.mutate(b.id)},children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},b.id)),g.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma categoria de receita"})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-red-600 dark:text-red-400 flex items-center gap-2",children:["Despesas",t.jsx(Ee,{variant:"secondary",children:P.length})]})}),t.jsxs(te,{className:"space-y-2",children:[P.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-red-50 dark:bg-red-900/20","data-testid":`category-despesa-${b.id}`,children:[t.jsx("span",{className:"font-medium",children:b.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>N(b),children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover esta categoria?")&&h.mutate(b.id)},children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},b.id)),P.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma categoria de despesa"})]})]}),t.jsxs(ee,{children:[t.jsx(de,{className:"pb-3",children:t.jsxs(ue,{className:"text-blue-600 dark:text-blue-400 flex items-center gap-2",children:["Transferencias",t.jsx(Ee,{variant:"secondary",children:C.length})]})}),t.jsxs(te,{className:"space-y-2",children:[C.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-blue-50 dark:bg-blue-900/20","data-testid":`category-transferencia-${b.id}`,children:[t.jsx("span",{className:"font-medium",children:b.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>N(b),children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remover esta categoria?")&&h.mutate(b.id)},children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},b.id)),C.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma categoria de transferencia"})]})]})]}),t.jsx(bt,{open:n,onOpenChange:r,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:a?"Editar Categoria":"Nova Categoria"}),t.jsx(tn,{children:"Crie categorias para organizar suas financas pessoais"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome da Categoria"}),t.jsx(J,{value:i.name,onChange:b=>o({...i,name:b.target.value}),placeholder:"Ex: Alimentacao, Salario, etc.","data-testid":"input-pf-category-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:i.type,onValueChange:b=>o({...i,type:b}),children:[t.jsx(_e,{"data-testid":"select-pf-category-type",children:t.jsx(Me,{})}),t.jsx(Te,{children:FEe.map(b=>t.jsx(ne,{value:b.value,children:b.label},b.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Cor (opcional)"}),t.jsx(J,{type:"color",value:i.color||"#3b82f6",onChange:b=>o({...i,color:b.target.value}),className:"h-10 w-full","data-testid":"input-pf-category-color"})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(H,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),t.jsx(H,{onClick:j,disabled:u.isPending||f.isPending||!i.name,"data-testid":"button-save-pf-category",children:u.isPending||f.isPending?"Salvando...":"Salvar"})]})]})]})})]})})}var Do="Accordion",qEe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[d_,VEe,BEe]=tp(Do),[f0]=sr(Do,[BEe,o9]),u_=o9(),RK=se.forwardRef((e,n)=>{const{type:r,...a}=e,s=a,i=a;return t.jsx(d_.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?t.jsx(WEe,{...i,ref:n}):t.jsx(KEe,{...s,ref:n})})});RK.displayName=Do;var[DK,HEe]=f0(Do),[IK,UEe]=f0(Do,{collapsible:!1}),KEe=se.forwardRef((e,n)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,d]=sa({prop:r,defaultProp:a,onChange:s});return t.jsx(DK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:d,onItemClose:se.useCallback(()=>i&&d(""),[i,d]),children:t.jsx(IK,{scope:e.__scopeAccordion,collapsible:i,children:t.jsx($K,{...o,ref:n})})})}),WEe=se.forwardRef((e,n)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...i}=e,[o=[],l]=sa({prop:r,defaultProp:a,onChange:s}),d=se.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=se.useCallback(f=>l((h=[])=>h.filter(p=>p!==f)),[l]);return t.jsx(DK,{scope:e.__scopeAccordion,value:o,onItemOpen:d,onItemClose:u,children:t.jsx(IK,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx($K,{...i,ref:n})})})}),[GEe,h0]=f0(Do),$K=se.forwardRef((e,n)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:i="vertical",...o}=e,l=se.useRef(null),d=qt(l,n),u=VEe(r),h=Xc(s)==="ltr",p=He(e.onKeyDown,v=>{if(!qEe.includes(v.key))return;const N=v.target,j=u().filter(T=>!T.ref.current?.disabled),g=j.findIndex(T=>T.ref.current===N),P=j.length;if(g===-1)return;v.preventDefault();let C=g;const b=0,y=P-1,E=()=>{C=g+1,C>y&&(C=b)},S=()=>{C=g-1,C<b&&(C=y)};switch(v.key){case"Home":C=b;break;case"End":C=y;break;case"ArrowRight":i==="horizontal"&&(h?E():S());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(h?S():E());break;case"ArrowUp":i==="vertical"&&S();break}const k=C%P;j[k].ref.current?.focus()});return t.jsx(GEe,{scope:r,disabled:a,direction:s,orientation:i,children:t.jsx(d_.Slot,{scope:r,children:t.jsx(ot.div,{...o,"data-orientation":i,ref:d,onKeyDown:a?void 0:p})})})}),Py="AccordionItem",[QEe,m_]=f0(Py),FK=se.forwardRef((e,n)=>{const{__scopeAccordion:r,value:a,...s}=e,i=h0(Py,r),o=HEe(Py,r),l=u_(r),d=cr(),u=a&&o.value.includes(a)||!1,f=i.disabled||e.disabled;return t.jsx(QEe,{scope:r,open:u,disabled:f,triggerId:d,children:t.jsx(d9,{"data-orientation":i.orientation,"data-state":HK(u),...l,...s,ref:n,disabled:f,open:u,onOpenChange:h=>{h?o.onItemOpen(a):o.onItemClose(a)}})})});FK.displayName=Py;var LK="AccordionHeader",zK=se.forwardRef((e,n)=>{const{__scopeAccordion:r,...a}=e,s=h0(Do,r),i=m_(LK,r);return t.jsx(ot.h3,{"data-orientation":s.orientation,"data-state":HK(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:n})});zK.displayName=LK;var PE="AccordionTrigger",qK=se.forwardRef((e,n)=>{const{__scopeAccordion:r,...a}=e,s=h0(Do,r),i=m_(PE,r),o=UEe(PE,r),l=u_(r);return t.jsx(d_.ItemSlot,{scope:r,children:t.jsx(Mse,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...a,ref:n})})});qK.displayName=PE;var VK="AccordionContent",BK=se.forwardRef((e,n)=>{const{__scopeAccordion:r,...a}=e,s=h0(Do,r),i=m_(VK,r),o=u_(r);return t.jsx(Rse,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...a,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});BK.displayName=VK;function HK(e){return e?"open":"closed"}var YEe=RK,XEe=FK,ZEe=zK,UK=qK,KK=BK;const JEe=YEe,Bg=w.forwardRef(({className:e,...n},r)=>t.jsx(XEe,{ref:r,className:Fe("border-b",e),...n}));Bg.displayName="AccordionItem";const Hg=w.forwardRef(({className:e,children:n,...r},a)=>t.jsx(ZEe,{className:"flex",children:t.jsxs(UK,{ref:a,className:Fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[n,t.jsx(Eo,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Hg.displayName=UK.displayName;const Ug=w.forwardRef(({className:e,children:n,...r},a)=>t.jsx(KK,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:t.jsx("div",{className:Fe("pb-4 pt-0",e),children:n})}));Ug.displayName=KK.displayName;const eAe=[{value:"receita",label:"Receita",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",icon:pn},{value:"despesa",label:"Despesa",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",icon:Ao},{value:"transferencia",label:"Transferencia",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",icon:a8}],i6=["Salario","Pro-Labore","Dividendos","Aluguel Recebido","Rendimentos Investimentos","Pensao/Aposentadoria","Freelance/Trabalho Autonomo","Venda de Bens","Restituicao IR","Outros Rendimentos"],o6=["Moradia (Aluguel/Financiamento)","Condominio","IPTU","Energia Eletrica","Agua e Esgoto","Gas","Internet/TV/Telefone","Supermercado","Restaurantes/Delivery","Combustivel","Transporte Publico","Estacionamento/Pedagio","Manutencao Veiculo","IPVA/Licenciamento","Seguro Veiculo","Plano de Saude","Medicamentos","Consultas Medicas","Academia/Esportes","Educacao (Mensalidades)","Cursos/Livros","Vestuario","Lazer/Entretenimento","Viagens/Ferias","Presentes","Assinaturas (Streaming)","Servicos Domesticos","Pet (Animais)","Seguros (Vida/Residencial)","Previdencia Privada","Investimentos","Impostos","Taxas Bancarias","Cartao de Credito (Juros)","Emprestimos/Financiamentos","Doacoes","Outros Gastos"];function tAe(){const{toast:e}=At(),[n,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState("despesa"),[l,d]=w.useState(""),{data:u=[],isLoading:f}=Ve({queryKey:["/api/personal-categories"]}),h=Ae({mutationFn:async E=>Ne("POST","/api/personal-categories",E),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),g(),e({title:"Conta criada com sucesso"})},onError:()=>{e({title:"Erro ao criar conta",variant:"destructive"})}}),p=Ae({mutationFn:async({id:E,data:S})=>Ne("PATCH",`/api/personal-categories/${E}`,S),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),g(),e({title:"Conta atualizada com sucesso"})},onError:()=>{e({title:"Erro ao atualizar conta",variant:"destructive"})}}),v=Ae({mutationFn:async E=>Ne("DELETE",`/api/personal-categories/${E}`),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/personal-categories"]}),e({title:"Conta excluida"})},onError:()=>{e({title:"Erro ao excluir conta",variant:"destructive"})}}),N=E=>{o(E),d(""),s(null),r(!0)},j=E=>{s(E),o(E.type),d(E.name),r(!0)},g=()=>{r(!1),s(null),d("")},P=E=>{E.preventDefault(),l.trim()&&(a?p.mutate({id:a.id,data:{name:l,type:i}}):h.mutate({name:l,type:i}))},C=u.filter(E=>E.type==="receita"),b=u.filter(E=>E.type==="despesa"),y=u.filter(E=>E.type==="transferencia");return t.jsx(Bc,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Plano de Contas Pessoal"}),t.jsx("p",{className:"text-muted-foreground",children:"Organize suas categorias de receitas e despesas pessoais"})]}),f?t.jsx("div",{className:"text-center py-8",children:"Carregando..."}):t.jsxs(JEe,{type:"multiple",defaultValue:["receitas","despesas"],className:"space-y-4",children:[t.jsxs(Bg,{value:"receitas",className:"border rounded-lg",children:[t.jsx(Hg,{className:"px-4 hover:no-underline",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pn,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{className:"font-semibold",children:"Receitas"}),t.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[C.length," contas"]})]})}),t.jsx(Ug,{className:"px-4 pb-4",children:t.jsxs("div",{className:"space-y-2",children:[C.length===0?t.jsxs("p",{className:"text-sm text-muted-foreground py-2",children:["Nenhuma conta de receita cadastrada. Sugestoes: ",i6.slice(0,3).join(", "),"..."]}):t.jsx("div",{className:"grid gap-2",children:C.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950/30 rounded-lg","data-testid":`row-category-${E.id}`,children:[t.jsx("span",{className:"font-medium",children:E.name}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>j(E),"data-testid":`button-edit-${E.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>v.mutate(E.id),"data-testid":`button-delete-${E.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},E.id))}),t.jsxs(H,{variant:"outline",className:"w-full mt-2",onClick:()=>N("receita"),"data-testid":"button-add-receita",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Receita"]})]})})]}),t.jsxs(Bg,{value:"despesas",className:"border rounded-lg",children:[t.jsx(Hg,{className:"px-4 hover:no-underline",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ao,{className:"h-5 w-5 text-red-600"}),t.jsx("span",{className:"font-semibold",children:"Despesas"}),t.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[b.length," contas"]})]})}),t.jsx(Ug,{className:"px-4 pb-4",children:t.jsxs("div",{className:"space-y-2",children:[b.length===0?t.jsxs("p",{className:"text-sm text-muted-foreground py-2",children:["Nenhuma conta de despesa cadastrada. Sugestoes: ",o6.slice(0,3).join(", "),"..."]}):t.jsx("div",{className:"grid gap-2",children:b.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/30 rounded-lg","data-testid":`row-category-${E.id}`,children:[t.jsx("span",{className:"font-medium",children:E.name}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>j(E),"data-testid":`button-edit-${E.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>v.mutate(E.id),"data-testid":`button-delete-${E.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},E.id))}),t.jsxs(H,{variant:"outline",className:"w-full mt-2",onClick:()=>N("despesa"),"data-testid":"button-add-despesa",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Despesa"]})]})})]}),t.jsxs(Bg,{value:"transferencias",className:"border rounded-lg",children:[t.jsx(Hg,{className:"px-4 hover:no-underline",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(a8,{className:"h-5 w-5 text-blue-600"}),t.jsx("span",{className:"font-semibold",children:"Transferencias"}),t.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[y.length," contas"]})]})}),t.jsx(Ug,{className:"px-4 pb-4",children:t.jsxs("div",{className:"space-y-2",children:[y.length===0?t.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"Nenhuma conta de transferencia cadastrada."}):t.jsx("div",{className:"grid gap-2",children:y.map(E=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg","data-testid":`row-category-${E.id}`,children:[t.jsx("span",{className:"font-medium",children:E.name}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>j(E),"data-testid":`button-edit-${E.id}`,children:t.jsx(er,{className:"h-4 w-4"})}),t.jsx(H,{size:"icon",variant:"ghost",onClick:()=>v.mutate(E.id),"data-testid":`button-delete-${E.id}`,children:t.jsx(Mt,{className:"h-4 w-4 text-destructive"})})]})]},E.id))}),t.jsxs(H,{variant:"outline",className:"w-full mt-2",onClick:()=>N("transferencia"),"data-testid":"button-add-transferencia",children:[t.jsx(ut,{className:"h-4 w-4 mr-2"}),"Adicionar Transferencia"]})]})})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-lg",children:"Sugestoes de Contas"}),t.jsx(rt,{children:"Clique para adicionar rapidamente contas comuns de pessoa fisica"})]}),t.jsx(te,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-700 dark:text-green-400 mb-2",children:"Receitas"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i6.map(E=>t.jsxs(Ee,{variant:"outline",className:"cursor-pointer hover:bg-green-100 dark:hover:bg-green-900",onClick:()=>h.mutate({name:E,type:"receita"}),"data-testid":`badge-sugestao-receita-${E}`,children:[t.jsx(ut,{className:"h-3 w-3 mr-1"}),E]},E))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-red-700 dark:text-red-400 mb-2",children:"Despesas"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o6.slice(0,15).map(E=>t.jsxs(Ee,{variant:"outline",className:"cursor-pointer hover:bg-red-100 dark:hover:bg-red-900",onClick:()=>h.mutate({name:E,type:"despesa"}),"data-testid":`badge-sugestao-despesa-${E}`,children:[t.jsx(ut,{className:"h-3 w-3 mr-1"}),E]},E))})]})]})})]}),t.jsx(bt,{open:n,onOpenChange:E=>!E&&g(),children:t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:a?"Editar Conta":"Nova Conta"})}),t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome da Conta"}),t.jsx(J,{value:l,onChange:E=>d(E.target.value),placeholder:"Ex: Salario, Aluguel, Supermercado...",required:!0,"data-testid":"input-category-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Tipo"}),t.jsxs(Oe,{value:i,onValueChange:E=>o(E),children:[t.jsx(_e,{"data-testid":"select-category-type",children:t.jsx(Me,{})}),t.jsx(Te,{children:eAe.map(E=>t.jsx(ne,{value:E.value,children:E.label},E.value))})]})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(H,{type:"button",variant:"outline",onClick:g,children:"Cancelar"}),t.jsx(H,{type:"submit",disabled:h.isPending||p.isPending,"data-testid":"button-save-category",children:a?"Salvar":"Criar"})]})]})]})})]})})}const nAe=De.object({email:De.string().email("Email invlido")});function rAe(){const{toast:e}=At(),[n,r]=w.useState(!1),a=hs({resolver:ps(nAe),defaultValues:{email:""}}),s=Ae({mutationFn:async o=>(await Ne("POST","/api/auth/forgot-password",o)).json(),onSuccess:()=>{r(!0),e({title:"Email enviado",description:"Verifique sua caixa de entrada para redefinir sua senha"})},onError:o=>{e({title:"Erro",description:o.message||"No foi possvel enviar o email",variant:"destructive"})}}),i=o=>{s.mutate(o)};return t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>window.history.length>1?window.history.back():window.location.href="/login","data-testid":"button-back",title:"Voltar",children:t.jsx(ia,{className:"h-5 w-5"})}),t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs(ee,{className:"w-full max-w-md",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:n?t.jsx(Ar,{className:"h-8 w-8 text-primary"}):t.jsx(Ks,{className:"h-8 w-8 text-primary"})}),t.jsx(ue,{className:"text-2xl",children:n?"Email Enviado":"Esqueceu a Senha?"}),t.jsx(rt,{children:n?"Verifique sua caixa de entrada e siga as instrues para redefinir sua senha":"Informe seu email e enviaremos instrues para redefinir sua senha"})]}),t.jsxs(te,{children:[n?t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Se voc no receber o email em alguns minutos, verifique sua pasta de spam."}),t.jsx(H,{variant:"outline",className:"w-full",onClick:()=>r(!1),"data-testid":"button-resend",children:"Enviar novamente"}),t.jsx("div",{className:"text-center",children:t.jsx(it,{href:"/login",className:"text-sm text-primary hover:underline","data-testid":"link-back-login",children:"Voltar para o login"})})]}):t.jsx(xs,{...a,children:t.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[t.jsx(Qe,{control:a.control,name:"email",render:({field:o})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Email"}),t.jsx(Ye,{children:t.jsx(J,{type:"email",placeholder:"seu@email.com","data-testid":"input-email",...o})}),t.jsx(Ze,{})]})}),t.jsx(H,{type:"submit",className:"w-full",disabled:s.isPending,"data-testid":"button-submit",children:s.isPending?t.jsxs(t.Fragment,{children:[t.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Email"})]})}),t.jsxs("div",{className:"mt-6 text-center text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lembrou a senha? "}),t.jsx(it,{href:"/login",className:"text-primary hover:underline","data-testid":"link-login",children:"Fazer login"})]})]})]})})]})}const aAe=De.object({password:De.string().min(8,"Senha deve ter no mnimo 8 caracteres"),confirmPassword:De.string()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function sAe(){const{toast:e}=At(),[,n]=wa(),r=hL(),s=new URLSearchParams(r).get("token"),[i,o]=w.useState(!1),[l,d]=w.useState(!1),[u,f]=w.useState(!1),h=hs({resolver:ps(aAe),defaultValues:{password:"",confirmPassword:""}}),p=Ae({mutationFn:async N=>(await Ne("POST","/api/auth/reset-password",{token:s,password:N.password})).json(),onSuccess:()=>{o(!0),e({title:"Senha redefinida",description:"Sua senha foi alterada com sucesso"})},onError:N=>{e({title:"Erro",description:N.message||"No foi possvel redefinir a senha",variant:"destructive"})}}),v=N=>{p.mutate(N)};return s?t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>n("/login"),"data-testid":"button-back",title:"Voltar",children:t.jsx(ia,{className:"h-5 w-5"})}),t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs(ee,{className:"w-full max-w-md",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:i?t.jsx(Ar,{className:"h-8 w-8 text-primary"}):t.jsx(ZZ,{className:"h-8 w-8 text-primary"})}),t.jsx(ue,{className:"text-2xl",children:i?"Senha Redefinida":"Redefinir Senha"}),t.jsx(rt,{children:i?"Sua senha foi alterada com sucesso. Voc j pode fazer login.":"Digite sua nova senha"})]}),t.jsx(te,{children:i?t.jsx(H,{className:"w-full",onClick:()=>n("/login"),"data-testid":"button-go-login",children:"Ir para o Login"}):t.jsx(xs,{...h,children:t.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[t.jsx(Qe,{control:h.control,name:"password",render:({field:N})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Nova Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:l?"text":"password",placeholder:"Mnimo 8 caracteres","data-testid":"input-password",...N}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>d(!l),children:l?t.jsx(hu,{className:"h-4 w-4"}):t.jsx(fs,{className:"h-4 w-4"})})]})}),t.jsx(Ze,{})]})}),t.jsx(Qe,{control:h.control,name:"confirmPassword",render:({field:N})=>t.jsxs(We,{children:[t.jsx(Ge,{children:"Confirmar Senha"}),t.jsx(Ye,{children:t.jsxs("div",{className:"relative",children:[t.jsx(J,{type:u?"text":"password",placeholder:"Repita a senha","data-testid":"input-confirm-password",...N}),t.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>f(!u),children:u?t.jsx(hu,{className:"h-4 w-4"}):t.jsx(fs,{className:"h-4 w-4"})})]})}),t.jsx(Ze,{})]})}),t.jsx(H,{type:"submit",className:"w-full",disabled:p.isPending,"data-testid":"button-submit",children:p.isPending?t.jsxs(t.Fragment,{children:[t.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Redefinindo..."]}):"Redefinir Senha"})]})})})]})})]}):t.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t.jsx("header",{className:"border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs(ee,{className:"w-full max-w-md text-center",children:[t.jsxs(de,{children:[t.jsx(ue,{className:"text-2xl",children:"Link Invlido"}),t.jsx(rt,{children:"O link de redefinio de senha  invlido ou expirou."})]}),t.jsx(te,{children:t.jsx(it,{href:"/esqueci-senha",children:t.jsx(H,{className:"w-full",children:"Solicitar novo link"})})})]})})]})}const tS={alimenticio:"Alimentcio",embalagem:"Embalagem",quimico:"Qumico",farmaceutico:"Farmacutico",cosmetico:"Cosmtico",automotivo:"Automotivo",eletronico:"Eletrnico",metalurgico:"Metalrgico",textil:"Txtil",agronegocio:"Agronegcio",construcao:"Construo Civil",energia:"Energia",papel:"Papel e Celulose",plastico:"Plstico",bebidas:"Bebidas",outros:"Outros"};function iAe(){const{toast:e}=At();wa();const[n,r]=w.useState(""),[a,s]=w.useState("all"),[i,o]=w.useState(null),[l,d]=w.useState(!1),[u,f]=w.useState(!1),[h,p]=w.useState(null),[v,N]=w.useState(""),[j,g]=w.useState(!1),[P,C]=w.useState(null),[b,y]=w.useState("brl"),{data:E,isLoading:S}=Ve({queryKey:["/api/checklist-templates",a!=="all"?a:void 0]}),{data:k}=Ve({queryKey:["/api/checklist-templates/segments/list"]}),{data:T}=Ve({queryKey:["/api/checklist-template-purchases"]}),{data:z}=Ve({queryKey:["/api/clients"]}),Y=Ae({mutationFn:async({templateId:M,currency:V})=>(await Ne("POST",`/api/checklist-templates/${M}/purchase`,{currency:V})).json(),onSuccess:M=>{g(!1),C(null),M.checkoutUrl&&(window.open(M.checkoutUrl,"_blank"),e({title:"Checkout Aberto",description:"O pagamento foi aberto em uma nova aba. Complete o pagamento l."})),Ce.invalidateQueries({queryKey:["/api/checklist-template-purchases"]}),Ce.invalidateQueries({queryKey:["/api/checklist-templates"]})},onError:M=>{e({title:"Erro",description:M.message||"Erro ao iniciar compra",variant:"destructive"})}}),F=Ae({mutationFn:async({templateId:M,clientId:V})=>(await Ne("POST",`/api/checklist-templates/${M}/apply`,{clientId:V})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/checklists"]}),e({title:"Sucesso",description:"Template aplicado ao cliente com sucesso! Acesse a rea de Checklists para ver."}),f(!1),p(null),N("")},onError:M=>{e({title:"Erro",description:M.message||"Erro ao aplicar template",variant:"destructive"})}}),D=E?.filter(M=>{const V=M.name.toLowerCase().includes(n.toLowerCase())||M.description?.toLowerCase().includes(n.toLowerCase())||M.industryName?.toLowerCase().includes(n.toLowerCase()),Z=a==="all"||M.segment===a;return V&&Z}),R=M=>T?.some(V=>V.templateId===M&&V.status==="completed"),q=(M,V="brl")=>{const Z=M||9900;let re=Z,le="BRL",ye="pt-BR";return V==="usd"?(re=Math.round(Z/5),le="USD",ye="en-US"):V==="eur"&&(re=Math.round(Z/6.2),le="EUR",ye="de-DE"),new Intl.NumberFormat(ye,{style:"currency",currency:le}).format(re/100)},Q=M=>M?new Date(M).toLocaleDateString("pt-BR"):"",K=M=>{if(R(M.id)){e({title:"J Adquirido",description:"Voc j possui este checklist. Acesse na rea de Checklists."});return}C(M),y("brl"),g(!0)},U=()=>{P&&Y.mutate({templateId:P.id,currency:b})},O=M=>{o(M),d(!0)},I=M=>{p(M),N(""),f(!0)},G=()=>{!h||!v||F.mutate({templateId:h.id,clientId:parseInt(v)})};return t.jsx(Ot,{title:"Biblioteca de Checklists",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(gc,{className:"h-6 w-6 text-primary"}),"Biblioteca de Checklists"]}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Checklists prontos por segmento industrial para acelerar sua anlise de clientes"})]})}),t.jsx(ee,{children:t.jsx(de,{className:"pb-3",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar por nome, descrio ou indstria...",value:n,onChange:M=>r(M.target.value),className:"pl-10","data-testid":"input-search-templates"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sm,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs(Oe,{value:a,onValueChange:s,children:[t.jsx(_e,{className:"w-[200px]","data-testid":"select-segment-filter",children:t.jsx(Me,{placeholder:"Todos os segmentos"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todos os segmentos"}),k?.map(M=>t.jsx(ne,{value:M,children:tS[M]||M},M))]})]})]})]})})}),S?t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(M=>t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(va,{className:"h-6 w-3/4"}),t.jsx(va,{className:"h-4 w-1/2 mt-2"})]}),t.jsx(te,{children:t.jsx(va,{className:"h-20 w-full"})}),t.jsx(hi,{children:t.jsx(va,{className:"h-10 w-full"})})]},M))}):D?.length===0?t.jsx(ee,{className:"py-12",children:t.jsxs(te,{className:"text-center",children:[t.jsx(gc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum template encontrado"}),t.jsx("p",{className:"text-muted-foreground",children:n||a!=="all"?"Tente ajustar os filtros de busca":"Em breve teremos templates disponveis para compra"})]})}):t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:D?.map(M=>t.jsxs(ee,{className:"flex flex-col","data-testid":`card-template-${M.id}`,children:[t.jsxs(de,{children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(ue,{className:"text-lg",children:M.name}),M.industryName&&t.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-muted-foreground",children:[t.jsx(nn,{className:"h-3 w-3"}),t.jsx("span",{children:M.industryName})]})]}),t.jsx(Ee,{variant:"secondary",children:tS[M.segment]||M.segment})]}),M.description&&t.jsx(rt,{className:"mt-2 line-clamp-2",children:M.description})]}),t.jsx(te,{className:"flex-1",children:t.jsx("div",{className:"space-y-2 text-sm",children:M.sectionUpdates&&Object.keys(M.sectionUpdates).length>0&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(ls,{className:"h-4 w-4"}),t.jsxs("span",{children:["ltima atualizao: ",Q(M.updatedAt?.toString()||null)]})]})})}),t.jsxs(hi,{className:"flex flex-col gap-2 pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{className:"text-lg font-bold text-primary",children:q(M.priceInCents)}),R(M.id)&&t.jsxs(Ee,{variant:"outline",className:"text-green-600 border-green-600",children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"Adquirido"]})]}),t.jsxs("div",{className:"flex gap-2 w-full",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>O(M),"data-testid":`button-preview-${M.id}`,children:[t.jsx(fs,{className:"h-4 w-4 mr-1"}),"Visualizar"]}),R(M.id)?t.jsxs(H,{size:"sm",className:"flex-1",onClick:()=>I(M),"data-testid":`button-apply-${M.id}`,children:[t.jsx(rv,{className:"h-4 w-4 mr-1"}),"Aplicar a Cliente"]}):t.jsxs(H,{size:"sm",className:"flex-1",onClick:()=>K(M),disabled:Y.isPending,"data-testid":`button-purchase-${M.id}`,children:[Y.isPending?t.jsx(cn,{className:"h-4 w-4 mr-1 animate-spin"}):t.jsx(fi,{className:"h-4 w-4 mr-1"}),"Comprar"]})]})]})]},M.id))}),t.jsx(bt,{open:l,onOpenChange:d,children:t.jsxs(yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(gc,{className:"h-5 w-5"}),i?.name]}),t.jsxs(tn,{children:["Preview do checklist - ",tS[i?.segment||""]||i?.segment]})]}),i&&t.jsxs("div",{className:"space-y-4",children:[i.industryName&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[t.jsx(nn,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Indstria Base"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:i.industryName})]})]}),i.description&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Descrio"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Sees Includas"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Perfil do Cliente","Comercial","Direo","Qualidade","Planejamento","Financeiro","Op. Transporte","Op. Distribuio","Op. Armazenagem","GRISCO","T.I","Compras","Contbil/Fiscal","RH","Jurdico","Boas Vindas","Relacionamento"].map(M=>t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Ar,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:M})]},M))})]}),i.sectionUpdates&&Object.keys(i.sectionUpdates).length>0&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-3",children:"ltimas Atualizaes por rea"}),t.jsx("div",{className:"space-y-2",children:Object.entries(i.sectionUpdates).map(([M,V])=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:M}),t.jsx("span",{className:"text-muted-foreground",children:Q(V.lastUpdatedAt)})]},M))})]})]}),t.jsxs(Pn,{className:"flex-col sm:flex-row gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-lg font-bold text-primary",children:q(i?.priceInCents||null)})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>d(!1),children:"Fechar"}),t.jsxs(H,{onClick:()=>{i&&K(i)},disabled:Y.isPending||(i?R(i.id):!1),"data-testid":"button-purchase-dialog",children:[Y.isPending?t.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(fi,{className:"h-4 w-4 mr-2"}),i&&R(i.id)?"J Adquirido":"Comprar Agora"]})]})]})]})}),t.jsx(bt,{open:u,onOpenChange:f,children:t.jsxs(yt,{children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(rv,{className:"h-5 w-5"}),"Aplicar Template a Cliente"]}),t.jsxs(tn,{children:['Selecione o cliente para aplicar o template "',h?.name,'"']})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Selecione o Cliente"}),t.jsxs(Oe,{value:v,onValueChange:N,children:[t.jsx(_e,{"data-testid":"select-client-apply",children:t.jsx(Me,{placeholder:"Selecione um cliente"})}),t.jsx(Te,{children:z?.map(M=>t.jsxs(ne,{value:M.id.toString(),children:[M.name," ",M.tradeName?`(${M.tradeName})`:""]},M.id))})]})]}),z?.length===0&&t.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Voc ainda no tem clientes cadastrados. Acesse a rea de Clientes para cadastrar."})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),t.jsxs(H,{onClick:G,disabled:!v||F.isPending,"data-testid":"button-confirm-apply",children:[F.isPending?t.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Aplicar Template"]})]})]})}),t.jsx(bt,{open:j,onOpenChange:g,children:t.jsxs(yt,{className:"max-w-md",children:[t.jsxs(wt,{children:[t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(fi,{className:"h-5 w-5"}),"Escolha a Moeda de Pagamento"]}),t.jsxs(tn,{children:['Selecione a moeda para pagar pelo template "',P?.name,'"']})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 py-4",children:[t.jsxs(H,{variant:b==="brl"?"default":"outline",className:"flex flex-col items-center gap-2 h-auto py-4",onClick:()=>y("brl"),"data-testid":"button-currency-brl",children:[t.jsx("span",{className:"text-lg font-bold",children:"R$"}),t.jsx("span",{className:"font-medium",children:"Real"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:q(P?.priceInCents||null,"brl")})]}),t.jsxs(H,{variant:b==="usd"?"default":"outline",className:"flex flex-col items-center gap-2 h-auto py-4",onClick:()=>y("usd"),"data-testid":"button-currency-usd",children:[t.jsx("span",{className:"text-lg font-bold",children:"$"}),t.jsx("span",{className:"font-medium",children:"Dlar"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:q(P?.priceInCents||null,"usd")})]}),t.jsxs(H,{variant:b==="eur"?"default":"outline",className:"flex flex-col items-center gap-2 h-auto py-4",onClick:()=>y("eur"),"data-testid":"button-currency-eur",children:[t.jsx("span",{className:"text-lg font-bold",children:""}),t.jsx("span",{className:"font-medium",children:"Euro"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:q(P?.priceInCents||null,"eur")})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),t.jsxs(H,{onClick:U,disabled:Y.isPending,"data-testid":"button-confirm-purchase",children:[Y.isPending?t.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(fi,{className:"h-4 w-4 mr-2"}),"Ir para Pagamento"]})]})]})})]})})}function oAe(){const{data:e,isLoading:n}=Ve({queryKey:["/api/store/products?productType=ebook"]}),r=a=>{if(!a)return"Consulte";const s=parseFloat(a);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)};return t.jsx(Ot,{title:"E-book",subtitle:"Conhecimento transformador em logistica comercial",children:t.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[t.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-primary/10 via-primary/5 to-background border",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMDA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-50"}),t.jsx("div",{className:"relative p-8 md:p-12",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Ee,{className:"bg-primary/20 text-primary border-none",children:[t.jsx(GE,{className:"h-3 w-3 mr-1"}),"Lancamento Exclusivo"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold leading-tight",children:"A Arte do Comercial em Logistica"}),t.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Uma trilogia sobre experiencia, estrategia e sucesso na area comercial logistica"})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(hn,{className:"h-4 w-4"}),t.jsx("span",{children:"MCG Consultoria"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ac,{className:"h-4 w-4"}),t.jsx("span",{children:"Curitiba/PR"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ls,{className:"h-4 w-4"}),t.jsx("span",{children:"2025"})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(a=>t.jsx(JE,{className:"h-5 w-5 fill-amber-400 text-amber-400"},a)),t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Avaliacao dos leitores"})]})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-48 h-64 bg-gradient-to-br from-primary to-primary/70 rounded-md shadow-2xl flex items-center justify-center transform rotate-3 hover:rotate-0 transition-transform",children:t.jsxs("div",{className:"text-center text-white p-4",children:[t.jsx(_O,{className:"h-12 w-12 mx-auto mb-3"}),t.jsx("p",{className:"font-bold text-sm",children:"Volume I"}),t.jsx("p",{className:"text-xs opacity-80",children:"A Jornada Comercial"})]})}),t.jsx("div",{className:"absolute -right-4 -top-2 w-48 h-64 bg-gradient-to-br from-secondary to-secondary/70 rounded-md shadow-xl flex items-center justify-center transform -rotate-6 -z-10",children:t.jsxs("div",{className:"text-center p-4",children:[t.jsx(_O,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"font-bold text-sm opacity-50",children:"Volume II"})]})})]})})]})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(dJ,{className:"h-5 w-5 text-primary"}),"Sobre a Obra"]})}),t.jsxs(te,{className:"space-y-4",children:[t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Fruto de anos de experiencia no mercado de logistica brasileiro, esta obra reune conhecimentos praticos e estrategias testadas no campo de batalha comercial. O autor, com mais de duas decadas atuando na area comercial de grandes operadores logisticos, compartilha insights valiosos sobre como construir relacionamentos duradouros com clientes, entender as nuances do mercado de transporte e armazenagem, e principalmente, como transformar desafios em oportunidades de negocios."}),t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Este e-book e o primeiro volume de uma trilogia que aborda desde a formacao do profissional comercial ate as estrategias mais avancadas de gestao de carteira e fidelizacao de clientes no setor logistico."})]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:t.jsx(Nl,{className:"h-6 w-6 text-primary"})}),t.jsx("h3",{className:"font-semibold",children:"Experiencia Real"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Casos praticos vivenciados pelo autor em operadores logisticos de todo o Brasil"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:t.jsx(pn,{className:"h-6 w-6 text-primary"})}),t.jsx("h3",{className:"font-semibold",children:"Estrategia Comprovada"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Metodologias que ja geraram milhoes em novos negocios no setor logistico"})]})})}),t.jsx(ee,{children:t.jsx(te,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:t.jsx(Dr,{className:"h-6 w-6 text-primary"})}),t.jsx("h3",{className:"font-semibold",children:"Foco no Resultado"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Orientacao pratica para alcanar metas comerciais de forma consistente"})]})})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(Bf,{className:"h-5 w-5"}),"Conteudo do Volume I"]})}),t.jsx(te,{children:t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["O DNA do profissional comercial em logistica","Entendendo o mercado brasileiro de transporte","Construcao de relacionamentos de longo prazo","A arte da prospeco: do lead ao contrato","Negociacao de fretes e tarifas de armazenagem","Gestao de carteira e fidelizao de clientes","Cases de sucesso e licoes aprendidas","O futuro do comercial em logistica"].map((a,s)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium text-primary",children:s+1}),t.jsx("p",{className:"text-sm pt-1",children:a})]},s))})})]}),t.jsxs(ee,{className:"border-primary/20 bg-primary/5",children:[t.jsx(de,{children:t.jsx(ue,{children:"A Trilogia Completa"})}),t.jsx(te,{children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ee,{children:"Volume I"}),t.jsx("h4",{className:"font-semibold",children:"A Jornada Comercial"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Fundamentos e primeiros passos no comercial logistico"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ms,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm",children:"Disponivel"})]})]}),t.jsxs("div",{className:"space-y-3 opacity-60",children:[t.jsx(Ee,{variant:"outline",children:"Volume II"}),t.jsx("h4",{className:"font-semibold",children:"Estrategias Avancadas"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tecnicas de negociao e gestao de grandes contas"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Lancamento 2025"})]})]}),t.jsxs("div",{className:"space-y-3 opacity-60",children:[t.jsx(Ee,{variant:"outline",children:"Volume III"}),t.jsx("h4",{className:"font-semibold",children:"Lideranca Comercial"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Formacao de equipes e gestao de alta performance"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Lancamento 2026"})]})]})]})})]}),n?t.jsx(ee,{children:t.jsx(te,{className:"p-12 text-center",children:t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mx-auto"}),t.jsx("div",{className:"h-4 bg-muted rounded w-2/3 mx-auto"})]})})}):e&&e.length>0?t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"flex items-center gap-2",children:[t.jsx(fi,{className:"h-5 w-5"}),"Adquira seu E-book"]})}),t.jsx(te,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(a=>t.jsxs(ee,{className:"border-2","data-testid":`card-ebook-${a.id}`,children:[t.jsx(te,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-semibold",children:a.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.shortDescription}),t.jsx(Ee,{variant:"outline",children:a.fulfillmentType==="digital"?"Digital":a.fulfillmentType==="physical"?"Fisico":"Digital + Fisico"})]}),t.jsxs("div",{className:"text-right",children:[a.compareAtPrice&&t.jsx("p",{className:"text-sm text-muted-foreground line-through",children:r(a.compareAtPrice)}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:r(a.priceAmount)})]})]})}),t.jsx(hi,{children:t.jsxs(H,{className:"w-full","data-testid":`button-buy-ebook-${a.id}`,children:[t.jsx(fi,{className:"h-4 w-4 mr-2"}),"Comprar Agora"]})})]},a.id))})})]}):t.jsx(ee,{className:"border-dashed",children:t.jsxs(te,{className:"p-8 text-center",children:[t.jsx(Bf,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("h3",{className:"font-semibold mb-2",children:"Em Breve Disponivel"}),t.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:'O e-book "A Arte do Comercial em Logistica" estara disponivel em breve para compra. Cadastre-se para ser notificado quando o lancamento acontecer.'}),t.jsx(H,{variant:"outline",disabled:!0,children:"Notifique-me quando disponivel"})]})})]})})}const lAe=[{id:1,title:"Primeiros Passos",description:"Guia de incio rpido para novos usurios da plataforma MCG",category:"Introduo",type:"pdf"},{id:2,title:"Gesto de Clientes (CRM)",description:"Como cadastrar e gerenciar clientes no sistema",category:"CRM",type:"pdf"},{id:3,title:"Calculadora de Frete",description:"Tutorial completo da calculadora de frete ANTT",category:"Ferramentas",type:"pdf"},{id:4,title:"Checklist Comercial",description:"Como utilizar os checklists para diagnstico de clientes",category:"Comercial",type:"pdf"},{id:5,title:"Ata de Reunio",description:"Criao e envio de atas de reunio com plano de ao",category:"Comercial",type:"pdf"},{id:6,title:"Indicadores e Relatrios",description:"Entenda os indicadores e como gerar relatrios",category:"Anlises",type:"pdf"}];function cAe(){const[e,n]=w.useState(""),r=lAe.filter(s=>s.title.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase())),a=s=>{switch(s){case"video":return RZ;case"article":return Bf;default:return Xt}};return t.jsx(Ot,{title:"Manual do APP",subtitle:"Documentao e tutoriais da plataforma MCG",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar manuais...",value:e,onChange:s=>n(s.target.value),className:"pl-9","data-testid":"input-search-manual"})]})}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.length===0?t.jsx(ee,{className:"col-span-full",children:t.jsxs(te,{className:"p-8 text-center",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Nenhum manual encontrado"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Em breve novos manuais estaro disponveis"})]})}):r.map(s=>{const i=a(s.type);return t.jsxs(ee,{"data-testid":`card-manual-${s.id}`,children:[t.jsx(de,{className:"pb-3",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:t.jsx(i,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(ue,{className:"text-base",children:s.title}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.category})]})]})}),t.jsxs(te,{className:"pt-0",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),t.jsxs("div",{className:"flex gap-2",children:[s.downloadUrl?t.jsx(H,{size:"sm",variant:"outline",asChild:!0,children:t.jsxs("a",{href:s.downloadUrl,download:!0,children:[t.jsx(vr,{className:"h-4 w-4 mr-1"}),"Baixar"]})}):t.jsxs(H,{size:"sm",variant:"outline",disabled:!0,children:[t.jsx(vr,{className:"h-4 w-4 mr-1"}),"Em breve"]}),s.externalUrl&&t.jsx(H,{size:"sm",variant:"ghost",asChild:!0,children:t.jsxs("a",{href:s.externalUrl,target:"_blank",rel:"noopener noreferrer",children:[t.jsx(Pc,{className:"h-4 w-4 mr-1"}),"Abrir"]})})]})]})]},s.id)})})]})})}function mr(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=mr(e[r]))!==""&&(n+=(n&&" ")+a);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var dAe={value:()=>{}};function p0(){for(var e=0,n=arguments.length,r={},a;e<n;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Kg(r)}function Kg(e){this._=e}function uAe(e,n){return e.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");if(s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Kg.prototype=p0.prototype={constructor:Kg,on:function(e,n){var r=this._,a=uAe(e+"",r),s,i=-1,o=a.length;if(arguments.length<2){for(;++i<o;)if((s=(e=a[i]).type)&&(s=mAe(r[s],e.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<o;)if(s=(e=a[i]).type)r[s]=l6(r[s],e.name,n);else if(n==null)for(s in r)r[s]=l6(r[s],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Kg(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var r=new Array(s),a=0,s,i;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,i=a.length;s<i;++s)a[s].value.apply(n,r)}};function mAe(e,n){for(var r=0,a=e.length,s;r<a;++r)if((s=e[r]).name===n)return s.value}function l6(e,n,r){for(var a=0,s=e.length;a<s;++a)if(e[a].name===n){e[a]=dAe,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:n,value:r}),e}var EE="http://www.w3.org/1999/xhtml";const c6={svg:"http://www.w3.org/2000/svg",xhtml:EE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x0(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),c6.hasOwnProperty(n)?{space:c6[n],local:e}:e}function fAe(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===EE&&n.documentElement.namespaceURI===EE?n.createElement(e):n.createElementNS(r,e)}}function hAe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function WK(e){var n=x0(e);return(n.local?hAe:fAe)(n)}function pAe(){}function f_(e){return e==null?pAe:function(){return this.querySelector(e)}}function xAe(e){typeof e!="function"&&(e=f_(e));for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s)for(var i=n[s],o=i.length,l=a[s]=new Array(o),d,u,f=0;f<o;++f)(d=i[f])&&(u=e.call(d,d.__data__,f,i))&&("__data__"in d&&(u.__data__=d.__data__),l[f]=u);return new La(a,this._parents)}function gAe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vAe(){return[]}function GK(e){return e==null?vAe:function(){return this.querySelectorAll(e)}}function yAe(e){return function(){return gAe(e.apply(this,arguments))}}function jAe(e){typeof e=="function"?e=yAe(e):e=GK(e);for(var n=this._groups,r=n.length,a=[],s=[],i=0;i<r;++i)for(var o=n[i],l=o.length,d,u=0;u<l;++u)(d=o[u])&&(a.push(e.call(d,d.__data__,u,o)),s.push(d));return new La(a,s)}function QK(e){return function(){return this.matches(e)}}function YK(e){return function(n){return n.matches(e)}}var bAe=Array.prototype.find;function wAe(e){return function(){return bAe.call(this.children,e)}}function NAe(){return this.firstElementChild}function CAe(e){return this.select(e==null?NAe:wAe(typeof e=="function"?e:YK(e)))}var SAe=Array.prototype.filter;function PAe(){return Array.from(this.children)}function EAe(e){return function(){return SAe.call(this.children,e)}}function AAe(e){return this.selectAll(e==null?PAe:EAe(typeof e=="function"?e:YK(e)))}function kAe(e){typeof e!="function"&&(e=QK(e));for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s)for(var i=n[s],o=i.length,l=a[s]=[],d,u=0;u<o;++u)(d=i[u])&&e.call(d,d.__data__,u,i)&&l.push(d);return new La(a,this._parents)}function XK(e){return new Array(e.length)}function _Ae(){return new La(this._enter||this._groups.map(XK),this._parents)}function Ey(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Ey.prototype={constructor:Ey,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function TAe(e){return function(){return e}}function OAe(e,n,r,a,s,i){for(var o=0,l,d=n.length,u=i.length;o<u;++o)(l=n[o])?(l.__data__=i[o],a[o]=l):r[o]=new Ey(e,i[o]);for(;o<d;++o)(l=n[o])&&(s[o]=l)}function MAe(e,n,r,a,s,i,o){var l,d,u=new Map,f=n.length,h=i.length,p=new Array(f),v;for(l=0;l<f;++l)(d=n[l])&&(p[l]=v=o.call(d,d.__data__,l,n)+"",u.has(v)?s[l]=d:u.set(v,d));for(l=0;l<h;++l)v=o.call(e,i[l],l,i)+"",(d=u.get(v))?(a[l]=d,d.__data__=i[l],u.delete(v)):r[l]=new Ey(e,i[l]);for(l=0;l<f;++l)(d=n[l])&&u.get(p[l])===d&&(s[l]=d)}function RAe(e){return e.__data__}function DAe(e,n){if(!arguments.length)return Array.from(this,RAe);var r=n?MAe:OAe,a=this._parents,s=this._groups;typeof e!="function"&&(e=TAe(e));for(var i=s.length,o=new Array(i),l=new Array(i),d=new Array(i),u=0;u<i;++u){var f=a[u],h=s[u],p=h.length,v=IAe(e.call(f,f&&f.__data__,u,a)),N=v.length,j=l[u]=new Array(N),g=o[u]=new Array(N),P=d[u]=new Array(p);r(f,h,j,g,P,v,n);for(var C=0,b=0,y,E;C<N;++C)if(y=j[C]){for(C>=b&&(b=C+1);!(E=g[b])&&++b<N;);y._next=E||null}}return o=new La(o,a),o._enter=l,o._exit=d,o}function IAe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $Ae(){return new La(this._exit||this._groups.map(XK),this._parents)}function FAe(e,n,r){var a=this.enter(),s=this,i=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(s=n(s),s&&(s=s.selection())),r==null?i.remove():r(i),a&&s?a.merge(s).order():s}function LAe(e){for(var n=e.selection?e.selection():e,r=this._groups,a=n._groups,s=r.length,i=a.length,o=Math.min(s,i),l=new Array(s),d=0;d<o;++d)for(var u=r[d],f=a[d],h=u.length,p=l[d]=new Array(h),v,N=0;N<h;++N)(v=u[N]||f[N])&&(p[N]=v);for(;d<s;++d)l[d]=r[d];return new La(l,this._parents)}function zAe(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var a=e[n],s=a.length-1,i=a[s],o;--s>=0;)(o=a[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function qAe(e){e||(e=VAe);function n(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,a=r.length,s=new Array(a),i=0;i<a;++i){for(var o=r[i],l=o.length,d=s[i]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(d[f]=u);d.sort(n)}return new La(s,this._parents).order()}function VAe(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function BAe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HAe(){return Array.from(this)}function UAe(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],s=0,i=a.length;s<i;++s){var o=a[s];if(o)return o}return null}function KAe(){let e=0;for(const n of this)++e;return e}function WAe(){return!this.node()}function GAe(e){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var s=n[r],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function QAe(e){return function(){this.removeAttribute(e)}}function YAe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XAe(e,n){return function(){this.setAttribute(e,n)}}function ZAe(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function JAe(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function eke(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function tke(e,n){var r=x0(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((n==null?r.local?YAe:QAe:typeof n=="function"?r.local?eke:JAe:r.local?ZAe:XAe)(r,n))}function ZK(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nke(e){return function(){this.style.removeProperty(e)}}function rke(e,n,r){return function(){this.style.setProperty(e,n,r)}}function ake(e,n,r){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function ske(e,n,r){return arguments.length>1?this.each((n==null?nke:typeof n=="function"?ake:rke)(e,n,r??"")):Gu(this.node(),e)}function Gu(e,n){return e.style.getPropertyValue(n)||ZK(e).getComputedStyle(e,null).getPropertyValue(n)}function ike(e){return function(){delete this[e]}}function oke(e,n){return function(){this[e]=n}}function lke(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function cke(e,n){return arguments.length>1?this.each((n==null?ike:typeof n=="function"?lke:oke)(e,n)):this.node()[e]}function JK(e){return e.trim().split(/^|\s+/)}function h_(e){return e.classList||new eW(e)}function eW(e){this._node=e,this._names=JK(e.getAttribute("class")||"")}eW.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tW(e,n){for(var r=h_(e),a=-1,s=n.length;++a<s;)r.add(n[a])}function nW(e,n){for(var r=h_(e),a=-1,s=n.length;++a<s;)r.remove(n[a])}function dke(e){return function(){tW(this,e)}}function uke(e){return function(){nW(this,e)}}function mke(e,n){return function(){(n.apply(this,arguments)?tW:nW)(this,e)}}function fke(e,n){var r=JK(e+"");if(arguments.length<2){for(var a=h_(this.node()),s=-1,i=r.length;++s<i;)if(!a.contains(r[s]))return!1;return!0}return this.each((typeof n=="function"?mke:n?dke:uke)(r,n))}function hke(){this.textContent=""}function pke(e){return function(){this.textContent=e}}function xke(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function gke(e){return arguments.length?this.each(e==null?hke:(typeof e=="function"?xke:pke)(e)):this.node().textContent}function vke(){this.innerHTML=""}function yke(e){return function(){this.innerHTML=e}}function jke(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function bke(e){return arguments.length?this.each(e==null?vke:(typeof e=="function"?jke:yke)(e)):this.node().innerHTML}function wke(){this.nextSibling&&this.parentNode.appendChild(this)}function Nke(){return this.each(wke)}function Cke(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ske(){return this.each(Cke)}function Pke(e){var n=typeof e=="function"?e:WK(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Eke(){return null}function Ake(e,n){var r=typeof e=="function"?e:WK(e),a=n==null?Eke:typeof n=="function"?n:f_(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function kke(){var e=this.parentNode;e&&e.removeChild(this)}function _ke(){return this.each(kke)}function Tke(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Oke(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Mke(e){return this.select(e?Oke:Tke)}function Rke(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Dke(e){return function(n){e.call(this,n,this.__data__)}}function Ike(e){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}})}function $ke(e){return function(){var n=this.__on;if(n){for(var r=0,a=-1,s=n.length,i;r<s;++r)i=n[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):n[++a]=i;++a?n.length=a:delete this.__on}}}function Fke(e,n,r){return function(){var a=this.__on,s,i=Dke(n);if(a){for(var o=0,l=a.length;o<l;++o)if((s=a[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=n;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:n,listener:i,options:r},a?a.push(s):this.__on=[s]}}function Lke(e,n,r){var a=Ike(e+""),s,i=a.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,u=l.length,f;d<u;++d)for(s=0,f=l[d];s<i;++s)if((o=a[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=n?Fke:$ke,s=0;s<i;++s)this.each(l(a[s],n,r));return this}function rW(e,n,r){var a=ZK(e),s=a.CustomEvent;typeof s=="function"?s=new s(n,r):(s=a.document.createEvent("Event"),r?(s.initEvent(n,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function zke(e,n){return function(){return rW(this,e,n)}}function qke(e,n){return function(){return rW(this,e,n.apply(this,arguments))}}function Vke(e,n){return this.each((typeof n=="function"?qke:zke)(e,n))}function*Bke(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],s=0,i=a.length,o;s<i;++s)(o=a[s])&&(yield o)}var aW=[null];function La(e,n){this._groups=e,this._parents=n}function Rp(){return new La([[document.documentElement]],aW)}function Hke(){return this}La.prototype=Rp.prototype={constructor:La,select:xAe,selectAll:jAe,selectChild:CAe,selectChildren:AAe,filter:kAe,data:DAe,enter:_Ae,exit:$Ae,join:FAe,merge:LAe,selection:Hke,order:zAe,sort:qAe,call:BAe,nodes:HAe,node:UAe,size:KAe,empty:WAe,each:GAe,attr:tke,style:ske,property:cke,classed:fke,text:gke,html:bke,raise:Nke,lower:Ske,append:Pke,insert:Ake,remove:_ke,clone:Mke,datum:Rke,on:Lke,dispatch:Vke,[Symbol.iterator]:Bke};function Da(e){return typeof e=="string"?new La([[document.querySelector(e)]],[document.documentElement]):new La([[e]],aW)}function Uke(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Ms(e,n){if(e=Uke(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}}return[e.pageX,e.pageY]}const Kke={passive:!1},Wh={capture:!0,passive:!1};function nS(e){e.stopImmediatePropagation()}function mu(e){e.preventDefault(),e.stopImmediatePropagation()}function sW(e){var n=e.document.documentElement,r=Da(e).on("dragstart.drag",mu,Wh);"onselectstart"in n?r.on("selectstart.drag",mu,Wh):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function iW(e,n){var r=e.document.documentElement,a=Da(e).on("dragstart.drag",null);n&&(a.on("click.drag",mu,Wh),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Ng=e=>()=>e;function AE(e,{sourceEvent:n,subject:r,target:a,identifier:s,active:i,x:o,y:l,dx:d,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}AE.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Wke(e){return!e.ctrlKey&&!e.button}function Gke(){return this.parentNode}function Qke(e,n){return n??{x:e.x,y:e.y}}function Yke(){return navigator.maxTouchPoints||"ontouchstart"in this}function oW(){var e=Wke,n=Gke,r=Qke,a=Yke,s={},i=p0("start","drag","end"),o=0,l,d,u,f,h=0;function p(y){y.on("mousedown.drag",v).filter(a).on("touchstart.drag",g).on("touchmove.drag",P,Kke).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(y,E){if(!(f||!e.call(this,y,E))){var S=b(this,n.call(this,y,E),y,E,"mouse");S&&(Da(y.view).on("mousemove.drag",N,Wh).on("mouseup.drag",j,Wh),sW(y.view),nS(y),u=!1,l=y.clientX,d=y.clientY,S("start",y))}}function N(y){if(mu(y),!u){var E=y.clientX-l,S=y.clientY-d;u=E*E+S*S>h}s.mouse("drag",y)}function j(y){Da(y.view).on("mousemove.drag mouseup.drag",null),iW(y.view,u),mu(y),s.mouse("end",y)}function g(y,E){if(e.call(this,y,E)){var S=y.changedTouches,k=n.call(this,y,E),T=S.length,z,Y;for(z=0;z<T;++z)(Y=b(this,k,y,E,S[z].identifier,S[z]))&&(nS(y),Y("start",y,S[z]))}}function P(y){var E=y.changedTouches,S=E.length,k,T;for(k=0;k<S;++k)(T=s[E[k].identifier])&&(mu(y),T("drag",y,E[k]))}function C(y){var E=y.changedTouches,S=E.length,k,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<S;++k)(T=s[E[k].identifier])&&(nS(y),T("end",y,E[k]))}function b(y,E,S,k,T,z){var Y=i.copy(),F=Ms(z||S,E),D,R,q;if((q=r.call(y,new AE("beforestart",{sourceEvent:S,target:p,identifier:T,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:Y}),k))!=null)return D=q.x-F[0]||0,R=q.y-F[1]||0,function Q(K,U,O){var I=F,G;switch(K){case"start":s[T]=Q,G=o++;break;case"end":delete s[T],--o;case"drag":F=Ms(O||U,E),G=o;break}Y.call(K,y,new AE(K,{sourceEvent:U,subject:q,target:p,identifier:T,active:G,x:F[0]+D,y:F[1]+R,dx:F[0]-I[0],dy:F[1]-I[1],dispatch:Y}),k)}}return p.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Ng(!!y),p):e},p.container=function(y){return arguments.length?(n=typeof y=="function"?y:Ng(y),p):n},p.subject=function(y){return arguments.length?(r=typeof y=="function"?y:Ng(y),p):r},p.touchable=function(y){return arguments.length?(a=typeof y=="function"?y:Ng(!!y),p):a},p.on=function(){var y=i.on.apply(i,arguments);return y===i?p:y},p.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,p):Math.sqrt(h)},p}var Qu=0,_f=0,bf=0,lW=1e3,Ay,Tf,ky=0,Hc=0,g0=0,Gh=typeof performance=="object"&&performance.now?performance:Date,cW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p_(){return Hc||(cW(Xke),Hc=Gh.now()+g0)}function Xke(){Hc=0}function _y(){this._call=this._time=this._next=null}_y.prototype=dW.prototype={constructor:_y,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?p_():+r)+(n==null?0:+n),!this._next&&Tf!==this&&(Tf?Tf._next=this:Ay=this,Tf=this),this._call=e,this._time=r,kE()},stop:function(){this._call&&(this._call=null,this._time=1/0,kE())}};function dW(e,n,r){var a=new _y;return a.restart(e,n,r),a}function Zke(){p_(),++Qu;for(var e=Ay,n;e;)(n=Hc-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Qu}function d6(){Hc=(ky=Gh.now())+g0,Qu=_f=0;try{Zke()}finally{Qu=0,e_e(),Hc=0}}function Jke(){var e=Gh.now(),n=e-ky;n>lW&&(g0-=n,ky=e)}function e_e(){for(var e,n=Ay,r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Ay=r);Tf=e,kE(a)}function kE(e){if(!Qu){_f&&(_f=clearTimeout(_f));var n=e-Hc;n>24?(e<1/0&&(_f=setTimeout(d6,e-Gh.now()-g0)),bf&&(bf=clearInterval(bf))):(bf||(ky=Gh.now(),bf=setInterval(Jke,lW)),Qu=1,cW(d6))}}function u6(e,n,r){var a=new _y;return n=n==null?0:+n,a.restart(s=>{a.stop(),e(s+n)},n,r),a}var t_e=p0("start","end","cancel","interrupt"),n_e=[],uW=0,m6=1,_E=2,Wg=3,f6=4,TE=5,Gg=6;function v0(e,n,r,a,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;r_e(e,r,{name:n,index:a,group:s,on:t_e,tween:n_e,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:uW})}function x_(e,n){var r=ei(e,n);if(r.state>uW)throw new Error("too late; already scheduled");return r}function Mi(e,n){var r=ei(e,n);if(r.state>Wg)throw new Error("too late; already running");return r}function ei(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function r_e(e,n,r){var a=e.__transition,s;a[n]=r,r.timer=dW(i,0,r.time);function i(u){r.state=m6,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var f,h,p,v;if(r.state!==m6)return d();for(f in a)if(v=a[f],v.name===r.name){if(v.state===Wg)return u6(o);v.state===f6?(v.state=Gg,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete a[f]):+f<n&&(v.state=Gg,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete a[f])}if(u6(function(){r.state===Wg&&(r.state=f6,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=_E,r.on.call("start",e,e.__data__,r.index,r.group),r.state===_E){for(r.state=Wg,s=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(v=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(s[++h]=v);s.length=h+1}}function l(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(d),r.state=TE,1),h=-1,p=s.length;++h<p;)s[h].call(e,f);r.state===TE&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Gg,r.timer.stop(),delete a[n];for(var u in a)return;delete e.__transition}}function Qg(e,n){var r=e.__transition,a,s,i=!0,o;if(r){n=n==null?null:n+"";for(o in r){if((a=r[o]).name!==n){i=!1;continue}s=a.state>_E&&a.state<TE,a.state=Gg,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[o]}i&&delete e.__transition}}function a_e(e){return this.each(function(){Qg(this,e)})}function s_e(e,n){var r,a;return function(){var s=Mi(this,e),i=s.tween;if(i!==r){a=r=i;for(var o=0,l=a.length;o<l;++o)if(a[o].name===n){a=a.slice(),a.splice(o,1);break}}s.tween=a}}function i_e(e,n,r){var a,s;if(typeof r!="function")throw new Error;return function(){var i=Mi(this,e),o=i.tween;if(o!==a){s=(a=o).slice();for(var l={name:n,value:r},d=0,u=s.length;d<u;++d)if(s[d].name===n){s[d]=l;break}d===u&&s.push(l)}i.tween=s}}function o_e(e,n){var r=this._id;if(e+="",arguments.length<2){for(var a=ei(this.node(),r).tween,s=0,i=a.length,o;s<i;++s)if((o=a[s]).name===e)return o.value;return null}return this.each((n==null?s_e:i_e)(r,e,n))}function g_(e,n,r){var a=e._id;return e.each(function(){var s=Mi(this,a);(s.value||(s.value={}))[n]=r.apply(this,arguments)}),function(s){return ei(s,a).value[n]}}function mW(e,n){var r;return(typeof n=="number"?Ds:n instanceof $c?$v:(r=$c(n))?(n=r,$v):MV)(e,n)}function l_e(e){return function(){this.removeAttribute(e)}}function c_e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d_e(e,n,r){var a,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===a?i:i=n(a=o,r)}}function u_e(e,n,r){var a,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===a?i:i=n(a=o,r)}}function m_e(e,n,r){var a,s,i;return function(){var o,l=r(this),d;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),d=l+"",o===d?null:o===a&&d===s?i:(s=d,i=n(a=o,l)))}}function f_e(e,n,r){var a,s,i;return function(){var o,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),d=l+"",o===d?null:o===a&&d===s?i:(s=d,i=n(a=o,l)))}}function h_e(e,n){var r=x0(e),a=r==="transform"?ome:mW;return this.attrTween(e,typeof n=="function"?(r.local?f_e:m_e)(r,a,g_(this,"attr."+e,n)):n==null?(r.local?c_e:l_e)(r):(r.local?u_e:d_e)(r,a,n))}function p_e(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function x_e(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function g_e(e,n){var r,a;function s(){var i=n.apply(this,arguments);return i!==a&&(r=(a=i)&&x_e(e,i)),r}return s._value=n,s}function v_e(e,n){var r,a;function s(){var i=n.apply(this,arguments);return i!==a&&(r=(a=i)&&p_e(e,i)),r}return s._value=n,s}function y_e(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var a=x0(e);return this.tween(r,(a.local?g_e:v_e)(a,n))}function j_e(e,n){return function(){x_(this,e).delay=+n.apply(this,arguments)}}function b_e(e,n){return n=+n,function(){x_(this,e).delay=n}}function w_e(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?j_e:b_e)(n,e)):ei(this.node(),n).delay}function N_e(e,n){return function(){Mi(this,e).duration=+n.apply(this,arguments)}}function C_e(e,n){return n=+n,function(){Mi(this,e).duration=n}}function S_e(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?N_e:C_e)(n,e)):ei(this.node(),n).duration}function P_e(e,n){if(typeof n!="function")throw new Error;return function(){Mi(this,e).ease=n}}function E_e(e){var n=this._id;return arguments.length?this.each(P_e(n,e)):ei(this.node(),n).ease}function A_e(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Mi(this,e).ease=r}}function k_e(e){if(typeof e!="function")throw new Error;return this.each(A_e(this._id,e))}function __e(e){typeof e!="function"&&(e=QK(e));for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s)for(var i=n[s],o=i.length,l=a[s]=[],d,u=0;u<o;++u)(d=i[u])&&e.call(d,d.__data__,u,i)&&l.push(d);return new So(a,this._parents,this._name,this._id)}function T_e(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,a=n.length,s=r.length,i=Math.min(a,s),o=new Array(a),l=0;l<i;++l)for(var d=n[l],u=r[l],f=d.length,h=o[l]=new Array(f),p,v=0;v<f;++v)(p=d[v]||u[v])&&(h[v]=p);for(;l<a;++l)o[l]=n[l];return new So(o,this._parents,this._name,this._id)}function O_e(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function M_e(e,n,r){var a,s,i=O_e(n)?x_:Mi;return function(){var o=i(this,e),l=o.on;l!==a&&(s=(a=l).copy()).on(n,r),o.on=s}}function R_e(e,n){var r=this._id;return arguments.length<2?ei(this.node(),r).on.on(e):this.each(M_e(r,e,n))}function D_e(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function I_e(){return this.on("end.remove",D_e(this._id))}function $_e(e){var n=this._name,r=this._id;typeof e!="function"&&(e=f_(e));for(var a=this._groups,s=a.length,i=new Array(s),o=0;o<s;++o)for(var l=a[o],d=l.length,u=i[o]=new Array(d),f,h,p=0;p<d;++p)(f=l[p])&&(h=e.call(f,f.__data__,p,l))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,v0(u[p],n,r,p,u,ei(f,r)));return new So(i,this._parents,n,r)}function F_e(e){var n=this._name,r=this._id;typeof e!="function"&&(e=GK(e));for(var a=this._groups,s=a.length,i=[],o=[],l=0;l<s;++l)for(var d=a[l],u=d.length,f,h=0;h<u;++h)if(f=d[h]){for(var p=e.call(f,f.__data__,h,d),v,N=ei(f,r),j=0,g=p.length;j<g;++j)(v=p[j])&&v0(v,n,r,j,p,N);i.push(p),o.push(f)}return new So(i,o,n,r)}var L_e=Rp.prototype.constructor;function z_e(){return new L_e(this._groups,this._parents)}function q_e(e,n){var r,a,s;return function(){var i=Gu(this,e),o=(this.style.removeProperty(e),Gu(this,e));return i===o?null:i===r&&o===a?s:s=n(r=i,a=o)}}function fW(e){return function(){this.style.removeProperty(e)}}function V_e(e,n,r){var a,s=r+"",i;return function(){var o=Gu(this,e);return o===s?null:o===a?i:i=n(a=o,r)}}function B_e(e,n,r){var a,s,i;return function(){var o=Gu(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Gu(this,e))),o===d?null:o===a&&d===s?i:(s=d,i=n(a=o,l))}}function H_e(e,n){var r,a,s,i="style."+n,o="end."+i,l;return function(){var d=Mi(this,e),u=d.on,f=d.value[i]==null?l||(l=fW(n)):void 0;(u!==r||s!==f)&&(a=(r=u).copy()).on(o,s=f),d.on=a}}function U_e(e,n,r){var a=(e+="")=="transform"?ime:mW;return n==null?this.styleTween(e,q_e(e,a)).on("end.style."+e,fW(e)):typeof n=="function"?this.styleTween(e,B_e(e,a,g_(this,"style."+e,n))).each(H_e(this._id,e)):this.styleTween(e,V_e(e,a,n),r).on("end.style."+e,null)}function K_e(e,n,r){return function(a){this.style.setProperty(e,n.call(this,a),r)}}function W_e(e,n,r){var a,s;function i(){var o=n.apply(this,arguments);return o!==s&&(a=(s=o)&&K_e(e,o,r)),a}return i._value=n,i}function G_e(e,n,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,W_e(e,n,r??""))}function Q_e(e){return function(){this.textContent=e}}function Y_e(e){return function(){var n=e(this);this.textContent=n??""}}function X_e(e){return this.tween("text",typeof e=="function"?Y_e(g_(this,"text",e)):Q_e(e==null?"":e+""))}function Z_e(e){return function(n){this.textContent=e.call(this,n)}}function J_e(e){var n,r;function a(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Z_e(s)),n}return a._value=e,a}function e4e(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,J_e(e))}function t4e(){for(var e=this._name,n=this._id,r=hW(),a=this._groups,s=a.length,i=0;i<s;++i)for(var o=a[i],l=o.length,d,u=0;u<l;++u)if(d=o[u]){var f=ei(d,n);v0(d,e,r,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new So(a,this._parents,e,r)}function n4e(){var e,n,r=this,a=r._id,s=r.size();return new Promise(function(i,o){var l={value:o},d={value:function(){--s===0&&i()}};r.each(function(){var u=Mi(this,a),f=u.on;f!==e&&(n=(e=f).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(d)),u.on=n}),s===0&&i()})}var r4e=0;function So(e,n,r,a){this._groups=e,this._parents=n,this._name=r,this._id=a}function hW(){return++r4e}var Xi=Rp.prototype;So.prototype={constructor:So,select:$_e,selectAll:F_e,selectChild:Xi.selectChild,selectChildren:Xi.selectChildren,filter:__e,merge:T_e,selection:z_e,transition:t4e,call:Xi.call,nodes:Xi.nodes,node:Xi.node,size:Xi.size,empty:Xi.empty,each:Xi.each,on:R_e,attr:h_e,attrTween:y_e,style:U_e,styleTween:G_e,text:X_e,textTween:e4e,remove:I_e,tween:o_e,delay:w_e,duration:S_e,ease:E_e,easeVarying:k_e,end:n4e,[Symbol.iterator]:Xi[Symbol.iterator]};function a4e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var s4e={time:null,delay:0,duration:250,ease:a4e};function i4e(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function o4e(e){var n,r;e instanceof So?(n=e._id,e=e._name):(n=hW(),(r=s4e).time=p_(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,i=0;i<s;++i)for(var o=a[i],l=o.length,d,u=0;u<l;++u)(d=o[u])&&v0(d,e,n,u,o,r||i4e(d,n));return new So(a,this._parents,e,n)}Rp.prototype.interrupt=a_e;Rp.prototype.transition=o4e;const Cg=e=>()=>e;function l4e(e,{sourceEvent:n,target:r,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function oo(e,n,r){this.k=e,this.x=n,this.y=r}oo.prototype={constructor:oo,scale:function(e){return e===1?this:new oo(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new oo(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var y0=new oo(1,0,0);pW.prototype=oo.prototype;function pW(e){for(;!e.__zoom;)if(!(e=e.parentNode))return y0;return e.__zoom}function rS(e){e.stopImmediatePropagation()}function wf(e){e.preventDefault(),e.stopImmediatePropagation()}function c4e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function d4e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function h6(){return this.__zoom||y0}function u4e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function m4e(){return navigator.maxTouchPoints||"ontouchstart"in this}function f4e(e,n,r){var a=e.invertX(n[0][0])-r[0][0],s=e.invertX(n[1][0])-r[1][0],i=e.invertY(n[0][1])-r[0][1],o=e.invertY(n[1][1])-r[1][1];return e.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function xW(){var e=c4e,n=d4e,r=f4e,a=u4e,s=m4e,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,d=zg,u=p0("start","zoom","end"),f,h,p,v=500,N=150,j=0,g=10;function P(q){q.property("__zoom",h6).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",Y).filter(s).on("touchstart.zoom",F).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}P.transform=function(q,Q,K,U){var O=q.selection?q.selection():q;O.property("__zoom",h6),q!==O?E(q,Q,K,U):O.interrupt().each(function(){S(this,arguments).event(U).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},P.scaleBy=function(q,Q,K,U){P.scaleTo(q,function(){var O=this.__zoom.k,I=typeof Q=="function"?Q.apply(this,arguments):Q;return O*I},K,U)},P.scaleTo=function(q,Q,K,U){P.transform(q,function(){var O=n.apply(this,arguments),I=this.__zoom,G=K==null?y(O):typeof K=="function"?K.apply(this,arguments):K,M=I.invert(G),V=typeof Q=="function"?Q.apply(this,arguments):Q;return r(b(C(I,V),G,M),O,o)},K,U)},P.translateBy=function(q,Q,K,U){P.transform(q,function(){return r(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof K=="function"?K.apply(this,arguments):K),n.apply(this,arguments),o)},null,U)},P.translateTo=function(q,Q,K,U,O){P.transform(q,function(){var I=n.apply(this,arguments),G=this.__zoom,M=U==null?y(I):typeof U=="function"?U.apply(this,arguments):U;return r(y0.translate(M[0],M[1]).scale(G.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof K=="function"?-K.apply(this,arguments):-K),I,o)},U,O)};function C(q,Q){return Q=Math.max(i[0],Math.min(i[1],Q)),Q===q.k?q:new oo(Q,q.x,q.y)}function b(q,Q,K){var U=Q[0]-K[0]*q.k,O=Q[1]-K[1]*q.k;return U===q.x&&O===q.y?q:new oo(q.k,U,O)}function y(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function E(q,Q,K,U){q.on("start.zoom",function(){S(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(U).end()}).tween("zoom",function(){var O=this,I=arguments,G=S(O,I).event(U),M=n.apply(O,I),V=K==null?y(M):typeof K=="function"?K.apply(O,I):K,Z=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),re=O.__zoom,le=typeof Q=="function"?Q.apply(O,I):Q,ye=d(re.invert(V).concat(Z/re.k),le.invert(V).concat(Z/le.k));return function(he){if(he===1)he=le;else{var pe=ye(he),L=Z/pe[2];he=new oo(L,V[0]-pe[0]*L,V[1]-pe[1]*L)}G.zoom(null,he)}})}function S(q,Q,K){return!K&&q.__zooming||new k(q,Q)}function k(q,Q){this.that=q,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=n.apply(q,Q),this.taps=0}k.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,Q){return this.mouse&&q!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var Q=Da(this.that).datum();u.call(q,this.that,new l4e(q,{sourceEvent:this.sourceEvent,target:P,transform:this.that.__zoom,dispatch:u}),Q)}};function T(q,...Q){if(!e.apply(this,arguments))return;var K=S(this,Q).event(q),U=this.__zoom,O=Math.max(i[0],Math.min(i[1],U.k*Math.pow(2,a.apply(this,arguments)))),I=Ms(q);if(K.wheel)(K.mouse[0][0]!==I[0]||K.mouse[0][1]!==I[1])&&(K.mouse[1]=U.invert(K.mouse[0]=I)),clearTimeout(K.wheel);else{if(U.k===O)return;K.mouse=[I,U.invert(I)],Qg(this),K.start()}wf(q),K.wheel=setTimeout(G,N),K.zoom("mouse",r(b(C(U,O),K.mouse[0],K.mouse[1]),K.extent,o));function G(){K.wheel=null,K.end()}}function z(q,...Q){if(p||!e.apply(this,arguments))return;var K=q.currentTarget,U=S(this,Q,!0).event(q),O=Da(q.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",Z,!0),I=Ms(q,K),G=q.clientX,M=q.clientY;sW(q.view),rS(q),U.mouse=[I,this.__zoom.invert(I)],Qg(this),U.start();function V(re){if(wf(re),!U.moved){var le=re.clientX-G,ye=re.clientY-M;U.moved=le*le+ye*ye>j}U.event(re).zoom("mouse",r(b(U.that.__zoom,U.mouse[0]=Ms(re,K),U.mouse[1]),U.extent,o))}function Z(re){O.on("mousemove.zoom mouseup.zoom",null),iW(re.view,U.moved),wf(re),U.event(re).end()}}function Y(q,...Q){if(e.apply(this,arguments)){var K=this.__zoom,U=Ms(q.changedTouches?q.changedTouches[0]:q,this),O=K.invert(U),I=K.k*(q.shiftKey?.5:2),G=r(b(C(K,I),U,O),n.apply(this,Q),o);wf(q),l>0?Da(this).transition().duration(l).call(E,G,U,q):Da(this).call(P.transform,G,U,q)}}function F(q,...Q){if(e.apply(this,arguments)){var K=q.touches,U=K.length,O=S(this,Q,q.changedTouches.length===U).event(q),I,G,M,V;for(rS(q),G=0;G<U;++G)M=K[G],V=Ms(M,this),V=[V,this.__zoom.invert(V),M.identifier],O.touch0?!O.touch1&&O.touch0[2]!==V[2]&&(O.touch1=V,O.taps=0):(O.touch0=V,I=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(O.taps<2&&(h=V[0],f=setTimeout(function(){f=null},v)),Qg(this),O.start())}}function D(q,...Q){if(this.__zooming){var K=S(this,Q).event(q),U=q.changedTouches,O=U.length,I,G,M,V;for(wf(q),I=0;I<O;++I)G=U[I],M=Ms(G,this),K.touch0&&K.touch0[2]===G.identifier?K.touch0[0]=M:K.touch1&&K.touch1[2]===G.identifier&&(K.touch1[0]=M);if(G=K.that.__zoom,K.touch1){var Z=K.touch0[0],re=K.touch0[1],le=K.touch1[0],ye=K.touch1[1],he=(he=le[0]-Z[0])*he+(he=le[1]-Z[1])*he,pe=(pe=ye[0]-re[0])*pe+(pe=ye[1]-re[1])*pe;G=C(G,Math.sqrt(he/pe)),M=[(Z[0]+le[0])/2,(Z[1]+le[1])/2],V=[(re[0]+ye[0])/2,(re[1]+ye[1])/2]}else if(K.touch0)M=K.touch0[0],V=K.touch0[1];else return;K.zoom("touch",r(b(G,M,V),K.extent,o))}}function R(q,...Q){if(this.__zooming){var K=S(this,Q).event(q),U=q.changedTouches,O=U.length,I,G;for(rS(q),p&&clearTimeout(p),p=setTimeout(function(){p=null},v),I=0;I<O;++I)G=U[I],K.touch0&&K.touch0[2]===G.identifier?delete K.touch0:K.touch1&&K.touch1[2]===G.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(G=Ms(G,this),Math.hypot(h[0]-G[0],h[1]-G[1])<g)){var M=Da(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return P.wheelDelta=function(q){return arguments.length?(a=typeof q=="function"?q:Cg(+q),P):a},P.filter=function(q){return arguments.length?(e=typeof q=="function"?q:Cg(!!q),P):e},P.touchable=function(q){return arguments.length?(s=typeof q=="function"?q:Cg(!!q),P):s},P.extent=function(q){return arguments.length?(n=typeof q=="function"?q:Cg([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),P):n},P.scaleExtent=function(q){return arguments.length?(i[0]=+q[0],i[1]=+q[1],P):[i[0],i[1]]},P.translateExtent=function(q){return arguments.length?(o[0][0]=+q[0][0],o[1][0]=+q[1][0],o[0][1]=+q[0][1],o[1][1]=+q[1][1],P):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},P.constrain=function(q){return arguments.length?(r=q,P):r},P.duration=function(q){return arguments.length?(l=+q,P):l},P.interpolate=function(q){return arguments.length?(d=q,P):d},P.on=function(){var q=u.on.apply(u,arguments);return q===u?P:q},P.clickDistance=function(q){return arguments.length?(j=(q=+q)*q,P):Math.sqrt(j)},P.tapDistance=function(q){return arguments.length?(g=+q,P):g},P}const Ei={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Qh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],gW=["Enter"," ","Escape"],vW={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:r})=>`Moved selected node ${e}. New position, x: ${n}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Yu;(function(e){e.Strict="strict",e.Loose="loose"})(Yu||(Yu={}));var bc;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(bc||(bc={}));var Yh;(function(e){e.Partial="partial",e.Full="full"})(Yh||(Yh={}));const yW={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var pl;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(pl||(pl={}));var Ty;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ty||(Ty={}));var Tt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Tt||(Tt={}));const p6={[Tt.Left]:Tt.Right,[Tt.Right]:Tt.Left,[Tt.Top]:Tt.Bottom,[Tt.Bottom]:Tt.Top};function jW(e){return e===null?null:e?"valid":"invalid"}const bW=e=>"id"in e&&"source"in e&&"target"in e,h4e=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),v_=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Dp=(e,n=[0,0])=>{const{width:r,height:a}=Io(e),s=e.origin??n,i=r*s[0],o=a*s[1];return{x:e.position.x-i,y:e.position.y-o}},p4e=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,s)=>{const i=typeof s=="string";let o=!n.nodeLookup&&!i?s:void 0;n.nodeLookup&&(o=i?n.nodeLookup.get(s):v_(s)?s:n.nodeLookup.get(s.id));const l=o?Oy(o,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return j0(a,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return b0(r)},Ip=(e,n={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return e.forEach(s=>{(n.filter===void 0||n.filter(s))&&(r=j0(r,Oy(s)),a=!0)}),a?b0(r):{x:0,y:0,width:0,height:0}},y_=(e,n,[r,a,s]=[0,0,1],i=!1,o=!1)=>{const l={...Fp(n,[r,a,s]),width:n.width/s,height:n.height/s},d=[];for(const u of e.values()){const{measured:f,selectable:h=!0,hidden:p=!1}=u;if(o&&!h||p)continue;const v=f.width??u.width??u.initialWidth??null,N=f.height??u.height??u.initialHeight??null,j=Xh(l,Zu(u)),g=(v??0)*(N??0),P=i&&j>0;(!u.internals.handleBounds||P||j>=g||u.dragging)&&d.push(u)}return d},x4e=(e,n)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),n.filter(a=>r.has(a.source)||r.has(a.target))};function g4e(e,n){const r=new Map,a=n?.nodes?new Set(n.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&(n?.includeHiddenNodes||!s.hidden)&&(!a||a.has(s.id))&&r.set(s.id,s)}),r}async function v4e({nodes:e,width:n,height:r,panZoom:a,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=g4e(e,o),d=Ip(l),u=j_(d,n,r,o?.minZoom??s,o?.maxZoom??i,o?.padding??.1);return await a.setViewport(u,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function wW({nodeId:e,nextPosition:n,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:s,onError:i}){const o=r.get(e),l=o.parentId?r.get(o.parentId):void 0,{x:d,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??a;let h=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!l)i?.("005",Ei.error005());else{const v=l.measured.width,N=l.measured.height;v&&N&&(h=[[d,u],[d+v,u+N]])}else l&&Ju(o.extent)&&(h=[[o.extent[0][0]+d,o.extent[0][1]+u],[o.extent[1][0]+d,o.extent[1][1]+u]]);const p=Ju(h)?Uc(n,h,o.measured):n;return(o.measured.width===void 0||o.measured.height===void 0)&&i?.("015",Ei.error015()),{position:{x:p.x-d+(o.measured.width??0)*f[0],y:p.y-u+(o.measured.height??0)*f[1]},positionAbsolute:p}}async function y4e({nodesToRemove:e=[],edgesToRemove:n=[],nodes:r,edges:a,onBeforeDelete:s}){const i=new Set(e.map(p=>p.id)),o=[];for(const p of r){if(p.deletable===!1)continue;const v=i.has(p.id),N=!v&&p.parentId&&o.find(j=>j.id===p.parentId);(v||N)&&o.push(p)}const l=new Set(n.map(p=>p.id)),d=a.filter(p=>p.deletable!==!1),f=x4e(o,d);for(const p of d)l.has(p.id)&&!f.find(N=>N.id===p.id)&&f.push(p);if(!s)return{edges:f,nodes:o};const h=await s({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const Xu=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),Uc=(e={x:0,y:0},n,r)=>({x:Xu(e.x,n[0][0],n[1][0]-(r?.width??0)),y:Xu(e.y,n[0][1],n[1][1]-(r?.height??0))});function NW(e,n,r){const{width:a,height:s}=Io(r),{x:i,y:o}=r.internals.positionAbsolute;return Uc(e,[[i,o],[i+a,o+s]],n)}const x6=(e,n,r)=>e<n?Xu(Math.abs(e-n),1,n)/n:e>r?-Xu(Math.abs(e-r),1,n)/n:0,CW=(e,n,r=15,a=40)=>{const s=x6(e.x,a,n.width-a)*r,i=x6(e.y,a,n.height-a)*r;return[s,i]},j0=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),OE=({x:e,y:n,width:r,height:a})=>({x:e,y:n,x2:e+r,y2:n+a}),b0=({x:e,y:n,x2:r,y2:a})=>({x:e,y:n,width:r-e,height:a-n}),Zu=(e,n=[0,0])=>{const{x:r,y:a}=v_(e)?e.internals.positionAbsolute:Dp(e,n);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Oy=(e,n=[0,0])=>{const{x:r,y:a}=v_(e)?e.internals.positionAbsolute:Dp(e,n);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},SW=(e,n)=>b0(j0(OE(e),OE(n))),Xh=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*a)},g6=e=>Vs(e.width)&&Vs(e.height)&&Vs(e.x)&&Vs(e.y),Vs=e=>!isNaN(e)&&isFinite(e),j4e=(e,n)=>{},$p=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Fp=({x:e,y:n},[r,a,s],i=!1,o=[1,1])=>{const l={x:(e-r)/s,y:(n-a)/s};return i?$p(l,o):l},My=({x:e,y:n},[r,a,s])=>({x:e*s+r,y:n*s+a});function Vd(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(n*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function b4e(e,n,r){if(typeof e=="string"||typeof e=="number"){const a=Vd(e,r),s=Vd(e,n);return{top:a,right:s,bottom:a,left:s,x:s*2,y:a*2}}if(typeof e=="object"){const a=Vd(e.top??e.y??0,r),s=Vd(e.bottom??e.y??0,r),i=Vd(e.left??e.x??0,n),o=Vd(e.right??e.x??0,n);return{top:a,right:o,bottom:s,left:i,x:i+o,y:a+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function w4e(e,n,r,a,s,i){const{x:o,y:l}=My(e,[n,r,a]),{x:d,y:u}=My({x:e.x+e.width,y:e.y+e.height},[n,r,a]),f=s-d,h=i-u;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(h)}}const j_=(e,n,r,a,s,i)=>{const o=b4e(i,n,r),l=(n-o.x)/e.width,d=(r-o.y)/e.height,u=Math.min(l,d),f=Xu(u,a,s),h=e.x+e.width/2,p=e.y+e.height/2,v=n/2-h*f,N=r/2-p*f,j=w4e(e,v,N,f,n,r),g={left:Math.min(j.left-o.left,0),top:Math.min(j.top-o.top,0),right:Math.min(j.right-o.right,0),bottom:Math.min(j.bottom-o.bottom,0)};return{x:v-g.left+g.right,y:N-g.top+g.bottom,zoom:f}},Zh=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Ju(e){return e!=null&&e!=="parent"}function Io(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function PW(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function EW(e,n={width:0,height:0},r,a,s){const i={...e},o=a.get(r);if(o){const l=o.origin||s;i.x+=o.internals.positionAbsolute.x-(n.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(n.height??0)*l[1]}return i}function v6(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function N4e(){let e,n;return{promise:new Promise((a,s)=>{e=a,n=s}),resolve:e,reject:n}}function C4e(e){return{...vW,...e||{}}}function qf(e,{snapGrid:n=[0,0],snapToGrid:r=!1,transform:a,containerBounds:s}){const{x:i,y:o}=Bs(e),l=Fp({x:i-(s?.left??0),y:o-(s?.top??0)},a),{x:d,y:u}=r?$p(l,n):l;return{xSnapped:d,ySnapped:u,...l}}const b_=e=>({width:e.offsetWidth,height:e.offsetHeight}),AW=e=>e?.getRootNode?.()||window?.document,S4e=["INPUT","SELECT","TEXTAREA"];function kW(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:S4e.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const _W=e=>"clientX"in e,Bs=(e,n)=>{const r=_W(e),a=r?e.clientX:e.touches?.[0].clientX,s=r?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:s-(n?.top??0)}},y6=(e,n,r,a,s)=>{const i=n.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(l.left-r.left)/a,y:(l.top-r.top)/a,...b_(o)}})};function TW({sourceX:e,sourceY:n,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const d=e*.125+s*.375+o*.375+r*.125,u=n*.125+i*.375+l*.375+a*.125,f=Math.abs(d-e),h=Math.abs(u-n);return[d,u,f,h]}function Sg(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function j6({pos:e,x1:n,y1:r,x2:a,y2:s,c:i}){switch(e){case Tt.Left:return[n-Sg(n-a,i),r];case Tt.Right:return[n+Sg(a-n,i),r];case Tt.Top:return[n,r-Sg(r-s,i)];case Tt.Bottom:return[n,r+Sg(s-r,i)]}}function OW({sourceX:e,sourceY:n,sourcePosition:r=Tt.Bottom,targetX:a,targetY:s,targetPosition:i=Tt.Top,curvature:o=.25}){const[l,d]=j6({pos:r,x1:e,y1:n,x2:a,y2:s,c:o}),[u,f]=j6({pos:i,x1:a,y1:s,x2:e,y2:n,c:o}),[h,p,v,N]=TW({sourceX:e,sourceY:n,targetX:a,targetY:s,sourceControlX:l,sourceControlY:d,targetControlX:u,targetControlY:f});return[`M${e},${n} C${l},${d} ${u},${f} ${a},${s}`,h,p,v,N]}function MW({sourceX:e,sourceY:n,targetX:r,targetY:a}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,o=Math.abs(a-n)/2,l=a<n?a+o:a-o;return[i,l,s,o]}function P4e({sourceNode:e,targetNode:n,selected:r=!1,zIndex:a=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return a;const o=s&&r?a+1e3:a,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,n.parentId||s&&n.selected?n.internals.z:0);return o+l}function E4e({sourceNode:e,targetNode:n,width:r,height:a,transform:s}){const i=j0(Oy(e),Oy(n));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:r/s[2],height:a/s[2]};return Xh(o,b0(i))>0}const A4e=({source:e,sourceHandle:n,target:r,targetHandle:a})=>`xy-edge__${e}${n||""}-${r}${a||""}`,k4e=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),RW=(e,n,r={})=>{if(!e.source||!e.target)return n;const a=r.getEdgeId||A4e;let s;return bW(e)?s={...e}:s={...e,id:a(e)},k4e(s,n)?n:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,n.concat(s))};function DW({sourceX:e,sourceY:n,targetX:r,targetY:a}){const[s,i,o,l]=MW({sourceX:e,sourceY:n,targetX:r,targetY:a});return[`M ${e},${n}L ${r},${a}`,s,i,o,l]}const b6={[Tt.Left]:{x:-1,y:0},[Tt.Right]:{x:1,y:0},[Tt.Top]:{x:0,y:-1},[Tt.Bottom]:{x:0,y:1}},_4e=({source:e,sourcePosition:n=Tt.Bottom,target:r})=>n===Tt.Left||n===Tt.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},w6=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function T4e({source:e,sourcePosition:n=Tt.Bottom,target:r,targetPosition:a=Tt.Top,center:s,offset:i,stepPosition:o}){const l=b6[n],d=b6[a],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:r.x+d.x*i,y:r.y+d.y*i},h=_4e({source:u,sourcePosition:n,target:f}),p=h.x!==0?"x":"y",v=h[p];let N=[],j,g;const P={x:0,y:0},C={x:0,y:0},[,,b,y]=MW({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[p]*d[p]===-1){p==="x"?(j=s.x??u.x+(f.x-u.x)*o,g=s.y??(u.y+f.y)/2):(j=s.x??(u.x+f.x)/2,g=s.y??u.y+(f.y-u.y)*o);const S=[{x:j,y:u.y},{x:j,y:f.y}],k=[{x:u.x,y:g},{x:f.x,y:g}];l[p]===v?N=p==="x"?S:k:N=p==="x"?k:S}else{const S=[{x:u.x,y:f.y}],k=[{x:f.x,y:u.y}];if(p==="x"?N=l.x===v?k:S:N=l.y===v?S:k,n===a){const D=Math.abs(e[p]-r[p]);if(D<=i){const R=Math.min(i-1,i-D);l[p]===v?P[p]=(u[p]>e[p]?-1:1)*R:C[p]=(f[p]>r[p]?-1:1)*R}}if(n!==a){const D=p==="x"?"y":"x",R=l[p]===d[D],q=u[D]>f[D],Q=u[D]<f[D];(l[p]===1&&(!R&&q||R&&Q)||l[p]!==1&&(!R&&Q||R&&q))&&(N=p==="x"?S:k)}const T={x:u.x+P.x,y:u.y+P.y},z={x:f.x+C.x,y:f.y+C.y},Y=Math.max(Math.abs(T.x-N[0].x),Math.abs(z.x-N[0].x)),F=Math.max(Math.abs(T.y-N[0].y),Math.abs(z.y-N[0].y));Y>=F?(j=(T.x+z.x)/2,g=N[0].y):(j=N[0].x,g=(T.y+z.y)/2)}return[[e,{x:u.x+P.x,y:u.y+P.y},...N,{x:f.x+C.x,y:f.y+C.y},r],j,g,b,y]}function O4e(e,n,r,a){const s=Math.min(w6(e,n)/2,w6(n,r)/2,a),{x:i,y:o}=n;if(e.x===i&&i===r.x||e.y===o&&o===r.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*f}`}const l=e.x<r.x?1:-1,d=e.y<r.y?-1:1;return`L ${i},${o+s*d}Q ${i},${o} ${i+s*l},${o}`}function ME({sourceX:e,sourceY:n,sourcePosition:r=Tt.Bottom,targetX:a,targetY:s,targetPosition:i=Tt.Top,borderRadius:o=5,centerX:l,centerY:d,offset:u=20,stepPosition:f=.5}){const[h,p,v,N,j]=T4e({source:{x:e,y:n},sourcePosition:r,target:{x:a,y:s},targetPosition:i,center:{x:l,y:d},offset:u,stepPosition:f});return[h.reduce((P,C,b)=>{let y="";return b>0&&b<h.length-1?y=O4e(h[b-1],C,h[b+1],o):y=`${b===0?"M":"L"}${C.x} ${C.y}`,P+=y,P},""),p,v,N,j]}function N6(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function M4e(e){const{sourceNode:n,targetNode:r}=e;if(!N6(n)||!N6(r))return null;const a=n.internals.handleBounds||C6(n.handles),s=r.internals.handleBounds||C6(r.handles),i=S6(a?.source??[],e.sourceHandle),o=S6(e.connectionMode===Yu.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),e.targetHandle);if(!i||!o)return e.onError?.("008",Ei.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=i?.position||Tt.Bottom,d=o?.position||Tt.Top,u=Kc(n,i,l),f=Kc(r,o,d);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:d}}function C6(e){if(!e)return null;const n=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&r.push(a);return{source:n,target:r}}function Kc(e,n,r=Tt.Left,a=!1){const s=(n?.x??0)+e.internals.positionAbsolute.x,i=(n?.y??0)+e.internals.positionAbsolute.y,{width:o,height:l}=n??Io(e);if(a)return{x:s+o/2,y:i+l/2};switch(n?.position??r){case Tt.Top:return{x:s+o/2,y:i};case Tt.Right:return{x:s+o,y:i+l/2};case Tt.Bottom:return{x:s+o/2,y:i+l};case Tt.Left:return{x:s,y:i+l/2}}}function S6(e,n){return e&&(n?e.find(r=>r.id===n):e[0])||null}function RE(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function R4e(e,{id:n,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||a,l.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const u=RE(d,n);i.has(u)||(o.push({id:u,color:d.color||r,...d}),i.add(u))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const IW=1e3,D4e=10,w_={nodeOrigin:[0,0],nodeExtent:Qh,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},I4e={...w_,checkEquality:!0};function N_(e,n){const r={...e};for(const a in n)n[a]!==void 0&&(r[a]=n[a]);return r}function $4e(e,n,r){const a=N_(w_,r);for(const s of e.values())if(s.parentId)S_(s,e,n,a);else{const i=Dp(s,a.nodeOrigin),o=Ju(s.extent)?s.extent:a.nodeExtent,l=Uc(i,o,Io(s));s.internals.positionAbsolute=l}}function F4e(e,n){if(!e.handles)return e.measured?n?.internals.handleBounds:void 0;const r=[],a=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?r.push(i):s.type==="target"&&a.push(i)}return{source:r,target:a}}function C_(e){return e==="manual"}function DE(e,n,r,a={}){const s=N_(I4e,a),i={i:0},o=new Map(n),l=s?.elevateNodesOnSelect&&!C_(s.zIndexMode)?IW:0;let d=e.length>0;n.clear(),r.clear();for(const u of e){let f=o.get(u.id);if(s.checkEquality&&u===f?.internals.userNode)n.set(u.id,f);else{const h=Dp(u,s.nodeOrigin),p=Ju(u.extent)?u.extent:s.nodeExtent,v=Uc(h,p,Io(u));f={...s.defaults,...u,measured:{width:u.measured?.width,height:u.measured?.height},internals:{positionAbsolute:v,handleBounds:F4e(u,f),z:$W(u,l,s.zIndexMode),userNode:u}},n.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(d=!1),u.parentId&&S_(f,n,r,a,i)}return d}function L4e(e,n){if(!e.parentId)return;const r=n.get(e.parentId);r?r.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function S_(e,n,r,a,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:d}=N_(w_,a),u=e.parentId,f=n.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}L4e(e,r),s&&!f.parentId&&f.internals.rootParentIndex===void 0&&d==="auto"&&(f.internals.rootParentIndex=++s.i,f.internals.z=f.internals.z+s.i*D4e),s&&f.internals.rootParentIndex!==void 0&&(s.i=f.internals.rootParentIndex);const h=i&&!C_(d)?IW:0,{x:p,y:v,z:N}=z4e(e,f,o,l,h,d),{positionAbsolute:j}=e.internals,g=p!==j.x||v!==j.y;(g||N!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:p,y:v}:j,z:N}})}function $W(e,n,r){const a=Vs(e.zIndex)?e.zIndex:0;return C_(r)?a:a+(e.selected?n:0)}function z4e(e,n,r,a,s,i){const{x:o,y:l}=n.internals.positionAbsolute,d=Io(e),u=Dp(e,r),f=Ju(e.extent)?Uc(u,e.extent,d):u;let h=Uc({x:o+f.x,y:l+f.y},a,d);e.extent==="parent"&&(h=NW(h,d,n));const p=$W(e,s,i),v=n.internals.z??0;return{x:h.x,y:h.y,z:v>=p?v+1:p}}function P_(e,n,r,a=[0,0]){const s=[],i=new Map;for(const o of e){const l=n.get(o.parentId);if(!l)continue;const d=i.get(o.parentId)?.expandedRect??Zu(l),u=SW(d,o.rect);i.set(o.parentId,{expandedRect:u,parent:l})}return i.size>0&&i.forEach(({expandedRect:o,parent:l},d)=>{const u=l.internals.positionAbsolute,f=Io(l),h=l.origin??a,p=o.x<u.x?Math.round(Math.abs(u.x-o.x)):0,v=o.y<u.y?Math.round(Math.abs(u.y-o.y)):0,N=Math.max(f.width,Math.round(o.width)),j=Math.max(f.height,Math.round(o.height)),g=(N-f.width)*h[0],P=(j-f.height)*h[1];(p>0||v>0||g||P)&&(s.push({id:d,type:"position",position:{x:l.position.x-p+g,y:l.position.y-v+P}}),r.get(d)?.forEach(C=>{e.some(b=>b.id===C.id)||s.push({id:C.id,type:"position",position:{x:C.position.x+p,y:C.position.y+v}})})),(f.width<o.width||f.height<o.height||p||v)&&s.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:N+(p?h[0]*p-g:0),height:j+(v?h[1]*v-P:0)}})}),s}function q4e(e,n,r,a,s,i,o){const l=a?.querySelector(".xyflow__viewport");let d=!1;if(!l)return{changes:[],updatedInternals:d};const u=[],f=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const v of e.values()){const N=n.get(v.id);if(!N)continue;if(N.hidden){n.set(N.id,{...N,internals:{...N.internals,handleBounds:void 0}}),d=!0;continue}const j=b_(v.nodeElement),g=N.measured.width!==j.width||N.measured.height!==j.height;if(!!(j.width&&j.height&&(g||!N.internals.handleBounds||v.force))){const C=v.nodeElement.getBoundingClientRect(),b=Ju(N.extent)?N.extent:i;let{positionAbsolute:y}=N.internals;N.parentId&&N.extent==="parent"?y=NW(y,j,n.get(N.parentId)):b&&(y=Uc(y,b,j));const E={...N,measured:j,internals:{...N.internals,positionAbsolute:y,handleBounds:{source:y6("source",v.nodeElement,C,h,N.id),target:y6("target",v.nodeElement,C,h,N.id)}}};n.set(N.id,E),N.parentId&&S_(E,n,r,{nodeOrigin:s,zIndexMode:o}),d=!0,g&&(u.push({id:N.id,type:"dimensions",dimensions:j}),N.expandParent&&N.parentId&&p.push({id:N.id,parentId:N.parentId,rect:Zu(E,s)}))}}if(p.length>0){const v=P_(p,n,r,s);u.push(...v)}return{changes:u,updatedInternals:d}}async function V4e({delta:e,panZoom:n,transform:r,translateExtent:a,width:s,height:i}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const o=await n.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[s,i]],a),l=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(l)}function P6(e,n,r,a,s,i){let o=s;const l=a.get(o)||new Map;a.set(o,l.set(r,n)),o=`${s}-${e}`;const d=a.get(o)||new Map;if(a.set(o,d.set(r,n)),i){o=`${s}-${e}-${i}`;const u=a.get(o)||new Map;a.set(o,u.set(r,n))}}function FW(e,n,r){e.clear(),n.clear();for(const a of r){const{source:s,target:i,sourceHandle:o=null,targetHandle:l=null}=a,d={edgeId:a.id,source:s,target:i,sourceHandle:o,targetHandle:l},u=`${s}-${o}--${i}-${l}`,f=`${i}-${l}--${s}-${o}`;P6("source",d,f,e,s,o),P6("target",d,u,e,i,l),n.set(a.id,a)}}function LW(e,n){if(!e.parentId)return!1;const r=n.get(e.parentId);return r?r.selected?!0:LW(r,n):!1}function E6(e,n,r){let a=e;do{if(a?.matches?.(n))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function B4e(e,n,r,a){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===a)&&(!o.parentId||!LW(o,e))&&(o.draggable||n&&typeof o.draggable>"u")){const l=e.get(i);l&&s.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function aS({nodeId:e,dragItems:n,nodeLookup:r,dragging:a=!0}){const s=[];for(const[o,l]of n){const d=r.get(o)?.internals.userNode;d&&s.push({...d,position:l.position,dragging:a})}if(!e)return[s[0],s];const i=r.get(e)?.internals.userNode;return[i?{...i,position:n.get(e)?.position||i.position,dragging:a}:s[0],s]}function H4e({dragItems:e,snapGrid:n,x:r,y:a}){const s=e.values().next().value;if(!s)return null;const i={x:r-s.distance.x,y:a-s.distance.y},o=$p(i,n);return{x:o.x-i.x,y:o.y-i.y}}function U4e({onNodeMouseDown:e,getStoreItems:n,onDragStart:r,onDrag:a,onDragStop:s}){let i={x:null,y:null},o=0,l=new Map,d=!1,u={x:0,y:0},f=null,h=!1,p=null,v=!1,N=!1,j=null;function g({noDragClassName:C,handleSelector:b,domNode:y,isSelectable:E,nodeId:S,nodeClickDistance:k=0}){p=Da(y);function T({x:D,y:R}){const{nodeLookup:q,nodeExtent:Q,snapGrid:K,snapToGrid:U,nodeOrigin:O,onNodeDrag:I,onSelectionDrag:G,onError:M,updateNodePositions:V}=n();i={x:D,y:R};let Z=!1;const re=l.size>1,le=re&&Q?OE(Ip(l)):null,ye=re&&U?H4e({dragItems:l,snapGrid:K,x:D,y:R}):null;for(const[he,pe]of l){if(!q.has(he))continue;let L={x:D-pe.distance.x,y:R-pe.distance.y};U&&(L=ye?{x:Math.round(L.x+ye.x),y:Math.round(L.y+ye.y)}:$p(L,K));let ae=null;if(re&&Q&&!pe.extent&&le){const{positionAbsolute:Se}=pe.internals,$e=Se.x-le.x+Q[0][0],tt=Se.x+pe.measured.width-le.x2+Q[1][0],ft=Se.y-le.y+Q[0][1],_t=Se.y+pe.measured.height-le.y2+Q[1][1];ae=[[$e,ft],[tt,_t]]}const{position:me,positionAbsolute:W}=wW({nodeId:he,nextPosition:L,nodeLookup:q,nodeExtent:ae||Q,nodeOrigin:O,onError:M});Z=Z||pe.position.x!==me.x||pe.position.y!==me.y,pe.position=me,pe.internals.positionAbsolute=W}if(N=N||Z,!!Z&&(V(l,!0),j&&(a||I||!S&&G))){const[he,pe]=aS({nodeId:S,dragItems:l,nodeLookup:q});a?.(j,l,he,pe),I?.(j,he,pe),S||G?.(j,pe)}}async function z(){if(!f)return;const{transform:D,panBy:R,autoPanSpeed:q,autoPanOnNodeDrag:Q}=n();if(!Q){d=!1,cancelAnimationFrame(o);return}const[K,U]=CW(u,f,q);(K!==0||U!==0)&&(i.x=(i.x??0)-K/D[2],i.y=(i.y??0)-U/D[2],await R({x:K,y:U})&&T(i)),o=requestAnimationFrame(z)}function Y(D){const{nodeLookup:R,multiSelectionActive:q,nodesDraggable:Q,transform:K,snapGrid:U,snapToGrid:O,selectNodesOnDrag:I,onNodeDragStart:G,onSelectionDragStart:M,unselectNodesAndEdges:V}=n();h=!0,(!I||!E)&&!q&&S&&(R.get(S)?.selected||V()),E&&I&&S&&e?.(S);const Z=qf(D.sourceEvent,{transform:K,snapGrid:U,snapToGrid:O,containerBounds:f});if(i=Z,l=B4e(R,Q,Z,S),l.size>0&&(r||G||!S&&M)){const[re,le]=aS({nodeId:S,dragItems:l,nodeLookup:R});r?.(D.sourceEvent,l,re,le),G?.(D.sourceEvent,re,le),S||M?.(D.sourceEvent,le)}}const F=oW().clickDistance(k).on("start",D=>{const{domNode:R,nodeDragThreshold:q,transform:Q,snapGrid:K,snapToGrid:U}=n();f=R?.getBoundingClientRect()||null,v=!1,N=!1,j=D.sourceEvent,q===0&&Y(D),i=qf(D.sourceEvent,{transform:Q,snapGrid:K,snapToGrid:U,containerBounds:f}),u=Bs(D.sourceEvent,f)}).on("drag",D=>{const{autoPanOnNodeDrag:R,transform:q,snapGrid:Q,snapToGrid:K,nodeDragThreshold:U,nodeLookup:O}=n(),I=qf(D.sourceEvent,{transform:q,snapGrid:Q,snapToGrid:K,containerBounds:f});if(j=D.sourceEvent,(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||S&&!O.has(S))&&(v=!0),!v){if(!d&&R&&h&&(d=!0,z()),!h){const G=Bs(D.sourceEvent,f),M=G.x-u.x,V=G.y-u.y;Math.sqrt(M*M+V*V)>U&&Y(D)}(i.x!==I.xSnapped||i.y!==I.ySnapped)&&l&&h&&(u=Bs(D.sourceEvent,f),T(I))}}).on("end",D=>{if(!(!h||v)&&(d=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:R,updateNodePositions:q,onNodeDragStop:Q,onSelectionDragStop:K}=n();if(N&&(q(l,!1),N=!1),s||Q||!S&&K){const[U,O]=aS({nodeId:S,dragItems:l,nodeLookup:R,dragging:!1});s?.(D.sourceEvent,l,U,O),Q?.(D.sourceEvent,U,O),S||K?.(D.sourceEvent,O)}}}).filter(D=>{const R=D.target;return!D.button&&(!C||!E6(R,`.${C}`,y))&&(!b||E6(R,b,y))});p.call(F)}function P(){p?.on(".drag",null)}return{update:g,destroy:P}}function K4e(e,n,r){const a=[],s={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of n.values())Xh(s,Zu(i))>0&&a.push(i);return a}const W4e=250;function G4e(e,n,r,a){let s=[],i=1/0;const o=K4e(e,r,n+W4e);for(const l of o){const d=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const u of d){if(a.nodeId===u.nodeId&&a.type===u.type&&a.id===u.id)continue;const{x:f,y:h}=Kc(l,u,u.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(h-e.y,2));p>n||(p<i?(s=[{...u,x:f,y:h}],i=p):p===i&&s.push({...u,x:f,y:h}))}}if(!s.length)return null;if(s.length>1){const l=a.type==="source"?"target":"source";return s.find(d=>d.type===l)??s[0]}return s[0]}function zW(e,n,r,a,s,i=!1){const o=a.get(e);if(!o)return null;const l=s==="strict"?o.internals.handleBounds?.[n]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],d=(r?l?.find(u=>u.id===r):l?.[0])??null;return d&&i?{...d,...Kc(o,d,d.position,!0)}:d}function qW(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function Q4e(e,n){let r=null;return n?r=!0:e&&!n&&(r=!1),r}const VW=()=>!0;function Y4e(e,{connectionMode:n,connectionRadius:r,handleId:a,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:d,lib:u,autoPanOnConnect:f,flowId:h,panBy:p,cancelConnection:v,onConnectStart:N,onConnect:j,onConnectEnd:g,isValidConnection:P=VW,onReconnectEnd:C,updateConnection:b,getTransform:y,getFromHandle:E,autoPanSpeed:S,dragThreshold:k=1,handleDomNode:T}){const z=AW(e.target);let Y=0,F;const{x:D,y:R}=Bs(e),q=qW(i,T),Q=l?.getBoundingClientRect();let K=!1;if(!Q||!q)return;const U=zW(s,q,a,d,n);if(!U)return;let O=Bs(e,Q),I=!1,G=null,M=!1,V=null;function Z(){if(!f||!Q)return;const[me,W]=CW(O,Q,S);p({x:me,y:W}),Y=requestAnimationFrame(Z)}const re={...U,nodeId:s,type:q,position:U.position},le=d.get(s);let he={inProgress:!0,isValid:null,from:Kc(le,re,Tt.Left,!0),fromHandle:re,fromPosition:re.position,fromNode:le,to:O,toHandle:null,toPosition:p6[re.position],toNode:null,pointer:O};function pe(){K=!0,b(he),N?.(e,{nodeId:s,handleId:a,handleType:q})}k===0&&pe();function L(me){if(!K){const{x:_t,y:xn}=Bs(me),Pe=_t-D,kt=xn-R;if(!(Pe*Pe+kt*kt>k*k))return;pe()}if(!E()||!re){ae(me);return}const W=y();O=Bs(me,Q),F=G4e(Fp(O,W,!1,[1,1]),r,d,re),I||(Z(),I=!0);const Se=BW(me,{handle:F,connectionMode:n,fromNodeId:s,fromHandleId:a,fromType:o?"target":"source",isValidConnection:P,doc:z,lib:u,flowId:h,nodeLookup:d});V=Se.handleDomNode,G=Se.connection,M=Q4e(!!F,Se.isValid);const $e=d.get(s),tt=$e?Kc($e,re,Tt.Left,!0):he.from,ft={...he,from:tt,isValid:M,to:Se.toHandle&&M?My({x:Se.toHandle.x,y:Se.toHandle.y},W):O,toHandle:Se.toHandle,toPosition:M&&Se.toHandle?Se.toHandle.position:p6[re.position],toNode:Se.toHandle?d.get(Se.toHandle.nodeId):null,pointer:O};b(ft),he=ft}function ae(me){if(!("touches"in me&&me.touches.length>0)){if(K){(F||V)&&G&&M&&j?.(G);const{inProgress:W,...Se}=he,$e={...Se,toPosition:he.toHandle?he.toPosition:null};g?.(me,$e),i&&C?.(me,$e)}v(),cancelAnimationFrame(Y),I=!1,M=!1,G=null,V=null,z.removeEventListener("mousemove",L),z.removeEventListener("mouseup",ae),z.removeEventListener("touchmove",L),z.removeEventListener("touchend",ae)}}z.addEventListener("mousemove",L),z.addEventListener("mouseup",ae),z.addEventListener("touchmove",L),z.addEventListener("touchend",ae)}function BW(e,{handle:n,connectionMode:r,fromNodeId:a,fromHandleId:s,fromType:i,doc:o,lib:l,flowId:d,isValidConnection:u=VW,nodeLookup:f}){const h=i==="target",p=n?o.querySelector(`.${l}-flow__handle[data-id="${d}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:v,y:N}=Bs(e),j=o.elementFromPoint(v,N),g=j?.classList.contains(`${l}-flow__handle`)?j:p,P={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const C=qW(void 0,g),b=g.getAttribute("data-nodeid"),y=g.getAttribute("data-handleid"),E=g.classList.contains("connectable"),S=g.classList.contains("connectableend");if(!b||!C)return P;const k={source:h?b:a,sourceHandle:h?y:s,target:h?a:b,targetHandle:h?s:y};P.connection=k;const z=E&&S&&(r===Yu.Strict?h&&C==="source"||!h&&C==="target":b!==a||y!==s);P.isValid=z&&u(k),P.toHandle=zW(b,C,y,f,r,!0)}return P}const IE={onPointerDown:Y4e,isValid:BW};function X4e({domNode:e,panZoom:n,getTransform:r,getViewScale:a}){const s=Da(e);function i({translateExtent:l,width:d,height:u,zoomStep:f=1,pannable:h=!0,zoomable:p=!0,inversePan:v=!1}){const N=b=>{if(b.sourceEvent.type!=="wheel"||!n)return;const y=r(),E=b.sourceEvent.ctrlKey&&Zh()?10:1,S=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*f,k=y[2]*Math.pow(2,S*E);n.scaleTo(k)};let j=[0,0];const g=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(j=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},P=b=>{const y=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!n)return;const E=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],S=[E[0]-j[0],E[1]-j[1]];j=E;const k=a()*Math.max(y[2],Math.log(y[2]))*(v?-1:1),T={x:y[0]-S[0]*k,y:y[1]-S[1]*k},z=[[0,0],[d,u]];n.setViewportConstrained({x:T.x,y:T.y,zoom:y[2]},z,l)},C=xW().on("start",g).on("zoom",h?P:null).on("zoom.wheel",p?N:null);s.call(C,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Ms}}const w0=e=>({x:e.x,y:e.y,zoom:e.k}),sS=({x:e,y:n,zoom:r})=>y0.translate(e,n).scale(r),Jd=(e,n)=>e.target.closest(`.${n}`),HW=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),Z4e=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,iS=(e,n=0,r=Z4e,a=()=>{})=>{const s=typeof n=="number"&&n>0;return s||a(),s?e.transition().duration(n).ease(r).on("end",a):e},UW=e=>{const n=e.ctrlKey&&Zh()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function J4e({zoomPanValues:e,noWheelClassName:n,d3Selection:r,d3Zoom:a,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:d,onPanZoomEnd:u}){return f=>{if(Jd(f,n))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const h=r.property("__zoom").k||1;if(f.ctrlKey&&o){const g=Ms(f),P=UW(f),C=h*Math.pow(2,P);a.scaleTo(r,C,g,f);return}const p=f.deltaMode===1?20:1;let v=s===bc.Vertical?0:f.deltaX*p,N=s===bc.Horizontal?0:f.deltaY*p;!Zh()&&f.shiftKey&&s!==bc.Vertical&&(v=f.deltaY*p,N=0),a.translateBy(r,-(v/h)*i,-(N/h)*i,{internal:!0});const j=w0(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d?.(f,j),e.panScrollTimeout=setTimeout(()=>{u?.(f,j),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l?.(f,j))}}function eTe({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:r}){return function(a,s){const i=a.type==="wheel",o=!n&&i&&!a.ctrlKey,l=Jd(a,e);if(a.ctrlKey&&i&&l&&a.preventDefault(),o||l)return null;a.preventDefault(),r.call(this,a,s)}}function tTe({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const s=w0(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=s,a.sourceEvent?.type==="mousedown"&&n(!0),r&&r?.(a.sourceEvent,s)}}function nTe({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:r,onTransformChange:a,onPanZoom:s}){return i=>{e.usedRightMouseButton=!!(r&&HW(n,e.mouseButton??0)),i.sourceEvent?.sync||a([i.transform.x,i.transform.y,i.transform.k]),s&&!i.sourceEvent?.internal&&s?.(i.sourceEvent,w0(i.transform))}}function rTe({zoomPanValues:e,panOnDrag:n,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{if(!o.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&HW(n,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,a(!1),s)){const l=w0(o.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s?.(o.sourceEvent,l)},r?150:0)}}}function aTe({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:a,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:d,lib:u,connectionInProgress:f}){return h=>{const p=e||n,v=r&&h.ctrlKey,N=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(Jd(h,`${u}-flow__node`)||Jd(h,`${u}-flow__edge`)))return!0;if(!a&&!p&&!s&&!i&&!r||o||f&&!N||Jd(h,l)&&N||Jd(h,d)&&(!N||s&&N&&!e)||!r&&h.ctrlKey&&N)return!1;if(!r&&h.type==="touchstart"&&h.touches?.length>1)return h.preventDefault(),!1;if(!p&&!s&&!v&&N||!a&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(a)&&!a.includes(h.button)&&h.type==="mousedown")return!1;const j=Array.isArray(a)&&a.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||N)&&j}}function sTe({domNode:e,minZoom:n,maxZoom:r,translateExtent:a,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:d}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=xW().scaleExtent([n,r]).translateExtent(a),p=Da(e).call(h);C({x:s.x,y:s.y,zoom:Xu(s.zoom,n,r)},[[0,0],[f.width,f.height]],a);const v=p.on("wheel.zoom"),N=p.on("dblclick.zoom");h.wheelDelta(UW);function j(F,D){return p?new Promise(R=>{h?.interpolate(D?.interpolate==="linear"?uo:zg).transform(iS(p,D?.duration,D?.ease,()=>R(!0)),F)}):Promise.resolve(!1)}function g({noWheelClassName:F,noPanClassName:D,onPaneContextMenu:R,userSelectionActive:q,panOnScroll:Q,panOnDrag:K,panOnScrollMode:U,panOnScrollSpeed:O,preventScrolling:I,zoomOnPinch:G,zoomOnScroll:M,zoomOnDoubleClick:V,zoomActivationKeyPressed:Z,lib:re,onTransformChange:le,connectionInProgress:ye,paneClickDistance:he,selectionOnDrag:pe}){q&&!u.isZoomingOrPanning&&P();const L=Q&&!Z&&!q;h.clickDistance(pe?1/0:!Vs(he)||he<0?0:he);const ae=L?J4e({zoomPanValues:u,noWheelClassName:F,d3Selection:p,d3Zoom:h,panOnScrollMode:U,panOnScrollSpeed:O,zoomOnPinch:G,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):eTe({noWheelClassName:F,preventScrolling:I,d3ZoomHandler:v});if(p.on("wheel.zoom",ae,{passive:!1}),!q){const W=tTe({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:o});h.on("start",W);const Se=nTe({zoomPanValues:u,panOnDrag:K,onPaneContextMenu:!!R,onPanZoom:i,onTransformChange:le});h.on("zoom",Se);const $e=rTe({zoomPanValues:u,panOnDrag:K,panOnScroll:Q,onPaneContextMenu:R,onPanZoomEnd:l,onDraggingChange:d});h.on("end",$e)}const me=aTe({zoomActivationKeyPressed:Z,panOnDrag:K,zoomOnScroll:M,panOnScroll:Q,zoomOnDoubleClick:V,zoomOnPinch:G,userSelectionActive:q,noPanClassName:D,noWheelClassName:F,lib:re,connectionInProgress:ye});h.filter(me),V?p.on("dblclick.zoom",N):p.on("dblclick.zoom",null)}function P(){h.on("zoom",null)}async function C(F,D,R){const q=sS(F),Q=h?.constrain()(q,D,R);return Q&&await j(Q),new Promise(K=>K(Q))}async function b(F,D){const R=sS(F);return await j(R,D),new Promise(q=>q(R))}function y(F){if(p){const D=sS(F),R=p.property("__zoom");(R.k!==F.zoom||R.x!==F.x||R.y!==F.y)&&h?.transform(p,D,null,{sync:!0})}}function E(){const F=p?pW(p.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function S(F,D){return p?new Promise(R=>{h?.interpolate(D?.interpolate==="linear"?uo:zg).scaleTo(iS(p,D?.duration,D?.ease,()=>R(!0)),F)}):Promise.resolve(!1)}function k(F,D){return p?new Promise(R=>{h?.interpolate(D?.interpolate==="linear"?uo:zg).scaleBy(iS(p,D?.duration,D?.ease,()=>R(!0)),F)}):Promise.resolve(!1)}function T(F){h?.scaleExtent(F)}function z(F){h?.translateExtent(F)}function Y(F){const D=!Vs(F)||F<0?0:F;h?.clickDistance(D)}return{update:g,destroy:P,setViewport:b,setViewportConstrained:C,getViewport:E,scaleTo:S,scaleBy:k,setScaleExtent:T,setTranslateExtent:z,syncViewport:y,setClickDistance:Y}}var em;(function(e){e.Line="line",e.Handle="handle"})(em||(em={}));function iTe({width:e,prevWidth:n,height:r,prevHeight:a,affectsX:s,affectsY:i}){const o=e-n,l=r-a,d=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&s&&(d[0]=d[0]*-1),l&&i&&(d[1]=d[1]*-1),d}function A6(e){const n=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),s=e.includes("top");return{isHorizontal:n,isVertical:r,affectsX:a,affectsY:s}}function cl(e,n){return Math.max(0,n-e)}function dl(e,n){return Math.max(0,e-n)}function Pg(e,n,r){return Math.max(0,n-e,e-r)}function k6(e,n){return e?!n:n}function oTe(e,n,r,a,s,i,o,l){let{affectsX:d,affectsY:u}=n;const{isHorizontal:f,isVertical:h}=n,p=f&&h,{xSnapped:v,ySnapped:N}=r,{minWidth:j,maxWidth:g,minHeight:P,maxHeight:C}=a,{x:b,y,width:E,height:S,aspectRatio:k}=e;let T=Math.floor(f?v-e.pointerX:0),z=Math.floor(h?N-e.pointerY:0);const Y=E+(d?-T:T),F=S+(u?-z:z),D=-i[0]*E,R=-i[1]*S;let q=Pg(Y,j,g),Q=Pg(F,P,C);if(o){let O=0,I=0;d&&T<0?O=cl(b+T+D,o[0][0]):!d&&T>0&&(O=dl(b+Y+D,o[1][0])),u&&z<0?I=cl(y+z+R,o[0][1]):!u&&z>0&&(I=dl(y+F+R,o[1][1])),q=Math.max(q,O),Q=Math.max(Q,I)}if(l){let O=0,I=0;d&&T>0?O=dl(b+T,l[0][0]):!d&&T<0&&(O=cl(b+Y,l[1][0])),u&&z>0?I=dl(y+z,l[0][1]):!u&&z<0&&(I=cl(y+F,l[1][1])),q=Math.max(q,O),Q=Math.max(Q,I)}if(s){if(f){const O=Pg(Y/k,P,C)*k;if(q=Math.max(q,O),o){let I=0;!d&&!u||d&&!u&&p?I=dl(y+R+Y/k,o[1][1])*k:I=cl(y+R+(d?T:-T)/k,o[0][1])*k,q=Math.max(q,I)}if(l){let I=0;!d&&!u||d&&!u&&p?I=cl(y+Y/k,l[1][1])*k:I=dl(y+(d?T:-T)/k,l[0][1])*k,q=Math.max(q,I)}}if(h){const O=Pg(F*k,j,g)/k;if(Q=Math.max(Q,O),o){let I=0;!d&&!u||u&&!d&&p?I=dl(b+F*k+D,o[1][0])/k:I=cl(b+(u?z:-z)*k+D,o[0][0])/k,Q=Math.max(Q,I)}if(l){let I=0;!d&&!u||u&&!d&&p?I=cl(b+F*k,l[1][0])/k:I=dl(b+(u?z:-z)*k,l[0][0])/k,Q=Math.max(Q,I)}}}z=z+(z<0?Q:-Q),T=T+(T<0?q:-q),s&&(p?Y>F*k?z=(k6(d,u)?-T:T)/k:T=(k6(d,u)?-z:z)*k:f?(z=T/k,u=d):(T=z*k,d=u));const K=d?b+T:b,U=u?y+z:y;return{width:E+(d?-T:T),height:S+(u?-z:z),x:i[0]*T*(d?-1:1)+K,y:i[1]*z*(u?-1:1)+U}}const KW={width:0,height:0,x:0,y:0},lTe={...KW,pointerX:0,pointerY:0,aspectRatio:1};function cTe(e){return[[0,0],[e.measured.width,e.measured.height]]}function dTe(e,n,r){const a=n.position.x+e.position.x,s=n.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=r[0]*i,d=r[1]*o;return[[a-l,s-d],[a+i-l,s+o-d]]}function uTe({domNode:e,nodeId:n,getStoreItems:r,onChange:a,onEnd:s}){const i=Da(e);let o={controlDirection:A6("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:h,resizeDirection:p,onResizeStart:v,onResize:N,onResizeEnd:j,shouldResize:g}){let P={...KW},C={...lTe};o={boundaries:f,resizeDirection:p,keepAspectRatio:h,controlDirection:A6(u)};let b,y=null,E=[],S,k,T,z=!1;const Y=oW().on("start",F=>{const{nodeLookup:D,transform:R,snapGrid:q,snapToGrid:Q,nodeOrigin:K,paneDomNode:U}=r();if(b=D.get(n),!b)return;y=U?.getBoundingClientRect()??null;const{xSnapped:O,ySnapped:I}=qf(F.sourceEvent,{transform:R,snapGrid:q,snapToGrid:Q,containerBounds:y});P={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},C={...P,pointerX:O,pointerY:I,aspectRatio:P.width/P.height},S=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(S=D.get(b.parentId),k=S&&b.extent==="parent"?cTe(S):void 0),E=[],T=void 0;for(const[G,M]of D)if(M.parentId===n&&(E.push({id:G,position:{...M.position},extent:M.extent}),M.extent==="parent"||M.expandParent)){const V=dTe(M,b,M.origin??K);T?T=[[Math.min(V[0][0],T[0][0]),Math.min(V[0][1],T[0][1])],[Math.max(V[1][0],T[1][0]),Math.max(V[1][1],T[1][1])]]:T=V}v?.(F,{...P})}).on("drag",F=>{const{transform:D,snapGrid:R,snapToGrid:q,nodeOrigin:Q}=r(),K=qf(F.sourceEvent,{transform:D,snapGrid:R,snapToGrid:q,containerBounds:y}),U=[];if(!b)return;const{x:O,y:I,width:G,height:M}=P,V={},Z=b.origin??Q,{width:re,height:le,x:ye,y:he}=oTe(C,o.controlDirection,K,o.boundaries,o.keepAspectRatio,Z,k,T),pe=re!==G,L=le!==M,ae=ye!==O&&pe,me=he!==I&&L;if(!ae&&!me&&!pe&&!L)return;if((ae||me||Z[0]===1||Z[1]===1)&&(V.x=ae?ye:P.x,V.y=me?he:P.y,P.x=V.x,P.y=V.y,E.length>0)){const tt=ye-O,ft=he-I;for(const _t of E)_t.position={x:_t.position.x-tt+Z[0]*(re-G),y:_t.position.y-ft+Z[1]*(le-M)},U.push(_t)}if((pe||L)&&(V.width=pe&&(!o.resizeDirection||o.resizeDirection==="horizontal")?re:P.width,V.height=L&&(!o.resizeDirection||o.resizeDirection==="vertical")?le:P.height,P.width=V.width,P.height=V.height),S&&b.expandParent){const tt=Z[0]*(V.width??0);V.x&&V.x<tt&&(P.x=tt,C.x=C.x-(V.x-tt));const ft=Z[1]*(V.height??0);V.y&&V.y<ft&&(P.y=ft,C.y=C.y-(V.y-ft))}const W=iTe({width:P.width,prevWidth:G,height:P.height,prevHeight:M,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),Se={...P,direction:W};g?.(F,Se)!==!1&&(z=!0,N?.(F,Se),a(V,U))}).on("end",F=>{z&&(j?.(F,{...P}),s?.({...P}),z=!1)});i.call(Y)}function d(){i.on(".drag",null)}return{update:l,destroy:d}}var oS={exports:{}},lS={};var _6;function mTe(){if(_6)return lS;_6=1;var e=ep(),n=iL();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var a=typeof Object.is=="function"?Object.is:r,s=n.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return lS.useSyncExternalStoreWithSelector=function(u,f,h,p,v){var N=i(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=l(function(){function P(S){if(!C){if(C=!0,b=S,S=p(S),v!==void 0&&j.hasValue){var k=j.value;if(v(k,S))return y=k}return y=S}if(k=y,a(b,S))return k;var T=p(S);return v!==void 0&&v(k,T)?k:(b=S,y=T)}var C=!1,b,y,E=h===void 0?null:h;return[function(){return P(f())},E===null?void 0:function(){return P(E())}]},[f,h,p,v]);var g=s(u,N[0],N[1]);return o(function(){j.hasValue=!0,j.value=g},[g]),d(g),g},lS}var T6;function fTe(){return T6||(T6=1,oS.exports=mTe()),oS.exports}var hTe=fTe();const pTe=wn(hTe),xTe={},O6=e=>{let n;const r=new Set,a=(f,h)=>{const p=typeof f=="function"?f(n):f;if(!Object.is(p,n)){const v=n;n=h??(typeof p!="object"||p===null)?p:Object.assign({},n,p),r.forEach(N=>N(n,v))}},s=()=>n,d={setState:a,getState:s,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(xTe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=n=e(a,s,d);return d},gTe=e=>e?O6(e):O6,{useDebugValue:vTe}=se,{useSyncExternalStoreWithSelector:yTe}=pTe,jTe=e=>e;function WW(e,n=jTe,r){const a=yTe(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return vTe(a),a}const M6=(e,n)=>{const r=gTe(e),a=(s,i=n)=>WW(r,s,i);return Object.assign(a,r),a},bTe=(e,n)=>e?M6(e,n):M6;function Un(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,s]of e)if(!Object.is(s,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}const N0=w.createContext(null),wTe=N0.Provider,GW=Ei.error001();function sn(e,n){const r=w.useContext(N0);if(r===null)throw new Error(GW);return WW(r,e,n)}function Kn(){const e=w.useContext(N0);if(e===null)throw new Error(GW);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const R6={display:"none"},NTe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},QW="react-flow__node-desc",YW="react-flow__edge-desc",CTe="react-flow__aria-live",STe=e=>e.ariaLiveMessage,PTe=e=>e.ariaLabelConfig;function ETe({rfId:e}){const n=sn(STe);return t.jsx("div",{id:`${CTe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:NTe,children:n})}function ATe({rfId:e,disableKeyboardA11y:n}){const r=sn(PTe);return t.jsxs(t.Fragment,{children:[t.jsx("div",{id:`${QW}-${e}`,style:R6,children:n?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),t.jsx("div",{id:`${YW}-${e}`,style:R6,children:r["edge.a11yDescription.default"]}),!n&&t.jsx(ETe,{rfId:e})]})}const Lp=w.forwardRef(({position:e="top-left",children:n,className:r,style:a,...s},i)=>{const o=`${e}`.split("-");return t.jsx("div",{className:mr(["react-flow__panel",r,...o]),style:a,ref:i,...s,children:n})});Lp.displayName="Panel";function kTe({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:t.jsx(Lp,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:t.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _Te=e=>{const n=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:n,selectedEdges:r}},Eg=e=>e.id;function TTe(e,n){return Un(e.selectedNodes.map(Eg),n.selectedNodes.map(Eg))&&Un(e.selectedEdges.map(Eg),n.selectedEdges.map(Eg))}function OTe({onSelectionChange:e}){const n=Kn(),{selectedNodes:r,selectedEdges:a}=sn(_Te,TTe);return w.useEffect(()=>{const s={nodes:r,edges:a};e?.(s),n.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[r,a,e]),null}const MTe=e=>!!e.onSelectionChangeHandlers;function RTe({onSelectionChange:e}){const n=sn(MTe);return e||n?t.jsx(OTe,{onSelectionChange:e}):null}const XW=[0,0],DTe={x:0,y:0,zoom:1},ITe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],D6=[...ITe,"rfId"],$Te=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),I6={translateExtent:Qh,nodeOrigin:XW,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function FTe(e){const{setNodes:n,setEdges:r,setMinZoom:a,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:d}=sn($Te,Un),u=Kn();w.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{f.current=I6,l()}),[]);const f=w.useRef(I6);return w.useEffect(()=>{for(const h of D6){const p=e[h],v=f.current[h];p!==v&&(typeof e[h]>"u"||(h==="nodes"?n(p):h==="edges"?r(p):h==="minZoom"?a(p):h==="maxZoom"?s(p):h==="translateExtent"?i(p):h==="nodeExtent"?o(p):h==="ariaLabelConfig"?u.setState({ariaLabelConfig:C4e(p)}):h==="fitView"?u.setState({fitViewQueued:p}):h==="fitViewOptions"?u.setState({fitViewOptions:p}):u.setState({[h]:p})))}f.current=e},D6.map(h=>e[h])),null}function $6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function LTe(e){const[n,r]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){r(e);return}const a=$6(),s=()=>r(a?.matches?"dark":"light");return s(),a?.addEventListener("change",s),()=>{a?.removeEventListener("change",s)}},[e]),n!==null?n:$6()?.matches?"dark":"light"}const F6=typeof document<"u"?document:null;function Jh(e=null,n={target:F6,actInsideInputWithModifier:!0}){const[r,a]=w.useState(!1),s=w.useRef(!1),i=w.useRef(new Set([])),[o,l]=w.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((h,p)=>h.concat(...p),[]);return[u,f]}return[[],[]]},[e]);return w.useEffect(()=>{const d=n?.target??F6,u=n?.actInsideInputWithModifier??!0;if(e!==null){const f=v=>{if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!u)&&kW(v))return!1;const j=z6(v.code,l);if(i.current.add(v[j]),L6(o,i.current,!1)){const g=v.composedPath?.()?.[0]||v.target,P=g?.nodeName==="BUTTON"||g?.nodeName==="A";n.preventDefault!==!1&&(s.current||!P)&&v.preventDefault(),a(!0)}},h=v=>{const N=z6(v.code,l);L6(o,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(v[N]),v.key==="Meta"&&i.current.clear(),s.current=!1},p=()=>{i.current.clear(),a(!1)};return d?.addEventListener("keydown",f),d?.addEventListener("keyup",h),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{d?.removeEventListener("keydown",f),d?.removeEventListener("keyup",h),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,a]),r}function L6(e,n,r){return e.filter(a=>r||a.length===n.size).some(a=>a.every(s=>n.has(s)))}function z6(e,n){return n.includes(e)?"code":"key"}const zTe=()=>{const e=Kn();return w.useMemo(()=>({zoomIn:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,r)=>{const{transform:[a,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:n.x??a,y:n.y??s,zoom:n.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,r,a]=e.getState().transform;return{x:n,y:r,zoom:a}},setCenter:async(n,r,a)=>e.getState().setCenter(n,r,a),fitBounds:async(n,r)=>{const{width:a,height:s,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),d=j_(n,a,s,i,o,r?.padding??.1);return l?(await l.setViewport(d,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,r={})=>{const{transform:a,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return n;const{x:l,y:d}=o.getBoundingClientRect(),u={x:n.x-l,y:n.y-d},f=r.snapGrid??s,h=r.snapToGrid??i;return Fp(u,a,h,f)},flowToScreenPosition:n=>{const{transform:r,domNode:a}=e.getState();if(!a)return n;const{x:s,y:i}=a.getBoundingClientRect(),o=My(n,r);return{x:o.x+s,y:o.y+i}}}),[])};function ZW(e,n){const r=[],a=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")a.set(i.id,[i]);else{const o=a.get(i.id);o?o.push(i):a.set(i.id,[i])}for(const i of n){const o=a.get(i.id);if(!o){r.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const l={...i};for(const d of o)qTe(d,l);r.push(l)}return s.length&&s.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function qTe(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function JW(e,n){return ZW(e,n)}function eG(e,n){return ZW(e,n)}function cc(e,n){return{id:e,type:"select",selected:n}}function eu(e,n=new Set,r=!1){const a=[];for(const[s,i]of e){const o=n.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(r&&(i.selected=o),a.push(cc(i.id,o)))}return a}function q6({items:e=[],lookup:n}){const r=[],a=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const o=n.get(i.id),l=o?.internals?.userNode??o;l!==void 0&&l!==i&&r.push({id:i.id,item:i,type:"replace"}),l===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of n)a.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function V6(e){return{id:e.id,type:"remove"}}const B6=e=>h4e(e),VTe=e=>bW(e);function tG(e){return w.forwardRef(e)}const BTe=typeof window<"u"?w.useLayoutEffect:w.useEffect;function H6(e){const[n,r]=w.useState(BigInt(0)),[a]=w.useState(()=>HTe(()=>r(s=>s+BigInt(1))));return BTe(()=>{const s=a.get();s.length&&(e(s),a.reset())},[n]),a}function HTe(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:r=>{n.push(r),e()}}}const nG=w.createContext(null);function UTe({children:e}){const n=Kn(),r=w.useCallback(l=>{const{nodes:d=[],setNodes:u,hasDefaultNodes:f,onNodesChange:h,nodeLookup:p,fitViewQueued:v,onNodesChangeMiddlewareMap:N}=n.getState();let j=d;for(const P of l)j=typeof P=="function"?P(j):P;let g=q6({items:j,lookup:p});for(const P of N.values())g=P(g);f&&u(j),g.length>0?h?.(g):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:P,nodes:C,setNodes:b}=n.getState();P&&b(C)})},[]),a=H6(r),s=w.useCallback(l=>{const{edges:d=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:p}=n.getState();let v=d;for(const N of l)v=typeof N=="function"?N(v):N;f?u(v):h&&h(q6({items:v,lookup:p}))},[]),i=H6(s),o=w.useMemo(()=>({nodeQueue:a,edgeQueue:i}),[]);return t.jsx(nG.Provider,{value:o,children:e})}function KTe(){const e=w.useContext(nG);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const WTe=e=>!!e.panZoom;function E_(){const e=zTe(),n=Kn(),r=KTe(),a=sn(WTe),s=w.useMemo(()=>{const i=h=>n.getState().nodeLookup.get(h),o=h=>{r.nodeQueue.push(h)},l=h=>{r.edgeQueue.push(h)},d=h=>{const{nodeLookup:p,nodeOrigin:v}=n.getState(),N=B6(h)?h:p.get(h.id),j=N.parentId?EW(N.position,N.measured,N.parentId,p,v):N.position,g={...N,position:j,width:N.measured?.width??N.width,height:N.measured?.height??N.height};return Zu(g)},u=(h,p,v={replace:!1})=>{o(N=>N.map(j=>{if(j.id===h){const g=typeof p=="function"?p(j):p;return v.replace&&B6(g)?g:{...j,...g}}return j}))},f=(h,p,v={replace:!1})=>{l(N=>N.map(j=>{if(j.id===h){const g=typeof p=="function"?p(j):p;return v.replace&&VTe(g)?g:{...j,...g}}return j}))};return{getNodes:()=>n.getState().nodes.map(h=>({...h})),getNode:h=>i(h)?.internals.userNode,getInternalNode:i,getEdges:()=>{const{edges:h=[]}=n.getState();return h.map(p=>({...p}))},getEdge:h=>n.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const p=Array.isArray(h)?h:[h];r.nodeQueue.push(v=>[...v,...p])},addEdges:h=>{const p=Array.isArray(h)?h:[h];r.edgeQueue.push(v=>[...v,...p])},toObject:()=>{const{nodes:h=[],edges:p=[],transform:v}=n.getState(),[N,j,g]=v;return{nodes:h.map(P=>({...P})),edges:p.map(P=>({...P})),viewport:{x:N,y:j,zoom:g}}},deleteElements:async({nodes:h=[],edges:p=[]})=>{const{nodes:v,edges:N,onNodesDelete:j,onEdgesDelete:g,triggerNodeChanges:P,triggerEdgeChanges:C,onDelete:b,onBeforeDelete:y}=n.getState(),{nodes:E,edges:S}=await y4e({nodesToRemove:h,edgesToRemove:p,nodes:v,edges:N,onBeforeDelete:y}),k=S.length>0,T=E.length>0;if(k){const z=S.map(V6);g?.(S),C(z)}if(T){const z=E.map(V6);j?.(E),P(z)}return(T||k)&&b?.({nodes:E,edges:S}),{deletedNodes:E,deletedEdges:S}},getIntersectingNodes:(h,p=!0,v)=>{const N=g6(h),j=N?h:d(h),g=v!==void 0;return j?(v||n.getState().nodes).filter(P=>{const C=n.getState().nodeLookup.get(P.id);if(C&&!N&&(P.id===h.id||!C.internals.positionAbsolute))return!1;const b=Zu(g?P:C),y=Xh(b,j);return p&&y>0||y>=b.width*b.height||y>=j.width*j.height}):[]},isNodeIntersecting:(h,p,v=!0)=>{const j=g6(h)?h:d(h);if(!j)return!1;const g=Xh(j,p);return v&&g>0||g>=p.width*p.height||g>=j.width*j.height},updateNode:u,updateNodeData:(h,p,v={replace:!1})=>{u(h,N=>{const j=typeof p=="function"?p(N):p;return v.replace?{...N,data:j}:{...N,data:{...N.data,...j}}},v)},updateEdge:f,updateEdgeData:(h,p,v={replace:!1})=>{f(h,N=>{const j=typeof p=="function"?p(N):p;return v.replace?{...N,data:j}:{...N,data:{...N.data,...j}}},v)},getNodesBounds:h=>{const{nodeLookup:p,nodeOrigin:v}=n.getState();return p4e(h,{nodeLookup:p,nodeOrigin:v})},getHandleConnections:({type:h,id:p,nodeId:v})=>Array.from(n.getState().connectionLookup.get(`${v}-${h}${p?`-${p}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:p,nodeId:v})=>Array.from(n.getState().connectionLookup.get(`${v}${h?p?`-${h}-${p}`:`-${h}`:""}`)?.values()??[]),fitView:async h=>{const p=n.getState().fitViewResolver??N4e();return n.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:p}),r.nodeQueue.push(v=>[...v]),p.promise}}},[]);return w.useMemo(()=>({...s,...e,viewportInitialized:a}),[a])}const U6=e=>e.selected,GTe=typeof window<"u"?window:void 0;function QTe({deleteKeyCode:e,multiSelectionKeyCode:n}){const r=Kn(),{deleteElements:a}=E_(),s=Jh(e,{actInsideInputWithModifier:!1}),i=Jh(n,{target:GTe});w.useEffect(()=>{if(s){const{edges:o,nodes:l}=r.getState();a({nodes:l.filter(U6),edges:o.filter(U6)}),r.setState({nodesSelectionActive:!1})}},[s]),w.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function YTe(e){const n=Kn();w.useEffect(()=>{const r=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const a=b_(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",Ei.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const C0={position:"absolute",width:"100%",height:"100%",top:0,left:0},XTe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ZTe({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=bc.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:u,minZoom:f,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:v=!0,children:N,noWheelClassName:j,noPanClassName:g,onViewportChange:P,isControlledViewport:C,paneClickDistance:b,selectionOnDrag:y}){const E=Kn(),S=w.useRef(null),{userSelectionActive:k,lib:T,connectionInProgress:z}=sn(XTe,Un),Y=Jh(p),F=w.useRef();YTe(S);const D=w.useCallback(R=>{P?.({x:R[0],y:R[1],zoom:R[2]}),C||E.setState({transform:R})},[P,C]);return w.useEffect(()=>{if(S.current){F.current=sTe({domNode:S.current,minZoom:f,maxZoom:h,translateExtent:u,viewport:d,onDraggingChange:K=>E.setState({paneDragging:K}),onPanZoomStart:(K,U)=>{const{onViewportChangeStart:O,onMoveStart:I}=E.getState();I?.(K,U),O?.(U)},onPanZoom:(K,U)=>{const{onViewportChange:O,onMove:I}=E.getState();I?.(K,U),O?.(U)},onPanZoomEnd:(K,U)=>{const{onViewportChangeEnd:O,onMoveEnd:I}=E.getState();I?.(K,U),O?.(U)}});const{x:R,y:q,zoom:Q}=F.current.getViewport();return E.setState({panZoom:F.current,transform:[R,q,Q],domNode:S.current.closest(".react-flow")}),()=>{F.current?.destroy()}}},[]),w.useEffect(()=>{F.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:Y,preventScrolling:v,noPanClassName:g,userSelectionActive:k,noWheelClassName:j,lib:T,onTransformChange:D,connectionInProgress:z,selectionOnDrag:y,paneClickDistance:b})},[e,n,r,a,s,i,o,l,Y,v,g,k,j,T,D,z,y,b]),t.jsx("div",{className:"react-flow__renderer",ref:S,style:C0,children:N})}const JTe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eOe(){const{userSelectionActive:e,userSelectionRect:n}=sn(JTe,Un);return e&&n?t.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const cS=(e,n)=>r=>{r.target===n.current&&e?.(r)},tOe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function nOe({isSelecting:e,selectionKeyPressed:n,selectionMode:r=Yh.Full,panOnDrag:a,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:d,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:v,children:N}){const j=Kn(),{userSelectionActive:g,elementsSelectable:P,dragging:C,connectionInProgress:b}=sn(tOe,Un),y=P&&(e||g),E=w.useRef(null),S=w.useRef(),k=w.useRef(new Set),T=w.useRef(new Set),z=w.useRef(!1),Y=O=>{if(z.current||b){z.current=!1;return}d?.(O),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},F=O=>{if(Array.isArray(a)&&a?.includes(2)){O.preventDefault();return}u?.(O)},D=f?O=>f(O):void 0,R=O=>{z.current&&(O.stopPropagation(),z.current=!1)},q=O=>{const{domNode:I}=j.getState();if(S.current=I?.getBoundingClientRect(),!S.current)return;const G=O.target===E.current;if(!G&&!!O.target.closest(".nokey")||!e||!(i&&G||n)||O.button!==0||!O.isPrimary)return;O.target?.setPointerCapture?.(O.pointerId),z.current=!1;const{x:Z,y:re}=Bs(O.nativeEvent,S.current);j.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:re,x:Z,y:re}}),G||(O.stopPropagation(),O.preventDefault())},Q=O=>{const{userSelectionRect:I,transform:G,nodeLookup:M,edgeLookup:V,connectionLookup:Z,triggerNodeChanges:re,triggerEdgeChanges:le,defaultEdgeOptions:ye,resetSelectedElements:he}=j.getState();if(!S.current||!I)return;const{x:pe,y:L}=Bs(O.nativeEvent,S.current),{startX:ae,startY:me}=I;if(!z.current){const ft=n?0:s;if(Math.hypot(pe-ae,L-me)<=ft)return;he(),o?.(O)}z.current=!0;const W={startX:ae,startY:me,x:pe<ae?pe:ae,y:L<me?L:me,width:Math.abs(pe-ae),height:Math.abs(L-me)},Se=k.current,$e=T.current;k.current=new Set(y_(M,W,G,r===Yh.Partial,!0).map(ft=>ft.id)),T.current=new Set;const tt=ye?.selectable??!0;for(const ft of k.current){const _t=Z.get(ft);if(_t)for(const{edgeId:xn}of _t.values()){const Pe=V.get(xn);Pe&&(Pe.selectable??tt)&&T.current.add(xn)}}if(!v6(Se,k.current)){const ft=eu(M,k.current,!0);re(ft)}if(!v6($e,T.current)){const ft=eu(V,T.current);le(ft)}j.setState({userSelectionRect:W,userSelectionActive:!0,nodesSelectionActive:!1})},K=O=>{O.button===0&&(O.target?.releasePointerCapture?.(O.pointerId),!g&&O.target===E.current&&j.getState().userSelectionRect&&Y?.(O),j.setState({userSelectionActive:!1,userSelectionRect:null}),z.current&&(l?.(O),j.setState({nodesSelectionActive:k.current.size>0})))},U=a===!0||Array.isArray(a)&&a.includes(0);return t.jsxs("div",{className:mr(["react-flow__pane",{draggable:U,dragging:C,selection:e}]),onClick:y?void 0:cS(Y,E),onContextMenu:cS(F,E),onWheel:cS(D,E),onPointerEnter:y?void 0:h,onPointerMove:y?Q:p,onPointerUp:y?K:void 0,onPointerDownCapture:y?q:void 0,onClickCapture:y?R:void 0,onPointerLeave:v,ref:E,style:C0,children:[N,t.jsx(eOe,{})]})}function $E({id:e,store:n,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:d}=n.getState(),u=l.get(e);if(!u){d?.("012",Ei.error012(e));return}n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):s([e])}function rG({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:s,isSelectable:i,nodeClickDistance:o}){const l=Kn(),[d,u]=w.useState(!1),f=w.useRef();return w.useEffect(()=>{f.current=U4e({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{$E({id:h,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),w.useEffect(()=>{if(n)f.current?.destroy();else if(e.current)return f.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{f.current?.destroy()}},[r,a,n,i,e,s]),d}const rOe=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function aG(){const e=Kn();return w.useCallback(r=>{const{nodeExtent:a,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:d,nodeLookup:u,nodeOrigin:f}=e.getState(),h=new Map,p=rOe(o),v=s?i[0]:5,N=s?i[1]:5,j=r.direction.x*v*r.factor,g=r.direction.y*N*r.factor;for(const[,P]of u){if(!p(P))continue;let C={x:P.internals.positionAbsolute.x+j,y:P.internals.positionAbsolute.y+g};s&&(C=$p(C,i));const{position:b,positionAbsolute:y}=wW({nodeId:P.id,nextPosition:C,nodeLookup:u,nodeExtent:a,nodeOrigin:f,onError:l});P.position=b,P.internals.positionAbsolute=y,h.set(P.id,P)}d(h)},[])}const A_=w.createContext(null),aOe=A_.Provider;A_.Consumer;const sG=()=>w.useContext(A_),sOe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),iOe=(e,n,r)=>a=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=a,{fromHandle:l,toHandle:d,isValid:u}=o,f=d?.nodeId===e&&d?.id===n&&d?.type===r;return{connectingFrom:l?.nodeId===e&&l?.id===n&&l?.type===r,connectingTo:f,clickConnecting:s?.nodeId===e&&s?.id===n&&s?.type===r,isPossibleEndHandle:i===Yu.Strict?l?.type!==r:e!==l?.nodeId||n!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:f&&u}};function oOe({type:e="source",position:n=Tt.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:d,className:u,onMouseDown:f,onTouchStart:h,...p},v){const N=o||null,j=e==="target",g=Kn(),P=sG(),{connectOnClick:C,noPanClassName:b,rfId:y}=sn(sOe,Un),{connectingFrom:E,connectingTo:S,clickConnecting:k,isPossibleEndHandle:T,connectionInProcess:z,clickConnectionInProcess:Y,valid:F}=sn(iOe(P,N,e),Un);P||g.getState().onError?.("010",Ei.error010());const D=Q=>{const{defaultEdgeOptions:K,onConnect:U,hasDefaultEdges:O}=g.getState(),I={...K,...Q};if(O){const{edges:G,setEdges:M}=g.getState();M(RW(I,G))}U?.(I),l?.(I)},R=Q=>{if(!P)return;const K=_W(Q.nativeEvent);if(s&&(K&&Q.button===0||!K)){const U=g.getState();IE.onPointerDown(Q.nativeEvent,{handleDomNode:Q.currentTarget,autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:j,handleId:N,nodeId:P,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:D,isValidConnection:r||U.isValidConnection,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed,dragThreshold:U.connectionDragThreshold})}K?f?.(Q):h?.(Q)},q=Q=>{const{onClickConnectStart:K,onClickConnectEnd:U,connectionClickStartHandle:O,connectionMode:I,isValidConnection:G,lib:M,rfId:V,nodeLookup:Z,connection:re}=g.getState();if(!P||!O&&!s)return;if(!O){K?.(Q.nativeEvent,{nodeId:P,handleId:N,handleType:e}),g.setState({connectionClickStartHandle:{nodeId:P,type:e,id:N}});return}const le=AW(Q.target),ye=r||G,{connection:he,isValid:pe}=IE.isValid(Q.nativeEvent,{handle:{nodeId:P,id:N,type:e},connectionMode:I,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:ye,flowId:V,doc:le,lib:M,nodeLookup:Z});pe&&he&&D(he);const L=structuredClone(re);delete L.inProgress,L.toPosition=L.toHandle?L.toHandle.position:null,U?.(Q,L),g.setState({connectionClickStartHandle:null})};return t.jsx("div",{"data-handleid":N,"data-nodeid":P,"data-handlepos":n,"data-id":`${y}-${P}-${N}-${e}`,className:mr(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",b,u,{source:!j,target:j,connectable:a,connectablestart:s,connectableend:i,clickconnecting:k,connectingfrom:E,connectingto:S,valid:F,connectionindicator:a&&(!z||T)&&(z||Y?i:s)}]),onMouseDown:R,onTouchStart:R,onClick:C?q:void 0,ref:v,...p,children:d})}const Ry=w.memo(tG(oOe));function lOe({data:e,isConnectable:n,sourcePosition:r=Tt.Bottom}){return t.jsxs(t.Fragment,{children:[e?.label,t.jsx(Ry,{type:"source",position:r,isConnectable:n})]})}function cOe({data:e,isConnectable:n,targetPosition:r=Tt.Top,sourcePosition:a=Tt.Bottom}){return t.jsxs(t.Fragment,{children:[t.jsx(Ry,{type:"target",position:r,isConnectable:n}),e?.label,t.jsx(Ry,{type:"source",position:a,isConnectable:n})]})}function dOe(){return null}function uOe({data:e,isConnectable:n,targetPosition:r=Tt.Top}){return t.jsxs(t.Fragment,{children:[t.jsx(Ry,{type:"target",position:r,isConnectable:n}),e?.label]})}const Dy={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},K6={input:lOe,default:cOe,output:uOe,group:dOe};function mOe(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const fOe=e=>{const{width:n,height:r,x:a,y:s}=Ip(e.nodeLookup,{filter:i=>!!i.selected});return{width:Vs(n)?n:null,height:Vs(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${s}px)`}};function hOe({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const a=Kn(),{width:s,height:i,transformString:o,userSelectionActive:l}=sn(fOe,Un),d=aG(),u=w.useRef(null);if(w.useEffect(()=>{r||u.current?.focus({preventScroll:!0})},[r]),rG({nodeRef:u}),l||!s||!i)return null;const f=e?p=>{const v=a.getState().nodes.filter(N=>N.selected);e(p,v)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Dy,p.key)&&(p.preventDefault(),d({direction:Dy[p.key],factor:p.shiftKey?4:1}))};return t.jsx("div",{className:mr(["react-flow__nodesselection","react-flow__container",n]),style:{transform:o},children:t.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:s,height:i}})})}const W6=typeof window<"u"?window:void 0,pOe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function iG({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:d,selectionKeyCode:u,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:N,panActivationKeyCode:j,zoomActivationKeyCode:g,elementsSelectable:P,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:y,panOnScrollSpeed:E,panOnScrollMode:S,zoomOnDoubleClick:k,panOnDrag:T,defaultViewport:z,translateExtent:Y,minZoom:F,maxZoom:D,preventScrolling:R,onSelectionContextMenu:q,noWheelClassName:Q,noPanClassName:K,disableKeyboardA11y:U,onViewportChange:O,isControlledViewport:I}){const{nodesSelectionActive:G,userSelectionActive:M}=sn(pOe,Un),V=Jh(u,{target:W6}),Z=Jh(j,{target:W6}),re=Z||T,le=Z||y,ye=f&&re!==!0,he=V||M||ye;return QTe({deleteKeyCode:d,multiSelectionKeyCode:N}),t.jsx(ZTe,{onPaneContextMenu:i,elementsSelectable:P,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:le,panOnScrollSpeed:E,panOnScrollMode:S,zoomOnDoubleClick:k,panOnDrag:!V&&re,defaultViewport:z,translateExtent:Y,minZoom:F,maxZoom:D,zoomActivationKeyCode:g,preventScrolling:R,noWheelClassName:Q,noPanClassName:K,onViewportChange:O,isControlledViewport:I,paneClickDistance:l,selectionOnDrag:ye,children:t.jsxs(nOe,{onSelectionStart:p,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:re,isSelecting:!!he,selectionMode:h,selectionKeyPressed:V,paneClickDistance:l,selectionOnDrag:ye,children:[e,G&&t.jsx(hOe,{onSelectionContextMenu:q,noPanClassName:K,disableKeyboardA11y:U})]})})}iG.displayName="FlowRenderer";const xOe=w.memo(iG),gOe=e=>n=>e?y_(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(r=>r.id):Array.from(n.nodeLookup.keys());function vOe(e){return sn(w.useCallback(gOe(e),[e]),Un)}const yOe=e=>e.updateNodeInternals;function jOe(){const e=sn(yOe),[n]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(s=>{const i=s.target.getAttribute("data-id");a.set(i,{id:i,nodeElement:s.target,force:!0})}),e(a)}));return w.useEffect(()=>()=>{n?.disconnect()},[n]),n}function bOe({node:e,nodeType:n,hasDimensions:r,resizeObserver:a}){const s=Kn(),i=w.useRef(null),o=w.useRef(null),l=w.useRef(e.sourcePosition),d=w.useRef(e.targetPosition),u=w.useRef(n),f=r&&!!e.internals.handleBounds;return w.useEffect(()=>{i.current&&!e.hidden&&(!f||o.current!==i.current)&&(o.current&&a?.unobserve(o.current),a?.observe(i.current),o.current=i.current)},[f,e.hidden]),w.useEffect(()=>()=>{o.current&&(a?.unobserve(o.current),o.current=null)},[]),w.useEffect(()=>{if(i.current){const h=u.current!==n,p=l.current!==e.sourcePosition,v=d.current!==e.targetPosition;(h||p||v)&&(u.current=n,l.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),i}function wOe({id:e,onClick:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:d,nodesConnectable:u,nodesFocusable:f,resizeObserver:h,noDragClassName:p,noPanClassName:v,disableKeyboardA11y:N,rfId:j,nodeTypes:g,nodeClickDistance:P,onError:C}){const{node:b,internals:y,isParent:E}=sn(pe=>{const L=pe.nodeLookup.get(e),ae=pe.parentLookup.has(e);return{node:L,internals:L.internals,isParent:ae}},Un);let S=b.type||"default",k=g?.[S]||K6[S];k===void 0&&(C?.("003",Ei.error003(S)),S="default",k=g?.default||K6.default);const T=!!(b.draggable||l&&typeof b.draggable>"u"),z=!!(b.selectable||d&&typeof b.selectable>"u"),Y=!!(b.connectable||u&&typeof b.connectable>"u"),F=!!(b.focusable||f&&typeof b.focusable>"u"),D=Kn(),R=PW(b),q=bOe({node:b,nodeType:S,hasDimensions:R,resizeObserver:h}),Q=rG({nodeRef:q,disabled:b.hidden||!T,noDragClassName:p,handleSelector:b.dragHandle,nodeId:e,isSelectable:z,nodeClickDistance:P}),K=aG();if(b.hidden)return null;const U=Io(b),O=mOe(b),I=z||T||n||r||a||s,G=r?pe=>r(pe,{...y.userNode}):void 0,M=a?pe=>a(pe,{...y.userNode}):void 0,V=s?pe=>s(pe,{...y.userNode}):void 0,Z=i?pe=>i(pe,{...y.userNode}):void 0,re=o?pe=>o(pe,{...y.userNode}):void 0,le=pe=>{const{selectNodesOnDrag:L,nodeDragThreshold:ae}=D.getState();z&&(!L||!T||ae>0)&&$E({id:e,store:D,nodeRef:q}),n&&n(pe,{...y.userNode})},ye=pe=>{if(!(kW(pe.nativeEvent)||N)){if(gW.includes(pe.key)&&z){const L=pe.key==="Escape";$E({id:e,store:D,unselect:L,nodeRef:q})}else if(T&&b.selected&&Object.prototype.hasOwnProperty.call(Dy,pe.key)){pe.preventDefault();const{ariaLabelConfig:L}=D.getState();D.setState({ariaLiveMessage:L["node.a11yDescription.ariaLiveMessage"]({direction:pe.key.replace("Arrow","").toLowerCase(),x:~~y.positionAbsolute.x,y:~~y.positionAbsolute.y})}),K({direction:Dy[pe.key],factor:pe.shiftKey?4:1})}}},he=()=>{if(N||!q.current?.matches(":focus-visible"))return;const{transform:pe,width:L,height:ae,autoPanOnNodeFocus:me,setCenter:W}=D.getState();if(!me)return;y_(new Map([[e,b]]),{x:0,y:0,width:L,height:ae},pe,!0).length>0||W(b.position.x+U.width/2,b.position.y+U.height/2,{zoom:pe[2]})};return t.jsx("div",{className:mr(["react-flow__node",`react-flow__node-${S}`,{[v]:T},b.className,{selected:b.selected,selectable:z,parent:E,draggable:T,dragging:Q}]),ref:q,style:{zIndex:y.z,transform:`translate(${y.positionAbsolute.x}px,${y.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:R?"visible":"hidden",...b.style,...O},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:M,onMouseLeave:V,onContextMenu:Z,onClick:le,onDoubleClick:re,onKeyDown:F?ye:void 0,tabIndex:F?0:void 0,onFocus:F?he:void 0,role:b.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":N?void 0:`${QW}-${j}`,"aria-label":b.ariaLabel,...b.domAttributes,children:t.jsx(aOe,{value:e,children:t.jsx(k,{id:e,data:b.data,type:S,positionAbsoluteX:y.positionAbsolute.x,positionAbsoluteY:y.positionAbsolute.y,selected:b.selected??!1,selectable:z,draggable:T,deletable:b.deletable??!0,isConnectable:Y,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:Q,dragHandle:b.dragHandle,zIndex:y.z,parentId:b.parentId,...U})})})}var NOe=w.memo(wOe);const COe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function oG(e){const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,onError:i}=sn(COe,Un),o=vOe(e.onlyRenderVisibleElements),l=jOe();return t.jsx("div",{className:"react-flow__nodes",style:C0,children:o.map(d=>t.jsx(NOe,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}oG.displayName="NodeRenderer";const SOe=w.memo(oG);function POe(e){return sn(w.useCallback(r=>{if(!e)return r.edges.map(s=>s.id);const a=[];if(r.width&&r.height)for(const s of r.edges){const i=r.nodeLookup.get(s.source),o=r.nodeLookup.get(s.target);i&&o&&E4e({sourceNode:i,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&a.push(s.id)}return a},[e]),Un)}const EOe=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e}};return t.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},AOe=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e,fill:e}};return t.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},G6={[Ty.Arrow]:EOe,[Ty.ArrowClosed]:AOe};function kOe(e){const n=Kn();return w.useMemo(()=>Object.prototype.hasOwnProperty.call(G6,e)?G6[e]:(n.getState().onError?.("009",Ei.error009(e)),null),[e])}const _Oe=({id:e,type:n,color:r,width:a=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const d=kOe(n);return d?t.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:t.jsx(d,{color:r,strokeWidth:o})}):null},lG=({defaultColor:e,rfId:n})=>{const r=sn(i=>i.edges),a=sn(i=>i.defaultEdgeOptions),s=w.useMemo(()=>R4e(r,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,n,e]);return s.length?t.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:t.jsx("defs",{children:s.map(i=>t.jsx(_Oe,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};lG.displayName="MarkerDefinitions";var TOe=w.memo(lG);function cG({x:e,y:n,label:r,labelStyle:a,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:d,className:u,...f}){const[h,p]=w.useState({x:1,y:0,width:0,height:0}),v=mr(["react-flow__edge-textwrapper",u]),N=w.useRef(null);return w.useEffect(()=>{if(N.current){const j=N.current.getBBox();p({x:j.x,y:j.y,width:j.width,height:j.height})}},[r]),r?t.jsxs("g",{transform:`translate(${e-h.width/2} ${n-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...f,children:[s&&t.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),t.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:N,style:a,children:r}),d]}):null}cG.displayName="EdgeText";const OOe=w.memo(cG);function S0({path:e,labelX:n,labelY:r,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:u=20,...f}){return t.jsxs(t.Fragment,{children:[t.jsx("path",{...f,d:e,fill:"none",className:mr(["react-flow__edge-path",f.className])}),u?t.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,a&&Vs(n)&&Vs(r)?t.jsx(OOe,{x:n,y:r,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function Q6({pos:e,x1:n,y1:r,x2:a,y2:s}){return e===Tt.Left||e===Tt.Right?[.5*(n+a),r]:[n,.5*(r+s)]}function dG({sourceX:e,sourceY:n,sourcePosition:r=Tt.Bottom,targetX:a,targetY:s,targetPosition:i=Tt.Top}){const[o,l]=Q6({pos:r,x1:e,y1:n,x2:a,y2:s}),[d,u]=Q6({pos:i,x1:a,y1:s,x2:e,y2:n}),[f,h,p,v]=TW({sourceX:e,sourceY:n,targetX:a,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:d,targetControlY:u});return[`M${e},${n} C${o},${l} ${d},${u} ${a},${s}`,f,h,p,v]}function uG(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:s,targetY:i,sourcePosition:o,targetPosition:l,label:d,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:N,markerEnd:j,markerStart:g,interactionWidth:P})=>{const[C,b,y]=dG({sourceX:r,sourceY:a,sourcePosition:o,targetX:s,targetY:i,targetPosition:l}),E=e.isInternal?void 0:n;return t.jsx(S0,{id:E,path:C,labelX:b,labelY:y,label:d,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:N,markerEnd:j,markerStart:g,interactionWidth:P})})}const MOe=uG({isInternal:!1}),mG=uG({isInternal:!0});MOe.displayName="SimpleBezierEdge";mG.displayName="SimpleBezierEdgeInternal";function fG(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:v=Tt.Bottom,targetPosition:N=Tt.Top,markerEnd:j,markerStart:g,pathOptions:P,interactionWidth:C})=>{const[b,y,E]=ME({sourceX:r,sourceY:a,sourcePosition:v,targetX:s,targetY:i,targetPosition:N,borderRadius:P?.borderRadius,offset:P?.offset,stepPosition:P?.stepPosition}),S=e.isInternal?void 0:n;return t.jsx(S0,{id:S,path:b,labelX:y,labelY:E,label:o,labelStyle:l,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:j,markerStart:g,interactionWidth:C})})}const hG=fG({isInternal:!1}),pG=fG({isInternal:!0});hG.displayName="SmoothStepEdge";pG.displayName="SmoothStepEdgeInternal";function xG(e){return w.memo(({id:n,...r})=>{const a=e.isInternal?void 0:n;return t.jsx(hG,{...r,id:a,pathOptions:w.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const ROe=xG({isInternal:!1}),gG=xG({isInternal:!0});ROe.displayName="StepEdge";gG.displayName="StepEdgeInternal";function vG(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:N,interactionWidth:j})=>{const[g,P,C]=DW({sourceX:r,sourceY:a,targetX:s,targetY:i}),b=e.isInternal?void 0:n;return t.jsx(S0,{id:b,path:g,labelX:P,labelY:C,label:o,labelStyle:l,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:N,interactionWidth:j})})}const DOe=vG({isInternal:!1}),yG=vG({isInternal:!0});DOe.displayName="StraightEdge";yG.displayName="StraightEdgeInternal";function jG(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:s,targetY:i,sourcePosition:o=Tt.Bottom,targetPosition:l=Tt.Top,label:d,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:N,markerEnd:j,markerStart:g,pathOptions:P,interactionWidth:C})=>{const[b,y,E]=OW({sourceX:r,sourceY:a,sourcePosition:o,targetX:s,targetY:i,targetPosition:l,curvature:P?.curvature}),S=e.isInternal?void 0:n;return t.jsx(S0,{id:S,path:b,labelX:y,labelY:E,label:d,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:N,markerEnd:j,markerStart:g,interactionWidth:C})})}const IOe=jG({isInternal:!1}),bG=jG({isInternal:!0});IOe.displayName="BezierEdge";bG.displayName="BezierEdgeInternal";const Y6={default:bG,straight:yG,step:gG,smoothstep:pG,simplebezier:mG},X6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},$Oe=(e,n,r)=>r===Tt.Left?e-n:r===Tt.Right?e+n:e,FOe=(e,n,r)=>r===Tt.Top?e-n:r===Tt.Bottom?e+n:e,Z6="react-flow__edgeupdater";function J6({position:e,centerX:n,centerY:r,radius:a=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l}){return t.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:mr([Z6,`${Z6}-${l}`]),cx:$Oe(n,a,e),cy:FOe(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function LOe({isReconnectable:e,reconnectRadius:n,edge:r,sourceX:a,sourceY:s,targetX:i,targetY:o,sourcePosition:l,targetPosition:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:v}){const N=Kn(),j=(y,E)=>{if(y.button!==0)return;const{autoPanOnConnect:S,domNode:k,isValidConnection:T,connectionMode:z,connectionRadius:Y,lib:F,onConnectStart:D,onConnectEnd:R,cancelConnection:q,nodeLookup:Q,rfId:K,panBy:U,updateConnection:O}=N.getState(),I=E.type==="target",G=(Z,re)=>{p(!1),h?.(Z,r,E.type,re)},M=Z=>u?.(r,Z),V=(Z,re)=>{p(!0),f?.(y,r,E.type),D?.(Z,re)};IE.onPointerDown(y.nativeEvent,{autoPanOnConnect:S,connectionMode:z,connectionRadius:Y,domNode:k,handleId:E.id,nodeId:E.nodeId,nodeLookup:Q,isTarget:I,edgeUpdaterType:E.type,lib:F,flowId:K,cancelConnection:q,panBy:U,isValidConnection:T,onConnect:M,onConnectStart:V,onConnectEnd:R,onReconnectEnd:G,updateConnection:O,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,dragThreshold:N.getState().connectionDragThreshold,handleDomNode:y.currentTarget})},g=y=>j(y,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),P=y=>j(y,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),C=()=>v(!0),b=()=>v(!1);return t.jsxs(t.Fragment,{children:[(e===!0||e==="source")&&t.jsx(J6,{position:l,centerX:a,centerY:s,radius:n,onMouseDown:g,onMouseEnter:C,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&t.jsx(J6,{position:d,centerX:i,centerY:o,radius:n,onMouseDown:P,onMouseEnter:C,onMouseOut:b,type:"target"})]})}function zOe({id:e,edgesFocusable:n,edgesReconnectable:r,elementsSelectable:a,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:d,onMouseLeave:u,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,rfId:N,edgeTypes:j,noPanClassName:g,onError:P,disableKeyboardA11y:C}){let b=sn(W=>W.edgeLookup.get(e));const y=sn(W=>W.defaultEdgeOptions);b=y?{...y,...b}:b;let E=b.type||"default",S=j?.[E]||Y6[E];S===void 0&&(P?.("011",Ei.error011(E)),E="default",S=j?.default||Y6.default);const k=!!(b.focusable||n&&typeof b.focusable>"u"),T=typeof h<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),z=!!(b.selectable||a&&typeof b.selectable>"u"),Y=w.useRef(null),[F,D]=w.useState(!1),[R,q]=w.useState(!1),Q=Kn(),{zIndex:K,sourceX:U,sourceY:O,targetX:I,targetY:G,sourcePosition:M,targetPosition:V}=sn(w.useCallback(W=>{const Se=W.nodeLookup.get(b.source),$e=W.nodeLookup.get(b.target);if(!Se||!$e)return{zIndex:b.zIndex,...X6};const tt=M4e({id:e,sourceNode:Se,targetNode:$e,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:W.connectionMode,onError:P});return{zIndex:P4e({selected:b.selected,zIndex:b.zIndex,sourceNode:Se,targetNode:$e,elevateOnSelect:W.elevateEdgesOnSelect,zIndexMode:W.zIndexMode}),...tt||X6}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),Un),Z=w.useMemo(()=>b.markerStart?`url('#${RE(b.markerStart,N)}')`:void 0,[b.markerStart,N]),re=w.useMemo(()=>b.markerEnd?`url('#${RE(b.markerEnd,N)}')`:void 0,[b.markerEnd,N]);if(b.hidden||U===null||O===null||I===null||G===null)return null;const le=W=>{const{addSelectedEdges:Se,unselectNodesAndEdges:$e,multiSelectionActive:tt}=Q.getState();z&&(Q.setState({nodesSelectionActive:!1}),b.selected&&tt?($e({nodes:[],edges:[b]}),Y.current?.blur()):Se([e])),s&&s(W,b)},ye=i?W=>{i(W,{...b})}:void 0,he=o?W=>{o(W,{...b})}:void 0,pe=l?W=>{l(W,{...b})}:void 0,L=d?W=>{d(W,{...b})}:void 0,ae=u?W=>{u(W,{...b})}:void 0,me=W=>{if(!C&&gW.includes(W.key)&&z){const{unselectNodesAndEdges:Se,addSelectedEdges:$e}=Q.getState();W.key==="Escape"?(Y.current?.blur(),Se({edges:[b]})):$e([e])}};return t.jsx("svg",{style:{zIndex:K},children:t.jsxs("g",{className:mr(["react-flow__edge",`react-flow__edge-${E}`,b.className,g,{selected:b.selected,animated:b.animated,inactive:!z&&!s,updating:F,selectable:z}]),onClick:le,onDoubleClick:ye,onContextMenu:he,onMouseEnter:pe,onMouseMove:L,onMouseLeave:ae,onKeyDown:k?me:void 0,tabIndex:k?0:void 0,role:b.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":k?`${YW}-${N}`:void 0,ref:Y,...b.domAttributes,children:[!R&&t.jsx(S,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:z,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:U,sourceY:O,targetX:I,targetY:G,sourcePosition:M,targetPosition:V,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:Z,markerEnd:re,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),T&&t.jsx(LOe,{edge:b,isReconnectable:T,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,sourceX:U,sourceY:O,targetX:I,targetY:G,sourcePosition:M,targetPosition:V,setUpdateHover:D,setReconnecting:q})]})})}var qOe=w.memo(zOe);const VOe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function wG({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:r,edgeTypes:a,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:p,onReconnectStart:v,onReconnectEnd:N,disableKeyboardA11y:j}){const{edgesFocusable:g,edgesReconnectable:P,elementsSelectable:C,onError:b}=sn(VOe,Un),y=POe(n);return t.jsxs("div",{className:"react-flow__edges",children:[t.jsx(TOe,{defaultColor:e,rfId:r}),y.map(E=>t.jsx(qOe,{id:E,edgesFocusable:g,edgesReconnectable:P,elementsSelectable:C,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:d,onMouseLeave:u,onClick:f,reconnectRadius:h,onDoubleClick:p,onReconnectStart:v,onReconnectEnd:N,rfId:r,onError:b,edgeTypes:a,disableKeyboardA11y:j},E))]})}wG.displayName="EdgeRenderer";const BOe=w.memo(wG),HOe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function UOe({children:e}){const n=sn(HOe);return t.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function KOe(e){const n=E_(),r=w.useRef(!1);w.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const WOe=e=>e.panZoom?.syncViewport;function GOe(e){const n=sn(WOe),r=Kn();return w.useEffect(()=>{e&&(n?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function QOe(e){return e.connection.inProgress?{...e.connection,to:Fp(e.connection.to,e.transform)}:{...e.connection}}function YOe(e){return QOe}function XOe(e){const n=YOe();return sn(n,Un)}const ZOe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function JOe({containerStyle:e,style:n,type:r,component:a}){const{nodesConnectable:s,width:i,height:o,isValid:l,inProgress:d}=sn(ZOe,Un);return!(i&&s&&d)?null:t.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:t.jsx("g",{className:mr(["react-flow__connection",jW(l)]),children:t.jsx(NG,{style:n,type:r,CustomComponent:a,isValid:l})})})}const NG=({style:e,type:n=pl.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:l,fromPosition:d,to:u,toNode:f,toHandle:h,toPosition:p,pointer:v}=XOe();if(!s)return;if(r)return t.jsx(r,{connectionLineType:n,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:d,toPosition:p,connectionStatus:jW(a),toNode:f,toHandle:h,pointer:v});let N="";const j={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:u.x,targetY:u.y,targetPosition:p};switch(n){case pl.Bezier:[N]=OW(j);break;case pl.SimpleBezier:[N]=dG(j);break;case pl.Step:[N]=ME({...j,borderRadius:0});break;case pl.SmoothStep:[N]=ME(j);break;default:[N]=DW(j)}return t.jsx("path",{d:N,fill:"none",className:"react-flow__connection-path",style:e})};NG.displayName="ConnectionLine";const eMe={};function eL(e=eMe){w.useRef(e),Kn(),w.useEffect(()=>{},[e])}function tMe(){Kn(),w.useRef(!1),w.useEffect(()=>{},[])}function CG({nodeTypes:e,edgeTypes:n,onInit:r,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:v,connectionLineType:N,connectionLineStyle:j,connectionLineComponent:g,connectionLineContainerStyle:P,selectionKeyCode:C,selectionOnDrag:b,selectionMode:y,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:k,deleteKeyCode:T,onlyRenderVisibleElements:z,elementsSelectable:Y,defaultViewport:F,translateExtent:D,minZoom:R,maxZoom:q,preventScrolling:Q,defaultMarkerColor:K,zoomOnScroll:U,zoomOnPinch:O,panOnScroll:I,panOnScrollSpeed:G,panOnScrollMode:M,zoomOnDoubleClick:V,panOnDrag:Z,onPaneClick:re,onPaneMouseEnter:le,onPaneMouseMove:ye,onPaneMouseLeave:he,onPaneScroll:pe,onPaneContextMenu:L,paneClickDistance:ae,nodeClickDistance:me,onEdgeContextMenu:W,onEdgeMouseEnter:Se,onEdgeMouseMove:$e,onEdgeMouseLeave:tt,reconnectRadius:ft,onReconnect:_t,onReconnectStart:xn,onReconnectEnd:Pe,noDragClassName:kt,noWheelClassName:gn,noPanClassName:oe,disableKeyboardA11y:ge,nodeExtent:ke,rfId:Xe,viewport:Ue,onViewportChange:Le}){return eL(e),eL(n),tMe(),KOe(r),GOe(Ue),t.jsx(xOe,{onPaneClick:re,onPaneMouseEnter:le,onPaneMouseMove:ye,onPaneMouseLeave:he,onPaneContextMenu:L,onPaneScroll:pe,paneClickDistance:ae,deleteKeyCode:T,selectionKeyCode:C,selectionOnDrag:b,selectionMode:y,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:k,elementsSelectable:Y,zoomOnScroll:U,zoomOnPinch:O,zoomOnDoubleClick:V,panOnScroll:I,panOnScrollSpeed:G,panOnScrollMode:M,panOnDrag:Z,defaultViewport:F,translateExtent:D,minZoom:R,maxZoom:q,onSelectionContextMenu:h,preventScrolling:Q,noDragClassName:kt,noWheelClassName:gn,noPanClassName:oe,disableKeyboardA11y:ge,onViewportChange:Le,isControlledViewport:!!Ue,children:t.jsxs(UOe,{children:[t.jsx(BOe,{edgeTypes:n,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:_t,onReconnectStart:xn,onReconnectEnd:Pe,onlyRenderVisibleElements:z,onEdgeContextMenu:W,onEdgeMouseEnter:Se,onEdgeMouseMove:$e,onEdgeMouseLeave:tt,reconnectRadius:ft,defaultMarkerColor:K,noPanClassName:oe,disableKeyboardA11y:ge,rfId:Xe}),t.jsx(JOe,{style:j,type:N,component:g,containerStyle:P}),t.jsx("div",{className:"react-flow__edgelabel-renderer"}),t.jsx(SOe,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:me,onlyRenderVisibleElements:z,noPanClassName:oe,noDragClassName:kt,disableKeyboardA11y:ge,nodeExtent:ke,rfId:Xe}),t.jsx("div",{className:"react-flow__viewport-portal"})]})})}CG.displayName="GraphView";const nMe=w.memo(CG),tL=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:d=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:h,zIndexMode:p="basic"}={})=>{const v=new Map,N=new Map,j=new Map,g=new Map,P=a??n??[],C=r??e??[],b=f??[0,0],y=h??Qh;FW(j,g,P);const E=DE(C,v,N,{nodeOrigin:b,nodeExtent:y,zIndexMode:p});let S=[0,0,1];if(o&&s&&i){const k=Ip(v,{filter:F=>!!((F.width||F.initialWidth)&&(F.height||F.initialHeight))}),{x:T,y:z,zoom:Y}=j_(k,s,i,d,u,l?.padding??.1);S=[T,z,Y]}return{rfId:"1",width:s??0,height:i??0,transform:S,nodes:C,nodesInitialized:E,nodeLookup:v,parentLookup:N,edges:P,edgeLookup:g,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:d,maxZoom:u,translateExtent:Qh,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Yu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...yW},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:j4e,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:vW,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},rMe=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:d,maxZoom:u,nodeOrigin:f,nodeExtent:h,zIndexMode:p})=>bTe((v,N)=>{async function j(){const{nodeLookup:g,panZoom:P,fitViewOptions:C,fitViewResolver:b,width:y,height:E,minZoom:S,maxZoom:k}=N();P&&(await v4e({nodes:g,width:y,height:E,panZoom:P,minZoom:S,maxZoom:k},C),b?.resolve(!0),v({fitViewResolver:null}))}return{...tL({nodes:e,edges:n,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:d,maxZoom:u,nodeOrigin:f,nodeExtent:h,defaultNodes:r,defaultEdges:a,zIndexMode:p}),setNodes:g=>{const{nodeLookup:P,parentLookup:C,nodeOrigin:b,elevateNodesOnSelect:y,fitViewQueued:E,zIndexMode:S}=N(),k=DE(g,P,C,{nodeOrigin:b,nodeExtent:h,elevateNodesOnSelect:y,checkEquality:!0,zIndexMode:S});E&&k?(j(),v({nodes:g,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:g,nodesInitialized:k})},setEdges:g=>{const{connectionLookup:P,edgeLookup:C}=N();FW(P,C,g),v({edges:g})},setDefaultNodesAndEdges:(g,P)=>{if(g){const{setNodes:C}=N();C(g),v({hasDefaultNodes:!0})}if(P){const{setEdges:C}=N();C(P),v({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:P,nodeLookup:C,parentLookup:b,domNode:y,nodeOrigin:E,nodeExtent:S,debug:k,fitViewQueued:T,zIndexMode:z}=N(),{changes:Y,updatedInternals:F}=q4e(g,C,b,y,E,S,z);F&&($4e(C,b,{nodeOrigin:E,nodeExtent:S,zIndexMode:z}),T?(j(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),Y?.length>0&&(k&&console.log("React Flow: trigger node changes",Y),P?.(Y)))},updateNodePositions:(g,P=!1)=>{const C=[];let b=[];const{nodeLookup:y,triggerNodeChanges:E,connection:S,updateConnection:k,onNodesChangeMiddlewareMap:T}=N();for(const[z,Y]of g){const F=y.get(z),D=!!(F?.expandParent&&F?.parentId&&Y?.position),R={id:z,type:"position",position:D?{x:Math.max(0,Y.position.x),y:Math.max(0,Y.position.y)}:Y.position,dragging:P};if(F&&S.inProgress&&S.fromNode.id===F.id){const q=Kc(F,S.fromHandle,Tt.Left,!0);k({...S,from:q})}D&&F.parentId&&C.push({id:z,parentId:F.parentId,rect:{...Y.internals.positionAbsolute,width:Y.measured.width??0,height:Y.measured.height??0}}),b.push(R)}if(C.length>0){const{parentLookup:z,nodeOrigin:Y}=N(),F=P_(C,y,z,Y);b.push(...F)}for(const z of T.values())b=z(b);E(b)},triggerNodeChanges:g=>{const{onNodesChange:P,setNodes:C,nodes:b,hasDefaultNodes:y,debug:E}=N();if(g?.length){if(y){const S=JW(g,b);C(S)}E&&console.log("React Flow: trigger node changes",g),P?.(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:P,setEdges:C,edges:b,hasDefaultEdges:y,debug:E}=N();if(g?.length){if(y){const S=eG(g,b);C(S)}E&&console.log("React Flow: trigger edge changes",g),P?.(g)}},addSelectedNodes:g=>{const{multiSelectionActive:P,edgeLookup:C,nodeLookup:b,triggerNodeChanges:y,triggerEdgeChanges:E}=N();if(P){const S=g.map(k=>cc(k,!0));y(S);return}y(eu(b,new Set([...g]),!0)),E(eu(C))},addSelectedEdges:g=>{const{multiSelectionActive:P,edgeLookup:C,nodeLookup:b,triggerNodeChanges:y,triggerEdgeChanges:E}=N();if(P){const S=g.map(k=>cc(k,!0));E(S);return}E(eu(C,new Set([...g]))),y(eu(b,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:P}={})=>{const{edges:C,nodes:b,nodeLookup:y,triggerNodeChanges:E,triggerEdgeChanges:S}=N(),k=g||b,T=P||C,z=k.map(F=>{const D=y.get(F.id);return D&&(D.selected=!1),cc(F.id,!1)}),Y=T.map(F=>cc(F.id,!1));E(z),S(Y)},setMinZoom:g=>{const{panZoom:P,maxZoom:C}=N();P?.setScaleExtent([g,C]),v({minZoom:g})},setMaxZoom:g=>{const{panZoom:P,minZoom:C}=N();P?.setScaleExtent([C,g]),v({maxZoom:g})},setTranslateExtent:g=>{N().panZoom?.setTranslateExtent(g),v({translateExtent:g})},resetSelectedElements:()=>{const{edges:g,nodes:P,triggerNodeChanges:C,triggerEdgeChanges:b,elementsSelectable:y}=N();if(!y)return;const E=P.reduce((k,T)=>T.selected?[...k,cc(T.id,!1)]:k,[]),S=g.reduce((k,T)=>T.selected?[...k,cc(T.id,!1)]:k,[]);C(E),b(S)},setNodeExtent:g=>{const{nodes:P,nodeLookup:C,parentLookup:b,nodeOrigin:y,elevateNodesOnSelect:E,nodeExtent:S,zIndexMode:k}=N();g[0][0]===S[0][0]&&g[0][1]===S[0][1]&&g[1][0]===S[1][0]&&g[1][1]===S[1][1]||(DE(P,C,b,{nodeOrigin:y,nodeExtent:g,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:k}),v({nodeExtent:g}))},panBy:g=>{const{transform:P,width:C,height:b,panZoom:y,translateExtent:E}=N();return V4e({delta:g,panZoom:y,transform:P,translateExtent:E,width:C,height:b})},setCenter:async(g,P,C)=>{const{width:b,height:y,maxZoom:E,panZoom:S}=N();if(!S)return Promise.resolve(!1);const k=typeof C?.zoom<"u"?C.zoom:E;return await S.setViewport({x:b/2-g*k,y:y/2-P*k,zoom:k},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...yW}})},updateConnection:g=>{v({connection:g})},reset:()=>v({...tL()})}},Object.is);function aMe({initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:d,fitView:u,nodeOrigin:f,nodeExtent:h,zIndexMode:p,children:v}){const[N]=w.useState(()=>rMe({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:s,height:i,fitView:u,minZoom:o,maxZoom:l,fitViewOptions:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p}));return t.jsx(wTe,{value:N,children:t.jsx(UTe,{children:v})})}function sMe({children:e,nodes:n,edges:r,defaultNodes:a,defaultEdges:s,width:i,height:o,fitView:l,fitViewOptions:d,minZoom:u,maxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:v}){return w.useContext(N0)?t.jsx(t.Fragment,{children:e}):t.jsx(aMe,{initialNodes:n,initialEdges:r,defaultNodes:a,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:d,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:v,children:e})}const iMe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function oMe({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:d,onInit:u,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:v,onConnectStart:N,onConnectEnd:j,onClickConnectStart:g,onClickConnectEnd:P,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:z,onNodesDelete:Y,onEdgesDelete:F,onDelete:D,onSelectionChange:R,onSelectionDragStart:q,onSelectionDrag:Q,onSelectionDragStop:K,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:I,onBeforeDelete:G,connectionMode:M,connectionLineType:V=pl.Bezier,connectionLineStyle:Z,connectionLineComponent:re,connectionLineContainerStyle:le,deleteKeyCode:ye="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:pe=!1,selectionMode:L=Yh.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:me=Zh()?"Meta":"Control",zoomActivationKeyCode:W=Zh()?"Meta":"Control",snapToGrid:Se,snapGrid:$e,onlyRenderVisibleElements:tt=!1,selectNodesOnDrag:ft,nodesDraggable:_t,autoPanOnNodeFocus:xn,nodesConnectable:Pe,nodesFocusable:kt,nodeOrigin:gn=XW,edgesFocusable:oe,edgesReconnectable:ge,elementsSelectable:ke=!0,defaultViewport:Xe=DTe,minZoom:Ue=.5,maxZoom:Le=2,translateExtent:at=Qh,preventScrolling:Bt=!0,nodeExtent:Qt,defaultMarkerColor:dn="#b1b1b7",zoomOnScroll:Va=!0,zoomOnPinch:ua=!0,panOnScroll:br=!1,panOnScrollSpeed:Ba=.5,panOnScrollMode:ti=bc.Free,zoomOnDoubleClick:Ri=!0,panOnDrag:ni=!0,onPaneClick:In,onPaneMouseEnter:zl,onPaneMouseMove:bs,onPaneMouseLeave:ri,onPaneScroll:ws,onPaneContextMenu:sd,paneClickDistance:id=1,nodeClickDistance:Di=0,children:od,onReconnect:ql,onReconnectStart:ai,onReconnectEnd:Ii,onEdgeContextMenu:$i,onEdgeDoubleClick:Fi,onEdgeMouseEnter:$o,onEdgeMouseMove:Ha,onEdgeMouseLeave:Li,reconnectRadius:Fo=10,onNodesChange:Vl,onEdgesChange:jm,noDragClassName:xe="nodrag",noWheelClassName:Re="nowheel",noPanClassName:st="nopan",fitView:xt,fitViewOptions:ir,connectOnClick:_r,attributionPosition:on,proOptions:$n,defaultEdgeOptions:si,elevateNodesOnSelect:Lo=!0,elevateEdgesOnSelect:bm=!1,disableKeyboardA11y:zp=!1,autoPanOnConnect:Wn,autoPanOnNodeDrag:P0,autoPanSpeed:wm,connectionRadius:qp,isValidConnection:ld,onError:E0,style:Vp,id:Bl,nodeDragThreshold:Ua,connectionDragThreshold:A0,viewport:Sa,onViewportChange:k0,width:_0,height:T0,colorMode:cd="light",debug:dd,onScroll:zo,ariaLabelConfig:ud,zIndexMode:Bp="basic",...O0},Nm){const md=Bl||"1",Cm=LTe(cd),Hl=w.useCallback(Hp=>{Hp.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),zo?.(Hp)},[zo]);return t.jsx("div",{"data-testid":"rf__wrapper",...O0,onScroll:Hl,style:{...Vp,...iMe},ref:Nm,className:mr(["react-flow",s,Cm]),id:Bl,role:"application",children:t.jsxs(sMe,{nodes:e,edges:n,width:_0,height:T0,fitView:xt,fitViewOptions:ir,minZoom:Ue,maxZoom:Le,nodeOrigin:gn,nodeExtent:Qt,zIndexMode:Bp,children:[t.jsx(nMe,{onInit:u,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:Z,connectionLineComponent:re,connectionLineContainerStyle:le,selectionKeyCode:he,selectionOnDrag:pe,selectionMode:L,deleteKeyCode:ye,multiSelectionKeyCode:me,panActivationKeyCode:ae,zoomActivationKeyCode:W,onlyRenderVisibleElements:tt,defaultViewport:Xe,translateExtent:at,minZoom:Ue,maxZoom:Le,preventScrolling:Bt,zoomOnScroll:Va,zoomOnPinch:ua,zoomOnDoubleClick:Ri,panOnScroll:br,panOnScrollSpeed:Ba,panOnScrollMode:ti,panOnDrag:ni,onPaneClick:In,onPaneMouseEnter:zl,onPaneMouseMove:bs,onPaneMouseLeave:ri,onPaneScroll:ws,onPaneContextMenu:sd,paneClickDistance:id,nodeClickDistance:Di,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:I,onReconnect:ql,onReconnectStart:ai,onReconnectEnd:Ii,onEdgeContextMenu:$i,onEdgeDoubleClick:Fi,onEdgeMouseEnter:$o,onEdgeMouseMove:Ha,onEdgeMouseLeave:Li,reconnectRadius:Fo,defaultMarkerColor:dn,noDragClassName:xe,noWheelClassName:Re,noPanClassName:st,rfId:md,disableKeyboardA11y:zp,nodeExtent:Qt,viewport:Sa,onViewportChange:k0}),t.jsx(FTe,{nodes:e,edges:n,defaultNodes:r,defaultEdges:a,onConnect:v,onConnectStart:N,onConnectEnd:j,onClickConnectStart:g,onClickConnectEnd:P,nodesDraggable:_t,autoPanOnNodeFocus:xn,nodesConnectable:Pe,nodesFocusable:kt,edgesFocusable:oe,edgesReconnectable:ge,elementsSelectable:ke,elevateNodesOnSelect:Lo,elevateEdgesOnSelect:bm,minZoom:Ue,maxZoom:Le,nodeExtent:Qt,onNodesChange:Vl,onEdgesChange:jm,snapToGrid:Se,snapGrid:$e,connectionMode:M,translateExtent:at,connectOnClick:_r,defaultEdgeOptions:si,fitView:xt,fitViewOptions:ir,onNodesDelete:Y,onEdgesDelete:F,onDelete:D,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:z,onSelectionDrag:Q,onSelectionDragStart:q,onSelectionDragStop:K,onMove:f,onMoveStart:h,onMoveEnd:p,noPanClassName:st,nodeOrigin:gn,rfId:md,autoPanOnConnect:Wn,autoPanOnNodeDrag:P0,autoPanSpeed:wm,onError:E0,connectionRadius:qp,isValidConnection:ld,selectNodesOnDrag:ft,nodeDragThreshold:Ua,connectionDragThreshold:A0,onBeforeDelete:G,debug:dd,ariaLabelConfig:ud,zIndexMode:Bp}),t.jsx(RTe,{onSelectionChange:R}),od,t.jsx(kTe,{proOptions:$n,position:on}),t.jsx(ATe,{rfId:md,disableKeyboardA11y:zp})]})})}var lMe=tG(oMe);function cMe(e){const[n,r]=w.useState(e),a=w.useCallback(s=>r(i=>JW(s,i)),[]);return[n,r,a]}function dMe(e){const[n,r]=w.useState(e),a=w.useCallback(s=>r(i=>eG(s,i)),[]);return[n,r,a]}function uMe({dimensions:e,lineWidth:n,variant:r,className:a}){return t.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:mr(["react-flow__background-pattern",r,a])})}function mMe({radius:e,className:n}){return t.jsx("circle",{cx:e,cy:e,r:e,className:mr(["react-flow__background-pattern","dots",n])})}var fo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(fo||(fo={}));const fMe={[fo.Dots]:1,[fo.Lines]:1,[fo.Cross]:6},hMe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function SG({id:e,variant:n=fo.Dots,gap:r=20,size:a,lineWidth:s=1,offset:i=0,color:o,bgColor:l,style:d,className:u,patternClassName:f}){const h=w.useRef(null),{transform:p,patternId:v}=sn(hMe,Un),N=a||fMe[n],j=n===fo.Dots,g=n===fo.Cross,P=Array.isArray(r)?r:[r,r],C=[P[0]*p[2]||1,P[1]*p[2]||1],b=N*p[2],y=Array.isArray(i)?i:[i,i],E=g?[b,b]:C,S=[y[0]*p[2]||1+E[0]/2,y[1]*p[2]||1+E[1]/2],k=`${v}${e||""}`;return t.jsxs("svg",{className:mr(["react-flow__background",u]),style:{...d,...C0,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[t.jsx("pattern",{id:k,x:p[0]%C[0],y:p[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:j?t.jsx(mMe,{radius:b/2,className:f}):t.jsx(uMe,{dimensions:E,lineWidth:s,variant:n,className:f})}),t.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}SG.displayName="Background";const pMe=w.memo(SG);function xMe(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:t.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function gMe(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:t.jsx("path",{d:"M0 0h32v4.2H0z"})})}function vMe(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:t.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function yMe(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:t.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function jMe(){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:t.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ag({children:e,className:n,...r}){return t.jsx("button",{type:"button",className:mr(["react-flow__controls-button",n]),...r,children:e})}const bMe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function PG({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:d,className:u,children:f,position:h="bottom-left",orientation:p="vertical","aria-label":v}){const N=Kn(),{isInteractive:j,minZoomReached:g,maxZoomReached:P,ariaLabelConfig:C}=sn(bMe,Un),{zoomIn:b,zoomOut:y,fitView:E}=E_(),S=()=>{b(),i?.()},k=()=>{y(),o?.()},T=()=>{E(s),l?.()},z=()=>{N.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),d?.(!j)},Y=p==="horizontal"?"horizontal":"vertical";return t.jsxs(Lp,{className:mr(["react-flow__controls",Y,u]),position:h,style:e,"data-testid":"rf__controls","aria-label":v??C["controls.ariaLabel"],children:[n&&t.jsxs(t.Fragment,{children:[t.jsx(Ag,{onClick:S,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:P,children:t.jsx(xMe,{})}),t.jsx(Ag,{onClick:k,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:g,children:t.jsx(gMe,{})})]}),r&&t.jsx(Ag,{className:"react-flow__controls-fitview",onClick:T,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:t.jsx(vMe,{})}),a&&t.jsx(Ag,{className:"react-flow__controls-interactive",onClick:z,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:j?t.jsx(jMe,{}):t.jsx(yMe,{})}),f]})}PG.displayName="Controls";const wMe=w.memo(PG);function NMe({id:e,x:n,y:r,width:a,height:s,style:i,color:o,strokeColor:l,strokeWidth:d,className:u,borderRadius:f,shapeRendering:h,selected:p,onClick:v}){const{background:N,backgroundColor:j}=i||{},g=o||N||j;return t.jsx("rect",{className:mr(["react-flow__minimap-node",{selected:p},u]),x:n,y:r,rx:f,ry:f,width:a,height:s,style:{fill:g,stroke:l,strokeWidth:d},shapeRendering:h,onClick:v?P=>v(P,e):void 0})}const CMe=w.memo(NMe),SMe=e=>e.nodes.map(n=>n.id),dS=e=>e instanceof Function?e:()=>e;function PMe({nodeStrokeColor:e,nodeColor:n,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:s,nodeComponent:i=CMe,onClick:o}){const l=sn(SMe,Un),d=dS(n),u=dS(e),f=dS(r),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return t.jsx(t.Fragment,{children:l.map(p=>t.jsx(AMe,{id:p,nodeColorFunc:d,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:a,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:h},p))})}function EMe({id:e,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:d}){const{node:u,x:f,y:h,width:p,height:v}=sn(N=>{const{internals:j}=N.nodeLookup.get(e),g=j.userNode,{x:P,y:C}=j.positionAbsolute,{width:b,height:y}=Io(g);return{node:g,x:P,y:C,width:b,height:y}},Un);return!u||u.hidden||!PW(u)?null:t.jsx(l,{x:f,y:h,width:p,height:v,style:u.style,selected:!!u.selected,className:a(u),color:n(u),borderRadius:s,strokeColor:r(u),strokeWidth:i,shapeRendering:o,onClick:d,id:u.id})}const AMe=w.memo(EMe);var kMe=w.memo(PMe);const _Me=200,TMe=150,OMe=e=>!e.hidden,MMe=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?SW(Ip(e.nodeLookup,{filter:OMe}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},RMe="react-flow__minimap-desc";function EG({style:e,className:n,nodeStrokeColor:r,nodeColor:a,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:d,maskColor:u,maskStrokeColor:f,maskStrokeWidth:h,position:p="bottom-right",onClick:v,onNodeClick:N,pannable:j=!1,zoomable:g=!1,ariaLabel:P,inversePan:C,zoomStep:b=1,offsetScale:y=5}){const E=Kn(),S=w.useRef(null),{boundingRect:k,viewBB:T,rfId:z,panZoom:Y,translateExtent:F,flowWidth:D,flowHeight:R,ariaLabelConfig:q}=sn(MMe,Un),Q=e?.width??_Me,K=e?.height??TMe,U=k.width/Q,O=k.height/K,I=Math.max(U,O),G=I*Q,M=I*K,V=y*I,Z=k.x-(G-k.width)/2-V,re=k.y-(M-k.height)/2-V,le=G+V*2,ye=M+V*2,he=`${RMe}-${z}`,pe=w.useRef(0),L=w.useRef();pe.current=I,w.useEffect(()=>{if(S.current&&Y)return L.current=X4e({domNode:S.current,panZoom:Y,getTransform:()=>E.getState().transform,getViewScale:()=>pe.current}),()=>{L.current?.destroy()}},[Y]),w.useEffect(()=>{L.current?.update({translateExtent:F,width:D,height:R,inversePan:C,pannable:j,zoomStep:b,zoomable:g})},[j,g,C,b,F,D,R]);const ae=v?Se=>{const[$e,tt]=L.current?.pointer(Se)||[0,0];v(Se,{x:$e,y:tt})}:void 0,me=N?w.useCallback((Se,$e)=>{const tt=E.getState().nodeLookup.get($e).internals.userNode;N(Se,tt)},[]):void 0,W=P??q["minimap.ariaLabel"];return t.jsx(Lp,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*I:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:mr(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:t.jsxs("svg",{width:Q,height:K,viewBox:`${Z} ${re} ${le} ${ye}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":he,ref:S,onClick:ae,children:[W&&t.jsx("title",{id:he,children:W}),t.jsx(kMe,{onClick:me,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),t.jsx("path",{className:"react-flow__minimap-mask",d:`M${Z-V},${re-V}h${le+V*2}v${ye+V*2}h${-le-V*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}EG.displayName="MiniMap";const DMe=w.memo(EG),IMe=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,$Me={[em.Line]:"right",[em.Handle]:"bottom-right"};function FMe({nodeId:e,position:n,variant:r=em.Handle,className:a,style:s=void 0,children:i,color:o,minWidth:l=10,minHeight:d=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:p,autoScale:v=!0,shouldResize:N,onResizeStart:j,onResize:g,onResizeEnd:P}){const C=sG(),b=typeof e=="string"?e:C,y=Kn(),E=w.useRef(null),S=r===em.Handle,k=sn(w.useCallback(IMe(S&&v),[S,v]),Un),T=w.useRef(null),z=n??$Me[r];w.useEffect(()=>{if(!(!E.current||!b))return T.current||(T.current=uTe({domNode:E.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:F,transform:D,snapGrid:R,snapToGrid:q,nodeOrigin:Q,domNode:K}=y.getState();return{nodeLookup:F,transform:D,snapGrid:R,snapToGrid:q,nodeOrigin:Q,paneDomNode:K}},onChange:(F,D)=>{const{triggerNodeChanges:R,nodeLookup:q,parentLookup:Q,nodeOrigin:K}=y.getState(),U=[],O={x:F.x,y:F.y},I=q.get(b);if(I&&I.expandParent&&I.parentId){const G=I.origin??K,M=F.width??I.measured.width??0,V=F.height??I.measured.height??0,Z={id:I.id,parentId:I.parentId,rect:{width:M,height:V,...EW({x:F.x??I.position.x,y:F.y??I.position.y},{width:M,height:V},I.parentId,q,G)}},re=P_([Z],q,Q,K);U.push(...re),O.x=F.x?Math.max(G[0]*M,F.x):void 0,O.y=F.y?Math.max(G[1]*V,F.y):void 0}if(O.x!==void 0&&O.y!==void 0){const G={id:b,type:"position",position:{...O}};U.push(G)}if(F.width!==void 0&&F.height!==void 0){const M={id:b,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};U.push(M)}for(const G of D){const M={...G,type:"position"};U.push(M)}R(U)},onEnd:({width:F,height:D})=>{const R={id:b,type:"dimensions",resizing:!1,dimensions:{width:F,height:D}};y.getState().triggerNodeChanges([R])}})),T.current.update({controlPosition:z,boundaries:{minWidth:l,minHeight:d,maxWidth:u,maxHeight:f},keepAspectRatio:h,resizeDirection:p,onResizeStart:j,onResize:g,onResizeEnd:P,shouldResize:N}),()=>{T.current?.destroy()}},[z,l,d,u,f,h,j,g,P,N]);const Y=z.split("-");return t.jsx("div",{className:mr(["react-flow__resize-control","nodrag",...Y,r,a]),ref:E,style:{...s,scale:k,...o&&{[S?"backgroundColor":"borderColor"]:o}},children:i})}w.memo(FMe);const On={mkt:"#f97316",com:"#3b82f6",cac:"#22c55e",central:"#8b5cf6",ferramenta:"#6b7280"},nL=[{id:"central",type:"default",position:{x:400,y:50},data:{label:"GESTAO COMERCIAL",area:"central"},style:{background:On.central,color:"white",border:"2px solid #7c3aed",borderRadius:"8px",padding:"16px 24px",fontWeight:"bold",fontSize:"14px"}},{id:"mkt",type:"default",position:{x:100,y:180},data:{label:"PRE-VENDAS (MKT)",area:"mkt"},style:{background:On.mkt,color:"white",border:"2px solid #ea580c",borderRadius:"8px",padding:"12px 20px",fontWeight:"bold"}},{id:"com",type:"default",position:{x:400,y:180},data:{label:"VENDAS (COM)",area:"com"},style:{background:On.com,color:"white",border:"2px solid #2563eb",borderRadius:"8px",padding:"12px 20px",fontWeight:"bold"}},{id:"cac",type:"default",position:{x:700,y:180},data:{label:"POS-VENDAS (CAC)",area:"cac"},style:{background:On.cac,color:"white",border:"2px solid #16a34a",borderRadius:"8px",padding:"12px 20px",fontWeight:"bold"}},{id:"mkt-1",type:"default",position:{x:50,y:320},data:{label:"Diagnostico Leads",area:"mkt",link:"/admin/diagnostico-leads"},style:{background:"#fed7aa",color:"#9a3412",border:"1px solid #fb923c",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"mkt-2",type:"default",position:{x:50,y:380},data:{label:"Marketing",area:"mkt",link:"/marketing"},style:{background:"#fed7aa",color:"#9a3412",border:"1px solid #fb923c",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"mkt-3",type:"default",position:{x:50,y:440},data:{label:"Indicadores Pre-Vendas",area:"mkt",link:"/indicadores-pre-vendas"},style:{background:"#fed7aa",color:"#9a3412",border:"1px solid #fb923c",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"mkt-4",type:"default",position:{x:50,y:500},data:{label:"Pesquisas",area:"mkt",link:"/pesquisas"},style:{background:"#fed7aa",color:"#9a3412",border:"1px solid #fb923c",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"com-1",type:"default",position:{x:350,y:320},data:{label:"Clientes",area:"com",link:"/clientes"},style:{background:"#bfdbfe",color:"#1e40af",border:"1px solid #60a5fa",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"com-2",type:"default",position:{x:350,y:380},data:{label:"Pipeline",area:"com",link:"/pipeline"},style:{background:"#bfdbfe",color:"#1e40af",border:"1px solid #60a5fa",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"com-3",type:"default",position:{x:350,y:440},data:{label:"Calendario",area:"com",link:"/calendrio"},style:{background:"#bfdbfe",color:"#1e40af",border:"1px solid #60a5fa",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"com-4",type:"default",position:{x:350,y:500},data:{label:"Ata Plano de Acao",area:"com",link:"/atas"},style:{background:"#bfdbfe",color:"#1e40af",border:"1px solid #60a5fa",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"com-5",type:"default",position:{x:350,y:560},data:{label:"Indicadores Vendas",area:"com",link:"/indicadores-vendas"},style:{background:"#bfdbfe",color:"#1e40af",border:"1px solid #60a5fa",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"cac-1",type:"default",position:{x:650,y:320},data:{label:"Checklist",area:"cac",link:"/checklist"},style:{background:"#bbf7d0",color:"#166534",border:"1px solid #4ade80",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"cac-2",type:"default",position:{x:650,y:380},data:{label:"RFI",area:"cac",link:"/rfi"},style:{background:"#bbf7d0",color:"#166534",border:"1px solid #4ade80",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"cac-3",type:"default",position:{x:650,y:440},data:{label:"Operacoes",area:"cac",link:"/operaes"},style:{background:"#bbf7d0",color:"#166534",border:"1px solid #4ade80",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}},{id:"cac-4",type:"default",position:{x:650,y:500},data:{label:"Indicadores Pos-Vendas",area:"cac",link:"/indicadores-pos-vendas"},style:{background:"#bbf7d0",color:"#166534",border:"1px solid #4ade80",borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}}],rL=[{id:"e-central-mkt",source:"central",target:"mkt",animated:!0,style:{stroke:On.mkt}},{id:"e-central-com",source:"central",target:"com",animated:!0,style:{stroke:On.com}},{id:"e-central-cac",source:"central",target:"cac",animated:!0,style:{stroke:On.cac}},{id:"e-mkt-mkt1",source:"mkt",target:"mkt-1",style:{stroke:On.mkt}},{id:"e-mkt-mkt2",source:"mkt",target:"mkt-2",style:{stroke:On.mkt}},{id:"e-mkt-mkt3",source:"mkt",target:"mkt-3",style:{stroke:On.mkt}},{id:"e-mkt-mkt4",source:"mkt",target:"mkt-4",style:{stroke:On.mkt}},{id:"e-com-com1",source:"com",target:"com-1",style:{stroke:On.com}},{id:"e-com-com2",source:"com",target:"com-2",style:{stroke:On.com}},{id:"e-com-com3",source:"com",target:"com-3",style:{stroke:On.com}},{id:"e-com-com4",source:"com",target:"com-4",style:{stroke:On.com}},{id:"e-com-com5",source:"com",target:"com-5",style:{stroke:On.com}},{id:"e-cac-cac1",source:"cac",target:"cac-1",style:{stroke:On.cac}},{id:"e-cac-cac2",source:"cac",target:"cac-2",style:{stroke:On.cac}},{id:"e-cac-cac3",source:"cac",target:"cac-3",style:{stroke:On.cac}},{id:"e-cac-cac4",source:"cac",target:"cac-4",style:{stroke:On.cac}},{id:"e-mkt-com",source:"mkt",target:"com",animated:!0,style:{stroke:"#a855f7",strokeDasharray:"5,5"}},{id:"e-com-cac",source:"com",target:"cac",animated:!0,style:{stroke:"#a855f7",strokeDasharray:"5,5"}}];function LMe(){const{toast:e}=At(),[,n]=wa(),[r,a,s]=cMe(nL),[i,o,l]=dMe(rL),[d,u]=w.useState(!1),[f,h]=w.useState(""),[p,v]=w.useState("com"),[N,j]=w.useState(""),{data:g}=Ve({queryKey:["/api/flowchart"]});w.useEffect(()=>{g&&g.nodes&&g.nodes.length>0&&(a(g.nodes),o(g.edges||[]))},[g,a,o]);const P=Ae({mutationFn:async z=>Ne("POST","/api/flowchart",z),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/flowchart"]}),e({title:"Fluxograma salvo com sucesso"})},onError:()=>{e({title:"Erro ao salvar fluxograma",variant:"destructive"})}}),C=w.useCallback(z=>o(Y=>RW(z,Y)),[o]),b=w.useCallback((z,Y)=>{const F=Y.data?.link;F&&n(F)},[n]),y=()=>{P.mutate({nodes:r,edges:i})},E=()=>{a(nL),o(rL),e({title:"Fluxograma restaurado ao padrao"})},S=()=>{if(!f.trim())return;const z=On[p]||On.ferramenta,Y={mkt:"#fed7aa",com:"#bfdbfe",cac:"#bbf7d0",central:"#e9d5ff",ferramenta:"#e5e7eb"},F={mkt:"#9a3412",com:"#1e40af",cac:"#166534",central:"#6b21a8",ferramenta:"#374151"},D={id:`node-${Date.now()}`,type:"default",position:{x:Math.random()*400+200,y:Math.random()*200+300},data:{label:f,area:p,link:N||void 0},style:{background:Y[p],color:F[p],border:`1px solid ${z}`,borderRadius:"6px",padding:"8px 12px",fontSize:"12px"}};a(R=>[...R,D]),u(!1),h(""),j(""),e({title:"No adicionado"})},k=()=>{a(z=>z.filter(Y=>!Y.selected)),o(z=>z.filter(Y=>!Y.selected))},T=()=>{const z=JSON.stringify({nodes:r,edges:i},null,2),Y=new Blob([z],{type:"application/json"}),F=URL.createObjectURL(Y),D=document.createElement("a");D.href=F,D.download="fluxograma-comercial.json",D.click(),URL.revokeObjectURL(F),e({title:"Fluxograma exportado"})};return t.jsx(Ot,{children:t.jsxs("div",{className:"h-[calc(100vh-4rem)] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 border-b flex-wrap",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Fluxograma Comercial"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualize e personalize a jornada comercial da sua empresa"})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>u(!0),"data-testid":"button-add-node",children:[t.jsx(ut,{className:"h-4 w-4 mr-1"}),"Adicionar"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:k,"data-testid":"button-delete-selected",children:[t.jsx(Mt,{className:"h-4 w-4 mr-1"}),"Excluir"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:E,"data-testid":"button-reset",children:[t.jsx(tv,{className:"h-4 w-4 mr-1"}),"Restaurar"]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:T,"data-testid":"button-export",children:[t.jsx(vr,{className:"h-4 w-4 mr-1"}),"Exportar"]}),t.jsxs(H,{size:"sm",onClick:y,disabled:P.isPending,"data-testid":"button-save",children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Salvar"]})]})]}),t.jsx("div",{className:"flex-1",children:t.jsxs(lMe,{nodes:r,edges:i,onNodesChange:s,onEdgesChange:l,onConnect:C,onNodeClick:b,fitView:!0,attributionPosition:"bottom-left",children:[t.jsx(wMe,{}),t.jsx(DMe,{nodeColor:z=>On[z.data?.area]||"#6b7280",maskColor:"rgba(0,0,0,0.1)"}),t.jsx(pMe,{variant:fo.Dots,gap:16,size:1}),t.jsx(Lp,{position:"bottom-right",className:"bg-card p-3 rounded-lg border shadow-sm",children:t.jsxs("div",{className:"flex gap-3 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded",style:{background:On.mkt}}),t.jsx("span",{children:"Pre-Vendas"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded",style:{background:On.com}}),t.jsx("span",{children:"Vendas"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded",style:{background:On.cac}}),t.jsx("span",{children:"Pos-Vendas"})]})]})})]})}),t.jsx(bt,{open:d,onOpenChange:u,children:t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsx(Nt,{children:"Adicionar Novo No"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Nome do No"}),t.jsx(J,{value:f,onChange:z=>h(z.target.value),placeholder:"Ex: Nova Ferramenta","data-testid":"input-node-label"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Area"}),t.jsxs(Oe,{value:p,onValueChange:v,children:[t.jsx(_e,{"data-testid":"select-node-area",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"mkt",children:"Pre-Vendas (MKT)"}),t.jsx(ne,{value:"com",children:"Vendas (COM)"}),t.jsx(ne,{value:"cac",children:"Pos-Vendas (CAC)"}),t.jsx(ne,{value:"ferramenta",children:"Ferramenta"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{children:"Link (opcional)"}),t.jsx(J,{value:N,onChange:z=>j(z.target.value),placeholder:"Ex: /clientes","data-testid":"input-node-link"})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(H,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),t.jsx(H,{onClick:S,"data-testid":"button-confirm-add",children:"Adicionar"})]})]})]})})]})})}function zMe(){const[e,n]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState(null),[o,l]=w.useState(!1),[d,u]=w.useState(!1),[f,h]=w.useState(!1),{data:p,isLoading:v}=Ve({queryKey:["/api/store/products?productType=merch"]}),{data:N}=Ve({queryKey:["/api/store/categories"]}),j=p?.filter(y=>{const E=y.name.toLowerCase().includes(e.toLowerCase())||y.shortDescription?.toLowerCase().includes(e.toLowerCase()),S=r==="all"||y.categoryId.toString()===r;return E&&S}),g=y=>{if(!y)return"Consulte";const E=parseFloat(y);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E)},P=y=>{const E=y.toLowerCase();return E.includes("camiseta")||E.includes("camisa")?hJ:E.includes("agenda")||E.includes("calendario")?i8:E.includes("mouse")?sJ:Er},C=y=>{i(y),u(!0)},b=()=>{h(!0),u(!1)};return t.jsxs(Ot,{title:"Brindes Corporativos MCG",subtitle:"Produtos personalizados para sua equipe e clientes",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(ee,{className:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30",children:t.jsx(te,{className:"p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Hr,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Importante sobre Brindes Corporativos"}),t.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Antes de presentear um cliente, verifique a politica de compliance da empresa dele. Muitas empresas possuem regras sobre aceitar presentes de fornecedores. Respeitar essas regras demonstra profissionalismo e etica."})]})]})})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Buscar brindes...",value:e,onChange:y=>n(y.target.value),className:"pl-9","data-testid":"input-search-brindes"})]}),t.jsxs(Oe,{value:r,onValueChange:a,children:[t.jsx(_e,{className:"w-full sm:w-48","data-testid":"select-category",children:t.jsx(Me,{placeholder:"Categoria"})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"all",children:"Todas as Categorias"}),N?.map(y=>t.jsx(ne,{value:y.id.toString(),children:y.name},y.id))]})]})]}),v?t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4,5,6].map(y=>t.jsx(ee,{children:t.jsxs(te,{className:"p-4",children:[t.jsx(va,{className:"h-40 w-full mb-4"}),t.jsx(va,{className:"h-4 w-3/4 mb-2"}),t.jsx(va,{className:"h-4 w-1/2"})]})},y))}):j&&j.length>0?t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:j.map(y=>{const E=P(y.name);return t.jsxs(ee,{"data-testid":`card-product-${y.id}`,children:[t.jsxs(de,{className:"pb-2",children:[t.jsx("div",{className:"aspect-square bg-muted rounded-md flex items-center justify-center mb-2",children:y.primaryImageUrl?t.jsx("img",{src:y.primaryImageUrl,alt:y.name,className:"w-full h-full object-cover rounded-md"}):t.jsx(E,{className:"h-16 w-16 text-muted-foreground/50"})}),t.jsx(ue,{className:"text-base line-clamp-2",children:y.name})]}),t.jsxs(te,{className:"pb-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:y.shortDescription}),t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsx("span",{className:"text-lg font-bold text-primary",children:g(y.priceAmount)}),y.compareAtPrice&&t.jsx("span",{className:"text-sm text-muted-foreground line-through",children:g(y.compareAtPrice)})]}),y.inventoryQty!==null&&y.inventoryQty<=5&&t.jsxs(Ee,{variant:"outline",className:"mt-2 text-amber-600 border-amber-300",children:["Ultimas ",y.inventoryQty," unidades"]})]}),t.jsxs(hi,{className:"pt-2 gap-2",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{i(y),l(!0)},"data-testid":`button-view-${y.id}`,children:[t.jsx(fs,{className:"h-4 w-4 mr-1"}),"Ver"]}),t.jsxs(H,{size:"sm",className:"flex-1",onClick:()=>C(y),"data-testid":`button-buy-${y.id}`,children:[t.jsx(fi,{className:"h-4 w-4 mr-1"}),"Comprar"]})]})]},y.id)})}):t.jsx(ee,{children:t.jsxs(te,{className:"p-12 text-center",children:[t.jsx(sp,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum produto disponivel"}),t.jsx("p",{className:"text-muted-foreground",children:"Em breve teremos novos brindes personalizados MCG para sua equipe e clientes."}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Os produtos estarao disponiveis assim que forem ativados pelo administrador."})]})})]}),t.jsx(bt,{open:o,onOpenChange:l,children:t.jsxs(yt,{className:"max-w-2xl",children:[t.jsxs(wt,{children:[t.jsx(Nt,{children:s?.name}),t.jsx(tn,{children:"Detalhes do produto"})]}),s&&t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsx("div",{className:"aspect-square bg-muted rounded-md flex items-center justify-center",children:s.primaryImageUrl?t.jsx("img",{src:s.primaryImageUrl,alt:s.name,className:"w-full h-full object-cover rounded-md"}):t.jsx(Er,{className:"h-24 w-24 text-muted-foreground/30"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-1",children:"Descricao"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.longDescription||s.shortDescription})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-1",children:"Preco"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl font-bold text-primary",children:g(s.priceAmount)}),s.compareAtPrice&&t.jsx("span",{className:"text-muted-foreground line-through",children:g(s.compareAtPrice)})]})]}),s.sku&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-1",children:"Codigo"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.sku})]})]})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Fechar"}),t.jsxs(H,{onClick:()=>{l(!1),s&&C(s)},children:[t.jsx(fi,{className:"h-4 w-4 mr-2"}),"Comprar"]})]})]})}),t.jsx(bt,{open:d,onOpenChange:u,children:t.jsxs(yt,{children:[t.jsx(wt,{children:t.jsxs(Nt,{className:"flex items-center gap-2",children:[t.jsx(Hr,{className:"h-5 w-5 text-amber-500"}),"Aviso sobre Brindes Corporativos"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-muted-foreground",children:"Se voce esta comprando este produto para presentear um cliente, lembre-se:"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ta,{className:"h-4 w-4 text-green-500 mt-0.5"}),"Verifique se a empresa do cliente permite receber presentes"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ta,{className:"h-4 w-4 text-green-500 mt-0.5"}),"Algumas empresas possuem limite de valor para brindes"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ta,{className:"h-4 w-4 text-green-500 mt-0.5"}),"Em caso de duvida, pergunte ao seu contato na empresa"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Respeitar as politicas de compliance dos clientes e uma pratica etica que fortalece o relacionamento comercial."})]}),t.jsxs(Pn,{children:[t.jsx(H,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),t.jsx(H,{onClick:b,children:"Entendi, continuar"})]})]})})]})}var k_="Radio",[qMe,AG]=sr(k_),[VMe,BMe]=qMe(k_),kG=w.forwardRef((e,n)=>{const{__scopeRadio:r,name:a,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...f}=e,[h,p]=w.useState(null),v=qt(n,g=>p(g)),N=w.useRef(!1),j=h?u||!!h.closest("form"):!0;return t.jsxs(VMe,{scope:r,checked:s,disabled:o,children:[t.jsx(ot.button,{type:"button",role:"radio","aria-checked":s,"data-state":OG(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:He(e.onClick,g=>{s||d?.(),j&&(N.current=g.isPropagationStopped(),N.current||g.stopPropagation())})}),j&&t.jsx(HMe,{control:h,bubbles:!N.current,name:a,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});kG.displayName=k_;var _G="RadioIndicator",TG=w.forwardRef((e,n)=>{const{__scopeRadio:r,forceMount:a,...s}=e,i=BMe(_G,r);return t.jsx(ur,{present:a||i.checked,children:t.jsx(ot.span,{"data-state":OG(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:n})})});TG.displayName=_G;var HMe=e=>{const{control:n,checked:r,bubbles:a=!0,...s}=e,i=w.useRef(null),o=ij(r),l=Gy(n);return w.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const p=new Event("click",{bubbles:a});h.call(d,r),d.dispatchEvent(p)}},[o,r,a]),t.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function OG(e){return e?"checked":"unchecked"}var UMe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],__="RadioGroup",[KMe]=sr(__,[ym,AG]),MG=ym(),RG=AG(),[WMe,GMe]=KMe(__),DG=w.forwardRef((e,n)=>{const{__scopeRadioGroup:r,name:a,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:f=!0,onValueChange:h,...p}=e,v=MG(r),N=Xc(u),[j,g]=sa({prop:i,defaultProp:s,onChange:h});return t.jsx(WMe,{scope:r,name:a,required:o,disabled:l,value:j,onValueChange:g,children:t.jsx(Lk,{asChild:!0,...v,orientation:d,dir:N,loop:f,children:t.jsx(ot.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:N,...p,ref:n})})})});DG.displayName=__;var IG="RadioGroupItem",$G=w.forwardRef((e,n)=>{const{__scopeRadioGroup:r,disabled:a,...s}=e,i=GMe(IG,r),o=i.disabled||a,l=MG(r),d=RG(r),u=w.useRef(null),f=qt(n,u),h=i.value===s.value,p=w.useRef(!1);return w.useEffect(()=>{const v=j=>{UMe.includes(j.key)&&(p.current=!0)},N=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",N)}},[]),t.jsx(zk,{asChild:!0,...l,focusable:!o,active:h,children:t.jsx(kG,{disabled:o,required:i.required,checked:h,...d,...s,name:i.name,ref:f,onCheck:()=>i.onValueChange(s.value),onKeyDown:He(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:He(s.onFocus,()=>{p.current&&u.current?.click()})})})});$G.displayName=IG;var QMe="RadioGroupIndicator",FG=w.forwardRef((e,n)=>{const{__scopeRadioGroup:r,...a}=e,s=RG(r);return t.jsx(TG,{...s,...a,ref:n})});FG.displayName=QMe;var LG=DG,zG=$G,YMe=FG;const qG=w.forwardRef(({className:e,...n},r)=>t.jsx(LG,{className:Fe("grid gap-2",e),...n,ref:r}));qG.displayName=LG.displayName;const VG=w.forwardRef(({className:e,...n},r)=>t.jsx(zG,{ref:r,className:Fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:t.jsx(YMe,{className:"flex items-center justify-center",children:t.jsx(c8,{className:"h-2.5 w-2.5 fill-current text-current"})})}));VG.displayName=zG.displayName;const uS=[{id:"crm",category:"CRM e Organizao",text:"Como voc gerencia as informaes dos seus clientes e prospects?",options:[{value:0,label:"No tenho controle, fica na cabea do vendedor"},{value:1,label:"Planilhas Excel ou Google Sheets"},{value:2,label:"CRM genrico (Pipedrive, HubSpot, etc.)"},{value:3,label:"CRM especializado para logstica"}]},{id:"pipeline",category:"Pipeline de Vendas",text:"Como voc acompanha as oportunidades de venda em andamento?",options:[{value:0,label:"No acompanho de forma estruturada"},{value:1,label:"Reunies semanais com a equipe"},{value:2,label:"Planilha com status de cada proposta"},{value:3,label:"Pipeline visual com etapas definidas"}]},{id:"cotacao",category:"Cotaes",text:"Como voc calcula e envia cotaes de frete para clientes?",options:[{value:0,label:"Na mo, sem padro definido"},{value:1,label:"Planilha com frmulas bsicas"},{value:2,label:"Sistema prprio ou do embarcador"},{value:3,label:"Calculadora integrada ao CRM com histrico"}]},{id:"followup",category:"Follow-up",text:"Como voc garante o acompanhamento de propostas enviadas?",options:[{value:0,label:"Depende da memria do vendedor"},{value:1,label:"Anotaes em agenda ou caderno"},{value:2,label:"Lembretes no celular ou e-mail"},{value:3,label:"Sistema com alertas automticos"}]},{id:"histrico",category:"Histrico",text:"Quando um vendedor sai da empresa, o que acontece com os dados dos clientes dele?",options:[{value:0,label:"Perdemos a maioria das informaes"},{value:1,label:"Ficam em planilhas desorganizadas"},{value:2,label:"Temos backup mas difcil de acessar"},{value:3,label:"Tudo fica registrado no sistema"}]},{id:"indicadores",category:"Indicadores",text:"Voc consegue ver rapidamente quantas propostas esto em aberto e qual o valor total?",options:[{value:0,label:"No tenho essa informao"},{value:1,label:"Preciso consolidar manualmente"},{value:2,label:"Tenho relatrio semanal/mensal"},{value:3,label:"Dashboard em tempo real"}]},{id:"segmentacao",category:"Segmentao",text:"Voc sabe quais clientes representam 80% da sua receita (Curva ABC)?",options:[{value:0,label:"No tenho essa anlise"},{value:1,label:"Tenho uma ideia geral"},{value:2,label:"Fao anlise eventual em planilha"},{value:3,label:"Tenho anlise automtica atualizada"}]},{id:"qualificacao",category:"Qualificao",text:"Como voc avalia se um prospect tem potencial antes de investir tempo comercial?",options:[{value:0,label:"No tenho critrios definidos"},{value:1,label:"Intuio e experincia do vendedor"},{value:2,label:"Checklist bsico de perguntas"},{value:3,label:"Diagnstico estruturado por rea"}]},{id:"propostas",category:"Propostas",text:"Como voc padroniza as propostas comerciais enviadas?",options:[{value:0,label:"Cada vendedor faz do seu jeito"},{value:1,label:"Modelo em Word/PowerPoint"},{value:2,label:"Template padronizado com dados manuais"},{value:3,label:"Gerao automtica com dados do cliente"}]},{id:"integrao",category:"Integrao",text:"Sua rea comercial est integrada com a operao (TMS/WMS)?",options:[{value:0,label:"No h integrao"},{value:1,label:"Comunicao por e-mail/WhatsApp"},{value:2,label:"Reunies peridicas de alinhamento"},{value:3,label:"Sistemas integrados com fluxo de dados"}]}],XMe={"CRM e Organizao":hn,"Pipeline de Vendas":pn,Cotaes:Po,"Follow-up":Dr,Histrico:wi,Indicadores:us,Segmentao:nn,Qualificao:wi,Propostas:Kf,Integrao:nn};function ZMe(){wa();const{toast:e}=At(),[n,r]=w.useState(0),[a,s]=w.useState({}),[i,o]=w.useState(!1),[l,d]=w.useState(!1),[u,f]=w.useState({name:"",email:"",phone:"",company:""}),h=uS.length,p=(n+1)/h*100,v=T=>T>=75?"avancado":T>=50?"intermedirio":T>=25?"basico":"iniciante",N=Ae({mutationFn:async T=>(await Ne("POST","/api/diagnostic-leads",T)).json(),onError:()=>{e({title:"Erro",description:"Nao foi possivel salvar. Tente novamente.",variant:"destructive"})}}),j=T=>{const z=uS[n];s(Y=>({...Y,[z.id]:parseInt(T)}))},g=()=>{n<h-1?r(T=>T+1):d(!0)},P=()=>{n>0&&r(T=>T-1)},C=async T=>{T.preventDefault();const z=Object.values(a).reduce((R,q)=>R+q,0),Y=h*3,F=Math.round(z/Y*100),D=v(F);await N.mutateAsync({name:u.name,email:u.email,company:u.company,phone:u.phone||"",score:z,maxScore:Y,percentage:F,maturityLevel:D,answers:a}),d(!1),o(!0)},b=()=>{const T=Object.values(a).reduce((Y,F)=>Y+F,0),z=h*3;return Math.round(T/z*100)},y=T=>T>=75?{level:"Avanado",color:"text-green-600",bgColor:"bg-green-100",icon:ms}:T>=50?{level:"Intermedirio",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Hr}:T>=25?{level:"Inicial",color:"text-orange-600",bgColor:"bg-orange-100",icon:Hr}:{level:"Crtico",color:"text-red-600",bgColor:"bg-red-100",icon:zy},E=T=>{const z=[];return a.crm<2&&z.push({title:"Implemente um CRM",description:"Centralize as informaes dos clientes em um sistema organizado",tool:"CRM MCG",link:"/registro"}),a.cotacao<2&&z.push({title:"Padronize suas cotaes",description:"Use calculadoras com ICMS, GRIS e ADV integrados",tool:"Calculadora de Frete",link:"/calculadora-frete"}),a.qualificacao<2&&z.push({title:"Qualifique melhor seus prospects",description:"Use checklists diagnsticos antes de investir tempo comercial",tool:"Checklists MCG",link:"/registro"}),a.indicadores<2&&z.push({title:"Tenha visibilidade do funil",description:"Dashboard em tempo real com pipeline e indicadores",tool:"Dashboard MCG",link:"/registro"}),a.integrao<2&&z.push({title:"Integre comercial e operao",description:"Conecte seu CRM com os sistemas operacionais",tool:"RFI e Integraes",link:"/registro"}),z.length===0&&z.push({title:"Evolua para o prximo nvel",description:"Sua operao est madura. Vamos otimizar ainda mais?",tool:"Consultoria MCG",link:"/registro"}),z.slice(0,3)},S=uS[n],k=XMe[S?.category]||Dr;if(i){const T=b(),z=y(T),Y=z.icon,F=E();return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"pt-24 pb-12 px-6",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full ${z.bgColor}`,children:t.jsx(Y,{className:`w-12 h-12 ${z.color}`})}),t.jsx("h1",{className:"text-3xl font-bold",children:"Sua Maturidade Comercial"}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsxs("span",{className:`text-6xl font-bold ${z.color}`,children:[T,"%"]}),t.jsx("span",{className:`text-xl font-medium ${z.color}`,children:z.level})]})]}),t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsx(ue,{children:"Recomendaes para sua empresa"}),t.jsx(rt,{children:"Com base nas suas respostas, identificamos estas oportunidades de melhoria"})]}),t.jsx(te,{className:"space-y-4",children:F.map((D,R)=>t.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/50",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:R+1}),t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsx("h3",{className:"font-semibold",children:D.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:D.description}),t.jsx(it,{href:D.link,children:t.jsxs(H,{variant:"ghost",className:"p-0 h-auto text-primary",children:["Conhecer ",D.tool," ",t.jsx(gl,{className:"w-4 h-4 ml-1"})]})})]})]},R))})]}),t.jsx(ee,{className:"border-primary",children:t.jsx(te,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Quer evoluir sua gesto comercial?"}),t.jsx("p",{className:"text-muted-foreground",children:"Experimente grtis o MCG Consultoria por 14 dias. Todas as ferramentas que voc precisa em um s lugar."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(it,{href:"/registro",children:t.jsx(H,{size:"lg","data-testid":"button-start-trial",children:"Comear Grtis"})}),t.jsx(it,{href:"/",children:t.jsx(H,{size:"lg",variant:"outline","data-testid":"button-learn-more",children:"Saiba Mais"})})]})]})})}),t.jsx("div",{className:"text-center",children:t.jsxs(H,{variant:"ghost",onClick:()=>{r(0),s({}),o(!1),d(!1)},children:[t.jsx(ia,{className:"w-4 h-4 mr-2"}),"Refazer Diagnstico"]})})]})})]})}return l?t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"pt-24 pb-12 px-6",children:t.jsx("div",{className:"max-w-lg mx-auto",children:t.jsxs(ee,{children:[t.jsxs(de,{className:"text-center",children:[t.jsx(ue,{children:"Quase l!"}),t.jsx(rt,{children:"Para ver seu resultado personalizado, preencha seus dados abaixo"})]}),t.jsx(te,{children:t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"name",children:"Seu Nome *"}),t.jsx(J,{id:"name",value:u.name,onChange:T=>f(z=>({...z,name:T.target.value})),placeholder:"Joo Silva",required:!0,"data-testid":"input-lead-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"email",children:"E-mail Corporativo *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(J,{id:"email",type:"email",value:u.email,onChange:T=>f(z=>({...z,email:T.target.value})),placeholder:"joao@empresa.com.br",className:"pl-10",required:!0,"data-testid":"input-lead-email"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"phone",children:"WhatsApp"}),t.jsxs("div",{className:"relative",children:[t.jsx(lp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(J,{id:"phone",value:u.phone,onChange:T=>f(z=>({...z,phone:T.target.value})),placeholder:"(11) 99999-9999",className:"pl-10","data-testid":"input-lead-phone"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"company",children:"Empresa *"}),t.jsxs("div",{className:"relative",children:[t.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(J,{id:"company",value:u.company,onChange:T=>f(z=>({...z,company:T.target.value})),placeholder:"Nome da sua empresa",className:"pl-10",required:!0,"data-testid":"input-lead-company"})]})]}),t.jsxs(H,{type:"submit",className:"w-full",size:"lg",disabled:N.isPending,"data-testid":"button-see-result",children:[N.isPending?"Processando...":"Ver Meu Resultado",!N.isPending&&t.jsx(gl,{className:"w-4 h-4 ml-2"})]}),t.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Seus dados esto protegidos conforme nossa"," ",t.jsx(it,{href:"/privacidade",className:"underline",children:"Poltica de Privacidade"})]})]})})]})})})]}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 h-16 flex items-center justify-between gap-4",children:[t.jsxs(it,{href:"/",className:"flex items-center gap-2",children:[t.jsx("img",{src:Ir,alt:"MCG Consultoria",className:"h-10 w-10 object-contain"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-bold text-lg leading-tight",children:"MCG"}),t.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:"Consultoria"})]})]}),t.jsx(ja,{})]})}),t.jsx("main",{className:"pt-24 pb-12 px-6",children:t.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[n===0&&t.jsxs("div",{className:"text-center space-y-4 mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Diagnstico de Maturidade Comercial"}),t.jsx("p",{className:"text-lg text-muted-foreground",children:"Descubra em 3 minutos como est sua gesto comercial logstica"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Pergunta ",n+1," de ",h]}),t.jsxs("span",{children:[Math.round(p),"% completo"]})]}),t.jsx(Ku,{value:p,className:"h-2"})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(k,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx(rt,{children:S.category}),t.jsx(ue,{className:"text-xl",children:S.text})]})]})}),t.jsx(te,{children:t.jsx(qG,{value:a[S.id]?.toString(),onValueChange:j,className:"space-y-3",children:S.options.map(T=>t.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover-elevate cursor-pointer",children:[t.jsx(VG,{value:T.value.toString(),id:`${S.id}-${T.value}`,"data-testid":`radio-answer-${T.value}`}),t.jsx(B,{htmlFor:`${S.id}-${T.value}`,className:"flex-1 cursor-pointer",children:T.label})]},T.value))})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(H,{variant:"outline",onClick:P,disabled:n===0,"data-testid":"button-previous",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"}),"Anterior"]}),t.jsxs(H,{onClick:g,disabled:a[S.id]===void 0,"data-testid":"button-next",children:[n===h-1?"Ver Resultado":"Prxima",t.jsx(gl,{className:"w-4 h-4 ml-2"})]})]})]})})]})}const JMe={companyName:"",contactName:"",segment:"",pilotDays:"30",customMessage:""},mS=[{value:"transportadora",label:"Transportadora"},{value:"operador_logistico",label:"Operador Logistico"},{value:"industria",label:"Industria com Logstica"},{value:"armazem",label:"Armazem / CD"},{value:"embarcador",label:"Embarcador"},{value:"outro",label:"Outro"}],eRe=[{icon:Po,text:"Calculadoras de frete e armazenagem profissionais"},{icon:wi,text:"Checklist completo para diagnstico de clientes"},{icon:nn,text:"CRM especializado para logstica"},{icon:pn,text:"Dashboard com indicadores comerciais"},{icon:ls,text:"Calendrio comercial integrado"},{icon:xo,text:"Suporte prioritario durante o piloto"}];function tRe(){const[e,n]=w.useState(JMe),[r,a]=w.useState(null),{toast:s}=At(),i=(u,f)=>{n(h=>({...h,[u]:f}))},o=()=>{const u=mS.find(f=>f.value===e.segment)?.label||e.segment;return`Assunto: Convite Exclusivo - Programa Piloto MCG Consultoria

Prezado(a) ${e.contactName||"[Nome do Contato]"},

E um prazer entrar em contato com voce da ${e.companyName||"[Nome da Empresa]"}.

A MCG Consultoria esta selecionando empresas do segmento de ${u||"logstica"} para participar do nosso Programa Piloto exclusivo, e acreditamos que sua empresa seria uma candidata ideal.

O QUE E O PROGRAMA PILOTO?

Durante ${e.pilotDays} dias, sua empresa tera acesso GRATUITO a nossa plataforma completa de gesto comercial para logstica, incluindo:

- Calculadoras profissionais de frete e armazenagem (com base ANTT)
- CRM especializado para operaes logsticas
- Checklist de diagnstico para prospectos e clientes
- Dashboard com indicadores ABC, por estado e segmento
- Calendrio comercial integrado
- Modulo de RFI (Request for Information) para participar de BIDs

O QUE ESPERAMOS EM TROCA?

Apenas seu feedback honesto sobre a plataforma:
- O que funcionou bem?
- O que pode melhorar?
- A ferramenta resolveu algum problema real?

Se autorizado, gostariaamos de usar seu depoimento como case de sucesso.

${e.customMessage?`MENSAGEM PESSOAL:
${e.customMessage}
`:""}
PROXIMO PASSO

Clique no link abaixo para criar sua conta gratuita e comecar o piloto:
[LINK DE CADASTRO]

Ou responda este email para agendarmos uma demonstracao de 20 minutos.

Estamos ansiosos para ter voces conosco nessa jornada!

Atenciosamente,

Equipe MCG Consultoria
comercial@mcgconsultoria.com.br

---
MCG Consultoria - Gesto Comercial para Logstica
www.mcgconsultoria.com.br`},l=()=>{const u=mS.find(f=>f.value===e.segment)?.label||e.segment;return`Ola ${e.contactName||"[Nome]"}! Tudo bem?

Sou da MCG Consultoria e estamos selecionando empresas de *${u||"logstica"}* para nosso *Programa Piloto*.

Durante *${e.pilotDays} dias GRATUITOS*, a ${e.companyName||"[Empresa]"} tera acesso a:

- Calculadoras de frete/armazenagem (base ANTT)
- CRM especializado para logstica
- Checklists de diagnstico comercial
- Dashboard com indicadores

*O que pedimos?* Apenas seu feedback honesto sobre a plataforma.

${e.customMessage?`${e.customMessage}

`:""}Posso te contar mais detalhes? Ou prefere ja acessar direto pelo link?

Abracos!
Equipe MCG`},d=async u=>{const f=u==="email"?o():l();await navigator.clipboard.writeText(f),a(u),s({title:"Copiado!",description:`Template de ${u==="email"?"email":"WhatsApp"} copiado para a area de transferencia.`}),setTimeout(()=>a(null),2e3)};return t.jsx(s_,{title:"Campanha Piloto",subtitle:"Gere convites personalizados para empresas participarem do programa piloto",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),"Dados da Empresa Convidada"]}),t.jsx(rt,{children:"Preencha as informaes para personalizar o convite"})]}),t.jsxs(te,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"companyName",children:"Nome da Empresa"}),t.jsx(J,{id:"companyName",placeholder:"Ex: Transporte Exemplo Ltda",value:e.companyName,onChange:u=>i("companyName",u.target.value),"data-testid":"input-company-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"contactName",children:"Nome do Contato"}),t.jsx(J,{id:"contactName",placeholder:"Ex: Joao Silva",value:e.contactName,onChange:u=>i("contactName",u.target.value),"data-testid":"input-contact-name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"segment",children:"Segmento"}),t.jsxs(Oe,{value:e.segment,onValueChange:u=>i("segment",u),children:[t.jsx(_e,{"data-testid":"select-segment",children:t.jsx(Me,{placeholder:"Selecione o segmento"})}),t.jsx(Te,{children:mS.map(u=>t.jsx(ne,{value:u.value,children:u.label},u.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"pilotDays",children:"Duracao do Piloto (dias)"}),t.jsxs(Oe,{value:e.pilotDays,onValueChange:u=>i("pilotDays",u),children:[t.jsx(_e,{"data-testid":"select-pilot-days",children:t.jsx(Me,{})}),t.jsxs(Te,{children:[t.jsx(ne,{value:"15",children:"15 dias"}),t.jsx(ne,{value:"30",children:"30 dias"}),t.jsx(ne,{value:"45",children:"45 dias"}),t.jsx(ne,{value:"60",children:"60 dias"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(B,{htmlFor:"customMessage",children:"Mensagem Personalizada (opcional)"}),t.jsx(St,{id:"customMessage",placeholder:"Adicione uma mensagem pessoal ao convite...",value:e.customMessage,onChange:u=>i("customMessage",u.target.value),rows:3,"data-testid":"textarea-custom-message"})]})]})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(sp,{className:"h-5 w-5"}),"Beneficios do Programa Piloto"]})}),t.jsx(te,{children:t.jsx("div",{className:"grid gap-3",children:eRe.map((u,f)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:t.jsx(u.icon,{className:"h-4 w-4 text-primary"})}),t.jsx("span",{className:"text-sm",children:u.text})]},f))})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5"}),"Template de Email"]}),t.jsx(rt,{children:"Convite formal por email"})]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>d("email"),"data-testid":"button-copy-email",children:[r==="email"?t.jsx(ms,{className:"h-4 w-4 mr-1"}):t.jsx(Zg,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),t.jsx(te,{children:t.jsx("div",{className:"bg-muted/50 rounded-md p-4 text-sm whitespace-pre-wrap font-mono max-h-[300px] overflow-y-auto",children:o()})})]}),t.jsxs(ee,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(xo,{className:"h-5 w-5"}),"Template de WhatsApp"]}),t.jsx(rt,{children:"Mensagem mais direta para WhatsApp"})]}),t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>d("whatsapp"),"data-testid":"button-copy-whatsapp",children:[r==="whatsapp"?t.jsx(ms,{className:"h-4 w-4 mr-1"}):t.jsx(Zg,{className:"h-4 w-4 mr-1"}),"Copiar"]})]}),t.jsx(te,{children:t.jsx("div",{className:"bg-muted/50 rounded-md p-4 text-sm whitespace-pre-wrap font-mono max-h-[200px] overflow-y-auto",children:l()})})]}),t.jsxs(ee,{children:[t.jsx(de,{children:t.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[t.jsx(hn,{className:"h-5 w-5"}),"Dicas para o Programa Piloto"]})}),t.jsxs(te,{className:"space-y-3 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"1"}),t.jsx("span",{children:"Selecione 3-5 empresas para comecar - nmero gerenciavel para coletar feedback"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"2"}),t.jsx("span",{children:"Escolha empresas de diferentes segmentos para validar varios casos de uso"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"3"}),t.jsx("span",{children:"Agende reunioes semanais de 15 min para acompanhar o uso e coletar feedback"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"4"}),t.jsx("span",{children:"Documente os problemas que a ferramenta resolveu - isso vira material de vendas"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{variant:"outline",className:"shrink-0",children:"5"}),t.jsx("span",{children:"Ao final, peca um depoimento escrito ou em video (case de sucesso)"})]})]})]})]})]})})}function nRe(){const{logout:e}=za(),n=w.useRef(!1);return w.useEffect(()=>{n.current||(n.current=!0,e())},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("p",{className:"text-muted-foreground",children:"Saindo..."})})}function rRe(){const{isAuthenticated:e,isLoading:n,user:r}=za(),a=r?.role==="admin"||r?.role==="admin_mcg",s=r?.role==="admin_mcg";return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsxs("div",{className:"animate-pulse space-y-4 text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto rounded-lg bg-primary/20"}),t.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):t.jsxs(JY,{children:[t.jsx(mt,{path:"/diagnstico",component:ZMe}),t.jsx(mt,{path:"/campanha-piloto",component:tRe}),t.jsx(mt,{path:"/calculadora-frete",component:qNe}),t.jsx(mt,{path:"/calculadora-armazenagem",component:R2e}),t.jsx(mt,{path:"/planos",component:BSe}),t.jsx(mt,{path:"/privacidade",component:HSe}),t.jsx(mt,{path:"/termos",component:USe}),t.jsx(mt,{path:"/login",component:Pre}),t.jsx(mt,{path:"/registro",component:pse}),t.jsx(mt,{path:"/esqueci-senha",component:rAe}),t.jsx(mt,{path:"/redefinir-senha",component:sAe}),t.jsx(mt,{path:"/logout",component:nRe}),t.jsx(mt,{path:"/admin",children:()=>e&&a?t.jsx(IPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/aguardando-aprovacao",children:()=>e&&s?t.jsx($Pe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/comercial",children:()=>e&&a?t.jsx(zPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/projetos",children:()=>e&&a?t.jsx(BPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/financeiro",children:()=>e&&a?t.jsx(UPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/parcerias",children:()=>e&&a?t.jsx(GPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/conteudo",children:()=>e&&a?t.jsx(ZPe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/contratos",children:()=>e&&a?t.jsx(tEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/kit-marca",children:()=>e&&a?t.jsx(pPe,{isAdmin:!0}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/templates",children:()=>e&&a?t.jsx(sEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/campanha-piloto",children:()=>e&&a?t.jsx(lEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/leads-diagnstico",children:()=>e&&a?t.jsx(dEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/dre",children:()=>e&&a?t.jsx(mEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/centros-custo",children:()=>e&&a?t.jsx(fEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/bancos",children:()=>e&&a?t.jsx(pEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/certificados",children:()=>e&&a?t.jsx(xEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/lanamentos",children:()=>e&&a?t.jsx(gEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/relatorio-dre",children:()=>e&&a?t.jsx(vEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/loja",children:()=>e&&a?t.jsx(bEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/whatsapp",children:()=>e&&a?t.jsx(AEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/meu-plano",children:()=>e&&a?t.jsx(IEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal",children:()=>e&&a?t.jsx(_Ee,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal/financeiro",children:()=>e&&a?t.jsx(TEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal/bancos",children:()=>e&&a?t.jsx($Ee,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal/centros-custo",children:()=>e&&a?t.jsx(zEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal/plano-contas",children:()=>e&&a?t.jsx(tAe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/pessoal/irpf",children:()=>e&&a?t.jsx(OEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/admin/irpj",children:()=>e&&a?t.jsx(MEe,{}):t.jsx(En,{})}),t.jsx(mt,{path:"/landing",component:UO}),e?t.jsxs(t.Fragment,{children:[t.jsx(mt,{path:"/",component:vF}),t.jsx(mt,{path:"/dashboard",component:vF}),t.jsx(mt,{path:"/clientes",component:Ywe}),t.jsx(mt,{path:"/vendedores",component:APe}),t.jsx(mt,{path:"/pipeline",component:dNe}),t.jsx(mt,{path:"/rotas",component:PNe}),t.jsx(mt,{path:"/calendrio",component:ePe}),t.jsx(mt,{path:"/atas",component:JSe}),t.jsx(mt,{path:"/checklist",component:LNe}),t.jsx(mt,{path:"/biblioteca",component:iAe}),t.jsx(mt,{path:"/ebook",component:oAe}),t.jsx(mt,{path:"/manual-app",component:cAe}),t.jsx(mt,{path:"/fluxograma",component:LMe}),t.jsx(mt,{path:"/brindes",component:zMe}),t.jsx(mt,{path:"/rfi",component:lPe}),t.jsx(mt,{path:"/tarefas",component:tPe}),t.jsx(mt,{path:"/projetos",component:nPe}),t.jsx(mt,{path:"/relatrios",component:EPe}),t.jsx(mt,{path:"/indicadores-pre-vendas",component:_Pe}),t.jsx(mt,{path:"/indicadores-vendas",component:TPe}),t.jsx(mt,{path:"/indicadores-pos-vendas",component:OPe}),t.jsx(mt,{path:"/operaes",component:kPe}),t.jsx(mt,{path:"/marketing",component:$2e}),t.jsx(mt,{path:"/configuraes",component:B2e}),t.jsx(mt,{path:"/assinatura",component:QSe}),t.jsx(mt,{path:"/pesquisas",component:MPe}),t.jsx(mt,{path:"/admin-cliente",component:bPe}),t.jsx(mt,{path:"/logs-auditoria",component:zSe}),t.jsx(mt,{path:"/suporte",component:GF}),t.jsx(mt,{path:"/faleconosco",component:GF})]}):t.jsx(mt,{path:"/",component:UO}),t.jsx(mt,{component:Tte})]})}function aRe(){return t.jsx(yX,{client:Ce,children:t.jsx(kte,{children:t.jsxs(J8,{children:[t.jsx(nee,{}),t.jsx(rRe,{}),t.jsx(_te,{})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});kY.createRoot(document.getElementById("root")).render(t.jsx(aRe,{}));
